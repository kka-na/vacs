/*! For license information please see main.65152f92.js.LICENSE.txt */
!function(){var e={5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){e.exports=n(9727)},3165:function(e,t,n){"use strict";var r=n(5568);function i(){var e={},t=0,n=0,r=0;return{add:function(i,o){o||(o=i,i=0),i>n?n=i:i<r&&(r=i),e[i]||(e[i]=[]),e[i].push(o),t++},process:function(){for(var t=r;t<=n;t++)for(var i=e[t],o=0;o<i.length;o++){(0,i[o])()}},size:function(){return t}}}e.exports=function(e){var t=(e=e||{}).reporter,n=r.getOption(e,"async",!0),o=r.getOption(e,"auto",!0);o&&!n&&(t&&t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var a,s=i(),l=!1;function u(){for(l=!0;s.size();){var e=s;s=i(),e.process()}l=!1}function c(){a=function(e){return t=e,setTimeout(t,0);var t}(u)}return{add:function(e,t){!l&&o&&n&&0===s.size()&&c(),s.add(e,t)},force:function(e){l||(void 0===e&&(e=n),a&&(clearTimeout(a),a=null),e?c():u())}}}},5568:function(e){"use strict";(e.exports={}).getOption=function(e,t,n){var r=e[t];if((void 0===r||null===r)&&void 0!==n)return n;return r}},7293:function(e,t,n){var r,i;!function(o,a){"use strict";var s=Math.pow(2,-24),l=Math.pow(2,32),u=Math.pow(2,53);(i="function"===typeof(r={encode:function(e){var t,n=new ArrayBuffer(256),r=new DataView(n),i=0;function o(e){for(var o=n.byteLength,a=i+e;o<a;)o*=2;if(o!==n.byteLength){var s=r;n=new ArrayBuffer(o),r=new DataView(n);for(var l=i+3>>2,u=0;u<l;++u)r.setUint32(4*u,s.getUint32(4*u))}return t=e,r}function s(){i+=t}function c(e){s(o(1).setUint8(i,e))}function h(e){for(var t=o(e.length),n=0;n<e.length;++n)t.setUint8(i+n,e[n]);s()}function p(e,t){t<24?c(e<<5|t):t<256?(c(e<<5|24),c(t)):t<65536?(c(e<<5|25),function(e){s(o(2).setUint16(i,e))}(t)):t<4294967296?(c(e<<5|26),function(e){s(o(4).setUint32(i,e))}(t)):(c(e<<5|27),function(e){var t=e%l,n=(e-t)/l,r=o(8);r.setUint32(i,n),r.setUint32(i+4,t),s()}(t))}if(function e(t){var n;if(!1===t)return c(244);if(!0===t)return c(245);if(null===t)return c(246);if(t===a)return c(247);switch(typeof t){case"number":if(Math.floor(t)===t){if(0<=t&&t<=u)return p(0,t);if(-u<=t&&t<0)return p(1,-(t+1))}return c(251),function(e){s(o(8).setFloat64(i,e))}(t);case"string":var r=[];for(n=0;n<t.length;++n){var l=t.charCodeAt(n);l<128?r.push(l):l<2048?(r.push(192|l>>6),r.push(128|63&l)):l<55296?(r.push(224|l>>12),r.push(128|l>>6&63),r.push(128|63&l)):(l=(1023&l)<<10,l|=1023&t.charCodeAt(++n),l+=65536,r.push(240|l>>18),r.push(128|l>>12&63),r.push(128|l>>6&63),r.push(128|63&l))}return p(3,r.length),h(r);default:var f;if(Array.isArray(t))for(p(4,f=t.length),n=0;n<f;++n)e(t[n]);else if(t instanceof Uint8Array)p(2,t.length),h(t);else{var d=Object.keys(t);for(p(5,f=d.length),n=0;n<f;++n){var m=d[n];e(m),e(t[m])}}}}(e),"slice"in n)return n.slice(0,i);for(var f=new ArrayBuffer(i),d=new DataView(f),m=0;m<i;++m)d.setUint8(m,r.getUint8(m));return f},decode:function(e,t,n){var r=new DataView(e),i=0;function o(e,t){return i+=t,e}function u(t){return o(new Uint8Array(e,i,t),t)}function c(){return o(r.getUint8(i),1)}function h(){return o(r.getUint16(i),2)}function p(){return o(r.getUint32(i),4)}function f(){return 255===r.getUint8(i)&&(i+=1,!0)}function d(e){if(e<24)return e;if(24===e)return c();if(25===e)return h();if(26===e)return p();if(27===e)return p()*l+p();if(31===e)return-1;throw"Invalid length encoding"}function m(e){var t=c();if(255===t)return-1;var n=d(31&t);if(n<0||t>>5!==e)throw"Invalid indefinite length element";return n}function v(e,t){for(var n=0;n<t;++n){var r=c();128&r&&(r<224?(r=(31&r)<<6|63&c(),t-=1):r<240?(r=(15&r)<<12|(63&c())<<6|63&c(),t-=2):(r=(15&r)<<18|(63&c())<<12|(63&c())<<6|63&c(),t-=3)),r<65536?e.push(r):(r-=65536,e.push(55296|r>>10),e.push(56320|1023&r))}}"function"!==typeof t&&(t=function(e){return e}),"function"!==typeof n&&(n=function(){return a});var g=function e(){var l,p,g=c(),y=g>>5,_=31&g;if(7===y)switch(_){case 25:return function(){var e=new ArrayBuffer(4),t=new DataView(e),n=h(),r=32768&n,i=31744&n,o=1023&n;if(31744===i)i=261120;else if(0!==i)i+=114688;else if(0!==o)return o*s;return t.setUint32(0,r<<16|i<<13|o<<13),t.getFloat32(0)}();case 26:return o(r.getFloat32(i),4);case 27:return o(r.getFloat64(i),8)}if((p=d(_))<0&&(y<2||6<y))throw"Invalid length";switch(y){case 0:return p;case 1:return-1-p;case 2:if(p<0){for(var b=[],x=0;(p=m(y))>=0;)x+=p,b.push(u(p));var w=new Uint8Array(x),S=0;for(l=0;l<b.length;++l)w.set(b[l],S),S+=b[l].length;return w}return u(p);case 3:var E=[];if(p<0)for(;(p=m(y))>=0;)v(E,p);else v(E,p);return String.fromCharCode.apply(null,E);case 4:var M;if(p<0)for(M=[];!f();)M.push(e());else for(M=new Array(p),l=0;l<p;++l)M[l]=e();return M;case 5:var k={};for(l=0;l<p||p<0&&!f();++l){k[e()]=e()}return k;case 6:return t(e(),p);case 7:switch(p){case 20:return!1;case 21:return!0;case 22:return null;case 23:return a;default:return n(p)}}}();if(i!==e.byteLength)throw"Remaining bytes";return g}})?r.call(t,n,t,e):r)===a||(e.exports=i)}()},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},4890:function(e){var t={px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96,cm:1,mm:.1,in:2.54,pt:2.54/72,pc:2.54/6},mm:{px:25.4/96,cm:10,mm:1,in:25.4,pt:25.4/72,pc:25.4/6},in:{px:1/96,cm:1/2.54,mm:1/25.4,in:1,pt:1/72,pc:1/6},pt:{px:.75,cm:72/2.54,mm:72/25.4,in:72,pt:1,pc:12},pc:{px:6/96,cm:6/2.54,mm:6/25.4,in:6,pt:6/72,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:2*Math.PI},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:.001},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:.001,kHz:1},dpi:{dpi:1,dpcm:1/2.54,dppx:1/96},dpcm:{dpi:2.54,dpcm:1,dppx:2.54/96},dppx:{dpi:96,dpcm:96/2.54,dppx:1}};e.exports=function(e,n,r,i){if(!t.hasOwnProperty(r))throw new Error("Cannot convert to "+r);if(!t[r].hasOwnProperty(n))throw new Error("Cannot convert from "+n+" to "+r);var o=t[r][n]*e;return!1!==i?(i=Math.pow(10,parseInt(i)||5),Math.round(o*i)/i):o}},7494:function(e){function t(e,t,n){var r,i,o,a,s;function l(){var u=Date.now()-a;u<t&&u>=0?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(o,i),o=i=null))}null==t&&(t=100);var u=function(){o=this,i=arguments,a=Date.now();var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(o,i),o=i=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=e.apply(o,i),o=i=null,clearTimeout(r),r=null)},u}t.debounce=t,e.exports=t},4234:function(e,t,n){var r;!function(i){"use strict";var o,a=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},l=!0,u="[DecimalError] ",c=u+"Invalid argument: ",h=u+"Exponent out of range: ",p=Math.floor,f=Math.pow,d=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,m=1e7,v=9007199254740991,g=p(1286742750677284.5),y={};function _(e,t){var n,r,i,o,a,s,u,c,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),l?C(t,p):t;if(u=e.d,c=t.d,a=e.e,i=t.e,u=u.slice(),o=a-i){for(o<0?(r=u,o=-o,s=c.length):(r=c,i=a,s=u.length),o>(s=(a=Math.ceil(p/7))>s?a+1:s+1)&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((s=u.length)-(o=c.length)<0&&(o=s,r=c,c=u,u=r),n=0;o;)n=(u[--o]=u[o]+c[o]+n)/m|0,u[o]%=m;for(n&&(u.unshift(n),++i),s=u.length;0==u[--s];)u.pop();return t.d=u,t.e=i,l?C(t,p):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function x(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=k(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=k(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return C(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return E(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(o))throw Error(u+"NaN");if(n.s<1)throw Error(u+(n.s?"NaN":"-Infinity"));return n.eq(o)?new r(0):(l=!1,t=w(T(n,a),T(e,a),a),l=!0,C(t,i))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P(t,e):_(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(u+"NaN");return n.s?(l=!1,t=w(n,e,0,1).times(e),l=!0,n.minus(t)):C(new r(n),i)},y.naturalExponential=y.exp=function(){return S(this)},y.naturalLogarithm=y.ln=function(){return T(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_(t,e):P(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=E(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,i,o,a,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(u+"NaN")}for(e=E(s),l=!1,0==(i=Math.sqrt(+s))||i==1/0?(((t=x(s.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=p((e+1)/2)-(e<0||e%2),r=new c(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new c(i.toString()),i=a=(n=c.precision)+3;;)if(r=(o=r).plus(w(s,o,a+2)).times(.5),x(o.d).slice(0,a)===(t=x(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(C(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if("9999"!=t)break;a+=4}return l=!0,C(r,n)},y.times=y.mul=function(e){var t,n,r,i,o,a,s,u,c,h=this,p=h.constructor,f=h.d,d=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,(u=f.length)<(c=d.length)&&(o=f,f=d,d=o,a=u,u=c,c=a),o=[],r=a=u+c;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=u+r;i>r;)s=o[i]+d[r]*f[i-r-1]+t,o[i--]=s%m|0,t=s/m|0;o[i]=(o[i]+t)%m|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,l?C(e,p.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,a),void 0===t?t=r.rounding:b(t,0,8),C(n,e+E(n)+1,t))},y.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=O(r,!0):(b(e,0,a),void 0===t?t=i.rounding:b(t,0,8),n=O(r=C(new i(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?O(i):(b(e,0,a),void 0===t?t=o.rounding:b(t,0,8),n=O((r=C(new o(i),e+E(i)+1,t)).abs(),!1,e+E(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return C(new t(e),E(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,i,a,s,c=this,h=c.constructor,f=+(e=new h(e));if(!e.s)return new h(o);if(!(c=new h(c)).s){if(e.s<1)throw Error(u+"Infinity");return c}if(c.eq(o))return c;if(r=h.precision,e.eq(o))return C(c,r);if(s=(t=e.e)>=(n=e.d.length-1),a=c.s,s){if((n=f<0?-f:f)<=v){for(i=new h(o),t=Math.ceil(r/7+4),l=!1;n%2&&R((i=i.times(c)).d,t),0!==(n=p(n/2));)R((c=c.times(c)).d,t);return l=!0,e.s<0?new h(o).div(i):C(i,r)}}else if(a<0)throw Error(u+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,c.s=1,l=!1,i=e.times(T(c,r+12)),l=!0,(i=S(i)).s=a,i},y.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=O(i,(n=E(i))<=o.toExpNeg||n>=o.toExpPos):(b(e,1,a),void 0===t?t=o.rounding:b(t,0,8),r=O(i=C(new o(i),e,t),e<=(n=E(i))||n<=o.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,a),void 0===t?t=n.rounding:b(t,0,8)),C(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=E(e),n=e.constructor;return O(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%m|0,r=n/m|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*m+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,l,c,h,p,f,d,v,g,y,_,b,x,w,S,M,k,T,A=r.constructor,P=r.s==i.s?1:-1,O=r.d,R=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(u+"Division by zero");for(l=r.e-i.e,k=R.length,S=O.length,v=(d=new A(P)).d=[],c=0;R[c]==(O[c]||0);)++c;if(R[c]>(O[c]||0)&&--l,(b=null==o?o=A.precision:a?o+(E(r)-E(i))+1:o)<0)return new A(0);if(b=b/7+2|0,c=0,1==k)for(h=0,R=R[0],b++;(c<S||h)&&b--;c++)x=h*m+(O[c]||0),v[c]=x/R|0,h=x%R|0;else{for((h=m/(R[0]+1)|0)>1&&(R=e(R,h),O=e(O,h),k=R.length,S=O.length),w=k,y=(g=O.slice(0,k)).length;y<k;)g[y++]=0;(T=R.slice()).unshift(0),M=R[0],R[1]>=m/2&&++M;do{h=0,(s=t(R,g,k,y))<0?(_=g[0],k!=y&&(_=_*m+(g[1]||0)),(h=_/M|0)>1?(h>=m&&(h=m-1),1==(s=t(p=e(R,h),g,f=p.length,y=g.length))&&(h--,n(p,k<f?T:R,f))):(0==h&&(s=h=1),p=R.slice()),(f=p.length)<y&&p.unshift(0),n(g,p,y),-1==s&&(s=t(R,g,k,y=g.length))<1&&(h++,n(g,k<y?T:R,y)),y=g.length):0===s&&(h++,g=[0]),v[c++]=h,s&&g[0]?g[y++]=O[w]||0:(g=[O[w]],y=1)}while((w++<S||void 0!==g[0])&&b--)}return v[0]||v.shift(),d.e=l,C(d,a?o+E(d)+1:o)}}();function S(e,t){var n,r,i,a,s,u=0,c=0,p=e.constructor,d=p.precision;if(E(e)>16)throw Error(h+E(e));if(!e.s)return new p(o);for(null==t?(l=!1,s=d):s=t,a=new p(.03125);e.abs().gte(.1);)e=e.times(a),c+=5;for(s+=Math.log(f(2,c))/Math.LN10*2+5|0,n=r=i=new p(o),p.precision=s;;){if(r=C(r.times(e),s),n=n.times(++u),x((a=i.plus(w(r,n,s))).d).slice(0,s)===x(i.d).slice(0,s)){for(;c--;)i=C(i.times(i),s);return p.precision=d,null==t?(l=!0,C(i,d)):i}i=a}}function E(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function M(e,t,n){if(t>e.LN10.sd())throw l=!0,n&&(e.precision=n),Error(u+"LN10 precision limit exceeded");return C(new e(e.LN10),t)}function k(e){for(var t="";e--;)t+="0";return t}function T(e,t){var n,r,i,a,s,c,h,p,f,d=1,m=e,v=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(u+(m.s?"NaN":"-Infinity"));if(m.eq(o))return new g(0);if(null==t?(l=!1,p=y):p=t,m.eq(10))return null==t&&(l=!0),M(g,p);if(p+=10,g.precision=p,r=(n=x(v)).charAt(0),a=E(m),!(Math.abs(a)<15e14))return h=M(g,p+2,y).times(a+""),m=T(new g(r+"."+n.slice(1)),p-10).plus(h),g.precision=y,null==t?(l=!0,C(m,y)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=x((m=m.times(e)).d)).charAt(0),d++;for(a=E(m),r>1?(m=new g("0."+n),a++):m=new g(r+"."+n.slice(1)),c=s=m=w(m.minus(o),m.plus(o),p),f=C(m.times(m),p),i=3;;){if(s=C(s.times(f),p),x((h=c.plus(w(s,new g(i),p))).d).slice(0,p)===x(c.d).slice(0,p))return c=c.times(2),0!==a&&(c=c.plus(M(g,p+2,y).times(a+""))),c=w(c,new g(d),p),g.precision=y,null==t?(l=!0,C(c,y)):c;c=h,i+=2}}function A(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=p(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),l&&(e.e>g||e.e<-g))throw Error(h+n)}else e.s=0,e.e=0,e.d=[0];return e}function C(e,t,n){var r,i,o,a,s,u,c,d,v=e.d;for(a=1,o=v[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,c=v[d=0];else{if((d=Math.ceil((r+1)/7))>=(o=v.length))return e;for(c=o=v[d],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(s=c/(o=f(10,a-i-1))%10|0,u=t<0||void 0!==v[d+1]||c%o,u=n<4?(s||u)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||u||6==n&&(r>0?i>0?c/f(10,a-i):0:v[d-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return u?(o=E(e),v.length=1,t=t-o-1,v[0]=f(10,(7-t%7)%7),e.e=p(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==r?(v.length=d,o=1,d--):(v.length=d+1,o=f(10,7-r),v[d]=i>0?(c/f(10,a-i)%f(10,i)|0)*o:0),u)for(;;){if(0==d){(v[0]+=o)==m&&(v[0]=1,++e.e);break}if(v[d]+=o,v[d]!=m)break;v[d--]=0,o=1}for(r=v.length;0===v[--r];)v.pop();if(l&&(e.e>g||e.e<-g))throw Error(h+E(e));return e}function P(e,t){var n,r,i,o,a,s,u,c,h,p,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),l?C(t,d):t;if(u=e.d,p=t.d,r=t.e,c=e.e,u=u.slice(),a=c-r){for((h=a<0)?(n=u,a=-a,s=p.length):(n=p,r=c,s=u.length),a>(i=Math.max(Math.ceil(d/7),s)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((h=(i=u.length)<(s=p.length))&&(s=i),i=0;i<s;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}a=0}for(h&&(n=u,u=p,p=n,t.s=-t.s),s=u.length,i=p.length-s;i>0;--i)u[s++]=0;for(i=p.length;i>a;){if(u[--i]<p[i]){for(o=i;o&&0===u[--o];)u[o]=m-1;--u[o],u[i]+=m}u[i]-=p[i]}for(;0===u[--s];)u.pop();for(;0===u[0];u.shift())--r;return u[0]?(t.d=u,t.e=r,l?C(t,d):t):new f(0)}function O(e,t,n){var r,i=E(e),o=x(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+k(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+k(-i-1)+o,n&&(r=n-a)>0&&(o+=k(r))):i>=a?(o+=k(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+k(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=k(r))),e.s<0?"-"+o:o}function R(e,t){if(e.length>t)return e.length=t,!0}function I(e){if(!e||"object"!==typeof e)throw Error(u+"Object expected");var t,n,r,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(p(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}s=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):A(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!d.test(e))throw Error(c+e);A(t,e)}if(o.prototype=y,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=I,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(s),s.default=s.Decimal=s,o=new s(1),void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},903:function(e){"use strict";var t=e.exports={};t.isIE=function(e){return!!function(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("msie")||-1!==e.indexOf("trident")||-1!==e.indexOf(" edge/")}()&&(!e||e===function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(n[0]);return e>4?e:undefined}())},t.isLegacyOpera=function(){return!!window.opera}},3746:function(e){"use strict";(e.exports={}).forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}}},1262:function(e,t,n){"use strict";var r=n(903);e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,i=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function o(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function a(e){return i(e).object}return{makeDetectable:function(e,a,s){s||(s=a,a=e,e=null),(e=e||{}).debug,r.isIE(8)?s(a):function(a,s){var l=o(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),u=!1,c=window.getComputedStyle(a),h=a.offsetWidth,p=a.offsetHeight;function f(){function n(){if("static"===c.position){a.style.setProperty("position","relative",e.important?"important":"");var n=function(t,n,r,i){var o=r[i];"auto"!==o&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(o)&&(t.warn("An element that is positioned static has style."+i+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+i+" will be set to 0. Element: ",n),n.style.setProperty(i,"0",e.important?"important":""))};n(t,a,c,"top"),n(t,a,c,"right"),n(t,a,c,"bottom"),n(t,a,c,"left")}}""!==c.position&&(n(),u=!0);var o=document.createElement("object");o.style.cssText=l,o.tabIndex=-1,o.type="text/html",o.setAttribute("aria-hidden","true"),o.onload=function(){u||n(),function e(t,n){if(!t.contentDocument){var r=i(t);return r.checkForObjectDocumentTimeoutId&&window.clearTimeout(r.checkForObjectDocumentTimeoutId),void(r.checkForObjectDocumentTimeoutId=setTimeout((function(){r.checkForObjectDocumentTimeoutId=0,e(t,n)}),100))}n(t.contentDocument)}(this,(function(e){s(a)}))},r.isIE()||(o.data="about:blank"),i(a)&&(a.appendChild(o),i(a).object=o,r.isIE()&&(o.data="about:blank"))}i(a).startSize={width:h,height:p},n?n.add(f):f()}(a,s)},addListener:function(e,t){function n(){t(e)}if(r.isIE(8))i(e).object={proxy:n},e.attachEvent("onresize",n);else{var o=a(e);if(!o)throw new Error("Element is not detectable by this strategy.");o.contentDocument.defaultView.addEventListener("resize",n)}},uninstall:function(e){if(i(e)){var t=a(e);t&&(r.isIE(8)?e.detachEvent("onresize",t.proxy):e.removeChild(t),i(e).checkForObjectDocumentTimeoutId&&window.clearTimeout(i(e).checkForObjectDocumentTimeoutId),delete i(e).object)}}}}},4756:function(e,t,n){"use strict";var r=n(3746).forEach;e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,i=e.stateHandler.getState,o=(e.stateHandler.hasState,e.idHandler);if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var a=function(){var e=500,t=500,n=document.createElement("div");n.style.cssText=u(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var r=document.createElement("div");r.style.cssText=u(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),r.appendChild(n),document.body.insertBefore(r,document.body.firstChild);var i=e-r.clientWidth,o=t-r.clientHeight;return document.body.removeChild(r),{width:i,height:o}}(),s="erd_scroll_detection_container";function l(e){!function(e,t,n){function r(n,r){r=r||function(t){e.head.appendChild(t)};var i=e.createElement("style");return i.innerHTML=n,i.id=t,r(i),i}if(!e.getElementById(t)){var i=n+"_animation",o=n+"_animation_active",a="/* Created by the element-resize-detector library. */\n";a+="."+n+" > div::-webkit-scrollbar { "+u(["display: none"])+" }\n\n",a+="."+o+" { "+u(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+i,"animation-name: "+i])+" }\n",a+="@-webkit-keyframes "+i+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",r(a+="@keyframes "+i+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}(e,"erd_scroll_detection_scrollbar_style",s)}function u(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function c(e,n,r){if(e.addEventListener)e.addEventListener(n,r);else{if(!e.attachEvent)return t.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+n,r)}}function h(e,n,r){if(e.removeEventListener)e.removeEventListener(n,r);else{if(!e.detachEvent)return t.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+n,r)}}function p(e){return i(e).container.childNodes[0].childNodes[0].childNodes[0]}function f(e){return i(e).container.childNodes[0].childNodes[0].childNodes[1]}return l(window.document),{makeDetectable:function(e,l,h){function d(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(o.get(l),"Scroll: "),t.log.apply)t.log.apply(null,n);else for(var r=0;r<n.length;r++)t.log(n[r])}}function m(e){var t=i(e).container.childNodes[0],n=window.getComputedStyle(t);return!n.width||-1===n.width.indexOf("px")}function v(){var e=window.getComputedStyle(l),t={};return t.position=e.position,t.width=l.offsetWidth,t.height=l.offsetHeight,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.widthCSS=e.width,t.heightCSS=e.height,t}function g(){if(d("storeStyle invoked."),i(l)){var e=v();i(l).style=e}else d("Aborting because element has been uninstalled")}function y(e,t,n){i(e).lastWidth=t,i(e).lastHeight=n}function _(){return 2*a.width+1}function b(){return 2*a.height+1}function x(e){return e+10+_()}function w(e){return e+10+b()}function S(e,t,n){var r=p(e),i=f(e),o=x(t),a=w(n),s=function(e){return 2*e+_()}(t),l=function(e){return 2*e+b()}(n);r.scrollLeft=o,r.scrollTop=a,i.scrollLeft=s,i.scrollTop=l}function E(){var e=i(l).container;if(!e){(e=document.createElement("div")).className=s,e.style.cssText=u(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),i(l).container=e,function(e){e.className+=" "+s+"_animation_active"}(e),l.appendChild(e);var t=function(){i(l).onRendered&&i(l).onRendered()};c(e,"animationstart",t),i(l).onAnimationStart=t}return e}function M(){if(d("Injecting elements"),i(l)){!function(){var n=i(l).style;if("static"===n.position){l.style.setProperty("position","relative",e.important?"important":"");var r=function(e,t,n,r){var i=n[r];"auto"!==i&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(i)&&(e.warn("An element that is positioned static has style."+r+"="+i+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",t),t.style[r]=0)};r(t,l,n,"top"),r(t,l,n,"right"),r(t,l,n,"bottom"),r(t,l,n,"left")}}();var n=i(l).container;n||(n=E());var r,o,h,p,f=a.width,m=a.height,v=u(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),g=u(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(["left: "+(r=(r=-(1+f))?r+"px":"0"),"top: "+(o=(o=-(1+m))?o+"px":"0"),"right: "+(p=(p=-f)?p+"px":"0"),"bottom: "+(h=(h=-m)?h+"px":"0")])),y=u(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),_=u(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),b=u(["position: absolute","left: 0","top: 0"]),x=u(["position: absolute","width: 200%","height: 200%"]),w=document.createElement("div"),S=document.createElement("div"),M=document.createElement("div"),k=document.createElement("div"),T=document.createElement("div"),A=document.createElement("div");w.dir="ltr",w.style.cssText=v,w.className=s,S.className=s,S.style.cssText=g,M.style.cssText=y,k.style.cssText=b,T.style.cssText=_,A.style.cssText=x,M.appendChild(k),T.appendChild(A),S.appendChild(M),S.appendChild(T),w.appendChild(S),n.appendChild(w),c(M,"scroll",C),c(T,"scroll",P),i(l).onExpandScroll=C,i(l).onShrinkScroll=P}else d("Aborting because element has been uninstalled");function C(){var e=i(l);e&&e.onExpand?e.onExpand():d("Aborting expand scroll handler: element has been uninstalled")}function P(){var e=i(l);e&&e.onShrink?e.onShrink():d("Aborting shrink scroll handler: element has been uninstalled")}}function k(){function a(t,n,r){var i=function(e){return p(e).childNodes[0]}(t),o=x(n),a=w(r);i.style.setProperty("width",o+"px",e.important?"important":""),i.style.setProperty("height",a+"px",e.important?"important":"")}function s(r){var s=l.offsetWidth,c=l.offsetHeight,h=s!==i(l).lastWidth||c!==i(l).lastHeight;d("Storing current size",s,c),y(l,s,c),n.add(0,(function(){if(h)if(i(l))if(u()){if(e.debug){var n=l.offsetWidth,r=l.offsetHeight;n===s&&r===c||t.warn(o.get(l),"Scroll: Size changed before updating detector elements.")}a(l,s,c)}else d("Aborting because element container has not been initialized");else d("Aborting because element has been uninstalled")})),n.add(1,(function(){i(l)?u()?S(l,s,c):d("Aborting because element container has not been initialized"):d("Aborting because element has been uninstalled")})),h&&r&&n.add(2,(function(){i(l)?u()?r():d("Aborting because element container has not been initialized"):d("Aborting because element has been uninstalled")}))}function u(){return!!i(l).container}function c(){d("notifyListenersIfNeeded invoked");var e=i(l);return void 0===i(l).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?d("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?d("Not notifying: Size already notified"):(d("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void r(i(l).listeners,(function(e){e(l)})))}function h(){d("Scroll detected."),m(l)?d("Scroll event fired while unrendered. Ignoring..."):s(c)}if(d("registerListenersAndPositionElements invoked."),i(l)){i(l).onRendered=function(){if(d("startanimation triggered."),m(l))d("Ignoring since element is still unrendered...");else{d("Element rendered.");var e=p(l),t=f(l);0!==e.scrollLeft&&0!==e.scrollTop&&0!==t.scrollLeft&&0!==t.scrollTop||(d("Scrollbars out of sync. Updating detector elements..."),s(c))}},i(l).onExpand=h,i(l).onShrink=h;var v=i(l).style;a(l,v.width,v.height)}else d("Aborting because element has been uninstalled")}function T(){if(d("finalizeDomMutation invoked."),i(l)){var e=i(l).style;y(l,e.width,e.height),S(l,e.width,e.height)}else d("Aborting because element has been uninstalled")}function A(){h(l)}function C(){d("Installing..."),i(l).listeners=[],function(){var e=v();i(l).startSize={width:e.width,height:e.height},d("Element start size",i(l).startSize)}(),n.add(0,g),n.add(1,M),n.add(2,k),n.add(3,T),n.add(4,A)}h||(h=l,l=e,e=null),e=e||{},d("Making detectable..."),!function(e){return!function(e){var t=e.getRootNode&&e.getRootNode().contains(e);return e===e.ownerDocument.body||e.ownerDocument.body.contains(e)||t}(e)||null===window.getComputedStyle(e)}(l)?C():(d("Element is detached"),E(),d("Waiting until element is attached..."),i(l).onRendered=function(){d("Element is now attached"),C()})},addListener:function(e,t){if(!i(e).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");i(e).listeners.push(t)},uninstall:function(e){var t=i(e);t&&(t.onExpandScroll&&h(p(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&h(f(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&h(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))},initDocument:l}}},6544:function(e,t,n){"use strict";var r=n(3746).forEach,i=n(5965),o=n(3805),a=n(9041),s=n(4402),l=n(5148),u=n(903),c=n(3165),h=n(7624),p=n(1262),f=n(4756);function d(e){return Array.isArray(e)||void 0!==e.length}function m(e){if(Array.isArray(e))return e;var t=[];return r(e,(function(e){t.push(e)})),t}function v(e){return e&&1===e.nodeType}function g(e,t,n){var r=e[t];return void 0!==r&&null!==r||void 0===n?r:n}e.exports=function(e){var t;if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var n=a(),y=s({idGenerator:n,stateHandler:h});t=y}var _=e.reporter;_||(_=l(!1===_));var b=g(e,"batchProcessor",c({reporter:_})),x={};x.callOnAdd=!!g(e,"callOnAdd",!0),x.debug=!!g(e,"debug",!1);var w,S=o(t),E=i({stateHandler:h}),M=g(e,"strategy","object"),k=g(e,"important",!1),T={reporter:_,batchProcessor:b,stateHandler:h,idHandler:t,important:k};if("scroll"===M&&(u.isLegacyOpera()?(_.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),M="object"):u.isIE(9)&&(_.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),M="object")),"scroll"===M)w=f(T);else{if("object"!==M)throw new Error("Invalid strategy name: "+M);w=p(T)}var A={};return{listenTo:function(e,n,i){function o(e){var t=S.get(e);r(t,(function(t){t(e)}))}function a(e,t,n){S.add(t,n),e&&n(t)}if(i||(i=n,n=e,e={}),!n)throw new Error("At least one element required.");if(!i)throw new Error("Listener required.");if(v(n))n=[n];else{if(!d(n))return _.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");n=m(n)}var s=0,l=g(e,"callOnAdd",x.callOnAdd),u=g(e,"onReady",(function(){})),c=g(e,"debug",x.debug);r(n,(function(e){h.getState(e)||(h.initState(e),t.set(e));var p=t.get(e);if(c&&_.log("Attaching listener to element",p,e),!E.isDetectable(e))return c&&_.log(p,"Not detectable."),E.isBusy(e)?(c&&_.log(p,"System busy making it detectable"),a(l,e,i),A[p]=A[p]||[],void A[p].push((function(){++s===n.length&&u()}))):(c&&_.log(p,"Making detectable..."),E.markBusy(e,!0),w.makeDetectable({debug:c,important:k},e,(function(e){if(c&&_.log(p,"onElementDetectable"),h.getState(e)){E.markAsDetectable(e),E.markBusy(e,!1),w.addListener(e,o),a(l,e,i);var t=h.getState(e);if(t&&t.startSize){var f=e.offsetWidth,d=e.offsetHeight;t.startSize.width===f&&t.startSize.height===d||o(e)}A[p]&&r(A[p],(function(e){e()}))}else c&&_.log(p,"Element uninstalled before being detectable.");delete A[p],++s===n.length&&u()})));c&&_.log(p,"Already detecable, adding listener."),a(l,e,i),s++})),s===n.length&&u()},removeListener:S.removeListener,removeAllListeners:S.removeAllListeners,uninstall:function(e){if(!e)return _.error("At least one element is required.");if(v(e))e=[e];else{if(!d(e))return _.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=m(e)}r(e,(function(e){S.removeAllListeners(e),w.uninstall(e),h.cleanState(e)}))},initDocument:function(e){w.initDocument&&w.initDocument(e)}}}},5965:function(e){"use strict";e.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var n=t(e);return n&&!!n.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,n){t(e).busy=!!n}}}},9041:function(e){"use strict";e.exports=function(){var e=1;return{generate:function(){return e++}}}},4402:function(e){"use strict";e.exports=function(e){var t=e.idGenerator,n=e.stateHandler.getState;return{get:function(e){var t=n(e);return t&&void 0!==t.id?t.id:null},set:function(e){var r=n(e);if(!r)throw new Error("setId required the element to have a resize detection state.");var i=t.generate();return r.id=i,i}}}},3805:function(e){"use strict";e.exports=function(e){var t={};function n(n){var r=e.get(n);return void 0===r?[]:t[r]||[]}return{get:n,add:function(n,r){var i=e.get(n);t[i]||(t[i]=[]),t[i].push(r)},removeListener:function(e,t){for(var r=n(e),i=0,o=r.length;i<o;++i)if(r[i]===t){r.splice(i,1);break}},removeAllListeners:function(e){var t=n(e);t&&(t.length=0)}}}},5148:function(e){"use strict";e.exports=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var n=0;n<arguments.length;n++)e(arguments[n])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n}},7624:function(e){"use strict";function t(e){return e._erd}e.exports={initState:function(e){return e._erd={},t(e)},getState:t,cleanState:function(e){delete e._erd}}},7371:function(e,t,n){var r;!function(i){var o=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(){this._events={},this._conf&&s.call(this,this._conf)}function s(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=e.maxListeners!==i?e.maxListeners:10,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=10}function l(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),"undefined"!==typeof process&&process.emitWarning){var r=new Error(n);r.name="MaxListenersExceededWarning",r.emitter=this,r.count=e,process.emitWarning(r)}else console.error(n),console.trace&&console.trace()}function u(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,s.call(this,e)}function c(e,t,n,r){if(!n)return[];var i,o,a,s,l,u,h,p=[],f=t.length,d=t[r],m=t[r+1];if(r===f&&n._listeners){if("function"===typeof n._listeners)return e&&e.push(n._listeners),[n];for(i=0,o=n._listeners.length;i<o;i++)e&&e.push(n._listeners[i]);return[n]}if("*"===d||"**"===d||n[d]){if("*"===d){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(p=p.concat(c(e,t,n[a],r+1)));return p}if("**"===d){for(a in(h=r+1===f||r+2===f&&"*"===m)&&n._listeners&&(p=p.concat(c(e,t,n,f))),n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!h&&(p=p.concat(c(e,t,n[a],f))),p=p.concat(c(e,t,n[a],r))):p=a===m?p.concat(c(e,t,n[a],r+2)):p.concat(c(e,t,n[a],r)));return p}p=p.concat(c(e,t,n[d],r+1))}if((s=n["*"])&&c(e,t,s,r+1),l=n["**"])if(r<f)for(a in l._listeners&&c(e,t,l,f),l)"_listeners"!==a&&l.hasOwnProperty(a)&&(a===m?c(e,t,l[a],r+2):a===d?c(e,t,l[a],r+1):((u={})[a]=l[a],c(e,t,{"**":u},r+1)));else l._listeners?c(e,t,l,f):l["*"]&&l["*"]._listeners&&c(e,t,l["*"],f);return p}function h(e,t){for(var n=0,r=(e="string"===typeof e?e.split(this.delimiter):e.slice()).length;n+1<r;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var o=this.listenerTree,a=e.shift();a!==i;){if(o[a]||(o[a]={}),o=o[a],0===e.length)return o._listeners?("function"===typeof o._listeners&&(o._listeners=[o._listeners]),o._listeners.push(t),!o._listeners.warned&&this._maxListeners>0&&o._listeners.length>this._maxListeners&&(o._listeners.warned=!0,l.call(this,o._listeners.length,a))):o._listeners=t,!0;a=e.shift()}return!0}u.EventEmitter2=u,u.prototype.delimiter=".",u.prototype.setMaxListeners=function(e){e!==i&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},u.prototype.event="",u.prototype.once=function(e,t){return this._once(e,t,!1)},u.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},u.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},u.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},u.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},u.prototype._many=function(e,t,n,r){var i=this;if("function"!==typeof n)throw new Error("many only accepts instances of Function");function o(){return 0===--t&&i.off(e,o),n.apply(this,arguments)}return o._origin=n,this._on(e,o,r),i},u.prototype.emit=function(){this._events||a.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,r,i,o,s=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),s>3)for(t=new Array(s),i=0;i<s;i++)t[i]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,s){case 1:o[r].call(this,e);break;case 2:o[r].call(this,e,arguments[1]);break;case 3:o[r].call(this,e,arguments[1],arguments[2]);break;default:o[r].apply(this,t)}}if(this.wildcard){o=[];var l="string"===typeof e?e.split(this.delimiter):e.slice();c.call(this,o,l,this.listenerTree,0)}else{if("function"===typeof(o=this._events[e])){switch(this.event=e,s){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];o.apply(this,t)}return!0}o&&(o=o.slice())}if(o&&o.length){if(s>3)for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,s){case 1:o[r].call(this);break;case 2:o[r].call(this,arguments[1]);break;case 3:o[r].call(this,arguments[1],arguments[2]);break;default:o[r].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},u.prototype.emitAsync=function(){this._events||a.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,r,i,o,s=[],l=arguments.length;if(this._all){if(l>3)for(t=new Array(l),i=1;i<l;i++)t[i]=arguments[i];for(r=0,n=this._all.length;r<n;r++)switch(this.event=e,l){case 1:s.push(this._all[r].call(this,e));break;case 2:s.push(this._all[r].call(this,e,arguments[1]));break;case 3:s.push(this._all[r].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[r].apply(this,t))}}if(this.wildcard){o=[];var u="string"===typeof e?e.split(this.delimiter):e.slice();c.call(this,o,u,this.listenerTree,0)}else o=this._events[e];if("function"===typeof o)switch(this.event=e,l){case 1:s.push(o.call(this));break;case 2:s.push(o.call(this,arguments[1]));break;case 3:s.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(l-1),i=1;i<l;i++)t[i-1]=arguments[i];s.push(o.apply(this,t))}else if(o&&o.length){if(o=o.slice(),l>3)for(t=new Array(l-1),i=1;i<l;i++)t[i-1]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,l){case 1:s.push(o[r].call(this));break;case 2:s.push(o[r].call(this,arguments[1]));break;case 3:s.push(o[r].call(this,arguments[1],arguments[2]));break;default:s.push(o[r].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},u.prototype.on=function(e,t){return this._on(e,t,!1)},u.prototype.prependListener=function(e,t){return this._on(e,t,!0)},u.prototype.onAny=function(e){return this._onAny(e,!1)},u.prototype.prependAny=function(e){return this._onAny(e,!0)},u.prototype.addListener=u.prototype.on,u.prototype._onAny=function(e,t){if("function"!==typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},u.prototype._on=function(e,t,n){if("function"===typeof e)return this._onAny(e,t),this;if("function"!==typeof t)throw new Error("on only accepts instances of Function");return this._events||a.call(this),this.emit("newListener",e,t),this.wildcard?(h.call(this,e,t),this):(this._events[e]?("function"===typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,l.call(this,this._events[e].length,e))):this._events[e]=t,this)},u.prototype.off=function(e,t){if("function"!==typeof t)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var a="string"===typeof e?e.split(this.delimiter):e.slice();r=c.call(this,null,a,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n})}for(var s=0;s<r.length;s++){var l=r[s];if(n=l._listeners,o(n)){for(var u=-1,h=0,p=n.length;h<p;h++)if(n[h]===t||n[h].listener&&n[h].listener===t||n[h]._origin&&n[h]._origin===t){u=h;break}if(u<0)continue;return this.wildcard?l._listeners.splice(u,1):this._events[e].splice(u,1),0===n.length&&(this.wildcard?delete l._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete l._listeners:delete this._events[e],this.emit("removeListener",e,t))}return function e(t){if(t!==i){var n=Object.keys(t);for(var r in n){var o=n[r],a=t[o];a instanceof Function||"object"!==typeof a||null===a||(Object.keys(a).length>0&&e(t[o]),0===Object.keys(a).length&&delete t[o])}}}(this.listenerTree),this},u.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(n=0,r=(t=this._all).length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},u.prototype.removeListener=u.prototype.off,u.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||a.call(this),this;if(this.wildcard)for(var t="string"===typeof e?e.split(this.delimiter):e.slice(),n=c.call(this,null,t,this.listenerTree,0),r=0;r<n.length;r++){var i=n[r];i._listeners=null}else this._events&&(this._events[e]=null);return this},u.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"===typeof e?e.split(this.delimiter):e.slice();return c.call(this,t,n,this.listenerTree,0),t}return this._events||a.call(this),this._events[e]||(this._events[e]=[]),o(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},u.prototype.eventNames=function(){return Object.keys(this._events)},u.prototype.listenerCount=function(e){return this.listeners(e).length},u.prototype.listenersAny=function(){return this._all?this._all:[]},(r=function(){return u}.call(t,n,t,e))===i||(e.exports=r)}()},7143:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,o),!0;case 6:return c.fn.call(c.context,t,r,i,o,a),!0}for(u=1,l=new Array(h-1);u<h;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var p,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),h){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(p=1,l=new Array(h-1);p<h;p++)l[p-1]=arguments[p];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},8262:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}},5244:function(e,t){!function(e){"use strict";var t="function"===typeof WeakSet,n=Object.keys;function r(e,t){return e===t||e!==e&&t!==t}function i(e){return e.constructor===Object||null==e.constructor}function o(e){return!!e&&"function"===typeof e.then}function a(e){return!(!e||!e.$$typeof)}function s(){var e=[];return{add:function(t){e.push(t)},has:function(t){return-1!==e.indexOf(t)}}}var l=t?function(){return new WeakSet}:s;function u(e){return function(t){var n=e||t;return function(e,t,r){void 0===r&&(r=l());var i=!!e&&"object"===typeof e,o=!!t&&"object"===typeof t;if(i||o){var a=i&&r.has(e),s=o&&r.has(t);if(a||s)return a&&s;i&&r.add(e),o&&r.add(t)}return n(e,t,r)}}}function c(e,t,n,r){var i=e.length;if(t.length!==i)return!1;for(;i-- >0;)if(!n(e[i],t[i],r))return!1;return!0}function h(e,t,n,r){var i=e.size===t.size;if(i&&e.size){var o={};e.forEach((function(e,a){if(i){var s=!1,l=0;t.forEach((function(t,i){s||o[l]||(s=n(a,i,r)&&n(e,t,r))&&(o[l]=!0),l++})),i=s}}))}return i}var p="_owner",f=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function d(e,t,r,i){var o=n(e),s=o.length;if(n(t).length!==s)return!1;if(s)for(var l=void 0;s-- >0;){if((l=o[s])===p){var u=a(e),c=a(t);if((u||c)&&u!==c)return!1}if(!f(t,l)||!r(e[l],t[l],i))return!1}return!0}function m(e,t){return e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.unicode===t.unicode&&e.sticky===t.sticky&&e.lastIndex===t.lastIndex}function v(e,t,n,r){var i=e.size===t.size;if(i&&e.size){var o={};e.forEach((function(e){if(i){var a=!1,s=0;t.forEach((function(t){a||o[s]||(a=n(e,t,r))&&(o[s]=!0),s++})),i=a}}))}return i}var g="function"===typeof Map,y="function"===typeof Set;function _(e){var t="function"===typeof e?e(n):n;function n(e,n,a){if(e===n)return!0;if(e&&n&&"object"===typeof e&&"object"===typeof n){if(i(e)&&i(n))return d(e,n,t,a);var s=Array.isArray(e),l=Array.isArray(n);return s||l?s===l&&c(e,n,t,a):(s=e instanceof Date,l=n instanceof Date,s||l?s===l&&r(e.getTime(),n.getTime()):(s=e instanceof RegExp,l=n instanceof RegExp,s||l?s===l&&m(e,n):o(e)||o(n)?e===n:g&&(s=e instanceof Map,l=n instanceof Map,s||l)?s===l&&h(e,n,t,a):y&&(s=e instanceof Set,l=n instanceof Set,s||l)?s===l&&v(e,n,t,a):d(e,n,t,a)))}return e!==e&&n!==n}return n}var b=_(),x=_((function(){return r})),w=_(u()),S=_(u(r));e.circularDeepEqual=w,e.circularShallowEqual=S,e.createCustomEqual=_,e.deepEqual=b,e.sameValueZeroEqual=r,e.shallowEqual=x,Object.defineProperty(e,"__esModule",{value:!0})}(t)},4097:function(e,t,n){var r;!function(i,o,a,s){"use strict";var l,u=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),h=Math.round,p=Math.abs,f=Date.now;function d(e,t,n){return setTimeout(x(e,n),t)}function m(e,t,n){return!!Array.isArray(e)&&(v(e,n[t],n),!0)}function v(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function g(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}l="function"!==typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var y=g((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===s)&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),_=g((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.");function b(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&l(r,n)}function x(e,t){return function(){return e.apply(t,arguments)}}function w(e,t){return"function"==typeof e?e.apply(t&&t[0]||s,t):e}function S(e,t){return e===s?t:e}function E(e,t,n){v(A(t),(function(t){e.addEventListener(t,n,!1)}))}function M(e,t,n){v(A(t),(function(t){e.removeEventListener(t,n,!1)}))}function k(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function T(e,t){return e.indexOf(t)>-1}function A(e){return e.trim().split(/\s+/g)}function C(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function P(e){return Array.prototype.slice.call(e,0)}function O(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];C(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function R(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<u.length;){if((r=(n=u[o])?n+i:t)in e)return r;o++}return s}var I=1;function L(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var D="ontouchstart"in i,z=R(i,"PointerEvent")!==s,N=D&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B="touch",F="mouse",j=24,U=["x","y"],V=["clientX","clientY"];function H(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){w(e.options.enable,[e])&&n.handler(t)},this.init()}function W(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&t&&r-i===0,a=12&t&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=G(t));i>1&&!n.firstMultiple?n.firstMultiple=G(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,l=a?a.center:o.center,u=t.center=q(r);t.timeStamp=f(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=K(l,u),t.distance=Z(l,u),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=X(t.deltaX,t.deltaY);var c=Y(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=p(c.x)>p(c.y)?c.x:c.y,t.scale=a?(h=a.pointers,d=r,Z(d[0],d[1],V)/Z(h[0],h[1],V)):1,t.rotation=a?function(e,t){return K(t[1],t[0],V)+K(e[1],e[0],V)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,l=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(l>25||a.velocity===s)){var u=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,h=Y(l,u,c);r=h.x,i=h.y,n=p(h.x)>p(h.y)?h.x:h.y,o=X(u,c),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var h,d;var m=e.element;k(t.srcEvent.target,m)&&(m=t.srcEvent.target);t.target=m}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function G(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:h(e.pointers[n].clientX),clientY:h(e.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:t,center:q(t),deltaX:e.deltaX,deltaY:e.deltaY}}function q(e){var t=e.length;if(1===t)return{x:h(e[0].clientX),y:h(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:h(n/t),y:h(r/t)}}function Y(e,t,n){return{x:t/e||0,y:n/e||0}}function X(e,t){return e===t?1:p(e)>=p(t)?e<0?2:4:t<0?8:16}function Z(e,t,n){n||(n=U);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function K(e,t,n){n||(n=U);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}H.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&M(this.element,this.evEl,this.domHandler),this.evTarget&&M(this.target,this.evTarget,this.domHandler),this.evWin&&M(L(this.element),this.evWin,this.domHandler)}};var J={mousedown:1,mousemove:2,mouseup:4},Q="mousedown",$="mousemove mouseup";function ee(){this.evEl=Q,this.evWin=$,this.pressed=!1,H.apply(this,arguments)}b(ee,H,{handler:function(e){var t=J[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:F,srcEvent:e}))}});var te={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ne={2:B,3:"pen",4:F,5:"kinect"},re="pointerdown",ie="pointermove pointerup pointercancel";function oe(){this.evEl=re,this.evWin=ie,H.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(re="MSPointerDown",ie="MSPointerMove MSPointerUp MSPointerCancel"),b(oe,H,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=te[r],o=ne[e.pointerType]||e.pointerType,a=o==B,s=C(t,e.pointerId,"pointerId");1&i&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&i&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var ae={touchstart:1,touchmove:2,touchend:4,touchcancel:8},se="touchstart",le="touchstart touchmove touchend touchcancel";function ue(){this.evTarget=se,this.evWin=le,this.started=!1,H.apply(this,arguments)}function ce(e,t){var n=P(e.touches),r=P(e.changedTouches);return 12&t&&(n=O(n.concat(r),"identifier",!0)),[n,r]}b(ue,H,{handler:function(e){var t=ae[e.type];if(1===t&&(this.started=!0),this.started){var n=ce.call(this,e,t);12&t&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:B,srcEvent:e})}}});var he={touchstart:1,touchmove:2,touchend:4,touchcancel:8},pe="touchstart touchmove touchend touchcancel";function fe(){this.evTarget=pe,this.targetIds={},H.apply(this,arguments)}function de(e,t){var n=P(e.touches),r=this.targetIds;if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=P(e.changedTouches),s=[],l=this.target;if(o=n.filter((function(e){return k(e.target,l)})),1===t)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&t&&delete r[a[i].identifier],i++;return s.length?[O(o.concat(s),"identifier",!0),s]:void 0}b(fe,H,{handler:function(e){var t=he[e.type],n=de.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:B,srcEvent:e})}});function me(){H.apply(this,arguments);var e=x(this.handler,this);this.touch=new fe(this.manager,e),this.mouse=new ee(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ve(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ge.call(this,t)):12&e&&ge.call(this,t)}function ge(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),2500)}}function ye(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}b(me,H,{handler:function(e,t,n){var r=n.pointerType==B,i=n.pointerType==F;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)ve.call(this,t,n);else if(i&&ye.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var _e=R(c.style,"touchAction"),be=_e!==s,xe="compute",we="auto",Se="manipulation",Ee="none",Me="pan-x",ke="pan-y",Te=function(){if(!be)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}();function Ae(e,t){this.manager=e,this.set(t)}Ae.prototype={set:function(e){e==xe&&(e=this.compute()),be&&this.manager.element.style&&Te[e]&&(this.manager.element.style[_e]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return v(this.manager.recognizers,(function(t){w(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(T(e,Ee))return Ee;var t=T(e,Me),n=T(e,ke);if(t&&n)return Ee;if(t||n)return t?Me:ke;if(T(e,Se))return Se;return we}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=T(r,Ee)&&!Te.none,o=T(r,ke)&&!Te["pan-y"],a=T(r,Me)&&!Te["pan-x"];if(i){var s=1===e.pointers.length,l=e.distance<2,u=e.deltaTime<250;if(s&&l&&u)return}if(!a||!o)return i||o&&6&n||a&&n&j?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Ce=32;function Pe(e){this.options=l({},this.defaults,e||{}),this.id=I++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Oe(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Re(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Ie(e,t){var n=t.manager;return n?n.get(e):e}function Le(){Pe.apply(this,arguments)}function De(){Le.apply(this,arguments),this.pX=null,this.pY=null}function ze(){Le.apply(this,arguments)}function Ne(){Pe.apply(this,arguments),this._timer=null,this._input=null}function Be(){Le.apply(this,arguments)}function Fe(){Le.apply(this,arguments)}function je(){Pe.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ue(e,t){return(t=t||{}).recognizers=S(t.recognizers,Ue.defaults.preset),new Ve(e,t)}Pe.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(m(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ie(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return m(e,"dropRecognizeWith",this)||(e=Ie(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(m(e,"requireFailure",this))return this;var t=this.requireFail;return-1===C(t,e=Ie(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(m(e,"dropRequireFailure",this))return this;e=Ie(e,this);var t=C(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+Oe(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+Oe(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Ce},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=l({},e);if(!w(this.options.enable,[this,t]))return this.reset(),void(this.state=Ce);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},b(Le,Pe,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(8&n||!i)?16|t:r||i?4&n?8|t:2&t?4|t:2:Ce}}),b(De,Le,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(ke),e&j&&t.push(Me),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(6&t.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return Le.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Re(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),b(ze,Le,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ee]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),b(Ne,Pe,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[we]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||12&e.eventType&&!i)this.reset();else if(1&e.eventType)this.reset(),this._timer=d((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return Ce},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),b(Be,Le,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ee]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),b(Fe,Le,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return De.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:n&j&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&p(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=Re(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),b(je,Pe,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Se]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||Z(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=d((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return Ce},failTimeout:function(){return this._timer=d((function(){this.state=Ce}),this.options.interval,this),Ce},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ue.VERSION="2.0.7",Ue.defaults={domEvents:!1,touchAction:xe,enable:!0,inputTarget:null,inputClass:null,preset:[[Be,{enable:!1}],[ze,{enable:!1},["rotate"]],[Fe,{direction:6}],[De,{direction:6},["swipe"]],[je],[je,{event:"doubletap",taps:2},["tap"]],[Ne]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ve(e,t){var n;this.options=l({},Ue.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(z?oe:N?fe:D?me:ee))(n,W),this.touchAction=new Ae(this,this.options.touchAction),He(this,!0),v(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function He(e,t){var n,r=e.element;r.style&&(v(e.options.cssProps,(function(i,o){n=R(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Ve.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Pe)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(m(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(m(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=C(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return v(A(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return v(A(e),(function(e){t?n[e]&&n[e].splice(C(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&He(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Ue,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Ce,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:j,DIRECTION_ALL:30,Manager:Ve,Input:H,TouchAction:Ae,TouchInput:fe,MouseInput:ee,PointerEventInput:oe,TouchMouseInput:me,SingleTouchInput:ue,Recognizer:Pe,AttrRecognizer:Le,Tap:je,Pan:De,Swipe:Fe,Pinch:ze,Rotate:Be,Press:Ne,on:E,off:M,each:v,merge:_,extend:y,assign:l,inherit:b,bindFn:x,prefixed:R}),("undefined"!==typeof i?i:"undefined"!==typeof self?self:{}).Hammer=Ue,(r=function(){return Ue}.call(t,n,t,e))===s||(e.exports=r)}(window,document)},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(d){var i=f(n);i&&i!==d&&e(t,i,r)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=l(t),m=l(n),v=0;v<a.length;++v){var g=a[v];if(!o[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var y=p(n,g);try{u(t,g,y)}catch(_){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case u:case p:case v:case m:case l:return e;default:return t}}case i:return t}}}function w(e){return x(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=o,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return w(e)||x(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===u},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===p},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===v},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===a||e===f||e===d||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p||e.$$typeof===y||e.$$typeof===_||e.$$typeof===b||e.$$typeof===g)},t.typeOf=x},8309:function(e,t,n){"use strict";e.exports=n(746)},2176:function(e){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),o=n(6037),a=n(4154),s=n(7728);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},8384:function(e,t,n){var r=n(3894),i=n(8699),o=n(4957),a=n(7184),s=n(7109);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),o=n(9186),a=n(3423),s=n(3739);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),o=n(1596);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},2854:function(e,t,n){var r=n(8384),i=n(511),o=n(835),a=n(707),s=n(8832),l=n(5077);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},3665:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},4277:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},9055:function(e,t,n){var r=n(4842);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},2683:function(e){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},7538:function(e,t,n){var r=n(6478),i=n(4963),o=n(3629),a=n(5174),s=n(6800),l=n(9102),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),h=!n&&!c&&a(e),p=!n&&!c&&!h&&l(e),f=n||c||h||p,d=f?r(e.length,String):[],m=d.length;for(var v in e)!t&&!u.call(e,v)||f&&("length"==v||h&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||d.push(v);return d}},8950:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},4622:function(e){e.exports=function(e){return e.split("")}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},2526:function(e,t,n){var r=n(8528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},7927:function(e,t,n){var r=n(5358),i=n(7056)(r);e.exports=i},9863:function(e,t,n){var r=n(7927);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,i){return n=!!t(e,r,i)})),n}},3079:function(e,t,n){var r=n(152);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,u=a}return u}},2045:function(e){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},5182:function(e,t,n){var r=n(1705),i=n(3529);e.exports=function e(t,n,o,a,s){var l=-1,u=t.length;for(o||(o=i),s||(s=[]);++l<u;){var c=t[l];n>0&&o(c)?n>1?e(c,n-1,o,a,s):r(s,c):a||(s[s.length]=c)}return s}},5099:function(e,t,n){var r=n(372)();e.exports=r},5358:function(e,t,n){var r=n(5099),i=n(2742);e.exports=function(e,t){return e&&r(e,t,i)}},8667:function(e,t,n){var r=n(3082),i=n(9793);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),o=n(3581),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},1954:function(e){e.exports=function(e,t){return e>t}},529:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},4842:function(e,t,n){var r=n(2045),i=n(505),o=n(7167);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},3355:function(e,t,n){var r=n(2854),i=n(5305),o=n(2206),a=n(8078),s=n(8383),l=n(3629),u=n(5174),c=n(9102),h="[object Arguments]",p="[object Array]",f="[object Object]",d=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,v,g){var y=l(e),_=l(t),b=y?p:s(e),x=_?p:s(t),w=(b=b==h?f:b)==f,S=(x=x==h?f:x)==f,E=b==x;if(E&&u(e)){if(!u(t))return!1;y=!0,w=!1}if(E&&!w)return g||(g=new r),y||c(e)?i(e,t,n,m,v,g):o(e,t,b,n,m,v,g);if(!(1&n)){var M=w&&d.call(e,"__wrapped__"),k=S&&d.call(t,"__wrapped__");if(M||k){var T=M?e.value():e,A=k?t.value():t;return g||(g=new r),v(T,A,n,m,g)}}return!!E&&(g||(g=new r),a(e,t,n,m,v,g))}},8856:function(e,t,n){var r=n(2854),i=n(1848);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var c=(u=n[a])[0],h=e[c],p=u[1];if(l&&u[2]){if(void 0===h&&!(c in e))return!1}else{var f=new r;if(o)var d=o(h,p,c,e,t,f);if(!(void 0===d?i(p,h,3,o,f):d))return!1}}return!0}},505:function(e){e.exports=function(e){return e!==e}},6703:function(e,t,n){var r=n(4786),i=n(257),o=n(8092),a=n(7907),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,h=u.hasOwnProperty,p=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?p:s).test(a(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),o=n(3141),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},6025:function(e,t,n){var r=n(7080),i=n(4322),o=n(2100),a=n(3629),s=n(38);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},3654:function(e,t,n){var r=n(2936),i=n(8836),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},2580:function(e){e.exports=function(e,t){return e<t}},3849:function(e,t,n){var r=n(7927),i=n(1473);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},7080:function(e,t,n){var r=n(8856),i=n(9091),o=n(284);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},4322:function(e,t,n){var r=n(1848),i=n(6181),o=n(5658),a=n(5823),s=n(5072),l=n(284),u=n(9793);e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},3226:function(e,t,n){var r=n(8950),i=n(8667),o=n(6025),a=n(3849),s=n(9179),l=n(6194),u=n(4480),c=n(2100),h=n(3629);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return h(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[c];var p=-1;t=r(t,l(o));var f=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++p,value:e}}));return s(f,(function(e,t){return u(e,t,n)}))}},9586:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:function(e,t,n){var r=n(8667);e.exports=function(e){return function(t){return r(t,e)}}},7255:function(e){var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var a=-1,s=n(t((r-e)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=e,e+=i;return l}},8794:function(e,t,n){var r=n(2100),i=n(4262),o=n(9156);e.exports=function(e,t){return o(i(e,t,r),e+"")}},7532:function(e,t,n){var r=n(1547),i=n(8528),o=n(2100),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},2646:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},9204:function(e,t,n){var r=n(7927);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},9179:function(e){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2446:function(e,t,n){var r=n(7197),i=n(8950),o=n(3629),a=n(152),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},821:function(e,t,n){var r=n(6050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},9602:function(e,t,n){var r=n(692),i=n(9055),o=n(2683),a=n(75),s=n(7730),l=n(8084);e.exports=function(e,t,n){var u=-1,c=i,h=e.length,p=!0,f=[],d=f;if(n)p=!1,c=o;else if(h>=200){var m=t?null:s(e);if(m)return l(m);p=!1,c=a,d=new r}else d=t?[]:f;e:for(;++u<h;){var v=e[u],g=t?t(v):v;if(v=n||0!==v?v:0,p&&g===g){for(var y=d.length;y--;)if(d[y]===g)continue e;t&&d.push(g),f.push(v)}else c(d,g,n)||(d!==f&&d.push(g),f.push(v))}return f}},75:function(e){e.exports=function(e,t){return e.has(t)}},3082:function(e,t,n){var r=n(3629),i=n(5823),o=n(170),a=n(3518);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},9813:function(e,t,n){var r=n(2646);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},8558:function(e,t,n){var r=n(152);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,l=null===t,u=t===t,c=r(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||i&&s&&u||!n&&u||!o)return 1;if(!i&&!a&&!c&&e<t||c&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}},4480:function(e,t,n){var r=n(8558);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++i<s;){var u=r(o[i],a[i]);if(u)return i>=l?u:u*("desc"==n[i]?-1:1)}return e.index-t.index}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},7056:function(e,t,n){var r=n(1473);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},372:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},322:function(e,t,n){var r=n(9813),i=n(7302),o=n(7580),a=n(3518);e.exports=function(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},5481:function(e,t,n){var r=n(6025),i=n(1473),o=n(2742);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var l=r(n,3);t=o(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,a);return u>-1?s[l?t[u]:u]:void 0}}},6381:function(e,t,n){var r=n(7255),i=n(3195),o=n(1495);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},7730:function(e,t,n){var r=n(3924),i=n(9694),o=n(8084),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},8528:function(e,t,n){var r=n(8136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5305:function(e,t,n){var r=n(692),i=n(7897),o=n(75);e.exports=function(e,t,n,a,s,l){var u=1&n,c=e.length,h=t.length;if(c!=h&&!(u&&h>c))return!1;var p=l.get(e),f=l.get(t);if(p&&f)return p==t&&f==e;var d=-1,m=!0,v=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++d<c;){var g=e[d],y=t[d];if(a)var _=u?a(y,g,d,t,e,l):a(g,y,d,e,t,l);if(void 0!==_){if(_)continue;m=!1;break}if(v){if(!i(t,(function(e,t){if(!o(v,t)&&(g===e||s(g,e,n,a,l)))return v.push(t)}))){m=!1;break}}else if(g!==y&&!s(g,y,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},2206:function(e,t,n){var r=n(7197),i=n(6219),o=n(9231),a=n(5305),s=n(234),l=n(8084),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,h,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var d=1&r;if(f||(f=l),e.size!=t.size&&!d)return!1;var m=p.get(e);if(m)return m==t;r|=2,p.set(e,t);var v=a(f(e),f(t),r,u,h,p);return p.delete(e),v;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var h=c;h--;){var p=u[h];if(!(l?p in t:i.call(t,p)))return!1}var f=s.get(e),d=s.get(t);if(f&&d)return f==t&&d==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=l;++h<c;){var g=e[p=u[h]],y=t[p];if(o)var _=l?o(y,g,p,t,e,s):o(g,y,p,e,t,s);if(!(void 0===_?g===y||a(g,y,n,o,s):_)){m=!1;break}v||(v="constructor"==p)}if(m&&!v){var b=e.constructor,x=t.constructor;b==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(e),s.delete(t),m}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),o=n(2742);e.exports=function(e){return r(e,o,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},9091:function(e,t,n){var r=n(5072),i=n(2742);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},8383:function(e,t,n){var r=n(908),i=n(5797),o=n(8319),a=n(3924),s=n(7091),l=n(9066),u=n(7907),c="[object Map]",h="[object Promise]",p="[object Set]",f="[object WeakMap]",d="[object DataView]",m=u(r),v=u(i),g=u(o),y=u(a),_=u(s),b=l;(r&&b(new r(new ArrayBuffer(1)))!=d||i&&b(new i)!=c||o&&b(o.resolve())!=h||a&&b(new a)!=p||s&&b(new s)!=f)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return d;case v:return c;case g:return h;case y:return p;case _:return f}return t}),e.exports=b},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},6417:function(e,t,n){var r=n(3082),i=n(4963),o=n(3629),a=n(6800),s=n(4635),l=n(9793);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,h=!1;++u<c;){var p=l(t[u]);if(!(h=null!=e&&n(e,p)))break;e=e[p]}return h||++u!=c?h:!!(c=null==e?0:e.length)&&s(c)&&a(p,c)&&(o(e)||i(e))}},7302:function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},3529:function(e,t,n){var r=n(7197),i=n(4963),o=n(3629),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},3195:function(e,t,n){var r=n(9231),i=n(1473),o=n(6800),a=n(8092);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},5823:function(e,t,n){var r=n(3629),i=n(152),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5072:function(e,t,n){var r=n(8092);e.exports=function(e){return e===e&&!r(e)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),o=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},284:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},4634:function(e,t,n){var r=n(9151);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},4262:function(e,t,n){var r=n(3665),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(l),r(e,this,u)}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},8084:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},9156:function(e,t,n){var r=n(7532),i=n(3197)(r);e.exports=i},3197:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),o=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},7167:function(e){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},7580:function(e,t,n){var r=n(4622),i=n(7302),o=n(2129);e.exports=function(e){return i(e)?o(e):r(e)}},170:function(e,t,n){var r=n(4634),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},9793:function(e,t,n){var r=n(152);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},6050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},2129:function(e){var t="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")"+"?",l="[\\ufe0e\\ufe0f]?",u=l+s+("(?:\\u200d(?:"+[i,o,a].join("|")+")"+l+s+")*"),c="(?:"+[i+n+"?",n,o,a,t].join("|")+")",h=RegExp(r+"(?="+r+")|"+c+u,"g");e.exports=function(e){return e.match(h)||[]}},1547:function(e){e.exports=function(e){return function(){return e}}},8573:function(e,t,n){var r=n(8092),i=n(72),o=n(2582),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,h,p,f,d=0,m=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=u;return l=u=void 0,d=t,h=e.apply(r,n)}function _(e){return d=e,p=setTimeout(x,t),m?y(e):h}function b(e){var n=e-f;return void 0===f||n>=t||n<0||v&&e-d>=c}function x(){var e=i();if(b(e))return w(e);p=setTimeout(x,function(e){var n=t-(e-f);return v?s(n,c-(e-d)):n}(e))}function w(e){return p=void 0,g&&l?y(e):(l=u=void 0,h)}function S(){var e=i(),n=b(e);if(l=arguments,u=this,f=e,n){if(void 0===p)return _(f);if(v)return clearTimeout(p),p=setTimeout(x,t),y(f)}return void 0===p&&(p=setTimeout(x,t)),h}return t=o(t)||0,r(n)&&(m=!!n.leading,c=(v="maxWait"in n)?a(o(n.maxWait)||0,t):c,g="trailing"in n?!!n.trailing:g),S.cancel=function(){void 0!==p&&clearTimeout(p),d=0,l=f=u=p=void 0},S.flush=function(){return void 0===p?h:w(i())},S}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},2730:function(e,t,n){var r=n(4277),i=n(9863),o=n(6025),a=n(3629),s=n(3195);e.exports=function(e,t,n){var l=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,o(t,3))}},1211:function(e,t,n){var r=n(5481)(n(1475));e.exports=r},1475:function(e,t,n){var r=n(2045),i=n(6025),o=n(9753),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(e,i(t,3),l)}},5008:function(e,t,n){var r=n(5182),i=n(2034);e.exports=function(e,t){return r(i(e,t),1)}},6181:function(e,t,n){var r=n(8667);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},5658:function(e,t,n){var r=n(529),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},2100:function(e){e.exports=function(e){return e}},4963:function(e,t,n){var r=n(4906),i=n(3141),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5127:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},8111:function(e,t,n){var r=n(1848);e.exports=function(e,t){return r(e,t)}},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},2066:function(e,t,n){var r=n(298);e.exports=function(e){return r(e)&&e!=+e}},5633:function(e){e.exports=function(e){return null==e}},298:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},6769:function(e,t,n){var r=n(9066),i=n(3629),o=n(3141);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9102:function(e,t,n){var r=n(8150),i=n(6194),o=n(9494),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},2742:function(e,t,n){var r=n(7538),i=n(3654),o=n(1473);e.exports=function(e){return o(e)?r(e):i(e)}},5727:function(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},2034:function(e,t,n){var r=n(8950),i=n(6025),o=n(3849),a=n(3629);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},7702:function(e,t,n){var r=n(2526),i=n(5358),o=n(6025);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},9627:function(e,t,n){var r=n(3079),i=n(1954),o=n(2100);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},9151:function(e,t,n){var r=n(8059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},6452:function(e,t,n){var r=n(3079),i=n(2580),o=n(2100);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},9694:function(e){e.exports=function(){}},72:function(e,t,n){var r=n(7009);e.exports=function(){return r.Date.now()}},38:function(e,t,n){var r=n(9586),i=n(4084),o=n(5823),a=n(9793);e.exports=function(e){return o(e)?r(a(e)):i(e)}},6222:function(e,t,n){var r=n(6381)();e.exports=r},4064:function(e,t,n){var r=n(7897),i=n(6025),o=n(9204),a=n(3629),s=n(3195);e.exports=function(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},4286:function(e,t,n){var r=n(5182),i=n(3226),o=n(8794),a=n(3195),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},3038:function(e,t,n){var r=n(8573),i=n(8092);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},1495:function(e,t,n){var r=n(2582),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},9753:function(e,t,n){var r=n(1495);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},2582:function(e,t,n){var r=n(821),i=n(8092),o=n(152),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},3518:function(e,t,n){var r=n(2446);e.exports=function(e){return null==e?"":r(e)}},6339:function(e,t,n){var r=n(6025),i=n(9602);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},2085:function(e,t,n){var r=n(322)("toUpperCase");e.exports=r},5483:function(e){e.exports=function(){"use strict";var e,t,n;function r(r,i){if(e)if(t){var o="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",a={};e(a),n=i(a),"undefined"!==typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else t=i;else e=i}return r(["exports"],(function(e){function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=r;function r(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}r.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},r.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},r.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},r.prototype.solveCurveX=function(e,t){var n,r,i,o,a;for(void 0===t&&(t=1e-6),i=e,a=0;a<8;a++){if(o=this.sampleCurveX(i)-e,Math.abs(o)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=e)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-e)<t)return i;e>o?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var i=o;function o(e,t){this.x=e,this.y=t}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=r,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-r*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(e){return e instanceof o?e:Array.isArray(e)?new o(e[0],e[1]):e};var a="undefined"!=typeof self?self:{},s=Math.pow(2,53)-1;function l(e,t,r,i){var o=new n(e,t,r,i);return function(e){return o.solve(e)}}var u=l(.25,.1,.25,1);function c(e,t,n){return Math.min(n,Math.max(t,e))}function h(e,t,n){var r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i}function p(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var o=i[r];for(var a in o)e[a]=o[a]}return e}var f=1;function d(){return f++}function m(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function v(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function g(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}function y(e,t){return-1!==e.indexOf(t,e.length-t.length)}function _(e,t,n){var r={};for(var i in e)r[i]=t.call(n||this,e[i],i,e);return r}function b(e,t,n){var r={};for(var i in e)t.call(n||this,e[i],i,e)&&(r[i]=e[i]);return r}function x(e){return Array.isArray(e)?e.map(x):"object"==typeof e&&e?_(e,x):e}var w={};function S(e){w[e]||("undefined"!=typeof console&&console.warn(e),w[e]=!0)}function E(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function M(e){for(var t=0,n=0,r=e.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)t+=((a=e[i]).x-(o=e[n]).x)*(o.y+a.y);return t}function k(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function T(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(e,n,r,i){var o=r||i;return t[n]=!o||o.toLowerCase(),""})),t["max-age"]){var n=parseInt(t["max-age"],10);isNaN(n)?delete t["max-age"]:t["max-age"]=n}return t}var A=null;function C(e){if(null==A){var t=e.navigator?e.navigator.userAgent:null;A=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return A}function P(e){try{var t=a[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}var O,R,I,L,D=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),z=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,N=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,B={now:D,frame:function(e){var t=z(e);return{cancel:function(){return N(t)}}},getImageData:function(e,t){void 0===t&&(t=0);var n=a.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=e.width,n.height=e.height,r.drawImage(e,0,0,e.width,e.height),r.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:function(e){return O||(O=a.document.createElement("a")),O.href=e,O.href},hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion(){return!!a.matchMedia&&(null==R&&(R=a.matchMedia("(prefers-reduced-motion: reduce)")),R.matches)}},F={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},j={supported:!1,testSupport:function(e){!U&&L&&(V?H(e):I=e)}},U=!1,V=!1;function H(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,L),e.isContextLost())return;j.supported=!0}catch(e){}e.deleteTexture(t),U=!0}a.document&&((L=a.document.createElement("img")).onload=function(){I&&H(I),I=null,V=!0},L.onerror=function(){U=!0,I=null},L.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var W="01",G=function(e,t){this._transformRequestFn=e,this._customAccessToken=t,this._createSkuToken()};function q(e){return 0===e.indexOf("mapbox:")}G.prototype._createSkuToken=function(){var e=function(){for(var e="",t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",W,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt},G.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},G.prototype.transformRequest=function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}},G.prototype.normalizeStyleURL=function(e,t){if(!q(e))return e;var n=K(e);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||t)},G.prototype.normalizeGlyphsURL=function(e,t){if(!q(e))return e;var n=K(e);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||t)},G.prototype.normalizeSourceURL=function(e,t){if(!q(e))return e;var n=K(e);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||t)},G.prototype.normalizeSpriteURL=function(e,t,n,r){var i=K(e);return q(e)?(i.path="/styles/v1"+i.path+"/sprite"+t+n,this._makeAPIURL(i,this._customAccessToken||r)):(i.path+=""+t+n,J(i))},G.prototype.normalizeTileURL=function(e,t){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!q(e))return e;var n=K(e);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,(B.devicePixelRatio>=2||512===t?"@2x":"")+(j.supported?".webp":"$1")),n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/v4"+n.path;var r=this._customAccessToken||function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t].match(/^access_token=(.*)$/);if(r)return r[1]}return null}(n.params)||F.ACCESS_TOKEN;return F.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,r)},G.prototype.canonicalizeTileURL=function(e,t){var n=K(e);if(!n.path.match(/(^\/v4\/)/)||!n.path.match(/\.[\w]+$/))return e;var r="mapbox://tiles/";r+=n.path.replace("/v4/","");var i=n.params;return t&&(i=i.filter((function(e){return!e.match(/^access_token=/)}))),i.length&&(r+="?"+i.join("&")),r},G.prototype.canonicalizeTileset=function(e,t){for(var n=!!t&&q(t),r=[],i=0,o=e.tiles||[];i<o.length;i+=1){var a=o[i];X(a)?r.push(this.canonicalizeTileURL(a,n)):r.push(a)}return r},G.prototype._makeAPIURL=function(e,t){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",r=K(F.API_URL);if(e.protocol=r.protocol,e.authority=r.authority,"http"===e.protocol){var i=e.params.indexOf("secure");i>=0&&e.params.splice(i,1)}if("/"!==r.path&&(e.path=""+r.path+e.path),!F.REQUIRE_ACCESS_TOKEN)return J(e);if(!(t=t||F.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n);return e.params=e.params.filter((function(e){return-1===e.indexOf("access_token")})),e.params.push("access_token="+t),J(e)};var Y=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function X(e){return Y.test(e)}var Z=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function K(e){var t=e.match(Z);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function J(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}function Q(e){if(!e)return null;var t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(a.atob(t[1]).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(e){return null}}var $=function(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};$.prototype.getStorageKey=function(e){var t,n=Q(F.ACCESS_TOKEN);return t=n&&n.u?a.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))}))):F.ACCESS_TOKEN||"",e?"mapbox.eventData."+e+":"+t:"mapbox.eventData:"+t},$.prototype.fetchEventData=function(){var e=P("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{var r=a.localStorage.getItem(t);r&&(this.eventData=JSON.parse(r));var i=a.localStorage.getItem(n);i&&(this.anonId=i)}catch(e){S("Unable to read from LocalStorage")}},$.prototype.saveEventData=function(){var e=P("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{a.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&a.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){S("Unable to write to LocalStorage")}},$.prototype.processRequests=function(e){},$.prototype.postEvent=function(e,t,n,r){var i=this;if(F.EVENTS_URL){var o=K(F.EVENTS_URL);o.params.push("access_token="+(r||F.ACCESS_TOKEN||""));var a={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.2",skuId:W,userId:this.anonId},s=t?p(a,t):a,l={url:J(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=xe(l,(function(e){i.pendingRequest=null,n(e),i.saveEventData(),i.processRequests(r)}))}},$.prototype.queueRequest=function(e,t){this.queue.push(e),this.processRequests(t)};var ee,te,ne=function(e){function t(){e.call(this,"map.load"),this.success={},this.skuToken=""}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postMapLoadEvent=function(e,t,n,r){this.skuToken=n,(F.EVENTS_URL&&r||F.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return q(e)||X(e)})))&&this.queueRequest({id:t,timestamp:Date.now()},r)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),v(this.anonId)||(this.anonId=m()),this.postEvent(i,{skuToken:this.skuToken},(function(e){e||r&&(t.success[r]=!0)}),e))}},t}($),re=new(function(e){function t(t){e.call(this,"appUserTurnstile"),this._customAccessToken=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postTurnstileEvent=function(e,t){F.EVENTS_URL&&F.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return q(e)||X(e)}))&&this.queueRequest(Date.now(),t)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=Q(F.ACCESS_TOKEN),r=n?n.u:F.ACCESS_TOKEN,i=r!==this.eventData.tokenU;v(this.anonId)||(this.anonId=m(),i=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(o),l=(o-this.eventData.lastSuccess)/864e5;i=i||l>=1||l<-1||a.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},(function(e){e||(t.eventData.lastSuccess=o,t.eventData.tokenU=r)}),e)}},t}($)),ie=re.postTurnstileEvent.bind(re),oe=new ne,ae=oe.postMapLoadEvent.bind(oe),se=500,le=50;function ue(){a.caches&&!ee&&(ee=a.caches.open("mapbox-tiles"))}function ce(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}var he,pe=1/0;function fe(){return null==he&&(he=a.OffscreenCanvas&&new a.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof a.createImageBitmap),he}var de={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(de);var me,ve,ge=function(e){function t(t,n,r){401===n&&X(r)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),e.call(this,t),this.status=n,this.url=r,this.name=this.constructor.name,this.message=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},t}(Error),ye=k()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===a.location.protocol?a.parent:a).location.href},_e=function(e,t){if(!(/^file:/.test(n=e.url)||/^file:/.test(ye())&&!/^\w+:/.test(n))){if(a.fetch&&a.Request&&a.AbortController&&a.Request.prototype.hasOwnProperty("signal"))return function(e,t){var n,r=new a.AbortController,i=new a.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:ye(),signal:r.signal}),o=!1,s=!1,l=(n=i.url).indexOf("sku=")>0&&X(n);"json"===e.type&&i.headers.set("Accept","application/json");var u=function(n,r,o){if(!s){if(n&&"SecurityError"!==n.message&&S(n),r&&o)return c(r);var u=Date.now();a.fetch(i).then((function(n){if(n.ok){var r=l?n.clone():null;return c(n,r,u)}return t(new ge(n.statusText,n.status,e.url))})).catch((function(e){20!==e.code&&t(new Error(e.message))}))}},c=function(n,r,l){("arrayBuffer"===e.type?n.arrayBuffer():"json"===e.type?n.json():n.text()).then((function(e){s||(r&&l&&function(e,t,n){if(ue(),ee){var r={status:t.status,statusText:t.statusText,headers:new a.Headers};t.headers.forEach((function(e,t){return r.headers.set(t,e)}));var i=T(t.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&r.headers.set("Expires",new Date(n+1e3*i["max-age"]).toUTCString()),new Date(r.headers.get("Expires")).getTime()-n<42e4||function(e,t){if(void 0===te)try{new Response(new ReadableStream),te=!0}catch(e){te=!1}te?t(e.body):e.blob().then(t)}(t,(function(t){var n=new a.Response(t,r);ue(),ee&&ee.then((function(t){return t.put(ce(e.url),n)})).catch((function(e){return S(e.message)}))})))}}(i,r,l),o=!0,t(null,e,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((function(e){s||t(new Error(e.message))}))};return l?function(e,t){if(ue(),!ee)return t(null);var n=ce(e.url);ee.then((function(e){e.match(n).then((function(r){var i=function(e){if(!e)return!1;var t=new Date(e.headers.get("Expires")||0),n=T(e.headers.get("Cache-Control")||"");return t>Date.now()&&!n["no-cache"]}(r);e.delete(n),i&&e.put(n,r.clone()),t(null,r,i)})).catch(t)})).catch(t)}(i,u):u(null,null),{cancel:function(){s=!0,o||r.abort()}}}(e,t);if(k()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var n;return function(e,t){var n=new a.XMLHttpRequest;for(var r in n.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(n.responseType="arraybuffer"),e.headers)n.setRequestHeader(r,e.headers[r]);return"json"===e.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===e.credentials,n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===e.type)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else t(new ge(n.statusText,n.status,e.url))},n.send(e.body),{cancel:function(){return n.abort()}}}(e,t)},be=function(e,t){return _e(p(e,{type:"arrayBuffer"}),t)},xe=function(e,t){return _e(p(e,{method:"POST"}),t)},we="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";me=[],ve=0;var Se=function e(t,n){if(j.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),ve>=F.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:t,callback:n,cancelled:!1,cancel:function(){this.cancelled=!0}};return me.push(r),r}ve++;var i=!1,o=function(){if(!i)for(i=!0,ve--;me.length&&ve<F.MAX_PARALLEL_IMAGE_REQUESTS;){var t=me.shift();t.cancelled||(t.cancel=e(t.requestParameters,t.callback).cancel)}},s=be(t,(function(e,t,r,i){o(),e?n(e):t&&(fe()?function(e,t){var n=new a.Blob([new Uint8Array(e)],{type:"image/png"});a.createImageBitmap(n).then((function(e){t(null,e)})).catch((function(e){t(new Error("Could not load image because of "+e.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(t,n):function(e,t,n,r){var i=new a.Image,o=a.URL;i.onload=function(){t(null,i),o.revokeObjectURL(i.src),i.onload=null,a.requestAnimationFrame((function(){i.src=we}))},i.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var s=new a.Blob([new Uint8Array(e)],{type:"image/png"});i.cacheControl=n,i.expires=r,i.src=e.byteLength?o.createObjectURL(s):we}(t,n,r,i))}));return{cancel:function(){s.cancel(),o()}}};function Ee(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function Me(e,t,n){if(n&&n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}var ke=function(e,t){void 0===t&&(t={}),p(this,t),this.type=e},Te=function(e){function t(t,n){void 0===n&&(n={}),e.call(this,"error",p({error:t},n))}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(ke),Ae=function(){};Ae.prototype.on=function(e,t){return this._listeners=this._listeners||{},Ee(e,t,this._listeners),this},Ae.prototype.off=function(e,t){return Me(e,t,this._listeners),Me(e,t,this._oneTimeListeners),this},Ae.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},Ee(e,t,this._oneTimeListeners),this},Ae.prototype.fire=function(e,t){"string"==typeof e&&(e=new ke(e,t||{}));var n=e.type;if(this.listens(n)){e.target=this;for(var r=0,i=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];r<i.length;r+=1)i[r].call(this,e);for(var o=0,a=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];o<a.length;o+=1){var s=a[o];Me(n,s,this._oneTimeListeners),s.call(this,e)}var l=this._eventedParent;l&&(p(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),l.fire(e))}else e instanceof Te&&console.error(e.error);return this},Ae.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},Ae.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var Ce={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Pe=function(e,t,n,r){this.message=(e?e+": ":"")+n,r&&(this.identifier=r),null!=t&&t.__line__&&(this.line=t.__line__)};function Oe(e){var t=e.value;return t?[new Pe(e.key,t,"constants have been deprecated as of v8")]:[]}function Re(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var o=i[r];for(var a in o)e[a]=o[a]}return e}function Ie(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Le(e){if(Array.isArray(e))return e.map(Le);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var n in e)t[n]=Le(e[n]);return t}return Ie(e)}var De=function(e){function t(t,n){e.call(this,n),this.message=n,this.key=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Error),ze=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.bindings[i[0]]=i[1]}};ze.prototype.concat=function(e){return new ze(this,e)},ze.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},ze.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var Ne={kind:"null"},Be={kind:"number"},Fe={kind:"string"},je={kind:"boolean"},Ue={kind:"color"},Ve={kind:"object"},He={kind:"value"},We={kind:"collator"},Ge={kind:"formatted"},qe={kind:"resolvedImage"};function Ye(e,t){return{kind:"array",itemType:e,N:t}}function Xe(e){if("array"===e.kind){var t=Xe(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var Ze=[Ne,Be,Fe,je,Ue,Ge,Ve,Ye(He),qe];function Ke(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Ke(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var n=0,r=Ze;n<r.length;n+=1)if(!Ke(r[n],t))return null}return"Expected "+Xe(e)+" but found "+Xe(t)+" instead."}function Je(e,t){return t.some((function(t){return t.kind===e.kind}))}function Qe(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e}))}var $e=t((function(e,t){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return r("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function o(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function a(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{t.parseCSSColor=function(e){var t,s=e.replace(/ /g,"").toLowerCase();if(s in n)return n[s].slice();if("#"===s[0])return 4===s.length?(t=parseInt(s.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===s.length&&(t=parseInt(s.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var l=s.indexOf("("),u=s.indexOf(")");if(-1!==l&&u+1===s.length){var c=s.substr(0,l),h=s.substr(l+1,u-(l+1)).split(","),p=1;switch(c){case"rgba":if(4!==h.length)return null;p=o(h.pop());case"rgb":return 3!==h.length?null:[i(h[0]),i(h[1]),i(h[2]),p];case"hsla":if(4!==h.length)return null;p=o(h.pop());case"hsl":if(3!==h.length)return null;var f=(parseFloat(h[0])%360+360)%360/360,d=o(h[1]),m=o(h[2]),v=m<=.5?m*(d+1):m+d-m*d,g=2*m-v;return[r(255*a(g,v,f+1/3)),r(255*a(g,v,f)),r(255*a(g,v,f-1/3)),p];default:return null}}return null}}catch(e){}})).parseCSSColor,et=function(e,t,n,r){void 0===r&&(r=1),this.r=e,this.g=t,this.b=n,this.a=r};et.parse=function(e){if(e){if(e instanceof et)return e;if("string"==typeof e){var t=$e(e);if(t)return new et(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},et.prototype.toString=function(){var e=this.toArray(),t=e[1],n=e[2],r=e[3];return"rgba("+Math.round(e[0])+","+Math.round(t)+","+Math.round(n)+","+r+")"},et.prototype.toArray=function(){var e=this.a;return 0===e?[0,0,0,0]:[255*this.r/e,255*this.g/e,255*this.b/e,e]},et.black=new et(0,0,0,1),et.white=new et(1,1,1,1),et.transparent=new et(0,0,0,0),et.red=new et(1,0,0,1);var tt=function(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};tt.prototype.compare=function(e,t){return this.collator.compare(e,t)},tt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var nt=function(e,t,n,r,i){this.text=e,this.image=t,this.scale=n,this.fontStack=r,this.textColor=i},rt=function(e){this.sections=e};rt.fromString=function(e){return new rt([new nt(e,null,null,null,null)])},rt.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))},rt.factory=function(e){return e instanceof rt?e:rt.fromString(e)},rt.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")},rt.prototype.serialize=function(){for(var e=["format"],t=0,n=this.sections;t<n.length;t+=1){var r=n[t];if(r.image)e.push(["image",r.image.name]);else{e.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),r.textColor&&(i["text-color"]=["rgba"].concat(r.textColor.toArray())),e.push(i)}}return e};var it=function(e){this.name=e.name,this.available=e.available};function ot(e,t,n,r){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[e,t,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function at(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof et)return!0;if(e instanceof tt)return!0;if(e instanceof rt)return!0;if(e instanceof it)return!0;if(Array.isArray(e)){for(var t=0,n=e;t<n.length;t+=1)if(!at(n[t]))return!1;return!0}if("object"==typeof e){for(var r in e)if(!at(e[r]))return!1;return!0}return!1}function st(e){if(null===e)return Ne;if("string"==typeof e)return Fe;if("boolean"==typeof e)return je;if("number"==typeof e)return Be;if(e instanceof et)return Ue;if(e instanceof tt)return We;if(e instanceof rt)return Ge;if(e instanceof it)return qe;if(Array.isArray(e)){for(var t,n=e.length,r=0,i=e;r<i.length;r+=1){var o=st(i[r]);if(t){if(t===o)continue;t=He;break}t=o}return Ye(t||He,n)}return Ve}function lt(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof et||e instanceof rt||e instanceof it?e.toString():JSON.stringify(e)}it.prototype.toString=function(){return this.name},it.fromString=function(e){return e?new it({name:e,available:!1}):null},it.prototype.serialize=function(){return["image",this.name]};var ut=function(e,t){this.type=e,this.value=t};ut.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!at(e[1]))return t.error("invalid value");var n=e[1],r=st(n),i=t.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new ut(r,n)},ut.prototype.evaluate=function(){return this.value},ut.prototype.eachChild=function(){},ut.prototype.outputDefined=function(){return!0},ut.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof et?["rgba"].concat(this.value.toArray()):this.value instanceof rt?this.value.serialize():this.value};var ct=function(e){this.name="ExpressionEvaluationError",this.message=e};ct.prototype.toJSON=function(){return this.message};var ht={string:Fe,number:Be,boolean:je,object:Ve},pt=function(e,t){this.type=e,this.args=t};pt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n,r=1,i=e[0];if("array"===i){var o,a;if(e.length>2){var s=e[1];if("string"!=typeof s||!(s in ht)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);o=ht[s],r++}else o=He;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);a=e[2],r++}n=Ye(o,a)}else n=ht[i];for(var l=[];r<e.length;r++){var u=t.parse(e[r],r,He);if(!u)return null;l.push(u)}return new pt(n,l)},pt.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var n=this.args[t].evaluate(e);if(!Ke(this.type,st(n)))return n;if(t===this.args.length-1)throw new ct("Expected value to be of type "+Xe(this.type)+", but found "+Xe(st(n))+" instead.")}return null},pt.prototype.eachChild=function(e){this.args.forEach(e)},pt.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},pt.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);var r=e.N;("number"==typeof r||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map((function(e){return e.serialize()})))};var ft=function(e){this.type=Ge,this.sections=e};ft.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");for(var r=[],i=!1,o=1;o<=e.length-1;++o){var a=e[o];if(i&&"object"==typeof a&&!Array.isArray(a)){i=!1;var s=null;if(a["font-scale"]&&!(s=t.parse(a["font-scale"],1,Be)))return null;var l=null;if(a["text-font"]&&!(l=t.parse(a["text-font"],1,Ye(Fe))))return null;var u=null;if(a["text-color"]&&!(u=t.parse(a["text-color"],1,Ue)))return null;var c=r[r.length-1];c.scale=s,c.font=l,c.textColor=u}else{var h=t.parse(e[o],1,He);if(!h)return null;var p=h.type.kind;if("string"!==p&&"value"!==p&&"null"!==p&&"resolvedImage"!==p)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,r.push({content:h,scale:null,font:null,textColor:null})}}return new ft(r)},ft.prototype.evaluate=function(e){return new rt(this.sections.map((function(t){var n=t.content.evaluate(e);return st(n)===qe?new nt("",n,null,null,null):new nt(lt(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))},ft.prototype.eachChild=function(e){for(var t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e(r.content),r.scale&&e(r.scale),r.font&&e(r.font),r.textColor&&e(r.textColor)}},ft.prototype.outputDefined=function(){return!1},ft.prototype.serialize=function(){for(var e=["format"],t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e.push(r.content.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),r.textColor&&(i["text-color"]=r.textColor.serialize()),e.push(i)}return e};var dt=function(e){this.type=qe,this.input=e};dt.parse=function(e,t){if(2!==e.length)return t.error("Expected two arguments.");var n=t.parse(e[1],1,Fe);return n?new dt(n):t.error("No image name provided.")},dt.prototype.evaluate=function(e){var t=this.input.evaluate(e),n=it.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n},dt.prototype.eachChild=function(e){e(this.input)},dt.prototype.outputDefined=function(){return!1},dt.prototype.serialize=function(){return["image",this.input.serialize()]};var mt={"to-boolean":je,"to-color":Ue,"to-number":Be,"to-string":Fe},vt=function(e,t){this.type=e,this.args=t};vt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");for(var r=mt[n],i=[],o=1;o<e.length;o++){var a=t.parse(e[o],o,He);if(!a)return null;i.push(a)}return new vt(r,i)},vt.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,n,r=0,i=this.args;r<i.length;r+=1){if(n=null,(t=i[r].evaluate(e))instanceof et)return t;if("string"==typeof t){var o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&!(n=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":ot(t[0],t[1],t[2],t[3])))return new et(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new ct(n||"Could not parse color from value '"+("string"==typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,l=this.args;s<l.length;s+=1){if(null===(a=l[s].evaluate(e)))return 0;var u=Number(a);if(!isNaN(u))return u}throw new ct("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?rt.fromString(lt(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?it.fromString(lt(this.args[0].evaluate(e))):lt(this.args[0].evaluate(e))},vt.prototype.eachChild=function(e){this.args.forEach(e)},vt.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},vt.prototype.serialize=function(){if("formatted"===this.type.kind)return new ft([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new dt(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild((function(t){e.push(t.serialize())})),e};var gt=["Unknown","Point","LineString","Polygon"],yt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};yt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},yt.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?gt[this.feature.type]:this.feature.type:null},yt.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},yt.prototype.canonicalID=function(){return this.canonical},yt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},yt.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=et.parse(e)),t};var _t=function(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r};_t.prototype.evaluate=function(e){return this._evaluate(e,this.args)},_t.prototype.eachChild=function(e){this.args.forEach(e)},_t.prototype.outputDefined=function(){return!1},_t.prototype.serialize=function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))},_t.parse=function(e,t){var n,r=e[0],i=_t.definitions[r];if(!i)return t.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter((function(t){var n=t[0];return!Array.isArray(n)||n.length===e.length-1})),l=null,u=0,c=s;u<c.length;u+=1){var h=c[u],p=h[0],f=h[1];l=new Ut(t.registry,t.path,null,t.scope);for(var d=[],m=!1,v=1;v<e.length;v++){var g=e[v],y=Array.isArray(p)?p[v-1]:p.type,_=l.parse(g,1+d.length,y);if(!_){m=!0;break}d.push(_)}if(!m)if(Array.isArray(p)&&p.length!==d.length)l.error("Expected "+p.length+" arguments, but found "+d.length+" instead.");else{for(var b=0;b<d.length;b++){var x=Array.isArray(p)?p[b]:p.type,w=d[b];l.concat(b+1).checkSubtype(x,w.type)}if(0===l.errors.length)return new _t(r,o,f,d)}}if(1===s.length)(n=t.errors).push.apply(n,l.errors);else{for(var S=(s.length?s:a).map((function(e){var t;return t=e[0],Array.isArray(t)?"("+t.map(Xe).join(", ")+")":"("+Xe(t.type)+"...)"})).join(" | "),E=[],M=1;M<e.length;M++){var k=t.parse(e[M],1+E.length);if(!k)return null;E.push(Xe(k.type))}t.error("Expected arguments of type "+S+", but found ("+E.join(", ")+") instead.")}return null},_t.register=function(e,t){for(var n in _t.definitions=t,t)e[n]=_t};var bt=function(e,t,n){this.type=We,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t};function xt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function wt(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function St(e,t){var n=(180+e[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(n*i*8192),Math.round(r*i*8192)]}function Et(e,t,n){return t[1]>e[1]!=n[1]>e[1]&&e[0]<(n[0]-t[0])*(e[1]-t[1])/(n[1]-t[1])+t[0]}function Mt(e,t){for(var n,r,i,o,a,s,l,u=!1,c=0,h=t.length;c<h;c++)for(var p=t[c],f=0,d=p.length;f<d-1;f++){if((o=(n=e)[0]-(r=p[f])[0])*(l=n[1]-(i=p[f+1])[1])-(s=n[0]-i[0])*(a=n[1]-r[1])==0&&o*s<=0&&a*l<=0)return!1;Et(e,p[f],p[f+1])&&(u=!u)}return u}function kt(e,t){for(var n=0;n<t.length;n++)if(Mt(e,t[n]))return!0;return!1}function Tt(e,t,n,r){var i=r[0]-n[0],o=r[1]-n[1],a=(e[0]-n[0])*o-i*(e[1]-n[1]),s=(t[0]-n[0])*o-i*(t[1]-n[1]);return a>0&&s<0||a<0&&s>0}function At(e,t,n){for(var r=0,i=n;r<i.length;r+=1)for(var o=i[r],a=0;a<o.length-1;++a)if(0!=(h=[(c=o[a+1])[0]-(u=o[a])[0],c[1]-u[1]])[0]*(p=[(l=t)[0]-(s=e)[0],l[1]-s[1]])[1]-h[1]*p[0]&&Tt(s,l,u,c)&&Tt(u,c,s,l))return!0;var s,l,u,c,h,p;return!1}function Ct(e,t){for(var n=0;n<e.length;++n)if(!Mt(e[n],t))return!1;for(var r=0;r<e.length-1;++r)if(At(e[r],e[r+1],t))return!1;return!0}function Pt(e,t){for(var n=0;n<t.length;n++)if(Ct(e,t[n]))return!0;return!1}function Ot(e,t,n){for(var r=[],i=0;i<e.length;i++){for(var o=[],a=0;a<e[i].length;a++){var s=St(e[i][a],n);xt(t,s),o.push(s)}r.push(o)}return r}function Rt(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=Ot(e[i],t,n);r.push(o)}return r}function It(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){var i=.5*r,o=e[0]-n[0]>i?-r:n[0]-e[0]>i?r:0;0===o&&(o=e[0]-n[2]>i?-r:n[2]-e[0]>i?r:0),e[0]+=o}xt(t,e)}function Lt(e,t,n,r){for(var i=8192*Math.pow(2,r.z),o=[8192*r.x,8192*r.y],a=[],s=0,l=e;s<l.length;s+=1)for(var u=0,c=l[s];u<c.length;u+=1){var h=c[u],p=[h.x+o[0],h.y+o[1]];It(p,t,n,i),a.push(p)}return a}function Dt(e,t,n,r){for(var i,o=8192*Math.pow(2,r.z),a=[8192*r.x,8192*r.y],s=[],l=0,u=e;l<u.length;l+=1){for(var c=[],h=0,p=u[l];h<p.length;h+=1){var f=p[h],d=[f.x+a[0],f.y+a[1]];xt(t,d),c.push(d)}s.push(c)}if(t[2]-t[0]<=o/2){(i=t)[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var m=0,v=s;m<v.length;m+=1)for(var g=0,y=v[m];g<y.length;g+=1)It(y[g],t,n,o)}return s}bt.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");var r=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,je);if(!r)return null;var i=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,je);if(!i)return null;var o=null;return n.locale&&!(o=t.parse(n.locale,1,Fe))?null:new bt(r,i,o)},bt.prototype.evaluate=function(e){return new tt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},bt.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},bt.prototype.outputDefined=function(){return!1},bt.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var zt=function(e,t){this.type=je,this.geojson=e,this.geometries=t};function Nt(e){if(e instanceof _t){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof zt)return!1;var t=!0;return e.eachChild((function(e){t&&!Nt(e)&&(t=!1)})),t}function Bt(e){if(e instanceof _t&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!Bt(e)&&(t=!1)})),t}function Ft(e,t){if(e instanceof _t&&t.indexOf(e.name)>=0)return!1;var n=!0;return e.eachChild((function(e){n&&!Ft(e,t)&&(n=!1)})),n}zt.parse=function(e,t){if(2!==e.length)return t.error("'within' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(at(e[1])){var n=e[1];if("FeatureCollection"===n.type)for(var r=0;r<n.features.length;++r){var i=n.features[r].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new zt(n,n.features[r].geometry)}else if("Feature"===n.type){var o=n.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new zt(n,n.geometry)}else if("Polygon"===n.type||"MultiPolygon"===n.type)return new zt(n,n)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")},zt.prototype.evaluate=function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var o=Ot(t.coordinates,r,i),a=Lt(e.geometry(),n,r,i);if(!wt(n,r))return!1;for(var s=0,l=a;s<l.length;s+=1)if(!Mt(l[s],o))return!1}if("MultiPolygon"===t.type){var u=Rt(t.coordinates,r,i),c=Lt(e.geometry(),n,r,i);if(!wt(n,r))return!1;for(var h=0,p=c;h<p.length;h+=1)if(!kt(p[h],u))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var o=Ot(t.coordinates,r,i),a=Dt(e.geometry(),n,r,i);if(!wt(n,r))return!1;for(var s=0,l=a;s<l.length;s+=1)if(!Ct(l[s],o))return!1}if("MultiPolygon"===t.type){var u=Rt(t.coordinates,r,i),c=Dt(e.geometry(),n,r,i);if(!wt(n,r))return!1;for(var h=0,p=c;h<p.length;h+=1)if(!Pt(p[h],u))return!1}return!0}(e,this.geometries)}return!1},zt.prototype.eachChild=function(){},zt.prototype.outputDefined=function(){return!0},zt.prototype.serialize=function(){return["within",this.geojson]};var jt=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};jt.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var n=e[1];return t.scope.has(n)?new jt(n,t.scope.get(n)):t.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},jt.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},jt.prototype.eachChild=function(){},jt.prototype.outputDefined=function(){return!1},jt.prototype.serialize=function(){return["var",this.name]};var Ut=function(e,t,n,r,i){void 0===t&&(t=[]),void 0===r&&(r=new ze),void 0===i&&(i=[]),this.registry=e,this.path=t,this.key=t.map((function(e){return"["+e+"]"})).join(""),this.scope=r,this.errors=i,this.expectedType=n};function Vt(e,t){for(var n,r=e.length-1,i=0,o=r,a=0;i<=o;)if((n=e[a=Math.floor((i+o)/2)])<=t){if(a===r||t<e[a+1])return a;i=a+1}else{if(!(n>t))throw new ct("Input is not a number.");o=a-1}return 0}Ut.prototype.parse=function(e,t,n,r,i){return void 0===i&&(i={}),t?this.concat(t,n,r)._parse(e,i):this._parse(e,i)},Ut.prototype._parse=function(e,t){function n(e,t,n){return"assert"===n?new pt(t,[e]):"coerce"===n?new vt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=e[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[r];if(i){var o=i.parse(e,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=n(o,a,t.typeAnnotation||"coerce");else o=n(o,a,t.typeAnnotation||"assert")}if(!(o instanceof ut)&&"resolvedImage"!==o.type.kind&&function e(t){if(t instanceof jt)return e(t.boundExpression);if(t instanceof _t&&"error"===t.name)return!1;if(t instanceof bt)return!1;if(t instanceof zt)return!1;var n=t instanceof vt||t instanceof pt,r=!0;return t.eachChild((function(t){r=n?r&&e(t):r&&t instanceof ut})),!!r&&Nt(t)&&Ft(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(o)){var l=new yt;try{o=new ut(o.type,o.evaluate(l))}catch(e){return this.error(e.message),null}}return o}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof e+" instead.")},Ut.prototype.concat=function(e,t,n){var r="number"==typeof e?this.path.concat(e):this.path,i=n?this.scope.concat(n):this.scope;return new Ut(this.registry,r,t||null,i,this.errors)},Ut.prototype.error=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=""+this.key+t.map((function(e){return"["+e+"]"})).join("");this.errors.push(new De(r,e))},Ut.prototype.checkSubtype=function(e,t){var n=Ke(e,t);return n&&this.error(n),n};var Ht=function(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var o=i[r],a=o[1];this.labels.push(o[0]),this.outputs.push(a)}};function Wt(e,t,n){return e*(1-n)+t*n}Ht.parse=function(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");var n=t.parse(e[1],1,Be);if(!n)return null;var r=[],i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(var o=1;o<e.length;o+=2){var a=1===o?-1/0:e[o],s=e[o+1],l=o,u=o+1;if("number"!=typeof a)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',l);if(r.length&&r[r.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',l);var c=t.parse(s,u,i);if(!c)return null;i=i||c.type,r.push([a,c])}return new Ht(i,n,r)},Ht.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;return r>=t[i-1]?n[i-1].evaluate(e):n[Vt(t,r)].evaluate(e)},Ht.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},Ht.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},Ht.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var Gt=Object.freeze({__proto__:null,number:Wt,color:function(e,t,n){return new et(Wt(e.r,t.r,n),Wt(e.g,t.g,n),Wt(e.b,t.b,n),Wt(e.a,t.a,n))},array:function(e,t,n){return e.map((function(e,r){return Wt(e,t[r],n)}))}}),qt=6/29*3*(6/29),Yt=Math.PI/180,Xt=180/Math.PI;function Zt(e){return e>.008856451679035631?Math.pow(e,1/3):e/qt+4/29}function Kt(e){return e>6/29?e*e*e:qt*(e-4/29)}function Jt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Qt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function $t(e){var t=Qt(e.r),n=Qt(e.g),r=Qt(e.b),i=Zt((.4124564*t+.3575761*n+.1804375*r)/.95047),o=Zt((.2126729*t+.7151522*n+.072175*r)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-Zt((.0193339*t+.119192*n+.9503041*r)/1.08883)),alpha:e.a}}function en(e){var t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*Kt(t),n=.95047*Kt(n),r=1.08883*Kt(r),new et(Jt(3.2404542*n-1.5371385*t-.4985314*r),Jt(-.969266*n+1.8760108*t+.041556*r),Jt(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function tn(e,t,n){var r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var nn={forward:$t,reverse:en,interpolate:function(e,t,n){return{l:Wt(e.l,t.l,n),a:Wt(e.a,t.a,n),b:Wt(e.b,t.b,n),alpha:Wt(e.alpha,t.alpha,n)}}},rn={forward:function(e){var t=$t(e),n=t.l,r=t.a,i=t.b,o=Math.atan2(i,r)*Xt;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:e.a}},reverse:function(e){var t=e.h*Yt,n=e.c;return en({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:tn(e.h,t.h,n),c:Wt(e.c,t.c,n),l:Wt(e.l,t.l,n),alpha:Wt(e.alpha,t.alpha,n)}}},on=Object.freeze({__proto__:null,lab:nn,hcl:rn}),an=function(e,t,n,r,i){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var o=0,a=i;o<a.length;o+=1){var s=a[o],l=s[1];this.labels.push(s[0]),this.outputs.push(l)}};function sn(e,t,n,r){var i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}an.interpolationFactor=function(e,t,r,i){var o=0;if("exponential"===e.name)o=sn(t,e.base,r,i);else if("linear"===e.name)o=sn(t,1,r,i);else if("cubic-bezier"===e.name){var a=e.controlPoints;o=new n(a[0],a[1],a[2],a[3]).solve(sn(t,1,r,i))}return o},an.parse=function(e,t){var n=e[0],r=e[1],i=e[2],o=e.slice(3);if(!Array.isArray(r)||0===r.length)return t.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var a=r[1];if("number"!=typeof a)return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:a}}else{if("cubic-bezier"!==r[0])return t.error("Unknown interpolation type "+String(r[0]),1,0);var s=r.slice(1);if(4!==s.length||s.some((function(e){return"number"!=typeof e||e<0||e>1})))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(i=t.parse(i,2,Be)))return null;var l=[],u=null;"interpolate-hcl"===n||"interpolate-lab"===n?u=Ue:t.expectedType&&"value"!==t.expectedType.kind&&(u=t.expectedType);for(var c=0;c<o.length;c+=2){var h=o[c],p=o[c+1],f=c+3,d=c+4;if("number"!=typeof h)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',f);if(l.length&&l[l.length-1][0]>=h)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',f);var m=t.parse(p,d,u);if(!m)return null;u=u||m.type,l.push([h,m])}return"number"===u.kind||"color"===u.kind||"array"===u.kind&&"number"===u.itemType.kind&&"number"==typeof u.N?new an(u,n,r,i,l):t.error("Type "+Xe(u)+" is not interpolatable.")},an.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;if(r>=t[i-1])return n[i-1].evaluate(e);var o=Vt(t,r),a=an.interpolationFactor(this.interpolation,r,t[o],t[o+1]),s=n[o].evaluate(e),l=n[o+1].evaluate(e);return"interpolate"===this.operator?Gt[this.type.kind.toLowerCase()](s,l,a):"interpolate-hcl"===this.operator?rn.reverse(rn.interpolate(rn.forward(s),rn.forward(l),a)):nn.reverse(nn.interpolate(nn.forward(s),nn.forward(l),a))},an.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},an.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},an.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t};var ln=function(e,t){this.type=e,this.args=t};ln.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var n=null,r=t.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],o=0,a=e.slice(1);o<a.length;o+=1){var s=t.parse(a[o],1+i.length,n,void 0,{typeAnnotation:"omit"});if(!s)return null;n=n||s.type,i.push(s)}var l=r&&i.some((function(e){return Ke(r,e.type)}));return new ln(l?He:n,i)},ln.prototype.evaluate=function(e){for(var t,n=null,r=0,i=0,o=this.args;i<o.length&&(r++,(n=o[i].evaluate(e))&&n instanceof it&&!n.available&&(t||(t=n.name),n=null,r===this.args.length&&(n=t)),null===n);i+=1);return n},ln.prototype.eachChild=function(e){this.args.forEach(e)},ln.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},ln.prototype.serialize=function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e};var un=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};un.prototype.evaluate=function(e){return this.result.evaluate(e)},un.prototype.eachChild=function(e){for(var t=0,n=this.bindings;t<n.length;t+=1)e(n[t][1]);e(this.result)},un.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var n=[],r=1;r<e.length-1;r+=2){var i=e[r];if("string"!=typeof i)return t.error("Expected string, but found "+typeof i+" instead.",r);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);var o=t.parse(e[r+1],r+1);if(!o)return null;n.push([i,o])}var a=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return a?new un(n,a):null},un.prototype.outputDefined=function(){return this.result.outputDefined()},un.prototype.serialize=function(){for(var e=["let"],t=0,n=this.bindings;t<n.length;t+=1){var r=n[t];e.push(r[0],r[1].serialize())}return e.push(this.result.serialize()),e};var cn=function(e,t,n){this.type=e,this.index=t,this.input=n};cn.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,Be),r=t.parse(e[2],2,Ye(t.expectedType||He));return n&&r?new cn(r.type.itemType,n,r):null},cn.prototype.evaluate=function(e){var t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new ct("Array index out of bounds: "+t+" < 0.");if(t>=n.length)throw new ct("Array index out of bounds: "+t+" > "+(n.length-1)+".");if(t!==Math.floor(t))throw new ct("Array index must be an integer, but found "+t+" instead.");return n[t]},cn.prototype.eachChild=function(e){e(this.index),e(this.input)},cn.prototype.outputDefined=function(){return!1},cn.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var hn=function(e,t){this.type=je,this.needle=e,this.haystack=t};hn.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,He),r=t.parse(e[2],2,He);return n&&r?Je(n.type,[je,Fe,Be,Ne,He])?new hn(n,r):t.error("Expected first argument to be of type boolean, string, number or null, but found "+Xe(n.type)+" instead"):null},hn.prototype.evaluate=function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!Qe(t,["boolean","string","number","null"]))throw new ct("Expected first argument to be of type boolean, string, number or null, but found "+Xe(st(t))+" instead.");if(!Qe(n,["string","array"]))throw new ct("Expected second argument to be of type array or string, but found "+Xe(st(n))+" instead.");return n.indexOf(t)>=0},hn.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},hn.prototype.outputDefined=function(){return!0},hn.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var pn=function(e,t,n){this.type=Be,this.needle=e,this.haystack=t,this.fromIndex=n};pn.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,He),r=t.parse(e[2],2,He);if(!n||!r)return null;if(!Je(n.type,[je,Fe,Be,Ne,He]))return t.error("Expected first argument to be of type boolean, string, number or null, but found "+Xe(n.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,Be);return i?new pn(n,r,i):null}return new pn(n,r)},pn.prototype.evaluate=function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Qe(t,["boolean","string","number","null"]))throw new ct("Expected first argument to be of type boolean, string, number or null, but found "+Xe(st(t))+" instead.");if(!Qe(n,["string","array"]))throw new ct("Expected second argument to be of type array or string, but found "+Xe(st(n))+" instead.");if(this.fromIndex){var r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)},pn.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)},pn.prototype.outputDefined=function(){return!1},pn.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var fn=function(e,t,n,r,i,o){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};fn.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var n,r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var i={},o=[],a=2;a<e.length-1;a+=2){var s=e[a],l=e[a+1];Array.isArray(s)||(s=[s]);var u=t.concat(a);if(0===s.length)return u.error("Expected at least one branch label.");for(var c=0,h=s;c<h.length;c+=1){var p=h[c];if("number"!=typeof p&&"string"!=typeof p)return u.error("Branch labels must be numbers or strings.");if("number"==typeof p&&Math.abs(p)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof p&&Math.floor(p)!==p)return u.error("Numeric branch labels must be integer values.");if(n){if(u.checkSubtype(n,st(p)))return null}else n=st(p);if(void 0!==i[String(p)])return u.error("Branch labels must be unique.");i[String(p)]=o.length}var f=t.parse(l,a,r);if(!f)return null;r=r||f.type,o.push(f)}var d=t.parse(e[1],1,He);if(!d)return null;var m=t.parse(e[e.length-1],e.length-1,r);return m?"value"!==d.type.kind&&t.concat(1).checkSubtype(n,d.type)?null:new fn(n,r,d,i,o,m):null},fn.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(st(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},fn.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},fn.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()},fn.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],n=[],r={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i];void 0===(h=r[this.cases[a]])?(r[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[h][1].push(a)}for(var s=function(t){return"number"===e.inputType.kind?Number(t):t},l=0,u=n;l<u.length;l+=1){var c=u[l],h=c[0],p=c[1];t.push(1===p.length?s(p[0]):p.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var dn=function(e,t,n){this.type=e,this.branches=t,this.otherwise=n};dn.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var r=[],i=1;i<e.length-1;i+=2){var o=t.parse(e[i],i,je);if(!o)return null;var a=t.parse(e[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}var s=t.parse(e[e.length-1],e.length-1,n);return s?new dn(n,r,s):null},dn.prototype.evaluate=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],i=r[1];if(r[0].evaluate(e))return i.evaluate(e)}return this.otherwise.evaluate(e)},dn.prototype.eachChild=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],i=r[1];e(r[0]),e(i)}e(this.otherwise)},dn.prototype.outputDefined=function(){return this.branches.every((function(e){return e[1].outputDefined()}))&&this.otherwise.outputDefined()},dn.prototype.serialize=function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e};var mn=function(e,t,n,r){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=r};function vn(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function gn(e,t,n,r){return 0===r.compare(t,n)}function yn(e,t,n){var r="=="!==e&&"!="!==e;return function(){function i(e,t,n){this.type=je,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return i.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var n=e[0],o=t.parse(e[1],1,He);if(!o)return null;if(!vn(n,o.type))return t.concat(1).error('"'+n+"\" comparisons are not supported for type '"+Xe(o.type)+"'.");var a=t.parse(e[2],2,He);if(!a)return null;if(!vn(n,a.type))return t.concat(2).error('"'+n+"\" comparisons are not supported for type '"+Xe(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot compare types '"+Xe(o.type)+"' and '"+Xe(a.type)+"'.");r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new pt(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new pt(o.type,[a])));var s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,We)))return null}return new i(o,a,s)},i.prototype.evaluate=function(i){var o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=st(o),l=st(a);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new ct('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+l.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var u=st(o),c=st(a);if("string"!==u.kind||"string"!==c.kind)return t(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):t(i,o,a)},i.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t},i}()}mn.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,He),r=t.parse(e[2],2,Be);if(!n||!r)return null;if(!Je(n.type,[Ye(He),Fe,He]))return t.error("Expected first argument to be of type array or string, but found "+Xe(n.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,Be);return i?new mn(n.type,n,r,i):null}return new mn(n.type,n,r)},mn.prototype.evaluate=function(e){var t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!Qe(t,["string","array"]))throw new ct("Expected first argument to be of type array or string, but found "+Xe(st(t))+" instead.");if(this.endIndex){var r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)},mn.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)},mn.prototype.outputDefined=function(){return!1},mn.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var _n=yn("==",(function(e,t,n){return t===n}),gn),bn=yn("!=",(function(e,t,n){return t!==n}),(function(e,t,n,r){return!gn(0,t,n,r)})),xn=yn("<",(function(e,t,n){return t<n}),(function(e,t,n,r){return r.compare(t,n)<0})),wn=yn(">",(function(e,t,n){return t>n}),(function(e,t,n,r){return r.compare(t,n)>0})),Sn=yn("<=",(function(e,t,n){return t<=n}),(function(e,t,n,r){return r.compare(t,n)<=0})),En=yn(">=",(function(e,t,n){return t>=n}),(function(e,t,n,r){return r.compare(t,n)>=0})),Mn=function(e,t,n,r,i){this.type=Fe,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i};Mn.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var n=t.parse(e[1],1,Be);if(!n)return null;var r=e[2];if("object"!=typeof r||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");var i=null;if(r.locale&&!(i=t.parse(r.locale,1,Fe)))return null;var o=null;if(r.currency&&!(o=t.parse(r.currency,1,Fe)))return null;var a=null;if(r["min-fraction-digits"]&&!(a=t.parse(r["min-fraction-digits"],1,Be)))return null;var s=null;return r["max-fraction-digits"]&&!(s=t.parse(r["max-fraction-digits"],1,Be))?null:new Mn(n,i,o,a,s)},Mn.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},Mn.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},Mn.prototype.outputDefined=function(){return!1},Mn.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var kn=function(e){this.type=Be,this.input=e};kn.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error("Expected argument of type string or array, but found "+Xe(n.type)+" instead."):new kn(n):null},kn.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new ct("Expected value to be of type string or array, but found "+Xe(st(t))+" instead.")},kn.prototype.eachChild=function(e){e(this.input)},kn.prototype.outputDefined=function(){return!1},kn.prototype.serialize=function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e};var Tn={"==":_n,"!=":bn,">":wn,"<":xn,">=":En,"<=":Sn,array:pt,at:cn,boolean:pt,case:dn,coalesce:ln,collator:bt,format:ft,image:dt,in:hn,"index-of":pn,interpolate:an,"interpolate-hcl":an,"interpolate-lab":an,length:kn,let:un,literal:ut,match:fn,number:pt,"number-format":Mn,object:pt,slice:mn,step:Ht,string:pt,"to-boolean":vt,"to-color":vt,"to-number":vt,"to-string":vt,var:jt,within:zt};function An(e,t){var n=t[0],r=t[1],i=t[2],o=t[3];n=n.evaluate(e),r=r.evaluate(e),i=i.evaluate(e);var a=o?o.evaluate(e):1,s=ot(n,r,i,a);if(s)throw new ct(s);return new et(n/255*a,r/255*a,i/255*a,a)}function Cn(e,t){return e in t}function Pn(e,t){var n=t[e];return void 0===n?null:n}function On(e){return{type:e}}function Rn(e){return{result:"success",value:e}}function In(e){return{result:"error",value:e}}function Ln(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function Dn(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function zn(e){return!!e.expression&&e.expression.interpolated}function Nn(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Bn(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Fn(e){return e}function jn(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function Un(e,t,n,r,i){return jn(typeof n===i?r[n]:void 0,e.default,t.default)}function Vn(e,t,n){if("number"!==Nn(n))return jn(e.default,t.default);var r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];var i=Vt(e.stops.map((function(e){return e[0]})),n);return e.stops[i][1]}function Hn(e,t,n){var r=void 0!==e.base?e.base:1;if("number"!==Nn(n))return jn(e.default,t.default);var i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];var o=Vt(e.stops.map((function(e){return e[0]})),n),a=function(e,t,n,r){var i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}(n,r,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],l=e.stops[o+1][1],u=Gt[t.type]||Fn;if(e.colorSpace&&"rgb"!==e.colorSpace){var c=on[e.colorSpace];u=function(e,t){return c.reverse(c.interpolate(c.forward(e),c.forward(t),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s.evaluate.apply(void 0,e),r=l.evaluate.apply(void 0,e);if(void 0!==n&&void 0!==r)return u(n,r,a)}}:u(s,l,a)}function Wn(e,t,n){return"color"===t.type?n=et.parse(n):"formatted"===t.type?n=rt.fromString(n.toString()):"resolvedImage"===t.type?n=it.fromString(n.toString()):Nn(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),jn(n,e.default,t.default)}_t.register(Tn,{error:[{kind:"error"},[Fe],function(e,t){throw new ct(t[0].evaluate(e))}],typeof:[Fe,[He],function(e,t){return Xe(st(t[0].evaluate(e)))}],"to-rgba":[Ye(Be,4),[Ue],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[Ue,[Be,Be,Be],An],rgba:[Ue,[Be,Be,Be,Be],An],has:{type:je,overloads:[[[Fe],function(e,t){return Cn(t[0].evaluate(e),e.properties())}],[[Fe,Ve],function(e,t){var n=t[1];return Cn(t[0].evaluate(e),n.evaluate(e))}]]},get:{type:He,overloads:[[[Fe],function(e,t){return Pn(t[0].evaluate(e),e.properties())}],[[Fe,Ve],function(e,t){var n=t[1];return Pn(t[0].evaluate(e),n.evaluate(e))}]]},"feature-state":[He,[Fe],function(e,t){return Pn(t[0].evaluate(e),e.featureState||{})}],properties:[Ve,[],function(e){return e.properties()}],"geometry-type":[Fe,[],function(e){return e.geometryType()}],id:[He,[],function(e){return e.id()}],zoom:[Be,[],function(e){return e.globals.zoom}],"heatmap-density":[Be,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[Be,[],function(e){return e.globals.lineProgress||0}],accumulated:[He,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[Be,On(Be),function(e,t){for(var n=0,r=0,i=t;r<i.length;r+=1)n+=i[r].evaluate(e);return n}],"*":[Be,On(Be),function(e,t){for(var n=1,r=0,i=t;r<i.length;r+=1)n*=i[r].evaluate(e);return n}],"-":{type:Be,overloads:[[[Be,Be],function(e,t){var n=t[1];return t[0].evaluate(e)-n.evaluate(e)}],[[Be],function(e,t){return-t[0].evaluate(e)}]]},"/":[Be,[Be,Be],function(e,t){var n=t[1];return t[0].evaluate(e)/n.evaluate(e)}],"%":[Be,[Be,Be],function(e,t){var n=t[1];return t[0].evaluate(e)%n.evaluate(e)}],ln2:[Be,[],function(){return Math.LN2}],pi:[Be,[],function(){return Math.PI}],e:[Be,[],function(){return Math.E}],"^":[Be,[Be,Be],function(e,t){var n=t[1];return Math.pow(t[0].evaluate(e),n.evaluate(e))}],sqrt:[Be,[Be],function(e,t){return Math.sqrt(t[0].evaluate(e))}],log10:[Be,[Be],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN10}],ln:[Be,[Be],function(e,t){return Math.log(t[0].evaluate(e))}],log2:[Be,[Be],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN2}],sin:[Be,[Be],function(e,t){return Math.sin(t[0].evaluate(e))}],cos:[Be,[Be],function(e,t){return Math.cos(t[0].evaluate(e))}],tan:[Be,[Be],function(e,t){return Math.tan(t[0].evaluate(e))}],asin:[Be,[Be],function(e,t){return Math.asin(t[0].evaluate(e))}],acos:[Be,[Be],function(e,t){return Math.acos(t[0].evaluate(e))}],atan:[Be,[Be],function(e,t){return Math.atan(t[0].evaluate(e))}],min:[Be,On(Be),function(e,t){return Math.min.apply(Math,t.map((function(t){return t.evaluate(e)})))}],max:[Be,On(Be),function(e,t){return Math.max.apply(Math,t.map((function(t){return t.evaluate(e)})))}],abs:[Be,[Be],function(e,t){return Math.abs(t[0].evaluate(e))}],round:[Be,[Be],function(e,t){var n=t[0].evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[Be,[Be],function(e,t){return Math.floor(t[0].evaluate(e))}],ceil:[Be,[Be],function(e,t){return Math.ceil(t[0].evaluate(e))}],"filter-==":[je,[Fe,He],function(e,t){var n=t[0],r=t[1];return e.properties()[n.value]===r.value}],"filter-id-==":[je,[He],function(e,t){var n=t[0];return e.id()===n.value}],"filter-type-==":[je,[Fe],function(e,t){var n=t[0];return e.geometryType()===n.value}],"filter-<":[je,[Fe,He],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i<o}],"filter-id-<":[je,[He],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[je,[Fe,He],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i>o}],"filter-id->":[je,[He],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[je,[Fe,He],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[je,[He],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[je,[Fe,He],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[je,[He],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[je,[He],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[je,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[je,[Ye(Fe)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[je,[Ye(He)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[je,[Fe,Ye(He)],function(e,t){var n=t[0];return t[1].value.indexOf(e.properties()[n.value])>=0}],"filter-in-large":[je,[Fe,Ye(He)],function(e,t){var n=t[0],r=t[1];return function(e,t,n,r){for(;n<=r;){var i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}(e.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:je,overloads:[[[je,je],function(e,t){var n=t[1];return t[0].evaluate(e)&&n.evaluate(e)}],[On(je),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(!r[n].evaluate(e))return!1;return!0}]]},any:{type:je,overloads:[[[je,je],function(e,t){var n=t[1];return t[0].evaluate(e)||n.evaluate(e)}],[On(je),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(r[n].evaluate(e))return!0;return!1}]]},"!":[je,[je],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[je,[Fe],function(e,t){var n=e.globals&&e.globals.isSupportedScript;return!n||n(t[0].evaluate(e))}],upcase:[Fe,[Fe],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[Fe,[Fe],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[Fe,On(He),function(e,t){return t.map((function(t){return lt(t.evaluate(e))})).join("")}],"resolved-locale":[Fe,[We],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var Gn=function(e,t){this.expression=e,this._warningHistory={},this._evaluator=new yt,this._defaultValue=t?function(e){return"color"===e.type&&Bn(e.default)?new et(0,0,0,0):"color"===e.type?et.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null};function qn(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Tn}function Yn(e,t){var n=new Ut(Tn,[],t?function(e){var t={color:Ue,string:Fe,number:Be,enum:Fe,boolean:je,formatted:Ge,resolvedImage:qe};return"array"===e.type?Ye(t[e.value]||He,e.length):t[e.type]}(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return r?Rn(new Gn(r,t)):In(n.errors)}Gn.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,o){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)},Gn.prototype.evaluate=function(e,t,n,r,i,o){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{var a=this.expression.evaluate(this._evaluator);if(null==a||"number"==typeof a&&a!=a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new ct("Expected value to be one of "+Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", ")+", but found "+JSON.stringify(a)+" instead.");return a}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}};var Xn=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!Bt(t.expression)};Xn.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)},Xn.prototype.evaluate=function(e,t,n,r,i,o){return this._styleExpression.evaluate(e,t,n,r,i,o)};var Zn=function(e,t,n,r){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!Bt(t.expression),this.interpolationType=r};function Kn(e,t){if("error"===(e=Yn(e,t)).result)return e;var n=e.value.expression,r=Nt(n);if(!r&&!Ln(t))return In([new De("","data expressions not supported")]);var i=Ft(n,["zoom"]);if(!i&&!Dn(t))return In([new De("","zoom expressions not supported")]);var o=function e(t){var n=null;if(t instanceof un)n=e(t.result);else if(t instanceof ln)for(var r=0,i=t.args;r<i.length&&!(n=e(i[r]));r+=1);else(t instanceof Ht||t instanceof an)&&t.input instanceof _t&&"zoom"===t.input.name&&(n=t);return n instanceof De||t.eachChild((function(t){var r=e(t);r instanceof De?n=r:!n&&r?n=new De("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new De("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n}(n);return o||i?o instanceof De?In([o]):o instanceof an&&!zn(t)?In([new De("",'"interpolate" expressions cannot be used with this property')]):Rn(o?new Zn(r?"camera":"composite",e.value,o.labels,o instanceof an?o.interpolation:void 0):new Xn(r?"constant":"source",e.value)):In([new De("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Zn.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)},Zn.prototype.evaluate=function(e,t,n,r,i,o){return this._styleExpression.evaluate(e,t,n,r,i,o)},Zn.prototype.interpolationFactor=function(e,t,n){return this.interpolationType?an.interpolationFactor(this.interpolationType,e,t,n):0};var Jn=function(e,t){this._parameters=e,this._specification=t,Re(this,function e(t,n){var r,i,o,a="color"===n.type,s=t.stops&&"object"==typeof t.stops[0][0],l=s||!(s||void 0!==t.property),u=t.type||(zn(n)?"exponential":"interval");if(a&&((t=Re({},t)).stops&&(t.stops=t.stops.map((function(e){return[e[0],et.parse(e[1])]}))),t.default=et.parse(t.default?t.default:n.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!on[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===u)r=Hn;else if("interval"===u)r=Vn;else if("categorical"===u){r=Un,i=Object.create(null);for(var c=0,h=t.stops;c<h.length;c+=1){var p=h[c];i[p[0]]=p[1]}o=typeof t.stops[0][0]}else{if("identity"!==u)throw new Error('Unknown function type "'+u+'"');r=Wn}if(s){for(var f={},d=[],m=0;m<t.stops.length;m++){var v=t.stops[m],g=v[0].zoom;void 0===f[g]&&(f[g]={zoom:g,type:t.type,property:t.property,default:t.default,stops:[]},d.push(g)),f[g].stops.push([v[0].value,v[1]])}for(var y=[],_=0,b=d;_<b.length;_+=1){var x=b[_];y.push([f[x].zoom,e(f[x],n)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:an.interpolationFactor.bind(void 0,w),zoomStops:y.map((function(e){return e[0]})),evaluate:function(e,r){var i=e.zoom;return Hn({stops:y,base:t.base},n,i).evaluate(i,r)}}}if(l){var S="exponential"===u?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:S,interpolationFactor:an.interpolationFactor.bind(void 0,S),zoomStops:t.stops.map((function(e){return e[0]})),evaluate:function(e){return r(t,n,e.zoom,i,o)}}}return{kind:"source",evaluate:function(e,a){var s=a&&a.properties?a.properties[t.property]:void 0;return void 0===s?jn(t.default,n.default):r(t,n,s,i,o)}}}(this._parameters,this._specification))};function Qn(e){var t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,a=e.styleSpec,s=[],l=Nn(n);if("object"!==l)return[new Pe(t,n,"object expected, "+l+" found")];for(var u in n){var c=u.split(".")[0],h=r[c]||r["*"],p=void 0;if(i[c])p=i[c];else if(r[c])p=Sr;else if(i["*"])p=i["*"];else{if(!r["*"]){s.push(new Pe(t,n[u],'unknown property "'+u+'"'));continue}p=Sr}s=s.concat(p({key:(t?t+".":t)+u,value:n[u],valueSpec:h,style:o,styleSpec:a,object:n,objectKey:u},n))}for(var f in r)i[f]||r[f].required&&void 0===r[f].default&&void 0===n[f]&&s.push(new Pe(t,n,'missing required property "'+f+'"'));return s}function $n(e){var t=e.value,n=e.valueSpec,r=e.style,i=e.styleSpec,o=e.key,a=e.arrayElementValidator||Sr;if("array"!==Nn(t))return[new Pe(o,t,"array expected, "+Nn(t)+" found")];if(n.length&&t.length!==n.length)return[new Pe(o,t,"array length "+n.length+" expected, length "+t.length+" found")];if(n["min-length"]&&t.length<n["min-length"])return[new Pe(o,t,"array length at least "+n["min-length"]+" expected, length "+t.length+" found")];var s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),"object"===Nn(n.value)&&(s=n.value);for(var l=[],u=0;u<t.length;u++)l=l.concat(a({array:t,arrayIndex:u,value:t[u],valueSpec:s,style:r,styleSpec:i,key:o+"["+u+"]"}));return l}function er(e){var t=e.key,n=e.value,r=e.valueSpec,i=Nn(n);return"number"===i&&n!=n&&(i="NaN"),"number"!==i?[new Pe(t,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new Pe(t,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new Pe(t,n,n+" is greater than the maximum value "+r.maximum)]:[]}function tr(e){var t,n,r,i=e.valueSpec,o=Ie(e.value.type),a={},s="categorical"!==o&&void 0===e.value.property,l=!s,u="array"===Nn(e.value.stops)&&"array"===Nn(e.value.stops[0])&&"object"===Nn(e.value.stops[0][0]),c=Qn({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===o)return[new Pe(e.key,e.value,'identity function may not have a "stops" property')];var t=[],n=e.value;return t=t.concat($n({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:h})),"array"===Nn(n)&&0===n.length&&t.push(new Pe(e.key,n,"array must have at least one stop")),t},default:function(e){return Sr({key:e.key,value:e.value,valueSpec:i,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===o&&s&&c.push(new Pe(e.key,e.value,'missing required property "property"')),"identity"===o||e.value.stops||c.push(new Pe(e.key,e.value,'missing required property "stops"')),"exponential"===o&&e.valueSpec.expression&&!zn(e.valueSpec)&&c.push(new Pe(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!Ln(e.valueSpec)?c.push(new Pe(e.key,e.value,"property functions not supported")):s&&!Dn(e.valueSpec)&&c.push(new Pe(e.key,e.value,"zoom functions not supported"))),"categorical"!==o&&!u||void 0!==e.value.property||c.push(new Pe(e.key,e.value,'"property" property is required')),c;function h(e){var t=[],o=e.value,s=e.key;if("array"!==Nn(o))return[new Pe(s,o,"array expected, "+Nn(o)+" found")];if(2!==o.length)return[new Pe(s,o,"array length 2 expected, length "+o.length+" found")];if(u){if("object"!==Nn(o[0]))return[new Pe(s,o,"object expected, "+Nn(o[0])+" found")];if(void 0===o[0].zoom)return[new Pe(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new Pe(s,o,"object stop key must have value")];if(r&&r>Ie(o[0].zoom))return[new Pe(s,o[0].zoom,"stop zoom values must appear in ascending order")];Ie(o[0].zoom)!==r&&(r=Ie(o[0].zoom),n=void 0,a={}),t=t.concat(Qn({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:er,value:p}}))}else t=t.concat(p({key:s+"[0]",value:o[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},o));return qn(Le(o[1]))?t.concat([new Pe(s+"[1]",o[1],"expressions are not allowed in function stops.")]):t.concat(Sr({key:s+"[1]",value:o[1],valueSpec:i,style:e.style,styleSpec:e.styleSpec}))}function p(e,r){var s=Nn(e.value),l=Ie(e.value),u=null!==e.value?e.value:r;if(t){if(s!==t)return[new Pe(e.key,u,s+" stop domain type must match previous stop domain type "+t)]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Pe(e.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var c="number expected, "+s+" found";return Ln(i)&&void 0===o&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Pe(e.key,u,c)]}return"categorical"!==o||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==o&&"number"===s&&void 0!==n&&l<n?[new Pe(e.key,u,"stop domain values must appear in ascending order")]:(n=l,"categorical"===o&&l in a?[new Pe(e.key,u,"stop domain values must be unique")]:(a[l]=!0,[])):[new Pe(e.key,u,"integer expected, found "+l)]}}function nr(e){var t=("property"===e.expressionContext?Kn:Yn)(Le(e.value),e.valueSpec);if("error"===t.result)return t.value.map((function(t){return new Pe(""+e.key+t.key,e.value,t.message)}));var n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new Pe(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===e.expressionContext&&"layout"===e.propertyType&&!Bt(n))return[new Pe(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!Bt(n))return[new Pe(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!Ft(n,["zoom","feature-state"]))return[new Pe(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!Nt(n))return[new Pe(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function rr(e){var t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(Ie(n))&&i.push(new Pe(t,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(Ie(n))&&i.push(new Pe(t,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function ir(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,n=e.slice(1);t<n.length;t+=1){var r=n[t];if(!ir(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}Jn.deserialize=function(e){return new Jn(e._parameters,e._specification)},Jn.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var or={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ar(e){if(null==e)return{filter:function(){return!0},needGeometry:!1};ir(e)||(e=lr(e));var t=Yn(e,or);if("error"===t.result)throw new Error(t.value.map((function(e){return e.key+": "+e.message})).join(", "));return{filter:function(e,n,r){return t.value.evaluate(e,n,{},r)},needGeometry:function e(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(var n=1;n<t.length;n++)if(e(t[n]))return!0;return!1}(e)}}function sr(e,t){return e<t?-1:e>t?1:0}function lr(e){if(!e)return!0;var t,n=e[0];return e.length<=1?"any"!==n:"=="===n?ur(e[1],e[2],"=="):"!="===n?pr(ur(e[1],e[2],"==")):"<"===n||">"===n||"<="===n||">="===n?ur(e[1],e[2],n):"any"===n?(t=e.slice(1),["any"].concat(t.map(lr))):"all"===n?["all"].concat(e.slice(1).map(lr)):"none"===n?["all"].concat(e.slice(1).map(lr).map(pr)):"in"===n?cr(e[1],e.slice(2)):"!in"===n?pr(cr(e[1],e.slice(2))):"has"===n?hr(e[1]):"!has"===n?pr(hr(e[1])):"within"!==n||e}function ur(e,t,n){switch(e){case"$type":return["filter-type-"+n,t];case"$id":return["filter-id-"+n,t];default:return["filter-"+n,e,t]}}function cr(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(sr)]]:["filter-in-small",e,["literal",t]]}}function hr(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function pr(e){return["!",e]}function fr(e){return ir(Le(e.value))?nr(Re({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){var n=t.value,r=t.key;if("array"!==Nn(n))return[new Pe(r,n,"array expected, "+Nn(n)+" found")];var i,o=t.styleSpec,a=[];if(n.length<1)return[new Pe(r,n,"filter array must have at least 1 element")];switch(a=a.concat(rr({key:r+"[0]",value:n[0],valueSpec:o.filter_operator,style:t.style,styleSpec:t.styleSpec})),Ie(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===Ie(n[1])&&a.push(new Pe(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new Pe(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(i=Nn(n[1]))&&a.push(new Pe(r+"[1]",n[1],"string expected, "+i+" found"));for(var s=2;s<n.length;s++)i=Nn(n[s]),"$type"===Ie(n[1])?a=a.concat(rr({key:r+"["+s+"]",value:n[s],valueSpec:o.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new Pe(r+"["+s+"]",n[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var l=1;l<n.length;l++)a=a.concat(e({key:r+"["+l+"]",value:n[l],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":i=Nn(n[1]),2!==n.length?a.push(new Pe(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new Pe(r+"[1]",n[1],"string expected, "+i+" found"));break;case"within":i=Nn(n[1]),2!==n.length?a.push(new Pe(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"object"!==i&&a.push(new Pe(r+"[1]",n[1],"object expected, "+i+" found"))}return a}(e)}function dr(e,t){var n=e.key,r=e.style,i=e.styleSpec,o=e.value,a=e.objectKey,s=i[t+"_"+e.layerType];if(!s)return[];var l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return Sr({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});var u,c=e.valueSpec||s[a];if(!c)return[new Pe(n,o,'unknown property "'+a+'"')];if("string"===Nn(o)&&Ln(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new Pe(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(u[1])+" }`.")];var h=[];return"symbol"===e.layerType&&("text-field"===a&&r&&!r.glyphs&&h.push(new Pe(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&Bn(Le(o))&&"identity"===Ie(o.type)&&h.push(new Pe(n,o,'"text-font" does not support identity functions'))),h.concat(Sr({key:e.key,value:o,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:a}))}function mr(e){return dr(e,"paint")}function vr(e){return dr(e,"layout")}function gr(e){var t=[],n=e.value,r=e.key,i=e.style,o=e.styleSpec;n.type||n.ref||t.push(new Pe(r,n,'either "type" or "ref" is required'));var a,s=Ie(n.type),l=Ie(n.ref);if(n.id)for(var u=Ie(n.id),c=0;c<e.arrayIndex;c++){var h=i.layers[c];Ie(h.id)===u&&t.push(new Pe(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+h.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(e){e in n&&t.push(new Pe(r,n[e],'"'+e+'" is prohibited for ref layers'))})),i.layers.forEach((function(e){Ie(e.id)===l&&(a=e)})),a?a.ref?t.push(new Pe(r,n.ref,"ref cannot reference another ref layer")):s=Ie(a.type):t.push(new Pe(r,n.ref,'ref layer "'+l+'" not found'));else if("background"!==s)if(n.source){var p=i.sources&&i.sources[n.source],f=p&&Ie(p.type);p?"vector"===f&&"raster"===s?t.push(new Pe(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===f&&"raster"!==s?t.push(new Pe(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==f||n["source-layer"]?"raster-dem"===f&&"hillshade"!==s?t.push(new Pe(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===f&&p.lineMetrics||t.push(new Pe(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new Pe(r,n,'layer "'+n.id+'" must specify a "source-layer"')):t.push(new Pe(r,n.source,'source "'+n.source+'" not found'))}else t.push(new Pe(r,n,'missing required property "source"'));return t=t.concat(Qn({key:r,value:n,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Sr({key:r+".type",value:n.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"})},filter:fr,layout:function(e){return Qn({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return vr(Re({layerType:s},e))}}})},paint:function(e){return Qn({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return mr(Re({layerType:s},e))}}})}}}))}function yr(e){var t=e.value,n=e.key,r=Nn(t);return"string"!==r?[new Pe(n,t,"string expected, "+r+" found")]:[]}var _r={promoteId:function(e){var t=e.key,n=e.value;if("string"===Nn(n))return yr({key:t,value:n});var r=[];for(var i in n)r.push.apply(r,yr({key:t+"."+i,value:n[i]}));return r}};function br(e){var t=e.value,n=e.key,r=e.styleSpec,i=e.style;if(!t.type)return[new Pe(n,t,'"type" is required')];var o,a=Ie(t.type);switch(a){case"vector":case"raster":case"raster-dem":return Qn({key:n,value:t,valueSpec:r["source_"+a.replace("-","_")],style:e.style,styleSpec:r,objectElementValidators:_r});case"geojson":if(o=Qn({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:_r}),t.cluster)for(var s in t.clusterProperties){var l=t.clusterProperties[s],u=l[0],c="string"==typeof u?[u,["accumulated"],["get",s]]:u;o.push.apply(o,nr({key:n+"."+s+".map",value:l[1],expressionContext:"cluster-map"})),o.push.apply(o,nr({key:n+"."+s+".reduce",value:c,expressionContext:"cluster-reduce"}))}return o;case"video":return Qn({key:n,value:t,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return Qn({key:n,value:t,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new Pe(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return rr({key:n+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function xr(e){var t=e.value,n=e.styleSpec,r=n.light,i=e.style,o=[],a=Nn(t);if(void 0===t)return o;if("object"!==a)return o.concat([new Pe("light",t,"object expected, "+a+" found")]);for(var s in t){var l=s.match(/^(.*)-transition$/);o=o.concat(l&&r[l[1]]&&r[l[1]].transition?Sr({key:s,value:t[s],valueSpec:n.transition,style:i,styleSpec:n}):r[s]?Sr({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n}):[new Pe(s,t[s],'unknown property "'+s+'"')])}return o}var wr={"*":function(){return[]},array:$n,boolean:function(e){var t=e.value,n=e.key,r=Nn(t);return"boolean"!==r?[new Pe(n,t,"boolean expected, "+r+" found")]:[]},number:er,color:function(e){var t=e.key,n=e.value,r=Nn(n);return"string"!==r?[new Pe(t,n,"color expected, "+r+" found")]:null===$e(n)?[new Pe(t,n,'color expected, "'+n+'" found')]:[]},constants:Oe,enum:rr,filter:fr,function:tr,layer:gr,object:Qn,source:br,light:xr,string:yr,formatted:function(e){return 0===yr(e).length?[]:nr(e)},resolvedImage:function(e){return 0===yr(e).length?[]:nr(e)}};function Sr(e){var t=e.value,n=e.valueSpec,r=e.styleSpec;return n.expression&&Bn(Ie(t))?tr(e):n.expression&&qn(Le(t))?nr(e):n.type&&wr[n.type]?wr[n.type](e):Qn(Re({},e,{valueSpec:n.type?r[n.type]:n}))}function Er(e){var t=e.value,n=e.key,r=yr(e);return r.length||(-1===t.indexOf("{fontstack}")&&r.push(new Pe(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&r.push(new Pe(n,t,'"glyphs" url must include a "{range}" token'))),r}function Mr(e,t){void 0===t&&(t=Ce);var n=[];return n=n.concat(Sr({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Er,"*":function(){return[]}}})),e.constants&&(n=n.concat(Oe({key:"constants",value:e.constants,style:e,styleSpec:t}))),kr(n)}function kr(e){return[].concat(e).sort((function(e,t){return e.line-t.line}))}function Tr(e){return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return kr(e.apply(this,t))}}Mr.source=Tr(br),Mr.light=Tr(xr),Mr.layer=Tr(gr),Mr.filter=Tr(fr),Mr.paintProperty=Tr(mr),Mr.layoutProperty=Tr(vr);var Ar=Mr,Cr=Ar.light,Pr=Ar.paintProperty,Or=Ar.layoutProperty;function Rr(e,t){var n=!1;if(t&&t.length)for(var r=0,i=t;r<i.length;r+=1)e.fire(new Te(new Error(i[r].message))),n=!0;return n}var Ir=Lr;function Lr(e,t,n){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(n=i[2]);for(var o=0;o<this.d*this.d;o++){var a=i[3+o],s=i[3+o+1];r.push(a===s?null:i.subarray(a,s))}var l=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var u=0;u<this.d*this.d;u++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var c=n/t*e;this.min=-c,this.max=e+c}Lr.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Lr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Lr.prototype._insertCell=function(e,t,n,r,i,o){this.cells[i].push(o)},Lr.prototype.query=function(e,t,n,r,i){var o=this.min,a=this.max;if(e<=o&&t<=o&&a<=n&&a<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,r,this._queryCell,s,{},i),s},Lr.prototype._queryCell=function(e,t,n,r,i,o,a,s){var l=this.cells[i];if(null!==l)for(var u=this.keys,c=this.bboxes,h=0;h<l.length;h++){var p=l[h];if(void 0===a[p]){var f=4*p;(s?s(c[f+0],c[f+1],c[f+2],c[f+3]):e<=c[f+2]&&t<=c[f+3]&&n>=c[f+0]&&r>=c[f+1])?(a[p]=!0,o.push(u[p])):a[p]=!1}}},Lr.prototype._forEachCell=function(e,t,n,r,i,o,a,s){for(var l=this._convertToCellCoord(e),u=this._convertToCellCoord(t),c=this._convertToCellCoord(n),h=this._convertToCellCoord(r),p=l;p<=c;p++)for(var f=u;f<=h;f++){var d=this.d*f+p;if((!s||s(this._convertFromCellCoord(p),this._convertFromCellCoord(f),this._convertFromCellCoord(p+1),this._convertFromCellCoord(f+1)))&&i.call(this,e,t,n,r,d,o,a,s))return}},Lr.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},Lr.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},Lr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(t+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=t,a=0;a<e.length;a++){var s=e[a];i[3+a]=o,i.set(s,o),o+=s.length}return i[3+e.length]=o,i.set(this.keys,o),i[3+e.length+1]=o+=this.keys.length,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};var Dr=a.ImageData,zr=a.ImageBitmap,Nr={};function Br(e,t,n){void 0===n&&(n={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),Nr[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}for(var Fr in Br("Object",Object),Ir.serialize=function(e,t){var n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}},Ir.deserialize=function(e){return new Ir(e.buffer)},Br("Grid",Ir),Br("Color",et),Br("Error",Error),Br("ResolvedImage",it),Br("StylePropertyFunction",Jn),Br("StyleExpression",Gn,{omit:["_evaluator"]}),Br("ZoomDependentExpression",Zn),Br("ZoomConstantExpression",Xn),Br("CompoundExpression",_t,{omit:["_evaluate"]}),Tn)Tn[Fr]._classRegistryKey||Br("Expression_"+Fr,Tn[Fr]);function jr(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Ur(e){return zr&&e instanceof zr}function Vr(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(jr(e)||Ur(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var n=e;return t&&t.push(n.buffer),n}if(e instanceof Dr)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var r=[],i=0,o=e;i<o.length;i+=1)r.push(Vr(o[i],t));return r}if("object"==typeof e){var a=e.constructor,s=a._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");var l=a.serialize?a.serialize(e,t):{};if(!a.serialize){for(var u in e)if(e.hasOwnProperty(u)&&!(Nr[s].omit.indexOf(u)>=0)){var c=e[u];l[u]=Nr[s].shallow.indexOf(u)>=0?c:Vr(c,t)}e instanceof Error&&(l.message=e.message)}if(l.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(l.$name=s),l}throw new Error("can't serialize object of type "+typeof e)}function Hr(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||jr(e)||Ur(e)||ArrayBuffer.isView(e)||e instanceof Dr)return e;if(Array.isArray(e))return e.map(Hr);if("object"==typeof e){var t=e.$name||"Object",n=Nr[t].klass;if(!n)throw new Error("can't deserialize unregistered class "+t);if(n.deserialize)return n.deserialize(e);for(var r=Object.create(n.prototype),i=0,o=Object.keys(e);i<o.length;i+=1){var a=o[i];if("$name"!==a){var s=e[a];r[a]=Nr[t].shallow.indexOf(a)>=0?s:Hr(s)}}return r}throw new Error("can't deserialize object of type "+typeof e)}var Wr=function(){this.first=!0};Wr.prototype.update=function(e,t){var n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))};var Gr={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function qr(e){for(var t=0,n=e;t<n.length;t+=1)if(Yr(n[t].charCodeAt(0)))return!0;return!1}function Yr(e){return!(746!==e&&747!==e&&(e<4352||!(Gr["Bopomofo Extended"](e)||Gr.Bopomofo(e)||Gr["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||Gr["CJK Compatibility Ideographs"](e)||Gr["CJK Compatibility"](e)||Gr["CJK Radicals Supplement"](e)||Gr["CJK Strokes"](e)||!(!Gr["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Gr["CJK Unified Ideographs Extension A"](e)||Gr["CJK Unified Ideographs"](e)||Gr["Enclosed CJK Letters and Months"](e)||Gr["Hangul Compatibility Jamo"](e)||Gr["Hangul Jamo Extended-A"](e)||Gr["Hangul Jamo Extended-B"](e)||Gr["Hangul Jamo"](e)||Gr["Hangul Syllables"](e)||Gr.Hiragana(e)||Gr["Ideographic Description Characters"](e)||Gr.Kanbun(e)||Gr["Kangxi Radicals"](e)||Gr["Katakana Phonetic Extensions"](e)||Gr.Katakana(e)&&12540!==e||!(!Gr["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Gr["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||Gr["Unified Canadian Aboriginal Syllabics"](e)||Gr["Unified Canadian Aboriginal Syllabics Extended"](e)||Gr["Vertical Forms"](e)||Gr["Yijing Hexagram Symbols"](e)||Gr["Yi Syllables"](e)||Gr["Yi Radicals"](e))))}function Xr(e){return!(Yr(e)||function(e){return!!(Gr["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||Gr["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||Gr["Letterlike Symbols"](e)||Gr["Number Forms"](e)||Gr["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||Gr["Control Pictures"](e)&&9251!==e||Gr["Optical Character Recognition"](e)||Gr["Enclosed Alphanumerics"](e)||Gr["Geometric Shapes"](e)||Gr["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||Gr["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Gr["CJK Symbols and Punctuation"](e)||Gr.Katakana(e)||Gr["Private Use Area"](e)||Gr["CJK Compatibility Forms"](e)||Gr["Small Form Variants"](e)||Gr["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function Zr(e){return e>=1424&&e<=2303||Gr["Arabic Presentation Forms-A"](e)||Gr["Arabic Presentation Forms-B"](e)}function Kr(e,t){return!(!t&&Zr(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||Gr.Khmer(e))}function Jr(e){for(var t=0,n=e;t<n.length;t+=1)if(Zr(n[t].charCodeAt(0)))return!0;return!1}var Qr=null,$r="unavailable",ei=null,ti=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&($r="error"),Qr&&Qr(e)};function ni(){ri.fire(new ke("pluginStateChange",{pluginStatus:$r,pluginURL:ei}))}var ri=new Ae,ii=function(){return $r},oi=function(){if("deferred"!==$r||!ei)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");$r="loading",ni(),ei&&be({url:ei},(function(e){e?ti(e):($r="loaded",ni())}))},ai={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===$r||null!=ai.applyArabicShaping},isLoading:function(){return"loading"===$r},setState:function(e){$r=e.pluginStatus,ei=e.pluginURL},isParsed:function(){return null!=ai.applyArabicShaping&&null!=ai.processBidirectionalText&&null!=ai.processStyledBidirectionalText},getPluginURL:function(){return ei}},si=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Wr,this.transition={})};si.prototype.isSupportedScript=function(e){return function(e,t){for(var n=0,r=e;n<r.length;n+=1)if(!Kr(r[n].charCodeAt(0),t))return!1;return!0}(e,ai.isLoaded())},si.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},si.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}};var li=function(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(Bn(e))return new Jn(e,t);if(qn(e)){var n=Kn(e,t);if("error"===n.result)throw new Error(n.value.map((function(e){return e.key+": "+e.message})).join(", "));return n.value}var r=e;return"string"==typeof e&&"color"===t.type&&(r=et.parse(e)),{kind:"constant",evaluate:function(){return r}}}(void 0===t?e.specification.default:t,e.specification)};li.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},li.prototype.possiblyEvaluate=function(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)};var ui=function(e){this.property=e,this.value=new li(e,void 0)};ui.prototype.transitioned=function(e,t){return new hi(this.property,this.value,t,p({},e.transition,this.transition),e.now)},ui.prototype.untransitioned=function(){return new hi(this.property,this.value,null,{},0)};var ci=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};ci.prototype.getValue=function(e){return x(this._values[e].value.value)},ci.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new ui(this._values[e].property)),this._values[e].value=new li(this._values[e].property,null===t?void 0:x(t))},ci.prototype.getTransition=function(e){return x(this._values[e].transition)},ci.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new ui(this._values[e].property)),this._values[e].transition=x(t)||void 0},ci.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i);var o=this.getTransition(r);void 0!==o&&(e[r+"-transition"]=o)}return e},ci.prototype.transitioned=function(e,t){for(var n=new pi(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].transitioned(e,t._values[o])}return n},ci.prototype.untransitioned=function(){for(var e=new pi(this._properties),t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t];e._values[r]=this._values[r].untransitioned()}return e};var hi=function(e,t,n,r,i){this.property=e,this.value=t,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,e.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};hi.prototype.possiblyEvaluate=function(e,t,n){var r=e.now||0,i=this.value.possiblyEvaluate(e,t,n),o=this.prior;if(o){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return o.possiblyEvaluate(e,t,n);var a=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,n),i,function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}(a))}return i};var pi=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};pi.prototype.possiblyEvaluate=function(e,t,n){for(var r=new mi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(e,t,n)}return r},pi.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1)if(this._values[t[e]].prior)return!0;return!1};var fi=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};fi.prototype.getValue=function(e){return x(this._values[e].value)},fi.prototype.setValue=function(e,t){this._values[e]=new li(this._values[e].property,null===t?void 0:x(t))},fi.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i)}return e},fi.prototype.possiblyEvaluate=function(e,t,n){for(var r=new mi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(e,t,n)}return r};var di=function(e,t,n){this.property=e,this.value=t,this.parameters=n};di.prototype.isConstant=function(){return"constant"===this.value.kind},di.prototype.constantOr=function(e){return"constant"===this.value.kind?this.value.value:e},di.prototype.evaluate=function(e,t,n,r){return this.property.evaluate(this.value,this.parameters,e,t,n,r)};var mi=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};mi.prototype.get=function(e){return this._values[e]};var vi=function(e){this.specification=e};vi.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},vi.prototype.interpolate=function(e,t,n){var r=Gt[this.specification.type];return r?r(e,t,n):e};var gi=function(e,t){this.specification=e,this.overrides=t};gi.prototype.possiblyEvaluate=function(e,t,n,r){return new di(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,r)}:e.expression,t)},gi.prototype.interpolate=function(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new di(this,{kind:"constant",value:void 0},e.parameters);var r=Gt[this.specification.type];return r?new di(this,{kind:"constant",value:r(e.value.value,t.value.value,n)},e.parameters):e},gi.prototype.evaluate=function(e,t,n,r,i,o){return"constant"===e.kind?e.value:e.evaluate(t,n,r,i,o)};var yi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(e,t,n,r){if(void 0===e.value)return new di(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},n,r),o="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(o,o,o,t);return new di(this,{kind:"constant",value:a},t)}if("camera"===e.expression.kind){var s=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new di(this,{kind:"constant",value:s},t)}return new di(this,e.expression,t)},t.prototype.evaluate=function(e,t,n,r,i,o){if("source"===e.kind){var a=e.evaluate(t,n,r,i,o);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,r),e.evaluate({zoom:Math.floor(t.zoom)},n,r),e.evaluate({zoom:Math.floor(t.zoom)+1},n,r),t):e.value},t.prototype._calculate=function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},t.prototype.interpolate=function(e){return e},t}(gi),_i=function(e){this.specification=e};_i.prototype.possiblyEvaluate=function(e,t,n,r){if(void 0!==e.value){if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},n,r);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new si(Math.floor(t.zoom-1),t)),e.expression.evaluate(new si(Math.floor(t.zoom),t)),e.expression.evaluate(new si(Math.floor(t.zoom+1),t)),t)}},_i.prototype._calculate=function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},_i.prototype.interpolate=function(e){return e};var bi=function(e){this.specification=e};bi.prototype.possiblyEvaluate=function(e,t,n,r){return!!e.expression.evaluate(t,null,{},n,r)},bi.prototype.interpolate=function(){return!1};var xi=function(e){for(var t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],e){var n=e[t];n.specification.overridable&&this.overridableProperties.push(t);var r=this.defaultPropertyValues[t]=new li(n,void 0),i=this.defaultTransitionablePropertyValues[t]=new ui(n);this.defaultTransitioningPropertyValues[t]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=r.possiblyEvaluate({})}};Br("DataDrivenProperty",gi),Br("DataConstantProperty",vi),Br("CrossFadedDataDrivenProperty",yi),Br("CrossFadedProperty",_i),Br("ColorRampProperty",bi);var wi=function(e){function t(t,n){if(e.call(this),this.id=t.id,this.type=t.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==t.type&&(this.metadata=(t=t).metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),n.layout&&(this._unevaluatedLayout=new fi(n.layout)),n.paint)){for(var r in this._transitionablePaint=new ci(n.paint),t.paint)this.setPaintProperty(r,t.paint[r],{validate:!1});for(var i in t.layout)this.setLayoutProperty(i,t.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new mi(n.paint)}}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,n){void 0===n&&(n={}),null!=t&&this._validate(Or,"layers."+this.id+".layout."+e,e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)},t.prototype.getPaintProperty=function(e){return y(e,"-transition")?this._transitionablePaint.getTransition(e.slice(0,-"-transition".length)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,n){if(void 0===n&&(n={}),null!=t&&this._validate(Pr,"layers."+this.id+".paint."+e,e,t,n))return!1;if(y(e,"-transition"))return this._transitionablePaint.setTransition(e.slice(0,-"-transition".length),t||void 0),!1;var r=this._transitionablePaint._values[e],i="cross-faded-data-driven"===r.property.specification["property-type"],o=r.value.isDataDriven(),a=r.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var s=this._transitionablePaint._values[e].value;return s.isDataDriven()||o||i||this._handleOverridablePaintPropertyUpdate(e,a,s)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){},t.prototype._handleOverridablePaintPropertyUpdate=function(e,t,n){return!1},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),b(e,(function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)}))},t.prototype._validate=function(e,t,n,r,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&Rr(this,e.call(Ar,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:Ce,style:{glyphs:!0,sprite:!0}}))},t.prototype.is3D=function(){return!1},t.prototype.isTileClipped=function(){return!1},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof di&&Ln(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1},t}(Ae),Si={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ei=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Mi=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function ki(e,t){void 0===t&&(t=1);var n=0,r=0;return{members:e.map((function(e){var i=Si[e.type].BYTES_PER_ELEMENT,o=n=Ti(n,Math.max(t,i)),a=e.components||1;return r=Math.max(r,i),n+=i*a,{name:e.name,type:e.type,components:a,offset:o}})),size:Ti(n,Math.max(r,t)),alignment:t}}function Ti(e,t){return Math.ceil(e/t)*t}Mi.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},Mi.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},Mi.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Mi.prototype.clear=function(){this.length=0},Mi.prototype.resize=function(e){this.reserve(e),this.length=e},Mi.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},Mi.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Ai=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.int16[r+0]=t,this.int16[r+1]=n,e},t}(Mi);Ai.prototype.bytesPerElement=4,Br("StructArrayLayout2i4",Ai);var Ci=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var o=4*e;return this.int16[o+0]=t,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,e},t}(Mi);Ci.prototype.bytesPerElement=8,Br("StructArrayLayout4i8",Ci);var Pi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)},t.prototype.emplace=function(e,t,n,r,i,o,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e},t}(Mi);Pi.prototype.bytesPerElement=12,Br("StructArrayLayout2i4i12",Pi);var Oi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)},t.prototype.emplace=function(e,t,n,r,i,o,a){var s=4*e,l=8*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.uint8[l+4]=r,this.uint8[l+5]=i,this.uint8[l+6]=o,this.uint8[l+7]=a,e},t}(Mi);Oi.prototype.bytesPerElement=8,Br("StructArrayLayout2i4ub8",Oi);var Ri=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.float32[r+0]=t,this.float32[r+1]=n,e},t}(Mi);Ri.prototype.bytesPerElement=8,Br("StructArrayLayout2f8",Ri);var Ii=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,l,u){var c=this.length;return this.resize(c+1),this.emplace(c,e,t,n,r,i,o,a,s,l,u)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,l,u,c){var h=10*e;return this.uint16[h+0]=t,this.uint16[h+1]=n,this.uint16[h+2]=r,this.uint16[h+3]=i,this.uint16[h+4]=o,this.uint16[h+5]=a,this.uint16[h+6]=s,this.uint16[h+7]=l,this.uint16[h+8]=u,this.uint16[h+9]=c,e},t}(Mi);Ii.prototype.bytesPerElement=20,Br("StructArrayLayout10ui20",Ii);var Li=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,l,u,c,h){var p=this.length;return this.resize(p+1),this.emplace(p,e,t,n,r,i,o,a,s,l,u,c,h)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,l,u,c,h,p){var f=12*e;return this.int16[f+0]=t,this.int16[f+1]=n,this.int16[f+2]=r,this.int16[f+3]=i,this.uint16[f+4]=o,this.uint16[f+5]=a,this.uint16[f+6]=s,this.uint16[f+7]=l,this.int16[f+8]=u,this.int16[f+9]=c,this.int16[f+10]=h,this.int16[f+11]=p,e},t}(Mi);Li.prototype.bytesPerElement=24,Br("StructArrayLayout4i4ui4i24",Li);var Di=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.float32[i+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,e},t}(Mi);Di.prototype.bytesPerElement=12,Br("StructArrayLayout3f12",Di);var zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint32[1*e+0]=t,e},t}(Mi);zi.prototype.bytesPerElement=4,Br("StructArrayLayout1ul4",zi);var Ni=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,l){var u=this.length;return this.resize(u+1),this.emplace(u,e,t,n,r,i,o,a,s,l)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,l,u){var c=10*e,h=5*e;return this.int16[c+0]=t,this.int16[c+1]=n,this.int16[c+2]=r,this.int16[c+3]=i,this.int16[c+4]=o,this.int16[c+5]=a,this.uint32[h+3]=s,this.uint16[c+8]=l,this.uint16[c+9]=u,e},t}(Mi);Ni.prototype.bytesPerElement=20,Br("StructArrayLayout6i1ul2ui20",Ni);var Bi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)},t.prototype.emplace=function(e,t,n,r,i,o,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e},t}(Mi);Bi.prototype.bytesPerElement=12,Br("StructArrayLayout2i2i2i12",Bi);var Fi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i)},t.prototype.emplace=function(e,t,n,r,i,o){var a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,this.int16[s+6]=i,this.int16[s+7]=o,e},t}(Mi);Fi.prototype.bytesPerElement=16,Br("StructArrayLayout2f1f2i16",Fi);var ji=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var o=12*e,a=3*e;return this.uint8[o+0]=t,this.uint8[o+1]=n,this.float32[a+1]=r,this.float32[a+2]=i,e},t}(Mi);ji.prototype.bytesPerElement=12,Br("StructArrayLayout2ub2f12",ji);var Ui=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,this.uint16[i+2]=r,e},t}(Mi);Ui.prototype.bytesPerElement=6,Br("StructArrayLayout3ui6",Ui);var Vi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,l,u,c,h,p,f,d,m,v){var g=this.length;return this.resize(g+1),this.emplace(g,e,t,n,r,i,o,a,s,l,u,c,h,p,f,d,m,v)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,l,u,c,h,p,f,d,m,v,g){var y=24*e,_=12*e,b=48*e;return this.int16[y+0]=t,this.int16[y+1]=n,this.uint16[y+2]=r,this.uint16[y+3]=i,this.uint32[_+2]=o,this.uint32[_+3]=a,this.uint32[_+4]=s,this.uint16[y+10]=l,this.uint16[y+11]=u,this.uint16[y+12]=c,this.float32[_+7]=h,this.float32[_+8]=p,this.uint8[b+36]=f,this.uint8[b+37]=d,this.uint8[b+38]=m,this.uint32[_+10]=v,this.int16[y+22]=g,e},t}(Mi);Vi.prototype.bytesPerElement=48,Br("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Vi);var Hi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,l,u,c,h,p,f,d,m,v,g,y,_,b,x,w,S,E,M,k,T){var A=this.length;return this.resize(A+1),this.emplace(A,e,t,n,r,i,o,a,s,l,u,c,h,p,f,d,m,v,g,y,_,b,x,w,S,E,M,k,T)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,l,u,c,h,p,f,d,m,v,g,y,_,b,x,w,S,E,M,k,T,A){var C=34*e,P=17*e;return this.int16[C+0]=t,this.int16[C+1]=n,this.int16[C+2]=r,this.int16[C+3]=i,this.int16[C+4]=o,this.int16[C+5]=a,this.int16[C+6]=s,this.int16[C+7]=l,this.uint16[C+8]=u,this.uint16[C+9]=c,this.uint16[C+10]=h,this.uint16[C+11]=p,this.uint16[C+12]=f,this.uint16[C+13]=d,this.uint16[C+14]=m,this.uint16[C+15]=v,this.uint16[C+16]=g,this.uint16[C+17]=y,this.uint16[C+18]=_,this.uint16[C+19]=b,this.uint16[C+20]=x,this.uint16[C+21]=w,this.uint16[C+22]=S,this.uint32[P+12]=E,this.float32[P+13]=M,this.float32[P+14]=k,this.float32[P+15]=T,this.float32[P+16]=A,e},t}(Mi);Hi.prototype.bytesPerElement=68,Br("StructArrayLayout8i15ui1ul4f68",Hi);var Wi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.float32[1*e+0]=t,e},t}(Mi);Wi.prototype.bytesPerElement=4,Br("StructArrayLayout1f4",Wi);var Gi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.int16[i+0]=t,this.int16[i+1]=n,this.int16[i+2]=r,e},t}(Mi);Gi.prototype.bytesPerElement=6,Br("StructArrayLayout3i6",Gi);var qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=4*e;return this.uint32[2*e+0]=t,this.uint16[i+2]=n,this.uint16[i+3]=r,e},t}(Mi);qi.prototype.bytesPerElement=8,Br("StructArrayLayout1ul2ui8",qi);var Yi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,e},t}(Mi);Yi.prototype.bytesPerElement=4,Br("StructArrayLayout2ui4",Yi);var Xi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint16[1*e+0]=t,e},t}(Mi);Xi.prototype.bytesPerElement=2,Br("StructArrayLayout1ui2",Xi);var Zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var o=4*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,e},t}(Mi);Zi.prototype.bytesPerElement=16,Br("StructArrayLayout4f16",Zi);var Ki=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,n),t}(Ei);Ki.prototype.size=20;var Ji=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new Ki(this,e)},t}(Ni);Br("CollisionBoxArray",Ji);var Qi=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},n.placedOrientation.set=function(e){this._structArray.uint8[this._pos1+37]=e},n.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},n.hidden.set=function(e){this._structArray.uint8[this._pos1+38]=e},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+10]=e},n.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(t.prototype,n),t}(Ei);Qi.prototype.size=48;var $i=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new Qi(this,e)},t}(Vi);Br("PlacedSymbolArray",$i);var eo=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},n.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},n.key.get=function(){return this._structArray.uint16[this._pos2+8]},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},n.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},n.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},n.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},n.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+12]=e},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},n.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},n.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},n.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(t.prototype,n),t}(Ei);eo.prototype.size=68;var to=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new eo(this,e)},t}(Hi);Br("SymbolInstanceArray",to);var no=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getoffsetX=function(e){return this.float32[1*e+0]},t}(Wi);Br("GlyphOffsetArray",no);var ro=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getx=function(e){return this.int16[3*e+0]},t.prototype.gety=function(e){return this.int16[3*e+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[3*e+2]},t}(Gi);Br("SymbolLineVertexArray",ro);var io=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(t.prototype,n),t}(Ei);io.prototype.size=8;var oo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new io(this,e)},t}(qi);Br("FeatureIndexArray",oo);var ao=ki([{name:"a_pos",components:2,type:"Int16"}],4).members,so=function(e){void 0===e&&(e=[]),this.segments=e};function lo(e,t){return 256*(e=c(Math.floor(e),0,255))+c(Math.floor(t),0,255)}so.prototype.prepareSegment=function(e,t,n,r){var i=this.segments[this.segments.length-1];return e>so.MAX_VERTEX_ARRAY_LENGTH&&S("Max vertices per segment is "+so.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!i||i.vertexLength+e>so.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(i.sortKey=r),this.segments.push(i)),i},so.prototype.get=function(){return this.segments},so.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var n=t[e];for(var r in n.vaos)n.vaos[r].destroy()}},so.simpleSegment=function(e,t,n,r){return new so([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])},so.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Br("SegmentVector",so);var uo=ki([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),co=t((function(e){e.exports=function(e,t){var n,r,i,o,a,s,l,u;for(r=e.length-(n=3&e.length),i=t,a=3432918353,s=461845907,u=0;u<r;)l=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,i=27492+(65535&(o=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(u+2))<<16;case 2:l^=(255&e.charCodeAt(u+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(u)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),ho=t((function(e){e.exports=function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),po=co,fo=ho;po.murmur3=co,po.murmur2=fo;var mo=function(){this.ids=[],this.positions=[],this.indexed=!1};mo.prototype.add=function(e,t,n,r){this.ids.push(go(e)),this.positions.push(t,n,r)},mo.prototype.getPositions=function(e){for(var t=go(e),n=0,r=this.ids.length-1;n<r;){var i=n+r>>1;this.ids[i]>=t?r=i:n=i+1}for(var o=[];this.ids[n]===t;)o.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return o},mo.serialize=function(e,t){var n=new Float64Array(e.ids),r=new Uint32Array(e.positions);return function e(t,n,r,i){for(;r<i;){for(var o=t[r+i>>1],a=r-1,s=i+1;;){do{a++}while(t[a]<o);do{s--}while(t[s]>o);if(a>=s)break;yo(t,a,s),yo(n,3*a,3*s),yo(n,3*a+1,3*s+1),yo(n,3*a+2,3*s+2)}s-r<i-s?(e(t,n,r,s),r=s+1):(e(t,n,s+1,i),i=s)}}(n,r,0,n.length-1),t&&t.push(n.buffer,r.buffer),{ids:n,positions:r}},mo.deserialize=function(e){var t=new mo;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t};var vo=Math.pow(2,53)-1;function go(e){var t=+e;return!isNaN(t)&&t<=vo?t:po(String(e))}function yo(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}Br("FeaturePositionMap",mo);var _o=function(e,t){this.gl=e.gl,this.location=t},bo=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))},t}(_o),xo=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))},t}(_o),wo=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))},t}(_o),So=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))},t}(_o),Eo=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))},t}(_o),Mo=function(e){function t(t,n){e.call(this,t,n),this.current=et.transparent}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))},t}(_o),ko=new Float32Array(16),To=function(e){function t(t,n){e.call(this,t,n),this.current=ko}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}},t}(_o);function Ao(e){return[lo(255*e.r,255*e.g),lo(255*e.b,255*e.a)]}var Co=function(e,t,n){this.value=e,this.uniformNames=t.map((function(e){return"u_"+e})),this.type=n};Co.prototype.setUniform=function(e,t,n){e.set(n.constantOr(this.value))},Co.prototype.getBinding=function(e,t,n){return"color"===this.type?new Mo(e,t):new xo(e,t)};var Po=function(e,t){this.uniformNames=t.map((function(e){return"u_"+e})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Po.prototype.setConstantPatternPositions=function(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr},Po.prototype.setUniform=function(e,t,n,r){var i="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;i&&e.set(i)},Po.prototype.getBinding=function(e,t,n){return"u_pattern"===n.substr(0,9)?new Eo(e,t):new xo(e,t)};var Oo=function(e,t,n,r){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===n?2:1,offset:0}})),this.paintVertexArray=new r};Oo.prototype.populatePaintArray=function(e,t,n,r,i){var o=this.paintVertexArray.length,a=this.expression.evaluate(new si(0),t,{},r,[],i);this.paintVertexArray.resize(e),this._setPaintValue(o,e,a)},Oo.prototype.updatePaintArray=function(e,t,n,r){var i=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(e,t,i)},Oo.prototype._setPaintValue=function(e,t,n){if("color"===this.type)for(var r=Ao(n),i=e;i<t;i++)this.paintVertexArray.emplace(i,r[0],r[1]);else{for(var o=e;o<t;o++)this.paintVertexArray.emplace(o,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}},Oo.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Oo.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Ro=function(e,t,n,r,i,o){this.expression=e,this.uniformNames=t.map((function(e){return"u_"+e+"_t"})),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===n?4:2,offset:0}})),this.paintVertexArray=new o};Ro.prototype.populatePaintArray=function(e,t,n,r,i){var o=this.expression.evaluate(new si(this.zoom),t,{},r,[],i),a=this.expression.evaluate(new si(this.zoom+1),t,{},r,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,o,a)},Ro.prototype.updatePaintArray=function(e,t,n,r){var i=this.expression.evaluate({zoom:this.zoom},n,r),o=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(e,t,i,o)},Ro.prototype._setPaintValue=function(e,t,n,r){if("color"===this.type)for(var i=Ao(n),o=Ao(r),a=e;a<t;a++)this.paintVertexArray.emplace(a,i[0],i[1],o[0],o[1]);else{for(var s=e;s<t;s++)this.paintVertexArray.emplace(s,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}},Ro.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ro.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ro.prototype.setUniform=function(e,t){var n=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,r=c(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);e.set(r)},Ro.prototype.getBinding=function(e,t,n){return new xo(e,t)};var Io=function(e,t,n,r,i,o){this.expression=e,this.type=t,this.useIntegerZoom=n,this.zoom=r,this.layerId=o,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};Io.prototype.populatePaintArray=function(e,t,n){var r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(r,e,t.patterns&&t.patterns[this.layerId],n)},Io.prototype.updatePaintArray=function(e,t,n,r,i){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],i)},Io.prototype._setPaintValues=function(e,t,n,r){if(r&&n){var i=r[n.min],o=r[n.mid],a=r[n.max];if(i&&o&&a)for(var s=e;s<t;s++)this.zoomInPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],i.tl[0],i.tl[1],i.br[0],i.br[1],o.pixelRatio,i.pixelRatio),this.zoomOutPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],a.tl[0],a.tl[1],a.br[0],a.br[1],o.pixelRatio,a.pixelRatio)}},Io.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,uo.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,uo.members,this.expression.isStateDependent))},Io.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Lo=function(e,t,n){this.binders={},this._buffers=[];var r=[];for(var i in e.paint._values)if(n(i)){var o=e.paint.get(i);if(o instanceof di&&Ln(o.property.specification)){var a=zo(i,e.type),s=o.value,l=o.property.specification.type,u=o.property.useIntegerZoom,c=o.property.specification["property-type"],h="cross-faded"===c||"cross-faded-data-driven"===c;if("constant"===s.kind)this.binders[i]=h?new Po(s.value,a):new Co(s.value,a,l),r.push("/u_"+i);else if("source"===s.kind||h){var p=No(i,l,"source");this.binders[i]=h?new Io(s,l,u,t,p,e.id):new Oo(s,a,l,p),r.push("/a_"+i)}else{var f=No(i,l,"composite");this.binders[i]=new Ro(s,a,l,u,t,f),r.push("/z_"+i)}}}this.cacheKey=r.sort().join("")};Lo.prototype.getMaxValue=function(e){var t=this.binders[e];return t instanceof Oo||t instanceof Ro?t.maxValue:0},Lo.prototype.populatePaintArrays=function(e,t,n,r,i){for(var o in this.binders){var a=this.binders[o];(a instanceof Oo||a instanceof Ro||a instanceof Io)&&a.populatePaintArray(e,t,n,r,i)}},Lo.prototype.setConstantPatternPositions=function(e,t){for(var n in this.binders){var r=this.binders[n];r instanceof Po&&r.setConstantPatternPositions(e,t)}},Lo.prototype.updatePaintArrays=function(e,t,n,r,i){var o=!1;for(var a in e)for(var s=0,l=t.getPositions(a);s<l.length;s+=1){var u=l[s],c=n.feature(u.index);for(var h in this.binders){var p=this.binders[h];if((p instanceof Oo||p instanceof Ro||p instanceof Io)&&!0===p.expression.isStateDependent){var f=r.paint.get(h);p.expression=f.value,p.updatePaintArray(u.start,u.end,c,e[a],i),o=!0}}}return o},Lo.prototype.defines=function(){var e=[];for(var t in this.binders){var n=this.binders[t];(n instanceof Co||n instanceof Po)&&e.push.apply(e,n.uniformNames.map((function(e){return"#define HAS_UNIFORM_"+e})))}return e},Lo.prototype.getBinderAttributes=function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof Oo||n instanceof Ro)for(var r=0;r<n.paintVertexAttributes.length;r++)e.push(n.paintVertexAttributes[r].name);else if(n instanceof Io)for(var i=0;i<uo.members.length;i++)e.push(uo.members[i].name)}return e},Lo.prototype.getBinderUniforms=function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof Co||n instanceof Po||n instanceof Ro)for(var r=0,i=n.uniformNames;r<i.length;r+=1)e.push(i[r])}return e},Lo.prototype.getPaintVertexBuffers=function(){return this._buffers},Lo.prototype.getUniforms=function(e,t){var n=[];for(var r in this.binders){var i=this.binders[r];if(i instanceof Co||i instanceof Po||i instanceof Ro)for(var o=0,a=i.uniformNames;o<a.length;o+=1){var s=a[o];if(t[s]){var l=i.getBinding(e,t[s],s);n.push({name:s,property:r,binding:l})}}}return n},Lo.prototype.setUniforms=function(e,t,n,r){for(var i=0,o=t;i<o.length;i+=1){var a=o[i],s=a.name,l=a.property;this.binders[l].setUniform(a.binding,r,n.get(l),s)}},Lo.prototype.updatePaintBuffers=function(e){for(var t in this._buffers=[],this.binders){var n=this.binders[t];if(e&&n instanceof Io){var r=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;r&&this._buffers.push(r)}else(n instanceof Oo||n instanceof Ro)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}},Lo.prototype.upload=function(e){for(var t in this.binders){var n=this.binders[t];(n instanceof Oo||n instanceof Ro||n instanceof Io)&&n.upload(e)}this.updatePaintBuffers()},Lo.prototype.destroy=function(){for(var e in this.binders){var t=this.binders[e];(t instanceof Oo||t instanceof Ro||t instanceof Io)&&t.destroy()}};var Do=function(e,t,n){void 0===n&&(n=function(){return!0}),this.programConfigurations={};for(var r=0,i=e;r<i.length;r+=1){var o=i[r];this.programConfigurations[o.id]=new Lo(o,t,n)}this.needsUpload=!1,this._featureMap=new mo,this._bufferOffset=0};function zo(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function No(e,t,n){var r={color:{source:Ri,composite:Zi},number:{source:Wi,composite:Ri}},i=function(e){return{"line-pattern":{source:Ii,composite:Ii},"fill-pattern":{source:Ii,composite:Ii},"fill-extrusion-pattern":{source:Ii,composite:Ii}}[e]}(e);return i&&i[n]||r[t][n]}Do.prototype.populatePaintArrays=function(e,t,n,r,i,o){for(var a in this.programConfigurations)this.programConfigurations[a].populatePaintArrays(e,t,r,i,o);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0},Do.prototype.updatePaintArrays=function(e,t,n,r){for(var i=0,o=n;i<o.length;i+=1){var a=o[i];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(e,this._featureMap,t,a,r)||this.needsUpload}},Do.prototype.get=function(e){return this.programConfigurations[e]},Do.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},Do.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},Br("ConstantBinder",Co),Br("CrossFadedConstantBinder",Po),Br("SourceExpressionBinder",Oo),Br("CrossFadedCompositeBinder",Io),Br("CompositeExpressionBinder",Ro),Br("ProgramConfiguration",Lo,{omit:["_buffers"]}),Br("ProgramConfigurationSet",Do);var Bo=Math.pow(2,14)-1,Fo=-Bo-1;function jo(e){for(var t=8192/e.extent,n=e.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++){var a=i[o],s=Math.round(a.x*t),l=Math.round(a.y*t);a.x=c(s,Fo,Bo),a.y=c(l,Fo,Bo),(s<a.x||s>a.x+1||l<a.y||l>a.y+1)&&S("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function Uo(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?jo(e):[]}}function Vo(e,t,n,r,i){e.emplaceBack(2*t+(r+1)/2,2*n+(i+1)/2)}var Ho=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Ai,this.indexArray=new Ui,this.segments=new so,this.programConfigurations=new Do(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function Wo(e,t){for(var n=0;n<e.length;n++)if($o(t,e[n]))return!0;for(var r=0;r<t.length;r++)if($o(e,t[r]))return!0;return!!Xo(e,t)}function Go(e,t,n){return!!$o(e,t)||!!Ko(t,e,n)}function qo(e,t){if(1===e.length)return Qo(t,e[0]);for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)if($o(e,r[i]))return!0;for(var o=0;o<e.length;o++)if(Qo(t,e[o]))return!0;for(var a=0;a<t.length;a++)if(Xo(e,t[a]))return!0;return!1}function Yo(e,t,n){if(e.length>1){if(Xo(e,t))return!0;for(var r=0;r<t.length;r++)if(Ko(t[r],e,n))return!0}for(var i=0;i<e.length;i++)if(Ko(e[i],t,n))return!0;return!1}function Xo(e,t){if(0===e.length||0===t.length)return!1;for(var n=0;n<e.length-1;n++)for(var r=e[n],i=e[n+1],o=0;o<t.length-1;o++)if(Zo(r,i,t[o],t[o+1]))return!0;return!1}function Zo(e,t,n,r){return E(e,n,r)!==E(t,n,r)&&E(e,t,n)!==E(e,t,r)}function Ko(e,t,n){var r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(var i=1;i<t.length;i++)if(Jo(e,t[i-1],t[i])<r)return!0;return!1}function Jo(e,t,n){var r=t.distSqr(n);if(0===r)return e.distSqr(t);var i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return e.distSqr(i<0?t:i>1?n:n.sub(t)._mult(i)._add(t))}function Qo(e,t){for(var n,r,i,o=!1,a=0;a<e.length;a++)for(var s=0,l=(n=e[a]).length-1;s<n.length;l=s++)(r=n[s]).y>t.y!=(i=n[l]).y>t.y&&t.x<(i.x-r.x)*(t.y-r.y)/(i.y-r.y)+r.x&&(o=!o);return o}function $o(e,t){for(var n=!1,r=0,i=e.length-1;r<e.length;i=r++){var o=e[r],a=e[i];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function ea(e,t,n){var r=n[0],i=n[2];if(e.x<r.x&&t.x<r.x||e.x>i.x&&t.x>i.x||e.y<r.y&&t.y<r.y||e.y>i.y&&t.y>i.y)return!1;var o=E(e,t,n[0]);return o!==E(e,t,n[1])||o!==E(e,t,n[2])||o!==E(e,t,n[3])}function ta(e,t,n){var r=t.paint.get(e).value;return"constant"===r.kind?r.value:n.programConfigurations.get(t.id).getMaxValue(e)}function na(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function ra(e,t,n,r,o){if(!t[0]&&!t[1])return e;var a=i.convert(t)._mult(o);"viewport"===n&&a._rotate(-r);for(var s=[],l=0;l<e.length;l++)s.push(e[l].sub(a));return s}Ho.prototype.populate=function(e,t,n){var r=this.layers[0],i=[],o=null;"circle"===r.type&&(o=r.layout.get("circle-sort-key"));for(var a=0,s=e;a<s.length;a+=1){var l=s[a],u=l.feature,c=l.id,h=l.index,p=l.sourceLayerIndex,f=this.layers[0]._featureFilter.needGeometry,d=Uo(u,f);if(this.layers[0]._featureFilter.filter(new si(this.zoom),d,n)){var m=o?o.evaluate(d,{},n):void 0,v={id:c,properties:u.properties,type:u.type,sourceLayerIndex:p,index:h,geometry:f?d.geometry:jo(u),patterns:{},sortKey:m};i.push(v)}}o&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var g=0,y=i;g<y.length;g+=1){var _=y[g],b=_.geometry,x=_.index,w=_.sourceLayerIndex,S=e[x].feature;this.addFeature(_,b,x,n),t.featureIndex.insert(S,b,x,w,this.index)}},Ho.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Ho.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ho.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ho.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ao),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Ho.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ho.prototype.addFeature=function(e,t,n,r){for(var i=0,o=t;i<o.length;i+=1)for(var a=0,s=o[i];a<s.length;a+=1){var l=s[a],u=l.x,c=l.y;if(!(u<0||u>=8192||c<0||c>=8192)){var h=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),p=h.vertexLength;Vo(this.layoutVertexArray,u,c,-1,-1),Vo(this.layoutVertexArray,u,c,1,-1),Vo(this.layoutVertexArray,u,c,1,1),Vo(this.layoutVertexArray,u,c,-1,1),this.indexArray.emplaceBack(p,p+1,p+2),this.indexArray.emplaceBack(p,p+3,p+2),h.vertexLength+=4,h.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},r)},Br("CircleBucket",Ho,{omit:["layers"]});var ia=new xi({"circle-sort-key":new gi(Ce.layout_circle["circle-sort-key"])}),oa={paint:new xi({"circle-radius":new gi(Ce.paint_circle["circle-radius"]),"circle-color":new gi(Ce.paint_circle["circle-color"]),"circle-blur":new gi(Ce.paint_circle["circle-blur"]),"circle-opacity":new gi(Ce.paint_circle["circle-opacity"]),"circle-translate":new vi(Ce.paint_circle["circle-translate"]),"circle-translate-anchor":new vi(Ce.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new vi(Ce.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new vi(Ce.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new gi(Ce.paint_circle["circle-stroke-width"]),"circle-stroke-color":new gi(Ce.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new gi(Ce.paint_circle["circle-stroke-opacity"])}),layout:ia},aa="undefined"!=typeof Float32Array?Float32Array:Array;function sa(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function la(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],p=t[9],f=t[10],d=t[11],m=t[12],v=t[13],g=t[14],y=t[15],_=n[0],b=n[1],x=n[2],w=n[3];return e[0]=_*r+b*s+x*h+w*m,e[1]=_*i+b*l+x*p+w*v,e[2]=_*o+b*u+x*f+w*g,e[3]=_*a+b*c+x*d+w*y,e[4]=(_=n[4])*r+(b=n[5])*s+(x=n[6])*h+(w=n[7])*m,e[5]=_*i+b*l+x*p+w*v,e[6]=_*o+b*u+x*f+w*g,e[7]=_*a+b*c+x*d+w*y,e[8]=(_=n[8])*r+(b=n[9])*s+(x=n[10])*h+(w=n[11])*m,e[9]=_*i+b*l+x*p+w*v,e[10]=_*o+b*u+x*f+w*g,e[11]=_*a+b*c+x*d+w*y,e[12]=(_=n[12])*r+(b=n[13])*s+(x=n[14])*h+(w=n[15])*m,e[13]=_*i+b*l+x*p+w*v,e[14]=_*o+b*u+x*f+w*g,e[15]=_*a+b*c+x*d+w*y,e}Math.hypot||(Math.hypot=function(){for(var e=arguments,t=0,n=arguments.length;n--;)t+=e[n]*e[n];return Math.sqrt(t)});var ua,ca=la;function ha(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}ua=new aa(3),aa!=Float32Array&&(ua[0]=0,ua[1]=0,ua[2]=0),function(){var e=new aa(4);aa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}();var pa=(function(){var e=new aa(2);aa!=Float32Array&&(e[0]=0,e[1]=0)}(),function(e){function t(t){e.call(this,t,oa)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new Ho(e)},t.prototype.queryRadius=function(e){var t=e;return ta("circle-radius",this,t)+ta("circle-stroke-width",this,t)+na(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,o,a,s){for(var l=ra(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),u=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n),c="map"===this.paint.get("circle-pitch-alignment"),h=c?l:function(e,t){return e.map((function(e){return fa(e,t)}))}(l,s),p=c?u*a:u,f=0,d=r;f<d.length;f+=1)for(var m=0,v=d[f];m<v.length;m+=1){var g=v[m],y=c?g:fa(g,s),_=p,b=ha([],[g.x,g.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?_*=b[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(_*=o.cameraToCenterDistance/b[3]),Go(h,y,_))return!0}return!1},t}(wi));function fa(e,t){var n=ha([],[e.x,e.y,0,1],t);return new i(n[0]/n[3],n[1]/n[3])}var da=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Ho);function ma(e,t,n,r){var i=t.width,o=t.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return e.width=i,e.height=o,e.data=r,e}function va(e,t,n){var r=t.width,i=t.height;if(r!==e.width||i!==e.height){var o=ma({},{width:r,height:i},n);ga(e,o,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,r),height:Math.min(e.height,i)},n),e.width=r,e.height=i,e.data=o.data}}function ga(e,t,n,r,i,o){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=e.data,s=t.data,l=0;l<i.height;l++)for(var u=((n.y+l)*e.width+n.x)*o,c=((r.y+l)*t.width+r.x)*o,h=0;h<i.width*o;h++)s[c+h]=a[u+h];return t}Br("HeatmapBucket",da,{omit:["layers"]});var ya=function(e,t){ma(this,e,1,t)};ya.prototype.resize=function(e){va(this,e,1)},ya.prototype.clone=function(){return new ya({width:this.width,height:this.height},new Uint8Array(this.data))},ya.copy=function(e,t,n,r,i){ga(e,t,n,r,i,1)};var _a=function(e,t){ma(this,e,4,t)};_a.prototype.resize=function(e){va(this,e,4)},_a.prototype.replace=function(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e},_a.prototype.clone=function(){return new _a({width:this.width,height:this.height},new Uint8Array(this.data))},_a.copy=function(e,t,n,r,i){ga(e,t,n,r,i,4)},Br("AlphaImage",ya),Br("RGBAImage",_a);var ba={paint:new xi({"heatmap-radius":new gi(Ce.paint_heatmap["heatmap-radius"]),"heatmap-weight":new gi(Ce.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new vi(Ce.paint_heatmap["heatmap-intensity"]),"heatmap-color":new bi(Ce.paint_heatmap["heatmap-color"]),"heatmap-opacity":new vi(Ce.paint_heatmap["heatmap-opacity"])})};function xa(e){var t={},n=e.resolution||256,r=e.clips?e.clips.length:1,i=e.image||new _a({width:n,height:r}),o=function(n,r,o){t[e.evaluationKey]=o;var a=e.expression.evaluate(t);i.data[n+r+0]=Math.floor(255*a.r/a.a),i.data[n+r+1]=Math.floor(255*a.g/a.a),i.data[n+r+2]=Math.floor(255*a.b/a.a),i.data[n+r+3]=Math.floor(255*a.a)};if(e.clips)for(var a=0,s=0;a<r;++a,s+=4*n)for(var l=0,u=0;l<n;l++,u+=4){var c=l/(n-1),h=e.clips[a];o(s,u,h.start*(1-c)+h.end*c)}else for(var p=0,f=0;p<n;p++,f+=4)o(0,f,p/(n-1));return i}var wa=function(e){function t(t){e.call(this,t,ba),this._updateColorRamp()}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new da(e)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){"heatmap-color"===e&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){this.colorRamp=xa({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(wi),Sa={paint:new xi({"hillshade-illumination-direction":new vi(Ce.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new vi(Ce.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new vi(Ce.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new vi(Ce.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new vi(Ce.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new vi(Ce.paint_hillshade["hillshade-accent-color"])})},Ea=function(e){function t(t){e.call(this,t,Sa)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(wi),Ma=ki([{name:"a_pos",components:2,type:"Int16"}],4).members,ka=Aa,Ta=Aa;function Aa(e,t,n){n=n||2;var r,i,o,a,s,l,u,c=t&&t.length,h=c?t[0]*n:e.length,p=Ca(e,0,h,n,!0),f=[];if(!p||p.next===p.prev)return f;if(c&&(p=function(e,t,n,r){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=Ca(e,t[i]*r,i<o-1?t[i+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(ja(a));for(s.sort(za),i=0;i<s.length;i++)Na(s[i],n),n=Pa(n,n.next);return n}(e,t,p,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var d=n;d<h;d+=n)(s=e[d])<r&&(r=s),(l=e[d+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);u=0!==(u=Math.max(o-r,a-i))?1/u:0}return Oa(p,f,n,r,i,u),f}function Ca(e,t,n,r,i){var o,a;if(i===$a(e,t,n,r)>0)for(o=t;o<n;o+=r)a=Ka(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=Ka(o,e[o],e[o+1],a);return a&&Wa(a,a.next)&&(Ja(a),a=a.next),a}function Pa(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Wa(r,r.next)&&0!==Ha(r.prev,r,r.next))r=r.next;else{if(Ja(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Oa(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=Fa(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,l,u=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(e,r,i,o);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?Ia(e,r,i,o):Ra(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),Ja(e),e=l.next,u=l.next;else if((e=l)===u){a?1===a?Oa(e=La(Pa(e),t,n),t,n,r,i,o,2):2===a&&Da(e,t,n,r,i,o):Oa(Pa(e),t,n,r,i,o,1);break}}}function Ra(e){var t=e.prev,n=e,r=e.next;if(Ha(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Ua(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Ha(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Ia(e,t,n,r){var i=e.prev,o=e,a=e.next;if(Ha(i,o,a)>=0)return!1;for(var s=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,u=Fa(i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,t,n,r),c=Fa(s,l,t,n,r),h=e.prevZ,p=e.nextZ;h&&h.z>=u&&p&&p.z<=c;){if(h!==e.prev&&h!==e.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Ha(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,p!==e.prev&&p!==e.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Ha(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;h&&h.z>=u;){if(h!==e.prev&&h!==e.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Ha(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=c;){if(p!==e.prev&&p!==e.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Ha(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function La(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!Wa(i,o)&&Ga(i,r,r.next,o)&&Xa(i,o)&&Xa(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),Ja(r),Ja(r.next),r=e=o),r=r.next}while(r!==e);return Pa(r)}function Da(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Va(a,s)){var l=Za(a,s);return a=Pa(a,a.next),l=Pa(l,l.next),Oa(a,t,n,r,i,o),void Oa(l,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function za(e,t){return e.x-t.x}function Na(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var l,u=n,c=n.x,h=n.y,p=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&Ua(o<h?i:a,o,c,h,o<h?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),Xa(r,e)&&(l<p||l===p&&(r.x>n.x||r.x===n.x&&Ba(n,r)))&&(n=r,p=l)),r=r.next}while(r!==u);return n}(e,t)){var n=Za(t,e);Pa(t,t.next),Pa(n,n.next)}}function Ba(e,t){return Ha(e.prev,e,t.prev)<0&&Ha(t.next,e,e.next)<0}function Fa(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function ja(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Ua(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function Va(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Ga(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Xa(e,t)&&Xa(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Ha(e.prev,e,t.prev)||Ha(e,t.prev,t))||Wa(e,t)&&Ha(e.prev,e,e.next)>0&&Ha(t.prev,t,t.next)>0)}function Ha(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Wa(e,t){return e.x===t.x&&e.y===t.y}function Ga(e,t,n,r){var i=Ya(Ha(e,t,n)),o=Ya(Ha(e,t,r)),a=Ya(Ha(n,r,e)),s=Ya(Ha(n,r,t));return i!==o&&a!==s||!(0!==i||!qa(e,n,t))||!(0!==o||!qa(e,r,t))||!(0!==a||!qa(n,e,r))||!(0!==s||!qa(n,t,r))}function qa(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Ya(e){return e>0?1:e<0?-1:0}function Xa(e,t){return Ha(e.prev,e,e.next)<0?Ha(e,t,e.next)>=0&&Ha(e,e.prev,t)>=0:Ha(e,t,e.prev)<0||Ha(e,e.next,t)<0}function Za(e,t){var n=new Qa(e.i,e.x,e.y),r=new Qa(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Ka(e,t,n,r){var i=new Qa(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ja(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Qa(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function $a(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}function es(e,t,n,r,i){!function e(t,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1);e(t,n,Math.max(r,Math.floor(n-s*u/a+c)),Math.min(i,Math.floor(n+(a-s)*u/a+c)),o)}var h=t[n],p=r,f=i;for(ts(t,r,n),o(t[i],h)>0&&ts(t,r,i);p<f;){for(ts(t,p,f),p++,f--;o(t[p],h)<0;)p++;for(;o(t[f],h)>0;)f--}0===o(t[r],h)?ts(t,r,f):ts(t,++f,i),f<=n&&(r=f+1),n<=f&&(i=f-1)}}(e,t,n||0,r||e.length-1,i||ns)}function ts(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function ns(e,t){return e<t?-1:e>t?1:0}function rs(e,t){var n=e.length;if(n<=1)return[e];for(var r,i,o=[],a=0;a<n;a++){var s=M(e[a]);0!==s&&(e[a].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&o.push(r),r=[e[a]]):r.push(e[a]))}if(r&&o.push(r),t>1)for(var l=0;l<o.length;l++)o[l].length<=t||(es(o[l],t,1,o[l].length-1,is),o[l]=o[l].slice(0,t));return o}function is(e,t){return t.area-e.area}function os(e,t,n){for(var r=n.patternDependencies,i=!1,o=0,a=t;o<a.length;o+=1){var s=a[o].paint.get(e+"-pattern");s.isConstant()||(i=!0);var l=s.constantOr(null);l&&(i=!0,r[l.to]=!0,r[l.from]=!0)}return i}function as(e,t,n,r,i){for(var o=i.patternDependencies,a=0,s=t;a<s.length;a+=1){var l=s[a],u=l.paint.get(e+"-pattern").value;if("constant"!==u.kind){var c=u.evaluate({zoom:r-1},n,{},i.availableImages),h=u.evaluate({zoom:r},n,{},i.availableImages),p=u.evaluate({zoom:r+1},n,{},i.availableImages);h=h&&h.name?h.name:h,p=p&&p.name?p.name:p,o[c=c&&c.name?c.name:c]=!0,o[h]=!0,o[p]=!0,n.patterns[l.id]={min:c,mid:h,max:p}}}return n}Aa.deviation=function(e,t,n,r){var i=t&&t.length,o=Math.abs($a(e,0,i?t[0]*n:e.length,n));if(i)for(var a=0,s=t.length;a<s;a++)o-=Math.abs($a(e,t[a]*n,a<s-1?t[a+1]*n:e.length,n));var l=0;for(a=0;a<r.length;a+=3){var u=r[a]*n,c=r[a+1]*n,h=r[a+2]*n;l+=Math.abs((e[u]-e[h])*(e[c+1]-e[u+1])-(e[u]-e[c])*(e[h+1]-e[u+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},Aa.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&n.holes.push(r+=e[i-1].length)}return n},ka.default=Ta;var ss=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ai,this.indexArray=new Ui,this.indexArray2=new Yi,this.programConfigurations=new Do(e.layers,e.zoom),this.segments=new so,this.segments2=new so,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};ss.prototype.populate=function(e,t,n){this.hasPattern=os("fill",this.layers,t);for(var r=this.layers[0].layout.get("fill-sort-key"),i=[],o=0,a=e;o<a.length;o+=1){var s=a[o],l=s.feature,u=s.id,c=s.index,h=s.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,f=Uo(l,p);if(this.layers[0]._featureFilter.filter(new si(this.zoom),f,n)){var d=r?r.evaluate(f,{},n,t.availableImages):void 0,m={id:u,properties:l.properties,type:l.type,sourceLayerIndex:h,index:c,geometry:p?f.geometry:jo(l),patterns:{},sortKey:d};i.push(m)}}r&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var v=0,g=i;v<g.length;v+=1){var y=g[v],_=y.geometry,b=y.index,x=y.sourceLayerIndex;if(this.hasPattern){var w=as("fill",this.layers,y,this.zoom,t);this.patternFeatures.push(w)}else this.addFeature(y,_,b,n,{});t.featureIndex.insert(e[b].feature,_,b,x,this.index)}},ss.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},ss.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,t,n)}},ss.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ss.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ss.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ma),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ss.prototype.addFeature=function(e,t,n,r,i){for(var o=0,a=rs(t,500);o<a.length;o+=1){for(var s=a[o],l=0,u=0,c=s;u<c.length;u+=1)l+=c[u].length;for(var h=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray),p=h.vertexLength,f=[],d=[],m=0,v=s;m<v.length;m+=1){var g=v[m];if(0!==g.length){g!==s[0]&&d.push(f.length/2);var y=this.segments2.prepareSegment(g.length,this.layoutVertexArray,this.indexArray2),_=y.vertexLength;this.layoutVertexArray.emplaceBack(g[0].x,g[0].y),this.indexArray2.emplaceBack(_+g.length-1,_),f.push(g[0].x),f.push(g[0].y);for(var b=1;b<g.length;b++)this.layoutVertexArray.emplaceBack(g[b].x,g[b].y),this.indexArray2.emplaceBack(_+b-1,_+b),f.push(g[b].x),f.push(g[b].y);y.vertexLength+=g.length,y.primitiveLength+=g.length}}for(var x=ka(f,d),w=0;w<x.length;w+=3)this.indexArray.emplaceBack(p+x[w],p+x[w+1],p+x[w+2]);h.vertexLength+=l,h.primitiveLength+=x.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},Br("FillBucket",ss,{omit:["layers","patternFeatures"]});var ls=new xi({"fill-sort-key":new gi(Ce.layout_fill["fill-sort-key"])}),us={paint:new xi({"fill-antialias":new vi(Ce.paint_fill["fill-antialias"]),"fill-opacity":new gi(Ce.paint_fill["fill-opacity"]),"fill-color":new gi(Ce.paint_fill["fill-color"]),"fill-outline-color":new gi(Ce.paint_fill["fill-outline-color"]),"fill-translate":new vi(Ce.paint_fill["fill-translate"]),"fill-translate-anchor":new vi(Ce.paint_fill["fill-translate-anchor"]),"fill-pattern":new yi(Ce.paint_fill["fill-pattern"])}),layout:ls},cs=function(e){function t(t){e.call(this,t,us)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,n){e.prototype.recalculate.call(this,t,n);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(e){return new ss(e)},t.prototype.queryRadius=function(){return na(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,o,a){return qo(ra(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),r)},t.prototype.isTileClipped=function(){return!0},t}(wi),hs=ki([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,ps=fs;function fs(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(ds,this,t)}function ds(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function ms(e){for(var t,n,r=0,i=0,o=e.length,a=o-1;i<o;a=i++)r+=((n=e[a]).x-(t=e[i]).x)*(t.y+n.y);return r}fs.types=["Unknown","Point","LineString","Polygon"],fs.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,o=0,a=0,s=0,l=[];e.pos<n;){if(o<=0){var u=e.readVarint();r=7&u,o=u>>3}if(o--,1===r||2===r)a+=e.readSVarint(),s+=e.readSVarint(),1===r&&(t&&l.push(t),t=[]),t.push(new i(a,s));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&l.push(t),l},fs.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(r<=0){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=e.readSVarint())<l&&(l=o),o>u&&(u=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,u]},fs.prototype.toGeoJSON=function(e,t,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*e,s=this.extent*t,l=this.loadGeometry(),u=fs.types[this.type];function c(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(r=0;r<l.length;r++)h[r]=l[r][0];c(l=h);break;case 2:for(r=0;r<l.length;r++)c(l[r]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=ms(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n.push(e[o]))}return n&&i.push(n),i}(l),r=0;r<l.length;r++)for(i=0;i<l[r].length;i++)c(l[r][i])}1===l.length?l=l[0]:u="Multi"+u;var p={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(p.id=this.id),p};var vs=gs;function gs(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(ys,this,t),this.length=this._features.length}function ys(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}function _s(e,t,n){if(3===e){var r=new vs(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}gs.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new ps(this._pbf,t,this.extent,this._keys,this._values)};var bs={VectorTile:function(e,t){this.layers=e.readFields(_s,{},t)},VectorTileFeature:ps,VectorTileLayer:vs},xs=bs.VectorTileFeature.types,ws=Math.pow(2,13);function Ss(e,t,n,r,i,o,a,s){e.emplaceBack(t,n,2*Math.floor(r*ws)+a,i*ws*2,o*ws*2,Math.round(s))}var Es=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Pi,this.indexArray=new Ui,this.programConfigurations=new Do(e.layers,e.zoom),this.segments=new so,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function Ms(e,t){return e.x===t.x&&(e.x<0||e.x>8192)||e.y===t.y&&(e.y<0||e.y>8192)}Es.prototype.populate=function(e,t,n){this.features=[],this.hasPattern=os("fill-extrusion",this.layers,t);for(var r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.id,l=o.index,u=o.sourceLayerIndex,c=this.layers[0]._featureFilter.needGeometry,h=Uo(a,c);if(this.layers[0]._featureFilter.filter(new si(this.zoom),h,n)){var p={id:s,sourceLayerIndex:u,index:l,geometry:c?h.geometry:jo(a),properties:a.properties,type:a.type,patterns:{}};this.hasPattern?this.features.push(as("fill-extrusion",this.layers,p,this.zoom,t)):this.addFeature(p,p.geometry,l,n,{}),t.featureIndex.insert(a,p.geometry,l,u,this.index,!0)}}},Es.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.features;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,t,n)}},Es.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Es.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Es.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Es.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,hs),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Es.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Es.prototype.addFeature=function(e,t,n,r,i){for(var o=0,a=rs(t,500);o<a.length;o+=1){for(var s=a[o],l=0,u=0,c=s;u<c.length;u+=1)l+=c[u].length;for(var h=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=0,f=s;p<f.length;p+=1){var d=f[p];if(0!==d.length&&!((R=d).every((function(e){return e.x<0}))||R.every((function(e){return e.x>8192}))||R.every((function(e){return e.y<0}))||R.every((function(e){return e.y>8192}))))for(var m=0,v=0;v<d.length;v++){var g=d[v];if(v>=1){var y=d[v-1];if(!Ms(g,y)){h.vertexLength+4>so.MAX_VERTEX_ARRAY_LENGTH&&(h=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var _=g.sub(y)._perp()._unit(),b=y.dist(g);m+b>32768&&(m=0),Ss(this.layoutVertexArray,g.x,g.y,_.x,_.y,0,0,m),Ss(this.layoutVertexArray,g.x,g.y,_.x,_.y,0,1,m),Ss(this.layoutVertexArray,y.x,y.y,_.x,_.y,0,0,m+=b),Ss(this.layoutVertexArray,y.x,y.y,_.x,_.y,0,1,m);var x=h.vertexLength;this.indexArray.emplaceBack(x,x+2,x+1),this.indexArray.emplaceBack(x+1,x+2,x+3),h.vertexLength+=4,h.primitiveLength+=2}}}}if(h.vertexLength+l>so.MAX_VERTEX_ARRAY_LENGTH&&(h=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray)),"Polygon"===xs[e.type]){for(var w=[],S=[],E=h.vertexLength,M=0,k=s;M<k.length;M+=1){var T=k[M];if(0!==T.length){T!==s[0]&&S.push(w.length/2);for(var A=0;A<T.length;A++){var C=T[A];Ss(this.layoutVertexArray,C.x,C.y,0,0,1,1,0),w.push(C.x),w.push(C.y)}}}for(var P=ka(w,S),O=0;O<P.length;O+=3)this.indexArray.emplaceBack(E+P[O],E+P[O+2],E+P[O+1]);h.primitiveLength+=P.length/3,h.vertexLength+=l}}var R;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},Br("FillExtrusionBucket",Es,{omit:["layers","features"]});var ks={paint:new xi({"fill-extrusion-opacity":new vi(Ce["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new gi(Ce["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new vi(Ce["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new vi(Ce["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new yi(Ce["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new gi(Ce["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new gi(Ce["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new vi(Ce["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Ts=function(e){function t(t){e.call(this,t,ks)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new Es(e)},t.prototype.queryRadius=function(){return na(this.paint.get("fill-extrusion-translate"))},t.prototype.is3D=function(){return!0},t.prototype.queryIntersectsFeature=function(e,t,n,r,o,a,s,l){var u=ra(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,s),c=this.paint.get("fill-extrusion-height").evaluate(t,n),h=this.paint.get("fill-extrusion-base").evaluate(t,n),p=function(e,t,n,r){for(var o=[],a=0,s=e;a<s.length;a+=1){var l=s[a],u=[l.x,l.y,0,1];ha(u,u,t),o.push(new i(u[0]/u[3],u[1]/u[3]))}return o}(u,l),f=function(e,t,n,r){for(var o=[],a=[],s=r[8]*t,l=r[9]*t,u=r[10]*t,c=r[11]*t,h=r[8]*n,p=r[9]*n,f=r[10]*n,d=r[11]*n,m=0,v=e;m<v.length;m+=1){for(var g=[],y=[],_=0,b=v[m];_<b.length;_+=1){var x=b[_],w=x.x,S=x.y,E=r[0]*w+r[4]*S+r[12],M=r[1]*w+r[5]*S+r[13],k=r[2]*w+r[6]*S+r[14],T=r[3]*w+r[7]*S+r[15],A=k+u,C=T+c,P=E+h,O=M+p,R=k+f,I=T+d,L=new i((E+s)/C,(M+l)/C);L.z=A/C,g.push(L);var D=new i(P/I,O/I);D.z=R/I,y.push(D)}o.push(g),a.push(y)}return[o,a]}(r,h,c,l);return function(e,t,n){var r=1/0;qo(n,t)&&(r=Cs(n,t[0]));for(var i=0;i<t.length;i++)for(var o=t[i],a=e[i],s=0;s<o.length-1;s++){var l=o[s],u=[l,o[s+1],a[s+1],a[s],l];Wo(n,u)&&(r=Math.min(r,Cs(n,u)))}return r!==1/0&&r}(f[0],f[1],p)},t}(wi);function As(e,t){return e.x*t.x+e.y*t.y}function Cs(e,t){if(1===e.length){for(var n,r=0,i=t[r++];!n||i.equals(n);)if(!(n=t[r++]))return 1/0;for(;r<t.length;r++){var o=t[r],a=e[0],s=n.sub(i),l=o.sub(i),u=a.sub(i),c=As(s,s),h=As(s,l),p=As(l,l),f=As(u,s),d=As(u,l),m=c*p-h*h,v=(p*f-h*d)/m,g=(c*d-h*f)/m,y=i.z*(1-v-g)+n.z*v+o.z*g;if(isFinite(y))return y}return 1/0}for(var _=1/0,b=0,x=t;b<x.length;b+=1)_=Math.min(_,x[b].z);return _}var Ps=ki([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Os=ki([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Rs=bs.VectorTileFeature.types,Is=Math.cos(Math.PI/180*37.5),Ls=Math.pow(2,14)/.5,Ds=function(e){var t=this;this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(e){t.gradients[e.id]={}})),this.layoutVertexArray=new Oi,this.layoutVertexArray2=new Ri,this.indexArray=new Ui,this.programConfigurations=new Do(e.layers,e.zoom),this.segments=new so,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};Ds.prototype.populate=function(e,t,n){this.hasPattern=os("line",this.layers,t);for(var r=this.layers[0].layout.get("line-sort-key"),i=[],o=0,a=e;o<a.length;o+=1){var s=a[o],l=s.feature,u=s.id,c=s.index,h=s.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,f=Uo(l,p);if(this.layers[0]._featureFilter.filter(new si(this.zoom),f,n)){var d=r?r.evaluate(f,{},n):void 0,m={id:u,properties:l.properties,type:l.type,sourceLayerIndex:h,index:c,geometry:p?f.geometry:jo(l),patterns:{},sortKey:d};i.push(m)}}r&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var v=0,g=i;v<g.length;v+=1){var y=g[v],_=y.geometry,b=y.index,x=y.sourceLayerIndex;if(this.hasPattern){var w=as("line",this.layers,y,this.zoom,t);this.patternFeatures.push(w)}else this.addFeature(y,_,b,n,{});t.featureIndex.insert(e[b].feature,_,b,x,this.index)}},Ds.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Ds.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,t,n)}},Ds.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ds.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ds.prototype.upload=function(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Os)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ps),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Ds.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ds.prototype.lineFeatureClips=function(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}},Ds.prototype.addFeature=function(e,t,n,r,i){var o=this.layers[0].layout,a=o.get("line-join").evaluate(e,{}),s=o.get("line-cap"),l=o.get("line-miter-limit"),u=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(var c=0,h=t;c<h.length;c+=1)this.addLine(h[c],e,a,s,l,u);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},Ds.prototype.addLine=function(e,t,n,r,i,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var a=0;a<e.length-1;a++)this.totalDistance+=e[a].dist(e[a+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===Rs[t.type],l=e.length;l>=2&&e[l-1].equals(e[l-2]);)l--;for(var u=0;u<l-1&&e[u].equals(e[u+1]);)u++;if(!(l<(s?3:2))){"bevel"===n&&(i=1.05);var c,h=this.overscaling<=16?122880/(512*this.overscaling):0,p=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray),f=void 0,d=void 0,m=void 0,v=void 0;this.e1=this.e2=-1,s&&(v=e[u].sub(c=e[l-2])._unit()._perp());for(var g=u;g<l;g++)if(!(d=g===l-1?s?e[u+1]:void 0:e[g+1])||!e[g].equals(d)){v&&(m=v),c&&(f=c),c=e[g],v=d?d.sub(c)._unit()._perp():m;var y=(m=m||v).add(v);0===y.x&&0===y.y||y._unit();var _=m.x*v.x+m.y*v.y,b=y.x*v.x+y.y*v.y,x=0!==b?1/b:1/0,w=2*Math.sqrt(2-2*b),S=b<Is&&f&&d,E=m.x*v.y-m.y*v.x>0;if(S&&g>u){var M=c.dist(f);if(M>2*h){var k=c.sub(c.sub(f)._mult(h/M)._round());this.updateDistance(f,k),this.addCurrentVertex(k,m,0,0,p),f=k}}var T=f&&d,A=T?n:s?"butt":r;if(T&&"round"===A&&(x<o?A="miter":x<=2&&(A="fakeround")),"miter"===A&&x>i&&(A="bevel"),"bevel"===A&&(x>2&&(A="flipbevel"),x<i&&(A="miter")),f&&this.updateDistance(f,c),"miter"===A)y._mult(x),this.addCurrentVertex(c,y,0,0,p);else if("flipbevel"===A){if(x>100)y=v.mult(-1);else{var C=x*m.add(v).mag()/m.sub(v).mag();y._perp()._mult(C*(E?-1:1))}this.addCurrentVertex(c,y,0,0,p),this.addCurrentVertex(c,y.mult(-1),0,0,p)}else if("bevel"===A||"fakeround"===A){var P=-Math.sqrt(x*x-1),O=E?P:0,R=E?0:P;if(f&&this.addCurrentVertex(c,m,O,R,p),"fakeround"===A)for(var I=Math.round(180*w/Math.PI/20),L=1;L<I;L++){var D=L/I;if(.5!==D){var z=D-.5;D+=D*z*(D-1)*((1.0904+_*(_*(3.55645-1.43519*_)-3.2452))*z*z+(.848013+_*(.215638*_-1.06021)))}var N=v.sub(m)._mult(D)._add(m)._unit()._mult(E?-1:1);this.addHalfVertex(c,N.x,N.y,!1,E,0,p)}d&&this.addCurrentVertex(c,v,-O,-R,p)}else if("butt"===A)this.addCurrentVertex(c,y,0,0,p);else if("square"===A){var B=f?1:-1;this.addCurrentVertex(c,y,B,B,p)}else"round"===A&&(f&&(this.addCurrentVertex(c,m,0,0,p),this.addCurrentVertex(c,m,1,1,p,!0)),d&&(this.addCurrentVertex(c,v,-1,-1,p,!0),this.addCurrentVertex(c,v,0,0,p)));if(S&&g<l-1){var F=c.dist(d);if(F>2*h){var j=c.add(d.sub(c)._mult(h/F)._round());this.updateDistance(c,j),this.addCurrentVertex(j,v,0,0,p),c=j}}}}},Ds.prototype.addCurrentVertex=function(e,t,n,r,i,o){void 0===o&&(o=!1);var a=t.y*r-t.x,s=-t.y-t.x*r;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,o,!1,n,i),this.addHalfVertex(e,a,s,o,!0,-r,i),this.distance>Ls/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(e,t,n,r,i,o))},Ds.prototype.addHalfVertex=function(e,t,n,r,i,o,a){var s=.5*(this.lineClips?this.scaledDistance*(Ls-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e.x<<1)+(r?1:0),(e.y<<1)+(i?1:0),Math.round(63*t)+128,Math.round(63*n)+128,1+(0===o?0:o<0?-1:1)|(63&s)<<2,s>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var l=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),a.primitiveLength++),i?this.e2=l:this.e1=l},Ds.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Ds.prototype.updateDistance=function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()},Br("LineBucket",Ds,{omit:["layers","patternFeatures"]});var zs=new xi({"line-cap":new vi(Ce.layout_line["line-cap"]),"line-join":new gi(Ce.layout_line["line-join"]),"line-miter-limit":new vi(Ce.layout_line["line-miter-limit"]),"line-round-limit":new vi(Ce.layout_line["line-round-limit"]),"line-sort-key":new gi(Ce.layout_line["line-sort-key"])}),Ns={paint:new xi({"line-opacity":new gi(Ce.paint_line["line-opacity"]),"line-color":new gi(Ce.paint_line["line-color"]),"line-translate":new vi(Ce.paint_line["line-translate"]),"line-translate-anchor":new vi(Ce.paint_line["line-translate-anchor"]),"line-width":new gi(Ce.paint_line["line-width"]),"line-gap-width":new gi(Ce.paint_line["line-gap-width"]),"line-offset":new gi(Ce.paint_line["line-offset"]),"line-blur":new gi(Ce.paint_line["line-blur"]),"line-dasharray":new _i(Ce.paint_line["line-dasharray"]),"line-pattern":new yi(Ce.paint_line["line-pattern"]),"line-gradient":new bi(Ce.paint_line["line-gradient"])}),layout:zs},Bs=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(t,n){return n=new si(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),e.prototype.possiblyEvaluate.call(this,t,n)},t.prototype.evaluate=function(t,n,r,i){return n=p({},n,{zoom:Math.floor(n.zoom)}),e.prototype.evaluate.call(this,t,n,r,i)},t}(gi))(Ns.paint.properties["line-width"].specification);Bs.useIntegerZoom=!0;var Fs=function(e){function t(t){e.call(this,t,Ns),this.gradientVersion=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(e){"line-gradient"===e&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Ht,this.gradientVersion=(this.gradientVersion+1)%s)},t.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},t.prototype.recalculate=function(t,n){e.prototype.recalculate.call(this,t,n),this.paint._values["line-floorwidth"]=Bs.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},t.prototype.createBucket=function(e){return new Ds(e)},t.prototype.queryRadius=function(e){var t=e,n=js(ta("line-width",this,t),ta("line-gap-width",this,t)),r=ta("line-offset",this,t);return n/2+Math.abs(r)+na(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,o,a,s){var l=ra(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),u=s/2*js(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),c=this.paint.get("line-offset").evaluate(t,n);return c&&(r=function(e,t){for(var n=[],r=new i(0,0),o=0;o<e.length;o++){for(var a=e[o],s=[],l=0;l<a.length;l++){var u=a[l],c=a[l+1],h=0===l?r:u.sub(a[l-1])._unit()._perp(),p=l===a.length-1?r:c.sub(u)._unit()._perp(),f=h._add(p)._unit();f._mult(1/(f.x*p.x+f.y*p.y)),s.push(f._mult(t)._add(u))}n.push(s)}return n}(r,c*s)),function(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];if(e.length>=3)for(var o=0;o<i.length;o++)if($o(e,i[o]))return!0;if(Yo(e,i,n))return!0}return!1}(l,r,u)},t.prototype.isTileClipped=function(){return!0},t}(wi);function js(e,t){return t>0?t+2*e:e}var Us=ki([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Vs=ki([{name:"a_projected_pos",components:3,type:"Float32"}],4),Hs=(ki([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),ki([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Ws=(ki([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),ki([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Gs=ki([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function qs(e,t,n){return e.sections.forEach((function(e){e.text=function(e,t,n){var r=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?e=e.toLocaleUpperCase():"lowercase"===r&&(e=e.toLocaleLowerCase()),ai.applyArabicShaping&&(e=ai.applyArabicShaping(e)),e}(e.text,t,n)})),e}ki([{name:"triangle",components:3,type:"Uint16"}]),ki([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ki([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),ki([{type:"Float32",name:"offsetX"}]),ki([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Ys={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Xs=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?i-1:0,p=n?-1:1,f=e[t+h];for(h+=p,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+h],h+=p,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=u}return(f?-1:1)*a*Math.pow(2,o-r)},Zs=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,d=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=d,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+f]=255&a,f+=d,a/=256,u-=8);e[n+f-d]|=128*m},Ks=Js;function Js(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Js.Varint=0,Js.Fixed64=1,Js.Bytes=2,Js.Fixed32=5;var Qs="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function $s(e){return e.type===Js.Bytes?e.readVarint()+e.pos:e.pos+1}function el(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function tl(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function nl(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function rl(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function il(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function ol(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function al(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function sl(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function ll(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function ul(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function cl(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function hl(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function pl(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function fl(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function dl(e,t,n){1===e&&n.readMessage(ml,t)}function ml(e,t,n){if(3===e){var r=n.readMessage(vl,{}),i=r.width,o=r.height,a=r.left,s=r.top,l=r.advance;t.push({id:r.id,bitmap:new ya({width:i+6,height:o+6},r.bitmap),metrics:{width:i,height:o,left:a,top:s,advance:l}})}}function vl(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}function gl(e){for(var t=0,n=0,r=0,i=e;r<i.length;r+=1){var o=i[r];t+=o.w*o.h,n=Math.max(n,o.w)}e.sort((function(e,t){return t.h-e.h}));for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}],s=0,l=0,u=0,c=e;u<c.length;u+=1)for(var h=c[u],p=a.length-1;p>=0;p--){var f=a[p];if(!(h.w>f.w||h.h>f.h)){if(h.x=f.x,h.y=f.y,l=Math.max(l,h.y+h.h),s=Math.max(s,h.x+h.w),h.w===f.w&&h.h===f.h){var d=a.pop();p<a.length&&(a[p]=d)}else h.h===f.h?(f.x+=h.w,f.w-=h.w):h.w===f.w?(f.y+=h.h,f.h-=h.h):(a.push({x:f.x+h.w,y:f.y,w:f.w-h.w,h:h.h}),f.y+=h.h,f.h-=h.h);break}}return{w:s,h:l,fill:t/(s*l)||0}}Js.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=hl(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=fl(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=hl(this.buf,this.pos)+4294967296*hl(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=hl(this.buf,this.pos)+4294967296*fl(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=Xs(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Xs(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return el(e,r,t);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return el(e,r,t);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return el(e,r,t);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return el(e,r,t);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return el(e,r,t);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return el(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Qs?function(e,t,n){return Qs.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var r="",i=t;i<n;){var o,a,s,l=e[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>n)break;1===c?l<128&&(u=l):2===c?128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)<=127&&(u=null):3===c?(a=e[i+2],128==(192&(o=e[i+1]))&&128==(192&a)&&((u=(15&l)<<12|(63&o)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(a=e[i+2],s=e[i+3],128==(192&(o=e[i+1]))&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,r+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),r+=String.fromCharCode(u),i+=c}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Js.Bytes)return e.push(this.readVarint(t));var n=$s(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Js.Bytes)return e.push(this.readSVarint());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Js.Bytes)return e.push(this.readBoolean());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Js.Bytes)return e.push(this.readFloat());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Js.Bytes)return e.push(this.readDouble());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Js.Bytes)return e.push(this.readFixed32());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Js.Bytes)return e.push(this.readSFixed32());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Js.Bytes)return e.push(this.readFixed64());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Js.Bytes)return e.push(this.readSFixed64());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Js.Varint)for(;this.buf[this.pos++]>127;);else if(t===Js.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Js.Fixed32)this.pos+=4;else{if(t!==Js.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),pl(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),pl(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),pl(this.buf,-1&e,this.pos),pl(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),pl(this.buf,-1&e,this.pos),pl(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&tl(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),Zs(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Zs(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&tl(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,Js.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,nl,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,rl,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,al,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,il,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,ol,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,sl,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,ll,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,ul,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,cl,t)},writeBytesField:function(e,t){this.writeTag(e,Js.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Js.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Js.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Js.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Js.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Js.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Js.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Js.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Js.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Js.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var yl=function(e,t){var n=t.pixelRatio,r=t.version,i=t.stretchX,o=t.stretchY,a=t.content;this.paddedRect=e,this.pixelRatio=n,this.stretchX=i,this.stretchY=o,this.content=a,this.version=r},_l={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};_l.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},_l.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},_l.tlbr.get=function(){return this.tl.concat(this.br)},_l.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(yl.prototype,_l);var bl=function(e,t){var n={},r={};this.haveRenderCallbacks=[];var i=[];this.addImages(e,n,i),this.addImages(t,r,i);var o=gl(i),a=new _a({width:o.w||1,height:o.h||1});for(var s in e){var l=e[s],u=n[s].paddedRect;_a.copy(l.data,a,{x:0,y:0},{x:u.x+1,y:u.y+1},l.data)}for(var c in t){var h=t[c],p=r[c].paddedRect,f=p.x+1,d=p.y+1,m=h.data.width,v=h.data.height;_a.copy(h.data,a,{x:0,y:0},{x:f,y:d},h.data),_a.copy(h.data,a,{x:0,y:v-1},{x:f,y:d-1},{width:m,height:1}),_a.copy(h.data,a,{x:0,y:0},{x:f,y:d+v},{width:m,height:1}),_a.copy(h.data,a,{x:m-1,y:0},{x:f-1,y:d},{width:1,height:v}),_a.copy(h.data,a,{x:0,y:0},{x:f+m,y:d},{width:1,height:v})}this.image=a,this.iconPositions=n,this.patternPositions=r};bl.prototype.addImages=function(e,t,n){for(var r in e){var i=e[r],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(o),t[r]=new yl(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}},bl.prototype.patchUpdatedImages=function(e,t){for(var n in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)},bl.prototype.patchUpdatedImage=function(e,t,n){if(e&&t&&e.version!==t.version){e.version=t.version;var r=e.tl;n.update(t.data,void 0,{x:r[0],y:r[1]})}},Br("ImagePosition",yl),Br("ImageAtlas",bl);var xl={horizontal:1,vertical:2,horizontalOnly:3},wl=function(){this.scale=1,this.fontStack="",this.imageName=null};wl.forText=function(e,t){var n=new wl;return n.scale=e||1,n.fontStack=t,n},wl.forImage=function(e){var t=new wl;return t.imageName=e,t};var Sl=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function El(e,t,n,r,i,o,a,s,l,u,c,h,p,f,d,m){var v,g=Sl.fromFeature(e,i);h===xl.vertical&&g.verticalizePunctuation();var y=ai.processBidirectionalText,_=ai.processStyledBidirectionalText;if(y&&1===g.sections.length){v=[];for(var b=0,x=y(g.toString(),Ol(g,u,o,t,r,f,d));b<x.length;b+=1){var w=x[b],S=new Sl;S.text=w,S.sections=g.sections;for(var E=0;E<w.length;E++)S.sectionIndex.push(0);v.push(S)}}else if(_){v=[];for(var M=0,k=_(g.text,g.sectionIndex,Ol(g,u,o,t,r,f,d));M<k.length;M+=1){var T=k[M],A=new Sl;A.text=T[0],A.sectionIndex=T[1],A.sections=g.sections,v.push(A)}}else v=function(e,t){for(var n=[],r=e.text,i=0,o=0,a=t;o<a.length;o+=1){var s=a[o];n.push(e.substring(i,s)),i=s}return i<r.length&&n.push(e.substring(i,r.length)),n}(g,Ol(g,u,o,t,r,f,d));var C=[],P={positionedLines:C,text:g.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:h,iconsInText:!1,verticalizable:!1};return function(e,t,n,r,i,o,a,s,l,u,c,h){for(var p=0,f=-17,d=0,m=0,v="right"===s?1:"left"===s?0:.5,g=0,y=0,_=i;y<_.length;y+=1){var b=_[y];b.trim();var x=b.getMaxScale(),w=24*(x-1),S={positionedGlyphs:[],lineOffset:0};e.positionedLines[g]=S;var E=S.positionedGlyphs,M=0;if(b.length()){for(var k=0;k<b.length();k++){var T=b.getSection(k),A=b.getSectionIndex(k),C=b.getCharCode(k),P=0,O=null,R=null,I=null,L=24,D=!(l===xl.horizontal||!c&&!Yr(C)||c&&(Ml[C]||(W=C,Gr.Arabic(W)||Gr["Arabic Supplement"](W)||Gr["Arabic Extended-A"](W)||Gr["Arabic Presentation Forms-A"](W)||Gr["Arabic Presentation Forms-B"](W))));if(T.imageName){var z=r[T.imageName];if(!z)continue;I=T.imageName,e.iconsInText=e.iconsInText||!0,R=z.paddedRect;var N=z.displaySize;T.scale=24*T.scale/h,P=w+(24-N[1]*T.scale),L=(O={width:N[0],height:N[1],left:1,top:-3,advance:D?N[1]:N[0]}).advance;var B=D?N[0]*T.scale-24*x:N[1]*T.scale-24*x;B>0&&B>M&&(M=B)}else{var F=n[T.fontStack],j=F&&F[C];if(j&&j.rect)R=j.rect,O=j.metrics;else{var U=t[T.fontStack],V=U&&U[C];if(!V)continue;O=V.metrics}P=24*(x-T.scale)}D?(e.verticalizable=!0,E.push({glyph:C,imageName:I,x:p,y:f+P,vertical:D,scale:T.scale,fontStack:T.fontStack,sectionIndex:A,metrics:O,rect:R}),p+=L*T.scale+u):(E.push({glyph:C,imageName:I,x:p,y:f+P,vertical:D,scale:T.scale,fontStack:T.fontStack,sectionIndex:A,metrics:O,rect:R}),p+=O.advance*T.scale+u)}0!==E.length&&(d=Math.max(p-u,d),Il(E,0,E.length-1,v,M)),p=0;var H=o*x+M;S.lineOffset=Math.max(M,w),f+=H,m=Math.max(H,m),++g}else f+=o,++g}var W,G=f- -17,q=Rl(a),Y=q.horizontalAlign,X=q.verticalAlign;(function(e,t,n,r,i,o,a,s,l){var u,c=(t-n)*i;u=o!==a?-s*r- -17:(-r*l+.5)*a;for(var h=0,p=e;h<p.length;h+=1)for(var f=0,d=p[h].positionedGlyphs;f<d.length;f+=1){var m=d[f];m.x+=c,m.y+=u}})(e.positionedLines,v,Y,X,d,m,o,G,i.length),e.top+=-X*G,e.bottom=e.top+G,e.left+=-Y*d,e.right=e.left+d}(P,t,n,r,v,a,s,l,h,u,p,m),!function(e){for(var t=0,n=e;t<n.length;t+=1)if(0!==n[t].positionedGlyphs.length)return!1;return!0}(C)&&P}Sl.fromFeature=function(e,t){for(var n=new Sl,r=0;r<e.sections.length;r++){var i=e.sections[r];i.image?n.addImageSection(i):n.addTextSection(i,t)}return n},Sl.prototype.length=function(){return this.text.length},Sl.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},Sl.prototype.getSectionIndex=function(e){return this.sectionIndex[e]},Sl.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},Sl.prototype.verticalizePunctuation=function(){this.text=function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n+1)||null,i=e.charCodeAt(n-1)||null;t+=r&&Xr(r)&&!Ys[e[n+1]]||i&&Xr(i)&&!Ys[e[n-1]]||!Ys[e[n]]?e[n]:Ys[e[n]]}return t}(this.text)},Sl.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&Ml[this.text.charCodeAt(t)];t++)e++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=e&&Ml[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(e,n),this.sectionIndex=this.sectionIndex.slice(e,n)},Sl.prototype.substring=function(e,t){var n=new Sl;return n.text=this.text.substring(e,t),n.sectionIndex=this.sectionIndex.slice(e,t),n.sections=this.sections,n},Sl.prototype.toString=function(){return this.text},Sl.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce((function(t,n){return Math.max(t,e.sections[n].scale)}),0)},Sl.prototype.addTextSection=function(e,t){this.text+=e.text,this.sections.push(wl.forText(e.scale,e.fontStack||t));for(var n=this.sections.length-1,r=0;r<e.text.length;++r)this.sectionIndex.push(n)},Sl.prototype.addImageSection=function(e){var t=e.image?e.image.name:"";if(0!==t.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(wl.forImage(t)),this.sectionIndex.push(this.sections.length-1)):S("Reached maximum number of images 6401")}else S("Can't add FormattedSection with an empty image.")},Sl.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Ml={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},kl={};function Tl(e,t,n,r,i,o){if(t.imageName){var a=r[t.imageName];return a?a.displaySize[0]*t.scale*24/o+i:0}var s=n[t.fontStack],l=s&&s[e];return l?l.metrics.advance*t.scale+i:0}function Al(e,t,n,r){var i=Math.pow(e-t,2);return r?e<t?i/2:2*i:i+Math.abs(n)*n}function Cl(e,t,n){var r=0;return 10===e&&(r-=1e4),n&&(r+=150),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function Pl(e,t,n,r,i,o){for(var a=null,s=Al(t,n,i,o),l=0,u=r;l<u.length;l+=1){var c=u[l],h=Al(t-c.x,n,i,o)+c.badness;h<=s&&(a=c,s=h)}return{index:e,x:t,priorBreak:a,badness:s}}function Ol(e,t,n,r,i,o,a){if("point"!==o)return[];if(!e)return[];for(var s,l=[],u=function(e,t,n,r,i,o){for(var a=0,s=0;s<e.length();s++){var l=e.getSection(s);a+=Tl(e.getCharCode(s),l,r,i,t,o)}return a/Math.max(1,Math.ceil(a/n))}(e,t,n,r,i,a),c=e.text.indexOf("\u200b")>=0,h=0,p=0;p<e.length();p++){var f=e.getSection(p),d=e.getCharCode(p);if(Ml[d]||(h+=Tl(d,f,r,i,t,a)),p<e.length()-1){var m=!((s=d)<11904||!(Gr["Bopomofo Extended"](s)||Gr.Bopomofo(s)||Gr["CJK Compatibility Forms"](s)||Gr["CJK Compatibility Ideographs"](s)||Gr["CJK Compatibility"](s)||Gr["CJK Radicals Supplement"](s)||Gr["CJK Strokes"](s)||Gr["CJK Symbols and Punctuation"](s)||Gr["CJK Unified Ideographs Extension A"](s)||Gr["CJK Unified Ideographs"](s)||Gr["Enclosed CJK Letters and Months"](s)||Gr["Halfwidth and Fullwidth Forms"](s)||Gr.Hiragana(s)||Gr["Ideographic Description Characters"](s)||Gr["Kangxi Radicals"](s)||Gr["Katakana Phonetic Extensions"](s)||Gr.Katakana(s)||Gr["Vertical Forms"](s)||Gr["Yi Radicals"](s)||Gr["Yi Syllables"](s)));(kl[d]||m||f.imageName)&&l.push(Pl(p+1,h,u,l,Cl(d,e.getCharCode(p+1),m&&c),!1))}}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(Pl(e.length(),h,u,l,0,!0))}function Rl(e){var t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function Il(e,t,n,r,i){if(r||i)for(var o=e[n],a=(e[n].x+o.metrics.advance*o.scale)*r,s=t;s<=n;s++)e[s].x-=a,e[s].y+=i}function Ll(e,t,n,r,i,o){var a,s=e.image;if(s.content){var l=s.content,u=s.pixelRatio||1;a=[l[0]/u,l[1]/u,s.displaySize[0]-l[2]/u,s.displaySize[1]-l[3]/u]}var c,h,p,f,d=t.left*o,m=t.right*o;"width"===n||"both"===n?(f=i[0]+d-r[3],h=i[0]+m+r[1]):h=(f=i[0]+(d+m-s.displaySize[0])/2)+s.displaySize[0];var v=t.top*o,g=t.bottom*o;return"height"===n||"both"===n?(c=i[1]+v-r[0],p=i[1]+g+r[2]):p=(c=i[1]+(v+g-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:c,right:h,bottom:p,left:f,collisionPadding:a}}kl[10]=!0,kl[32]=!0,kl[38]=!0,kl[40]=!0,kl[41]=!0,kl[43]=!0,kl[45]=!0,kl[47]=!0,kl[173]=!0,kl[183]=!0,kl[8203]=!0,kl[8208]=!0,kl[8211]=!0,kl[8231]=!0;var Dl=function(e){function t(t,n,r,i){e.call(this,t,n),this.angle=r,void 0!==i&&(this.segment=i)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(i);function zl(e,t){var n=t.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new si(e+1))};if("source"===n.kind)return{kind:"source"};for(var r=n.zoomStops,i=n.interpolationType,o=0;o<r.length&&r[o]<=e;)o++;for(var a=o=Math.max(0,o-1);a<r.length&&r[a]<e+1;)a++;a=Math.min(r.length-1,a);var s=r[o],l=r[a];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:l,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:l,minSize:n.evaluate(new si(s)),maxSize:n.evaluate(new si(l)),interpolationType:i}}function Nl(e,t,n){var r=t.uSize,i=n.lowerSize;return"source"===e.kind?i/128:"composite"===e.kind?Wt(i/128,n.upperSize/128,t.uSizeT):r}function Bl(e,t){var n=0,r=0;if("constant"===e.kind)r=e.layoutSize;else if("source"!==e.kind){var i=e.interpolationType,o=i?c(an.interpolationFactor(i,t,e.minZoom,e.maxZoom),0,1):0;"camera"===e.kind?r=Wt(e.minSize,e.maxSize,o):n=o}return{uSizeT:n,uSize:r}}Br("Anchor",Dl);var Fl=Object.freeze({__proto__:null,getSizeData:zl,evaluateSizeForFeature:Nl,evaluateSizeForZoom:Bl,SIZE_PACK_FACTOR:128});function jl(e,t,n,r,i){if(void 0===t.segment)return!0;for(var o=t,a=t.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;for(var l=[],u=0;s<n/2;){var c=e[a],h=e[a+1];if(!h)return!1;var p=e[a-1].angleTo(c)-c.angleTo(h);for(p=Math.abs((p+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:p}),u+=p;s-l[0].distance>r;)u-=l.shift().angleDelta;if(u>i)return!1;a++,s+=c.dist(h)}return!0}function Ul(e){for(var t=0,n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function Vl(e,t,n){return e?.6*t*n:0}function Hl(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Wl(e,t,n,r,i,o){for(var a=Vl(n,i,o),s=Hl(n,r)*o,l=0,u=Ul(e)/2,c=0;c<e.length-1;c++){var h=e[c],p=e[c+1],f=h.dist(p);if(l+f>u){var d=(u-l)/f,m=Wt(h.x,p.x,d),v=Wt(h.y,p.y,d),g=new Dl(m,v,p.angleTo(h),c);return g._round(),!a||jl(e,g,s,a,t)?g:void 0}l+=f}}function Gl(e,t,n,r,i,o,a,s,l){var u=Vl(r,o,a),c=Hl(r,i),h=c*a,p=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-h<t/4&&(t=h+t/4),function e(t,n,r,i,o,a,s,l,u){for(var c=a/2,h=Ul(t),p=0,f=n-r,d=[],m=0;m<t.length-1;m++){for(var v=t[m],g=t[m+1],y=v.dist(g),_=g.angleTo(v);f+r<p+y;){var b=((f+=r)-p)/y,x=Wt(v.x,g.x,b),w=Wt(v.y,g.y,b);if(x>=0&&x<u&&w>=0&&w<u&&f-c>=0&&f+c<=h){var S=new Dl(x,w,_,m);S._round(),i&&!jl(t,S,a,i,o)||d.push(S)}}p+=y}return l||d.length||s||(d=e(t,p/2,r,i,o,a,s,!0,u)),d}(e,p?t/2*s%t:(c/2+2*o)*a*s%t,t,u,n,h,p,!1,l)}function ql(e,t,n,r,o){for(var a=[],s=0;s<e.length;s++)for(var l=e[s],u=void 0,c=0;c<l.length-1;c++){var h=l[c],p=l[c+1];h.x<t&&p.x<t||(h.x<t?h=new i(t,h.y+(t-h.x)/(p.x-h.x)*(p.y-h.y))._round():p.x<t&&(p=new i(t,h.y+(t-h.x)/(p.x-h.x)*(p.y-h.y))._round()),h.y<n&&p.y<n||(h.y<n?h=new i(h.x+(n-h.y)/(p.y-h.y)*(p.x-h.x),n)._round():p.y<n&&(p=new i(h.x+(n-h.y)/(p.y-h.y)*(p.x-h.x),n)._round()),h.x>=r&&p.x>=r||(h.x>=r?h=new i(r,h.y+(r-h.x)/(p.x-h.x)*(p.y-h.y))._round():p.x>=r&&(p=new i(r,h.y+(r-h.x)/(p.x-h.x)*(p.y-h.y))._round()),h.y>=o&&p.y>=o||(h.y>=o?h=new i(h.x+(o-h.y)/(p.y-h.y)*(p.x-h.x),o)._round():p.y>=o&&(p=new i(h.x+(o-h.y)/(p.y-h.y)*(p.x-h.x),o)._round()),u&&h.equals(u[u.length-1])||a.push(u=[h]),u.push(p)))))}return a}function Yl(e,t,n,r){var o=[],a=e.image,s=a.pixelRatio,l=a.paddedRect.w-2,u=a.paddedRect.h-2,c=e.right-e.left,h=e.bottom-e.top,p=a.stretchX||[[0,l]],f=a.stretchY||[[0,u]],d=function(e,t){return e+t[1]-t[0]},m=p.reduce(d,0),v=f.reduce(d,0),g=l-m,y=u-v,_=0,b=m,x=0,w=v,S=0,E=g,M=0,k=y;if(a.content&&r){var T=a.content;_=Xl(p,0,T[0]),x=Xl(f,0,T[1]),b=Xl(p,T[0],T[2]),w=Xl(f,T[1],T[3]),S=T[0]-_,M=T[1]-x,E=T[2]-T[0]-b,k=T[3]-T[1]-w}var A=function(r,o,l,u){var p=Kl(r.stretch-_,b,c,e.left),f=Jl(r.fixed-S,E,r.stretch,m),d=Kl(o.stretch-x,w,h,e.top),g=Jl(o.fixed-M,k,o.stretch,v),y=Kl(l.stretch-_,b,c,e.left),T=Jl(l.fixed-S,E,l.stretch,m),A=Kl(u.stretch-x,w,h,e.top),C=Jl(u.fixed-M,k,u.stretch,v),P=new i(p,d),O=new i(y,d),R=new i(y,A),I=new i(p,A),L=new i(f/s,g/s),D=new i(T/s,C/s),z=t*Math.PI/180;if(z){var N=Math.sin(z),B=Math.cos(z),F=[B,-N,N,B];P._matMult(F),O._matMult(F),I._matMult(F),R._matMult(F)}var j=r.stretch+r.fixed,U=o.stretch+o.fixed;return{tl:P,tr:O,bl:I,br:R,tex:{x:a.paddedRect.x+1+j,y:a.paddedRect.y+1+U,w:l.stretch+l.fixed-j,h:u.stretch+u.fixed-U},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:L,pixelOffsetBR:D,minFontScaleX:E/s/c,minFontScaleY:k/s/h,isSDF:n}};if(r&&(a.stretchX||a.stretchY))for(var C=Zl(p,g,m),P=Zl(f,y,v),O=0;O<C.length-1;O++)for(var R=C[O],I=C[O+1],L=0;L<P.length-1;L++)o.push(A(R,P[L],I,P[L+1]));else o.push(A({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:l+1},{fixed:0,stretch:u+1}));return o}function Xl(e,t,n){for(var r=0,i=0,o=e;i<o.length;i+=1){var a=o[i];r+=Math.max(t,Math.min(n,a[1]))-Math.max(t,Math.min(n,a[0]))}return r}function Zl(e,t,n){for(var r=[{fixed:-1,stretch:0}],i=0,o=e;i<o.length;i+=1){var a=o[i],s=a[0],l=a[1],u=r[r.length-1];r.push({fixed:s-u.stretch,stretch:u.stretch}),r.push({fixed:s-u.stretch,stretch:u.stretch+(l-s)})}return r.push({fixed:t+1,stretch:n}),r}function Kl(e,t,n,r){return e/t*n+r}function Jl(e,t,n,r){return e-t*n/r}var Ql=function(e,t,n,r,o,a,s,l,u,c){if(this.boxStartIndex=e.length,u){var h=a.top,p=a.bottom,f=a.collisionPadding;f&&(h-=f[1],p+=f[3]);var d=p-h;d>0&&(d=Math.max(10,d),this.circleDiameter=d)}else{var m=a.top*s-l,v=a.bottom*s+l,g=a.left*s-l,y=a.right*s+l,_=a.collisionPadding;if(_&&(g-=_[0]*s,m-=_[1]*s,y+=_[2]*s,v+=_[3]*s),c){var b=new i(g,m),x=new i(y,m),w=new i(g,v),S=new i(y,v),E=c*Math.PI/180;b._rotate(E),x._rotate(E),w._rotate(E),S._rotate(E),g=Math.min(b.x,x.x,w.x,S.x),y=Math.max(b.x,x.x,w.x,S.x),m=Math.min(b.y,x.y,w.y,S.y),v=Math.max(b.y,x.y,w.y,S.y)}e.emplaceBack(t.x,t.y,g,m,y,v,n,r,o)}this.boxEndIndex=e.length},$l=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=eu),this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function eu(e,t){return e<t?-1:e>t?1:0}function tu(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1);for(var r=1/0,o=1/0,a=-1/0,s=-1/0,l=e[0],u=0;u<l.length;u++){var c=l[u];(!u||c.x<r)&&(r=c.x),(!u||c.y<o)&&(o=c.y),(!u||c.x>a)&&(a=c.x),(!u||c.y>s)&&(s=c.y)}var h=Math.min(a-r,s-o),p=h/2,f=new $l([],nu);if(0===h)return new i(r,o);for(var d=r;d<a;d+=h)for(var m=o;m<s;m+=h)f.push(new ru(d+p,m+p,p,e));for(var v=function(e){for(var t=0,n=0,r=0,i=e[0],o=0,a=i.length,s=a-1;o<a;s=o++){var l=i[o],u=i[s],c=l.x*u.y-u.x*l.y;n+=(l.x+u.x)*c,r+=(l.y+u.y)*c,t+=3*c}return new ru(n/t,r/t,0,e)}(e),g=f.length;f.length;){var y=f.pop();(y.d>v.d||!v.d)&&(v=y,n&&console.log("found best %d after %d probes",Math.round(1e4*y.d)/1e4,g)),y.max-v.d<=t||(f.push(new ru(y.p.x-(p=y.h/2),y.p.y-p,p,e)),f.push(new ru(y.p.x+p,y.p.y-p,p,e)),f.push(new ru(y.p.x-p,y.p.y+p,p,e)),f.push(new ru(y.p.x+p,y.p.y+p,p,e)),g+=4)}return n&&(console.log("num probes: "+g),console.log("best distance: "+v.d)),v.p}function nu(e,t){return t.max-e.max}function ru(e,t,n,r){this.p=new i(e,t),this.h=n,this.d=function(e,t){for(var n=!1,r=1/0,i=0;i<t.length;i++)for(var o=t[i],a=0,s=o.length,l=s-1;a<s;l=a++){var u=o[a],c=o[l];u.y>e.y!=c.y>e.y&&e.x<(c.x-u.x)*(e.y-u.y)/(c.y-u.y)+u.x&&(n=!n),r=Math.min(r,Jo(e,u,c))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}$l.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},$l.prototype.pop=function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},$l.prototype.peek=function(){return this.data[0]},$l.prototype._up=function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var i=e-1>>1,o=t[i];if(n(r,o)>=0)break;t[e]=o,e=i}t[e]=r},$l.prototype._down=function(e){for(var t=this.data,n=this.compare,r=this.length>>1,i=t[e];e<r;){var o=1+(e<<1),a=t[o],s=o+1;if(s<this.length&&n(t[s],a)<0&&(o=s,a=t[s]),n(a,i)>=0)break;t[e]=a,e=o}t[e]=i};var iu=Number.POSITIVE_INFINITY;function ou(e,t){return t[1]!==iu?function(e,t,n){var r=0,i=0;switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(e){case"top-right":case"bottom-right":case"right":r=-t;break;case"top-left":case"bottom-left":case"left":r=t}return[r,i]}(e,t[0],t[1]):function(e,t){var n=0,r=0;t<0&&(t=0);var i=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-t;break;case"top":r=t-7}switch(e){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=t;break;case"right":n=-t}return[n,r]}(e,t[0])}function au(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function su(e,t,n,r,o,a,s,l,u,c,h,p,f,d,m){var v=function(e,t,n,r,o,a,s,l){for(var u=r.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,c=[],h=0,p=t.positionedLines;h<p.length;h+=1)for(var f=p[h],d=0,m=f.positionedGlyphs;d<m.length;d+=1){var v=m[d];if(v.rect){var g=v.rect||{},y=4,_=!0,b=1,x=0,w=(o||l)&&v.vertical,S=v.metrics.advance*v.scale/2;if(l&&t.verticalizable&&(x=f.lineOffset/2-(v.imageName?-(24-v.metrics.width*v.scale)/2:24*(v.scale-1))),v.imageName){var E=s[v.imageName];_=E.sdf,y=1/(b=E.pixelRatio)}var M=o?[v.x+S,v.y]:[0,0],k=o?[0,0]:[v.x+S+n[0],v.y+n[1]-x],T=[0,0];w&&(T=k,k=[0,0]);var A=(v.metrics.left-y)*v.scale-S+k[0],C=(-v.metrics.top-y)*v.scale+k[1],P=A+g.w*v.scale/b,O=C+g.h*v.scale/b,R=new i(A,C),I=new i(P,C),L=new i(A,O),D=new i(P,O);if(w){var z=new i(-S,S- -17),N=-Math.PI/2,B=12-S,F=new i(22-B,-(v.imageName?B:0)),j=new(Function.prototype.bind.apply(i,[null].concat(T)));R._rotateAround(N,z)._add(F)._add(j),I._rotateAround(N,z)._add(F)._add(j),L._rotateAround(N,z)._add(F)._add(j),D._rotateAround(N,z)._add(F)._add(j)}if(u){var U=Math.sin(u),V=Math.cos(u),H=[V,-U,U,V];R._matMult(H),I._matMult(H),L._matMult(H),D._matMult(H)}var W=new i(0,0),G=new i(0,0);c.push({tl:R,tr:I,bl:L,br:D,tex:g,writingMode:t.writingMode,glyphOffset:M,sectionIndex:v.sectionIndex,isSDF:_,pixelOffsetTL:W,pixelOffsetBR:G,minFontScaleX:0,minFontScaleY:0})}}return c}(0,n,l,o,a,s,r,e.allowVerticalPlacement),g=e.textSizeData,y=null;"source"===g.kind?(y=[128*o.layout.get("text-size").evaluate(s,{})])[0]>32640&&S(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===g.kind&&((y=[128*d.compositeTextSizes[0].evaluate(s,{},m),128*d.compositeTextSizes[1].evaluate(s,{},m)])[0]>32640||y[1]>32640)&&S(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),e.addSymbols(e.text,v,y,l,a,s,c,t,u.lineStartIndex,u.lineLength,f,m);for(var _=0,b=h;_<b.length;_+=1)p[b[_]]=e.text.placedSymbolArray.length-1;return 4*v.length}function lu(e){for(var t in e)return e[t];return null}function uu(e,t,n,r){var i=e.compareText;if(t in i){for(var o=i[t],a=o.length-1;a>=0;a--)if(r.dist(o[a])<n)return!0}else i[t]=[];return i[t].push(r),!1}var cu=bs.VectorTileFeature.types,hu=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function pu(e,t,n,r,i,o,a,s,l,u,c,h,p){var f=s?Math.min(32640,Math.round(s[0])):0,d=s?Math.min(32640,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*r),Math.round(32*i),o,a,(f<<1)+(l?1:0),d,16*u,16*c,256*h,256*p)}function fu(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}function du(e){for(var t=0,n=e.sections;t<n.length;t+=1)if(Jr(n[t].text))return!0;return!1}var mu=function(e){this.layoutVertexArray=new Li,this.indexArray=new Ui,this.programConfigurations=e,this.segments=new so,this.dynamicLayoutVertexArray=new Di,this.opacityVertexArray=new zi,this.placedSymbolArray=new $i};mu.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},mu.prototype.upload=function(e,t,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Us.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Vs.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,hu,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(e))},mu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Br("SymbolBuffers",mu);var vu=function(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new so,this.collisionVertexArray=new ji};vu.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Hs.members,!0)},vu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Br("CollisionBuffers",vu);var gu=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=sa([]),this.placementViewportMatrix=sa([]);var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=zl(this.zoom,t["text-size"]),this.iconSizeData=zl(this.zoom,t["icon-size"]);var n=this.layers[0].layout,r=n.get("symbol-sort-key"),i=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&void 0!==r.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map((function(e){return xl[e]}))),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.sourceID=e.sourceID};gu.prototype.createArrays=function(){this.text=new mu(new Do(this.layers,this.zoom,(function(e){return/^text/.test(e)}))),this.icon=new mu(new Do(this.layers,this.zoom,(function(e){return/^icon/.test(e)}))),this.glyphOffsetArray=new no,this.lineVertexArray=new ro,this.symbolInstances=new to},gu.prototype.calculateGlyphDependencies=function(e,t,n,r,i){for(var o=0;o<e.length;o++)if(t[e.charCodeAt(o)]=!0,(n||r)&&i){var a=Ys[e.charAt(o)];a&&(t[a.charCodeAt(0)]=!0)}},gu.prototype.populate=function(e,t,n){var r=this.layers[0],i=r.layout,o=i.get("text-font"),a=i.get("text-field"),s=i.get("icon-image"),l=("constant"!==a.value.kind||a.value.value instanceof rt&&!a.value.value.isEmpty()||a.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),u="constant"!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length>0,c=i.get("symbol-sort-key");if(this.features=[],l||u){for(var h=t.iconDependencies,p=t.glyphDependencies,f=t.availableImages,d=new si(this.zoom),m=0,v=e;m<v.length;m+=1){var g=v[m],y=g.feature,_=g.id,b=g.index,x=g.sourceLayerIndex,w=r._featureFilter.needGeometry,S=Uo(y,w);if(r._featureFilter.filter(d,S,n)){w||(S.geometry=jo(y));var E=void 0;if(l){var M=r.getValueAndResolveTokens("text-field",S,n,f),k=rt.factory(M);du(k)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ii()||this.hasRTLText&&ai.isParsed())&&(E=qs(k,r,S))}var T=void 0;if(u){var A=r.getValueAndResolveTokens("icon-image",S,n,f);T=A instanceof it?A:it.fromString(A)}if(E||T){var C=this.sortFeaturesByKey?c.evaluate(S,{},n):void 0;if(this.features.push({id:_,text:E,icon:T,index:b,sourceLayerIndex:x,geometry:S.geometry,properties:y.properties,type:cu[y.type],sortKey:C}),T&&(h[T.name]=!0),E){var P=o.evaluate(S,{},n).join(","),O="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(xl.vertical)>=0;for(var R=0,I=E.sections;R<I.length;R+=1){var L=I[R];if(L.image)h[L.image.name]=!0;else{var D=qr(E.toString()),z=L.fontStack||P,N=p[z]=p[z]||{};this.calculateGlyphDependencies(L.text,N,O,this.allowVerticalPlacement,D)}}}}}}"line"===i.get("symbol-placement")&&(this.features=function(e){var t={},n={},r=[],i=0;function o(t){r.push(e[t]),i++}function a(e,t,i){var o=n[e];return delete n[e],n[t]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(e,n,i){var o=t[n];return delete t[n],t[e]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function l(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return e+":"+r.x+":"+r.y}for(var u=0;u<e.length;u++){var c=e[u],h=c.geometry,p=c.text?c.text.toString():null;if(p){var f=l(p,h),d=l(p,h,!0);if(f in n&&d in t&&n[f]!==t[d]){var m=s(f,d,h),v=a(f,d,r[m].geometry);delete t[f],delete n[d],n[l(p,r[v].geometry,!0)]=v,r[m].geometry=null}else f in n?a(f,d,h):d in t?s(f,d,h):(o(u),t[f]=i-1,n[d]=i-1)}else o(u)}return r.filter((function(e){return e.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(e,t){return e.sortKey-t.sortKey}))}},gu.prototype.update=function(e,t,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n))},gu.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},gu.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},gu.prototype.upload=function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},gu.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},gu.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},gu.prototype.addToLineVertexArray=function(e,t){var n=this.lineVertexArray.length;if(void 0!==e.segment){for(var r=e.dist(t[e.segment+1]),i=e.dist(t[e.segment]),o={},a=e.segment+1;a<t.length;a++)o[a]={x:t[a].x,y:t[a].y,tileUnitDistanceFromAnchor:r},a<t.length-1&&(r+=t[a+1].dist(t[a]));for(var s=e.segment||0;s>=0;s--)o[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=t[s-1].dist(t[s]));for(var l=0;l<t.length;l++){var u=o[l];this.lineVertexArray.emplaceBack(u.x,u.y,u.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},gu.prototype.addSymbols=function(e,t,n,r,i,o,a,s,l,u,c,h){for(var p=e.indexArray,f=e.layoutVertexArray,d=e.segments.prepareSegment(4*t.length,f,p,this.canOverlap?o.sortKey:void 0),m=this.glyphOffsetArray.length,v=d.vertexLength,g=this.allowVerticalPlacement&&a===xl.vertical?Math.PI/2:0,y=o.text&&o.text.sections,_=0;_<t.length;_++){var b=t[_],x=b.tl,w=b.tr,S=b.bl,E=b.br,M=b.tex,k=b.pixelOffsetTL,T=b.pixelOffsetBR,A=b.minFontScaleX,C=b.minFontScaleY,P=b.glyphOffset,O=b.isSDF,R=b.sectionIndex,I=d.vertexLength,L=P[1];pu(f,s.x,s.y,x.x,L+x.y,M.x,M.y,n,O,k.x,k.y,A,C),pu(f,s.x,s.y,w.x,L+w.y,M.x+M.w,M.y,n,O,T.x,k.y,A,C),pu(f,s.x,s.y,S.x,L+S.y,M.x,M.y+M.h,n,O,k.x,T.y,A,C),pu(f,s.x,s.y,E.x,L+E.y,M.x+M.w,M.y+M.h,n,O,T.x,T.y,A,C),fu(e.dynamicLayoutVertexArray,s,g),p.emplaceBack(I,I+1,I+2),p.emplaceBack(I+1,I+2,I+3),d.vertexLength+=4,d.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(P[0]),_!==t.length-1&&R===t[_+1].sectionIndex||e.programConfigurations.populatePaintArrays(f.length,o,o.index,{},h,y&&y[R])}e.placedSymbolArray.emplaceBack(s.x,s.y,m,this.glyphOffsetArray.length-m,v,l,u,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,0,!1,0,c)},gu.prototype._addCollisionDebugVertex=function(e,t,n,r,i,o){return t.emplaceBack(0,0),e.emplaceBack(n.x,n.y,r,i,Math.round(o.x),Math.round(o.y))},gu.prototype.addCollisionDebugVertices=function(e,t,n,r,o,a,s){var l=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),u=l.vertexLength,c=o.layoutVertexArray,h=o.collisionVertexArray,p=s.anchorX,f=s.anchorY;this._addCollisionDebugVertex(c,h,a,p,f,new i(e,t)),this._addCollisionDebugVertex(c,h,a,p,f,new i(n,t)),this._addCollisionDebugVertex(c,h,a,p,f,new i(n,r)),this._addCollisionDebugVertex(c,h,a,p,f,new i(e,r)),l.vertexLength+=4;var d=o.indexArray;d.emplaceBack(u,u+1),d.emplaceBack(u+1,u+2),d.emplaceBack(u+2,u+3),d.emplaceBack(u+3,u),l.primitiveLength+=4},gu.prototype.addDebugCollisionBoxes=function(e,t,n,r){for(var i=e;i<t;i++){var o=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(o.x1,o.y1,o.x2,o.y2,r?this.textCollisionBox:this.iconCollisionBox,o.anchorPoint,n)}},gu.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new vu(Bi,Ws.members,Yi),this.iconCollisionBox=new vu(Bi,Ws.members,Yi);for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}},gu.prototype._deserializeCollisionBoxesForSymbol=function(e,t,n,r,i,o,a,s,l){for(var u={},c=t;c<n;c++){var h=e.get(c);u.textBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2,anchorPointX:h.anchorPointX,anchorPointY:h.anchorPointY},u.textFeatureIndex=h.featureIndex;break}for(var p=r;p<i;p++){var f=e.get(p);u.verticalTextBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,anchorPointX:f.anchorPointX,anchorPointY:f.anchorPointY},u.verticalTextFeatureIndex=f.featureIndex;break}for(var d=o;d<a;d++){var m=e.get(d);u.iconBox={x1:m.x1,y1:m.y1,x2:m.x2,y2:m.y2,anchorPointX:m.anchorPointX,anchorPointY:m.anchorPointY},u.iconFeatureIndex=m.featureIndex;break}for(var v=s;v<l;v++){var g=e.get(v);u.verticalIconBox={x1:g.x1,y1:g.y1,x2:g.x2,y2:g.y2,anchorPointX:g.anchorPointX,anchorPointY:g.anchorPointY},u.verticalIconFeatureIndex=g.featureIndex;break}return u},gu.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}},gu.prototype.hasTextData=function(){return this.text.segments.get().length>0},gu.prototype.hasIconData=function(){return this.icon.segments.get().length>0},gu.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},gu.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},gu.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},gu.prototype.addIndicesForPlacedSymbol=function(e,t){for(var n=e.placedSymbolArray.get(t),r=n.vertexStartIndex+4*n.numGlyphs,i=n.vertexStartIndex;i<r;i+=4)e.indexArray.emplaceBack(i,i+1,i+2),e.indexArray.emplaceBack(i+1,i+2,i+3)},gu.prototype.getSortedSymbolIndexes=function(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var t=Math.sin(e),n=Math.cos(e),r=[],i=[],o=[],a=0;a<this.symbolInstances.length;++a){o.push(a);var s=this.symbolInstances.get(a);r.push(0|Math.round(t*s.anchorX+n*s.anchorY)),i.push(s.featureIndex)}return o.sort((function(e,t){return r[e]-r[t]||i[t]-i[e]})),o},gu.prototype.addToSortKeyRanges=function(e,t){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})},gu.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var n=0,r=this.symbolInstanceIndexes;n<r.length;n+=1){var i=this.symbolInstances.get(r[n]);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(e,n,r){e>=0&&r.indexOf(e)===n&&t.addIndicesForPlacedSymbol(t.text,e)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Br("SymbolBucket",gu,{omit:["layers","collisionBoxArray","features","compareText"]}),gu.MAX_GLYPHS=65535,gu.addDynamicAttributes=fu;var yu=new xi({"symbol-placement":new vi(Ce.layout_symbol["symbol-placement"]),"symbol-spacing":new vi(Ce.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new vi(Ce.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new gi(Ce.layout_symbol["symbol-sort-key"]),"symbol-z-order":new vi(Ce.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new vi(Ce.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new vi(Ce.layout_symbol["icon-ignore-placement"]),"icon-optional":new vi(Ce.layout_symbol["icon-optional"]),"icon-rotation-alignment":new vi(Ce.layout_symbol["icon-rotation-alignment"]),"icon-size":new gi(Ce.layout_symbol["icon-size"]),"icon-text-fit":new vi(Ce.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new vi(Ce.layout_symbol["icon-text-fit-padding"]),"icon-image":new gi(Ce.layout_symbol["icon-image"]),"icon-rotate":new gi(Ce.layout_symbol["icon-rotate"]),"icon-padding":new vi(Ce.layout_symbol["icon-padding"]),"icon-keep-upright":new vi(Ce.layout_symbol["icon-keep-upright"]),"icon-offset":new gi(Ce.layout_symbol["icon-offset"]),"icon-anchor":new gi(Ce.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new vi(Ce.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new vi(Ce.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new vi(Ce.layout_symbol["text-rotation-alignment"]),"text-field":new gi(Ce.layout_symbol["text-field"]),"text-font":new gi(Ce.layout_symbol["text-font"]),"text-size":new gi(Ce.layout_symbol["text-size"]),"text-max-width":new gi(Ce.layout_symbol["text-max-width"]),"text-line-height":new vi(Ce.layout_symbol["text-line-height"]),"text-letter-spacing":new gi(Ce.layout_symbol["text-letter-spacing"]),"text-justify":new gi(Ce.layout_symbol["text-justify"]),"text-radial-offset":new gi(Ce.layout_symbol["text-radial-offset"]),"text-variable-anchor":new vi(Ce.layout_symbol["text-variable-anchor"]),"text-anchor":new gi(Ce.layout_symbol["text-anchor"]),"text-max-angle":new vi(Ce.layout_symbol["text-max-angle"]),"text-writing-mode":new vi(Ce.layout_symbol["text-writing-mode"]),"text-rotate":new gi(Ce.layout_symbol["text-rotate"]),"text-padding":new vi(Ce.layout_symbol["text-padding"]),"text-keep-upright":new vi(Ce.layout_symbol["text-keep-upright"]),"text-transform":new gi(Ce.layout_symbol["text-transform"]),"text-offset":new gi(Ce.layout_symbol["text-offset"]),"text-allow-overlap":new vi(Ce.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new vi(Ce.layout_symbol["text-ignore-placement"]),"text-optional":new vi(Ce.layout_symbol["text-optional"])}),_u={paint:new xi({"icon-opacity":new gi(Ce.paint_symbol["icon-opacity"]),"icon-color":new gi(Ce.paint_symbol["icon-color"]),"icon-halo-color":new gi(Ce.paint_symbol["icon-halo-color"]),"icon-halo-width":new gi(Ce.paint_symbol["icon-halo-width"]),"icon-halo-blur":new gi(Ce.paint_symbol["icon-halo-blur"]),"icon-translate":new vi(Ce.paint_symbol["icon-translate"]),"icon-translate-anchor":new vi(Ce.paint_symbol["icon-translate-anchor"]),"text-opacity":new gi(Ce.paint_symbol["text-opacity"]),"text-color":new gi(Ce.paint_symbol["text-color"],{runtimeType:Ue,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new gi(Ce.paint_symbol["text-halo-color"]),"text-halo-width":new gi(Ce.paint_symbol["text-halo-width"]),"text-halo-blur":new gi(Ce.paint_symbol["text-halo-blur"]),"text-translate":new vi(Ce.paint_symbol["text-translate"]),"text-translate-anchor":new vi(Ce.paint_symbol["text-translate-anchor"])}),layout:yu},bu=function(e){this.type=e.property.overrides?e.property.overrides.runtimeType:Ne,this.defaultValue=e};bu.prototype.evaluate=function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default},bu.prototype.eachChild=function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)},bu.prototype.outputDefined=function(){return!1},bu.prototype.serialize=function(){return null},Br("FormatSectionOverride",bu,{omit:["defaultValue"]});var xu=function(e){function t(t){e.call(this,t,_u)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,n){if(e.prototype.recalculate.call(this,t,n),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var r=this.layout.get("text-writing-mode");if(r){for(var i=[],o=0,a=r;o<a.length;o+=1){var s=a[o];i.indexOf(s)<0&&i.push(s)}this.layout._values["text-writing-mode"]=i}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},t.prototype.getValueAndResolveTokens=function(e,t,n,r){var i=this.layout.get(e).evaluate(t,{},n,r),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||qn(o.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,(function(t,n){return n in e?String(e[n]):""}))}(t.properties,i)},t.prototype.createBucket=function(e){return new gu(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype._setPaintOverrides=function(){for(var e=0,n=_u.paint.overridableProperties;e<n.length;e+=1){var r=n[e];if(t.hasPaintOverride(this.layout,r)){var i,o=this.paint.get(r),a=new bu(o),s=new Gn(a,o.property.specification);i="constant"===o.value.kind||"source"===o.value.kind?new Xn("source",s):new Zn("composite",s,o.value.zoomStops,o.value._interpolationType),this.paint._values[r]=new di(o.property,i,o.parameters)}}},t.prototype._handleOverridablePaintPropertyUpdate=function(e,n,r){return!(!this.layout||n.isDataDriven()||r.isDataDriven())&&t.hasPaintOverride(this.layout,e)},t.hasPaintOverride=function(e,t){var n=e.get("text-field"),r=_u.paint.properties[t],i=!1,o=function(e){for(var t=0,n=e;t<n.length;t+=1)if(r.overrides&&r.overrides.hasOverride(n[t]))return void(i=!0)};if("constant"===n.value.kind&&n.value.value instanceof rt)o(n.value.value.sections);else if("source"===n.value.kind){var a=function e(t){i||(t instanceof ut&&st(t.value)===Ge?o(t.value.sections):t instanceof ft?o(t.sections):t.eachChild(e))},s=n.value;s._styleExpression&&a(s._styleExpression.expression)}return i},t}(wi),wu={paint:new xi({"background-color":new vi(Ce.paint_background["background-color"]),"background-pattern":new _i(Ce.paint_background["background-pattern"]),"background-opacity":new vi(Ce.paint_background["background-opacity"])})},Su=function(e){function t(t){e.call(this,t,wu)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(wi),Eu={paint:new xi({"raster-opacity":new vi(Ce.paint_raster["raster-opacity"]),"raster-hue-rotate":new vi(Ce.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new vi(Ce.paint_raster["raster-brightness-min"]),"raster-brightness-max":new vi(Ce.paint_raster["raster-brightness-max"]),"raster-saturation":new vi(Ce.paint_raster["raster-saturation"]),"raster-contrast":new vi(Ce.paint_raster["raster-contrast"]),"raster-resampling":new vi(Ce.paint_raster["raster-resampling"]),"raster-fade-duration":new vi(Ce.paint_raster["raster-fade-duration"])})},Mu=function(e){function t(t){e.call(this,t,Eu)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(wi),ku=function(e){function t(t){e.call(this,t,{}),this.implementation=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},t.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},t.prototype.recalculate=function(){},t.prototype.updateTransitions=function(){},t.prototype.hasTransition=function(){},t.prototype.serialize=function(){},t.prototype.onAdd=function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},t.prototype.onRemove=function(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},t}(wi),Tu={circle:pa,heatmap:wa,hillshade:Ea,fill:cs,"fill-extrusion":Ts,line:Fs,symbol:xu,background:Su,raster:Mu},Au=a.HTMLImageElement,Cu=a.HTMLCanvasElement,Pu=a.HTMLVideoElement,Ou=a.ImageData,Ru=a.ImageBitmap,Iu=function(e,t,n,r){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,r)};Iu.prototype.update=function(e,t,n){var r=e.width,i=e.height,o=!(this.size&&this.size[0]===r&&this.size[1]===i||n),a=this.context,s=a.gl;if(this.useMipmap=Boolean(t&&t.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),o)this.size=[r,i],e instanceof Au||e instanceof Cu||e instanceof Pu||e instanceof Ou||Ru&&e instanceof Ru?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,r,i,0,this.format,s.UNSIGNED_BYTE,e.data);else{var l=n||{x:0,y:0},u=l.x,c=l.y;e instanceof Au||e instanceof Cu||e instanceof Pu||e instanceof Ou||Ru&&e instanceof Ru?s.texSubImage2D(s.TEXTURE_2D,0,u,c,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,u,c,r,i,s.RGBA,s.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},Iu.prototype.bind=function(e,t,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),e!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrap=t)},Iu.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Iu.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Lu=function(e){var t=this;this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){t._triggered=!1,t._callback()})};Lu.prototype.trigger=function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){e._triggered=!1,e._callback()}),0))},Lu.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Du=function(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},g(["receive","process"],this),this.invoker=new Lu(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=k()?e:a};function zu(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}Du.prototype.send=function(e,t,n,r,i){var o=this;void 0===i&&(i=!1);var a=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[a]=n);var s=C(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:e,hasCallback:!!n,targetMapId:r,mustQueue:i,sourceMapId:this.mapId,data:Vr(t,s)},s),{cancel:function(){n&&delete o.callbacks[a],o.target.postMessage({id:a,type:"<cancel>",targetMapId:r,sourceMapId:o.mapId})}}},Du.prototype.receive=function(e){var t=e.data,n=t.id;if(n&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){delete this.tasks[n];var r=this.cancelCallbacks[n];delete this.cancelCallbacks[n],r&&r()}else k()||t.mustQueue?(this.tasks[n]=t,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,t)},Du.prototype.process=function(){if(this.taskQueue.length){var e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}},Du.prototype.processTask=function(e,t){var n=this;if("<response>"===t.type){var r=this.callbacks[e];delete this.callbacks[e],r&&(t.error?r(Hr(t.error)):r(null,Hr(t.data)))}else{var i=!1,o=C(this.globalScope)?void 0:[],a=t.hasCallback?function(t,r){i=!0,delete n.cancelCallbacks[e],n.target.postMessage({id:e,type:"<response>",sourceMapId:n.mapId,error:t?Vr(t):null,data:Vr(r,o)},o)}:function(e){i=!0},s=null,l=Hr(t.data);if(this.parent[t.type])s=this.parent[t.type](t.sourceMapId,l,a);else if(this.parent.getWorkerSource){var u=t.type.split(".");s=this.parent.getWorkerSource(t.sourceMapId,u[0],l.source)[u[1]](l,a)}else a(new Error("Could not find function "+t.type));!i&&s&&s.cancel&&(this.cancelCallbacks[e]=s.cancel)}},Du.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Nu=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};Nu.prototype.setNorthEast=function(e){return this._ne=e instanceof Bu?new Bu(e.lng,e.lat):Bu.convert(e),this},Nu.prototype.setSouthWest=function(e){return this._sw=e instanceof Bu?new Bu(e.lng,e.lat):Bu.convert(e),this},Nu.prototype.extend=function(e){var t,n,r=this._sw,i=this._ne;if(e instanceof Bu)t=e,n=e;else{if(!(e instanceof Nu))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(Nu.convert(e)):this.extend(Bu.convert(e)):this;if(n=e._ne,!(t=e._sw)||!n)return this}return r||i?(r.lng=Math.min(t.lng,r.lng),r.lat=Math.min(t.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new Bu(t.lng,t.lat),this._ne=new Bu(n.lng,n.lat)),this},Nu.prototype.getCenter=function(){return new Bu((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Nu.prototype.getSouthWest=function(){return this._sw},Nu.prototype.getNorthEast=function(){return this._ne},Nu.prototype.getNorthWest=function(){return new Bu(this.getWest(),this.getNorth())},Nu.prototype.getSouthEast=function(){return new Bu(this.getEast(),this.getSouth())},Nu.prototype.getWest=function(){return this._sw.lng},Nu.prototype.getSouth=function(){return this._sw.lat},Nu.prototype.getEast=function(){return this._ne.lng},Nu.prototype.getNorth=function(){return this._ne.lat},Nu.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Nu.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Nu.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Nu.prototype.contains=function(e){var t=Bu.convert(e),n=t.lng,r=t.lat,i=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&i},Nu.convert=function(e){return!e||e instanceof Nu?e:new Nu(e)};var Bu=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Bu.prototype.wrap=function(){return new Bu(h(this.lng,-180,180),this.lat)},Bu.prototype.toArray=function(){return[this.lng,this.lat]},Bu.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Bu.prototype.distanceTo=function(e){var t=Math.PI/180,n=this.lat*t,r=e.lat*t,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return 6371008.8*Math.acos(Math.min(i,1))},Bu.prototype.toBounds=function(e){void 0===e&&(e=0);var t=360*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new Nu(new Bu(this.lng-n,this.lat-t),new Bu(this.lng+n,this.lat+t))},Bu.convert=function(e){if(e instanceof Bu)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new Bu(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new Bu(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Fu=2*Math.PI*6371008.8;function ju(e){return Fu*Math.cos(e*Math.PI/180)}function Uu(e){return(180+e)/360}function Vu(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Hu(e,t){return e/ju(t)}function Wu(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}var Gu=function(e,t,n){void 0===n&&(n=0),this.x=+e,this.y=+t,this.z=+n};Gu.fromLngLat=function(e,t){void 0===t&&(t=0);var n=Bu.convert(e);return new Gu(Uu(n.lng),Vu(n.lat),Hu(t,n.lat))},Gu.prototype.toLngLat=function(){return new Bu(360*this.x-180,Wu(this.y))},Gu.prototype.toAltitude=function(){return this.z*ju(Wu(this.y))},Gu.prototype.meterInMercatorCoordinateUnits=function(){return 1/Fu*(e=Wu(this.y),1/Math.cos(e*Math.PI/180));var e};var qu=function(e,t,n){this.z=e,this.x=t,this.y=n,this.key=Zu(0,e,e,t,n)};qu.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},qu.prototype.url=function(e,t){var n,r,i,o,a,s=(r=this.y,i=this.z,o=zu(256*(n=this.x),256*(r=Math.pow(2,i)-r-1),i),a=zu(256*(n+1),256*(r+1),i),o[0]+","+o[1]+","+a[0]+","+a[1]),l=function(e,t,n){for(var r,i="",o=e;o>0;o--)i+=(t&(r=1<<o-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",l).replace("{bbox-epsg-3857}",s)},qu.prototype.getTilePoint=function(e){var t=Math.pow(2,this.z);return new i(8192*(e.x*t-this.x),8192*(e.y*t-this.y))},qu.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Yu=function(e,t){this.wrap=e,this.canonical=t,this.key=Zu(e,t.z,t.z,t.x,t.y)},Xu=function(e,t,n,r,i){this.overscaledZ=e,this.wrap=t,this.canonical=new qu(n,+r,+i),this.key=Zu(t,e,n,r,i)};function Zu(e,t,n,r,i){(e*=2)<0&&(e=-1*e-1);var o=1<<n;return(o*o*e+o*i+r).toString(36)+n.toString(36)+t.toString(36)}Xu.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},Xu.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new Xu(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Xu(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},Xu.prototype.calculateScaledKey=function(e,t){var n=this.canonical.z-e;return e>this.canonical.z?Zu(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):Zu(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)},Xu.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},Xu.prototype.children=function(e){if(this.overscaledZ>=e)return[new Xu(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new Xu(t,this.wrap,t,n,r),new Xu(t,this.wrap,t,n+1,r),new Xu(t,this.wrap,t,n,r+1),new Xu(t,this.wrap,t,n+1,r+1)]},Xu.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},Xu.prototype.wrapped=function(){return new Xu(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Xu.prototype.unwrapTo=function(e){return new Xu(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},Xu.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Xu.prototype.toUnwrapped=function(){return new Yu(this.wrap,this.canonical)},Xu.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Xu.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new Gu(e.x-this.wrap,e.y))},Br("CanonicalTileID",qu),Br("OverscaledTileID",Xu,{omit:["posMatrix"]});var Ku=function(e,t,n){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return S('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=t.height;var r=this.dim=t.height-2;this.data=new Uint32Array(t.data.buffer),this.encoding=n||"mapbox";for(var i=0;i<r;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(r,i)]=this.data[this._idx(r-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,r)]=this.data[this._idx(i,r-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(r,-1)]=this.data[this._idx(r-1,0)],this.data[this._idx(-1,r)]=this.data[this._idx(0,r-1)],this.data[this._idx(r,r)]=this.data[this._idx(r-1,r-1)]};Ku.prototype.get=function(e,t){var n=new Uint8Array(this.data.buffer),r=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])},Ku.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Ku.prototype._idx=function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)},Ku.prototype._unpackMapbox=function(e,t,n){return(256*e*256+256*t+n)/10-1e4},Ku.prototype._unpackTerrarium=function(e,t,n){return 256*e+t+n/256-32768},Ku.prototype.getPixels=function(){return new _a({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Ku.prototype.backfillBorder=function(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var r=t*this.dim,i=t*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(t){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}for(var s=-t*this.dim,l=-n*this.dim,u=o;u<a;u++)for(var c=r;c<i;c++)this.data[this._idx(c,u)]=e.data[this._idx(c+s,u+l)]},Br("DEMData",Ku);var Ju=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}};Ju.prototype.encode=function(e){return this._stringToNumber[e]},Ju.prototype.decode=function(e){return this._numberToString[e]};var Qu=function(e,t,n,r,i){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=n,e._y=r,this.properties=e.properties,this.id=i},$u={geometry:{configurable:!0}};$u.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},$u.geometry.set=function(e){this._geometry=e},Qu.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e},Object.defineProperties(Qu.prototype,$u);var ec=function(){this.state={},this.stateChanges={},this.deletedStates={}};ec.prototype.updateState=function(e,t,n){var r=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][r]=this.stateChanges[e][r]||{},p(this.stateChanges[e][r],n),null===this.deletedStates[e])for(var i in this.deletedStates[e]={},this.state[e])i!==r&&(this.deletedStates[e][i]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][r])for(var o in this.deletedStates[e][r]={},this.state[e][r])n[o]||(this.deletedStates[e][r][o]=null);else for(var a in n)this.deletedStates[e]&&this.deletedStates[e][r]&&null===this.deletedStates[e][r][a]&&delete this.deletedStates[e][r][a]},ec.prototype.removeFeatureState=function(e,t,n){if(null!==this.deletedStates[e]){var r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][r]&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][r])for(n in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][n]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null}},ec.prototype.getState=function(e,t){var n=String(t),r=p({},(this.state[e]||{})[n],(this.stateChanges[e]||{})[n]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var i=this.deletedStates[e][t];if(null===i)return{};for(var o in i)delete r[o]}return r},ec.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},ec.prototype.coalesceChanges=function(e,t){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var o in this.stateChanges[r])this.state[r][o]||(this.state[r][o]={}),p(this.state[r][o],this.stateChanges[r][o]),i[o]=this.state[r][o];n[r]=i}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var l in this.state[a])s[l]={},this.state[a][l]={};else for(var u in this.deletedStates[a]){if(null===this.deletedStates[a][u])this.state[a][u]={};else for(var c=0,h=Object.keys(this.deletedStates[a][u]);c<h.length;c+=1)delete this.state[a][u][h[c]];s[u]=this.state[a][u]}n[a]=n[a]||{},p(n[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var f in e)e[f].setFeatureState(n,t)};var tc=function(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Ir(8192,16,0),this.grid3D=new Ir(8192,16,0),this.featureIndexArray=new oo,this.promoteId=t};function nc(e,t,n,r,i){return _(e,(function(e,o){var a=t instanceof mi?t.get(o):null;return a&&a.evaluate?a.evaluate(n,r,i):a}))}function rc(e){for(var t=1/0,n=1/0,r=-1/0,i=-1/0,o=0,a=e;o<a.length;o+=1){var s=a[o];t=Math.min(t,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x),i=Math.max(i,s.y)}return{minX:t,minY:n,maxX:r,maxY:i}}function ic(e,t){return t-e}tc.prototype.insert=function(e,t,n,r,i,o){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var s=o?this.grid3D:this.grid,l=0;l<t.length;l++){for(var u=t[l],c=[1/0,1/0,-1/0,-1/0],h=0;h<u.length;h++){var p=u[h];c[0]=Math.min(c[0],p.x),c[1]=Math.min(c[1],p.y),c[2]=Math.max(c[2],p.x),c[3]=Math.max(c[3],p.y)}c[0]<8192&&c[1]<8192&&c[2]>=0&&c[3]>=0&&s.insert(a,c[0],c[1],c[2],c[3])}},tc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new bs.VectorTile(new Ks(this.rawTileData)).layers,this.sourceLayerCoder=new Ju(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},tc.prototype.query=function(e,t,n,r){var o=this;this.loadVTLayers();for(var a=e.params||{},s=8192/e.tileSize/e.scale,l=ar(a.filter),u=e.queryGeometry,c=e.queryPadding*s,h=rc(u),p=this.grid.query(h.minX-c,h.minY-c,h.maxX+c,h.maxY+c),f=rc(e.cameraQueryGeometry),d=this.grid3D.query(f.minX-c,f.minY-c,f.maxX+c,f.maxY+c,(function(t,n,r,o){return function(e,t,n,r,o){for(var a=0,s=e;a<s.length;a+=1){var l=s[a];if(t<=l.x&&n<=l.y&&r>=l.x&&o>=l.y)return!0}var u=[new i(t,n),new i(t,o),new i(r,o),new i(r,n)];if(e.length>2)for(var c=0,h=u;c<h.length;c+=1)if($o(e,h[c]))return!0;for(var p=0;p<e.length-1;p++)if(ea(e[p],e[p+1],u))return!0;return!1}(e.cameraQueryGeometry,t-c,n-c,r+c,o+c)})),m=0,v=d;m<v.length;m+=1)p.push(v[m]);p.sort(ic);for(var g,y={},_=function(i){var c=p[i];if(c!==g){g=c;var h=o.featureIndexArray.get(c),f=null;o.loadMatchingFeature(y,h.bucketIndex,h.sourceLayerIndex,h.featureIndex,l,a.layers,a.availableImages,t,n,r,(function(t,n,r){return f||(f=jo(t)),n.queryIntersectsFeature(u,t,r,f,o.z,e.transform,s,e.pixelPosMatrix)}))}},b=0;b<p.length;b++)_(b);return y},tc.prototype.loadMatchingFeature=function(e,t,n,r,i,o,a,s,l,u,c){var h=this.bucketLayerIDs[t];if(!o||function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(o,h)){var f=this.sourceLayerCoder.decode(n),d=this.vtLayers[f].feature(r);if(i.needGeometry){var m=Uo(d,!0);if(!i.filter(new si(this.tileID.overscaledZ),m,this.tileID.canonical))return}else if(!i.filter(new si(this.tileID.overscaledZ),d))return;for(var v=this.getId(d,f),g=0;g<h.length;g++){var y=h[g];if(!(o&&o.indexOf(y)<0)){var _=s[y];if(_){var b={};void 0!==v&&u&&(b=u.getState(_.sourceLayer||"_geojsonTileLayer",v));var x=p({},l[y]);x.paint=nc(x.paint,_.paint,d,b,a),x.layout=nc(x.layout,_.layout,d,b,a);var w=!c||c(d,_,b);if(w){var S=new Qu(d,this.z,this.x,this.y,v);S.layer=x;var E=e[y];void 0===E&&(E=e[y]=[]),E.push({featureIndex:r,feature:S,intersectionZ:w})}}}}}},tc.prototype.lookupSymbolFeatures=function(e,t,n,r,i,o,a,s){var l={};this.loadVTLayers();for(var u=ar(i),c=0,h=e;c<h.length;c+=1)this.loadMatchingFeature(l,n,r,h[c],u,o,a,s,t);return l},tc.prototype.hasLayer=function(e){for(var t=0,n=this.bucketLayerIDs;t<n.length;t+=1)for(var r=0,i=n[t];r<i.length;r+=1)if(e===i[r])return!0;return!1},tc.prototype.getId=function(e,t){var n=e.id;return this.promoteId&&"boolean"==typeof(n=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]])&&(n=Number(n)),n},Br("FeatureIndex",tc,{omit:["rawTileData","sourceLayerCoder"]});var oc=function(e,t){this.tileID=e,this.uid=d(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};oc.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<B.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},oc.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},oc.prototype.loadVectorData=function(e,t,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(var r in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var n={};if(!t)return n;for(var r=function(){var e=o[i],r=e.layerIds.map((function(e){return t.getLayer(e)})).filter(Boolean);if(0!==r.length){e.layers=r,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map((function(e){return r.filter((function(t){return t.id===e}))[0]})));for(var a=0,s=r;a<s.length;a+=1)n[s[a].id]=e}},i=0,o=e;i<o.length;i+=1)r();return n}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof gu){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var o in this.buckets){var a=this.buckets[o];if(a instanceof gu&&a.hasRTLText){this.hasRTLText=!0,ai.isLoading()||ai.isLoaded()||"deferred"!==ii()||oi();break}}for(var s in this.queryPadding=0,this.buckets){var l=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(s).queryRadius(l))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new Ji},oc.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},oc.prototype.getBucket=function(e){return this.buckets[e.id]},oc.prototype.upload=function(e){for(var t in this.buckets){var n=this.buckets[t];n.uploadPending()&&n.upload(e)}var r=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Iu(e,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Iu(e,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},oc.prototype.prepare=function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)},oc.prototype.queryRenderedFeatures=function(e,t,n,r,i,o,a,s,l,u){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:i,scale:o,tileSize:this.tileSize,pixelPosMatrix:u,transform:s,params:a,queryPadding:this.queryPadding*l},e,t,n):{}},oc.prototype.querySourceFeatures=function(e,t){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var r=n.loadVTLayers(),i=t?t.sourceLayer:"",o=r._geojsonTileLayer||r[i];if(o)for(var a=ar(t&&t.filter),s=this.tileID.canonical,l=s.z,u=s.x,c=s.y,h={z:l,x:u,y:c},p=0;p<o.length;p++){var f=o.feature(p);if(a.needGeometry){var d=Uo(f,!0);if(!a.filter(new si(this.tileID.overscaledZ),d,this.tileID.canonical))continue}else if(!a.filter(new si(this.tileID.overscaledZ),f))continue;var m=n.getId(f,i),v=new Qu(f,l,u,c,m);v.tile=h,e.push(v)}}},oc.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},oc.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},oc.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var n=T(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(t)if(this.expirationTime<t)i=!0;else{var o=this.expirationTime-t;o?this.expirationTime=r+Math.max(o,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},oc.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},oc.prototype.setFeatureState=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets)if(t.style.hasLayer(r)){var i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=e[o];if(a&&s&&0!==Object.keys(s).length){i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});var l=t&&t.style&&t.style.getLayer(r);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(i)))}}}},oc.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},oc.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<B.now()},oc.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},oc.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=B.now()+e},oc.prototype.setDependencies=function(e,t){for(var n={},r=0,i=t;r<i.length;r+=1)n[i[r]]=!0;this.dependencies[e]=n},oc.prototype.hasDependency=function(e,t){for(var n=0,r=e;n<r.length;n+=1){var i=this.dependencies[r[n]];if(i)for(var o=0,a=t;o<a.length;o+=1)if(i[a[o]])return!0}return!1};var ac=a.performance,sc=function(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},ac.mark(this._marks.start)};sc.prototype.finish=function(){ac.mark(this._marks.end);var e=ac.getEntriesByName(this._marks.measure);return 0===e.length&&(ac.measure(this._marks.measure,this._marks.start,this._marks.end),e=ac.getEntriesByName(this._marks.measure),ac.clearMarks(this._marks.start),ac.clearMarks(this._marks.end),ac.clearMeasures(this._marks.measure)),e},e.Actor=Du,e.AlphaImage=ya,e.CanonicalTileID=qu,e.CollisionBoxArray=Ji,e.Color=et,e.DEMData=Ku,e.DataConstantProperty=vi,e.DictionaryCoder=Ju,e.EXTENT=8192,e.ErrorEvent=Te,e.EvaluationParameters=si,e.Event=ke,e.Evented=Ae,e.FeatureIndex=tc,e.FillBucket=ss,e.FillExtrusionBucket=Es,e.ImageAtlas=bl,e.ImagePosition=yl,e.LineBucket=Ds,e.LngLat=Bu,e.LngLatBounds=Nu,e.MercatorCoordinate=Gu,e.ONE_EM=24,e.OverscaledTileID=Xu,e.Point=i,e.Point$1=i,e.Properties=xi,e.Protobuf=Ks,e.RGBAImage=_a,e.RequestManager=G,e.RequestPerformance=sc,e.ResourceType=de,e.SegmentVector=so,e.SourceFeatureState=ec,e.StructArrayLayout1ui2=Xi,e.StructArrayLayout2f1f2i16=Fi,e.StructArrayLayout2i4=Ai,e.StructArrayLayout3ui6=Ui,e.StructArrayLayout4i8=Ci,e.SymbolBucket=gu,e.Texture=Iu,e.Tile=oc,e.Transitionable=ci,e.Uniform1f=xo,e.Uniform1i=bo,e.Uniform2f=wo,e.Uniform3f=So,e.Uniform4f=Eo,e.UniformColor=Mo,e.UniformMatrix4f=To,e.UnwrappedTileID=Yu,e.ValidationError=Pe,e.WritingMode=xl,e.ZoomHistory=Wr,e.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},e.addDynamicAttributes=fu,e.asyncAll=function(e,t,n){if(!e.length)return n(null,[]);var r=e.length,i=new Array(e.length),o=null;e.forEach((function(e,a){t(e,(function(e,t){e&&(o=e),i[a]=t,0==--r&&n(o,i)}))}))},e.bezier=l,e.bindAll=g,e.browser=B,e.cacheEntryPossiblyAdded=function(e){++pe>le&&(e.getActor().send("enforceCacheSizeLimit",se),pe=0)},e.clamp=c,e.clearTileCache=function(e){var t=a.caches.delete("mapbox-tiles");e&&t.catch(e).then((function(){return e()}))},e.clipLine=ql,e.clone=function(e){var t=new aa(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=x,e.clone$2=function(e){var t=new aa(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.collisionCircleLayout=Gs,e.config=F,e.create=function(){var e=new aa(16);return aa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=function(){var e=new aa(9);return aa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},e.create$2=function(){var e=new aa(4);return aa!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},e.createCommonjsModule=t,e.createExpression=Yn,e.createLayout=ki,e.createStyleLayer=function(e){return"custom"===e.type?new ku(e):new Tu[e.type](e)},e.cross=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=i*l-o*s,e[1]=o*a-r*l,e[2]=r*s-i*a,e},e.deepEqual=function e(t,n){if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var i in t)if(!e(t[i],n[i]))return!1;return!0}return t===n},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.dot$1=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.ease=u,e.emitValidationErrors=Rr,e.endsWith=y,e.enforceCacheSizeLimit=function(e){ue(),ee&&ee.then((function(t){t.keys().then((function(n){for(var r=0;r<n.length-e;r++)t.delete(n[r])}))}))},e.evaluateSizeForFeature=Nl,e.evaluateSizeForZoom=Bl,e.evaluateVariableOffset=ou,e.evented=ri,e.extend=p,e.featureFilter=ar,e.filterObject=b,e.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.getAnchorAlignment=Rl,e.getAnchorJustification=au,e.getArrayBuffer=be,e.getImage=Se,e.getJSON=function(e,t){return _e(p(e,{type:"json"}),t)},e.getRTLTextPluginStatus=ii,e.getReferrer=ye,e.getVideo=function(e,t){var n,r,i=a.document.createElement("video");i.muted=!0,i.onloadstart=function(){t(null,i)};for(var o=0;o<e.length;o++){var s=a.document.createElement("source");n=e[o],r=void 0,(r=a.document.createElement("a")).href=n,(r.protocol!==a.document.location.protocol||r.host!==a.document.location.host)&&(i.crossOrigin="Anonymous"),s.src=e[o],i.appendChild(s)}return{cancel:function(){}}},e.identity=sa,e.invert=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=t[9],p=t[10],f=t[11],d=t[12],m=t[13],v=t[14],g=t[15],y=n*s-r*a,_=n*l-i*a,b=n*u-o*a,x=r*l-i*s,w=r*u-o*s,S=i*u-o*l,E=c*m-h*d,M=c*v-p*d,k=c*g-f*d,T=h*v-p*m,A=h*g-f*m,C=p*g-f*v,P=y*C-_*A+b*T+x*k-w*M+S*E;return P?(e[0]=(s*C-l*A+u*T)*(P=1/P),e[1]=(i*A-r*C-o*T)*P,e[2]=(m*S-v*w+g*x)*P,e[3]=(p*w-h*S-f*x)*P,e[4]=(l*k-a*C-u*M)*P,e[5]=(n*C-i*k+o*M)*P,e[6]=(v*b-d*S-g*_)*P,e[7]=(c*S-p*b+f*_)*P,e[8]=(a*A-s*k+u*E)*P,e[9]=(r*k-n*A-o*E)*P,e[10]=(d*w-m*b+g*y)*P,e[11]=(h*b-c*w-f*y)*P,e[12]=(s*M-a*T-l*E)*P,e[13]=(n*T-r*M+i*E)*P,e[14]=(m*_-d*x-v*y)*P,e[15]=(c*x-h*_+p*y)*P,e):null},e.isChar=Gr,e.isMapboxURL=q,e.keysDifference=function(e,t){var n=[];for(var r in e)r in t||n.push(r);return n},e.makeRequest=_e,e.mapObject=_,e.mercatorXfromLng=Uu,e.mercatorYfromLat=Vu,e.mercatorZfromAltitude=Hu,e.mul=ca,e.multiply=la,e.mvt=bs,e.nextPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e},e.number=Wt,e.offscreenCanvasSupported=fe,e.ortho=function(e,t,n,r,i,o,a){var s=1/(t-n),l=1/(r-i),u=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=(a+o)*u,e[15]=1,e},e.parseGlyphPBF=function(e){return new Ks(e).readFields(dl,[])},e.pbf=Ks,e.performSymbolLayout=function(e,t,n,r,i,o,a){e.createArrays(),e.tilePixelRatio=8192/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var s=e.layers[0].layout,l=e.layers[0]._unevaluatedLayout._values,u={};if("composite"===e.textSizeData.kind){var c=e.textSizeData,h=c.maxZoom;u.compositeTextSizes=[l["text-size"].possiblyEvaluate(new si(c.minZoom),a),l["text-size"].possiblyEvaluate(new si(h),a)]}if("composite"===e.iconSizeData.kind){var p=e.iconSizeData,f=p.maxZoom;u.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new si(p.minZoom),a),l["icon-size"].possiblyEvaluate(new si(f),a)]}u.layoutTextSize=l["text-size"].possiblyEvaluate(new si(e.zoom+1),a),u.layoutIconSize=l["icon-size"].possiblyEvaluate(new si(e.zoom+1),a),u.textMaxSize=l["text-size"].possiblyEvaluate(new si(18));for(var d=24*s.get("text-line-height"),m="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),v=s.get("text-keep-upright"),g=s.get("text-size"),y=function(){var o=b[_],l=s.get("text-font").evaluate(o,{},a).join(","),c=g.evaluate(o,{},a),h=u.layoutTextSize.evaluate(o,{},a),p=u.layoutIconSize.evaluate(o,{},a),f={horizontal:{},vertical:void 0},y=o.text,x=[0,0];if(y){var w=y.toString(),E=24*s.get("text-letter-spacing").evaluate(o,{},a),M=function(e){for(var t=0,n=e;t<n.length;t+=1)if(r=n[t].charCodeAt(0),Gr.Arabic(r)||Gr["Arabic Supplement"](r)||Gr["Arabic Extended-A"](r)||Gr["Arabic Presentation Forms-A"](r)||Gr["Arabic Presentation Forms-B"](r))return!1;var r;return!0}(w)?E:0,k=s.get("text-anchor").evaluate(o,{},a),T=s.get("text-variable-anchor");if(!T){var A=s.get("text-radial-offset").evaluate(o,{},a);x=A?ou(k,[24*A,iu]):s.get("text-offset").evaluate(o,{},a).map((function(e){return 24*e}))}var C=m?"center":s.get("text-justify").evaluate(o,{},a),P=s.get("symbol-placement"),O="point"===P?24*s.get("text-max-width").evaluate(o,{},a):0,R=function(){e.allowVerticalPlacement&&qr(w)&&(f.vertical=El(y,t,n,i,l,O,d,k,"left",M,x,xl.vertical,!0,P,h,c))};if(!m&&T){for(var I="auto"===C?T.map((function(e){return au(e)})):[C],L=!1,D=0;D<I.length;D++){var z=I[D];if(!f.horizontal[z])if(L)f.horizontal[z]=f.horizontal[0];else{var N=El(y,t,n,i,l,O,d,"center",z,M,x,xl.horizontal,!1,P,h,c);N&&(f.horizontal[z]=N,L=1===N.positionedLines.length)}}R()}else{"auto"===C&&(C=au(k));var B=El(y,t,n,i,l,O,d,k,C,M,x,xl.horizontal,!1,P,h,c);B&&(f.horizontal[C]=B),R(),qr(w)&&m&&v&&(f.vertical=El(y,t,n,i,l,O,d,k,C,M,x,xl.vertical,!1,P,h,c))}}var F=void 0,j=!1;if(o.icon&&o.icon.name){var U=r[o.icon.name];U&&(F=function(e,t,n){var r=Rl(n),i=t[0]-e.displaySize[0]*r.horizontalAlign,o=t[1]-e.displaySize[1]*r.verticalAlign;return{image:e,top:o,bottom:o+e.displaySize[1],left:i,right:i+e.displaySize[0]}}(i[o.icon.name],s.get("icon-offset").evaluate(o,{},a),s.get("icon-anchor").evaluate(o,{},a)),j=U.sdf,void 0===e.sdfIcons?e.sdfIcons=U.sdf:e.sdfIcons!==U.sdf&&S("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(U.pixelRatio!==e.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}var V=lu(f.horizontal)||f.vertical;e.iconsInText=!!V&&V.iconsInText,(V||F)&&function(e,t,n,r,i,o,a,s,l,u,c){var h=o.textMaxSize.evaluate(t,{});void 0===h&&(h=a);var p,f=e.layers[0].layout,d=f.get("icon-offset").evaluate(t,{},c),m=lu(n.horizontal),v=a/24,g=e.tilePixelRatio*v,y=e.tilePixelRatio*h/24,_=e.tilePixelRatio*s,b=e.tilePixelRatio*f.get("symbol-spacing"),x=f.get("text-padding")*e.tilePixelRatio,w=f.get("icon-padding")*e.tilePixelRatio,E=f.get("text-max-angle")/180*Math.PI,M="map"===f.get("text-rotation-alignment")&&"point"!==f.get("symbol-placement"),k="map"===f.get("icon-rotation-alignment")&&"point"!==f.get("symbol-placement"),T=f.get("symbol-placement"),A=b/2,C=f.get("icon-text-fit");r&&"none"!==C&&(e.allowVerticalPlacement&&n.vertical&&(p=Ll(r,n.vertical,C,f.get("icon-text-fit-padding"),d,v)),m&&(r=Ll(r,m,C,f.get("icon-text-fit-padding"),d,v)));var P=function(s,h){h.x<0||h.x>=8192||h.y<0||h.y>=8192||function(e,t,n,r,i,o,a,s,l,u,c,h,p,f,d,m,v,g,y,_,b,x,w,E,M){var k,T,A,C,P,O=e.addToLineVertexArray(t,n),R=0,I=0,L=0,D=0,z=-1,N=-1,B={},F=po(""),j=0,U=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(j=(k=s.layout.get("text-offset").evaluate(b,{},E).map((function(e){return 24*e})))[0],U=k[1]):(j=24*s.layout.get("text-radial-offset").evaluate(b,{},E),U=iu),e.allowVerticalPlacement&&r.vertical){var V=s.layout.get("text-rotate").evaluate(b,{},E)+90;C=new Ql(l,t,u,c,h,r.vertical,p,f,d,V),a&&(P=new Ql(l,t,u,c,h,a,v,g,d,V))}if(i){var H=s.layout.get("icon-rotate").evaluate(b,{}),W="none"!==s.layout.get("icon-text-fit"),G=Yl(i,H,w,W),q=a?Yl(a,H,w,W):void 0;A=new Ql(l,t,u,c,h,i,v,g,!1,H),R=4*G.length;var Y=e.iconSizeData,X=null;"source"===Y.kind?(X=[128*s.layout.get("icon-size").evaluate(b,{})])[0]>32640&&S(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===Y.kind&&((X=[128*x.compositeIconSizes[0].evaluate(b,{},E),128*x.compositeIconSizes[1].evaluate(b,{},E)])[0]>32640||X[1]>32640)&&S(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),e.addSymbols(e.icon,G,X,_,y,b,!1,t,O.lineStartIndex,O.lineLength,-1,E),z=e.icon.placedSymbolArray.length-1,q&&(I=4*q.length,e.addSymbols(e.icon,q,X,_,y,b,xl.vertical,t,O.lineStartIndex,O.lineLength,-1,E),N=e.icon.placedSymbolArray.length-1)}for(var Z in r.horizontal){var K=r.horizontal[Z];if(!T){F=po(K.text);var J=s.layout.get("text-rotate").evaluate(b,{},E);T=new Ql(l,t,u,c,h,K,p,f,d,J)}var Q=1===K.positionedLines.length;if(L+=su(e,t,K,o,s,d,b,m,O,r.vertical?xl.horizontal:xl.horizontalOnly,Q?Object.keys(r.horizontal):[Z],B,z,x,E),Q)break}r.vertical&&(D+=su(e,t,r.vertical,o,s,d,b,m,O,xl.vertical,["vertical"],B,N,x,E));var $=T?T.boxStartIndex:e.collisionBoxArray.length,ee=T?T.boxEndIndex:e.collisionBoxArray.length,te=C?C.boxStartIndex:e.collisionBoxArray.length,ne=C?C.boxEndIndex:e.collisionBoxArray.length,re=A?A.boxStartIndex:e.collisionBoxArray.length,ie=A?A.boxEndIndex:e.collisionBoxArray.length,oe=P?P.boxStartIndex:e.collisionBoxArray.length,ae=P?P.boxEndIndex:e.collisionBoxArray.length,se=-1,le=function(e,t){return e&&e.circleDiameter?Math.max(e.circleDiameter,t):t};se=le(T,se),se=le(C,se),se=le(A,se);var ue=(se=le(P,se))>-1?1:0;ue&&(se*=M/24),e.glyphOffsetArray.length>=gu.MAX_GLYPHS&&S("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==b.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,b.sortKey),e.symbolInstances.emplaceBack(t.x,t.y,B.right>=0?B.right:-1,B.center>=0?B.center:-1,B.left>=0?B.left:-1,B.vertical||-1,z,N,F,$,ee,te,ne,re,ie,oe,ae,u,L,D,R,I,ue,0,p,j,U,se)}(e,h,s,n,r,i,p,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,g,x,M,l,_,w,k,d,t,o,u,c,a)};if("line"===T)for(var O=0,R=ql(t.geometry,0,0,8192,8192);O<R.length;O+=1)for(var I=R[O],L=0,D=Gl(I,b,E,n.vertical||m,r,24,y,e.overscaling,8192);L<D.length;L+=1){var z=D[L];m&&uu(e,m.text,A,z)||P(I,z)}else if("line-center"===T)for(var N=0,B=t.geometry;N<B.length;N+=1){var F=B[N];if(F.length>1){var j=Wl(F,E,n.vertical||m,r,24,y);j&&P(F,j)}}else if("Polygon"===t.type)for(var U=0,V=rs(t.geometry,0);U<V.length;U+=1){var H=V[U],W=tu(H,16);P(H[0],new Dl(W.x,W.y,0))}else if("LineString"===t.type)for(var G=0,q=t.geometry;G<q.length;G+=1){var Y=q[G];P(Y,new Dl(Y[0].x,Y[0].y,0))}else if("Point"===t.type)for(var X=0,Z=t.geometry;X<Z.length;X+=1)for(var K=0,J=Z[X];K<J.length;K+=1){var Q=J[K];P([Q],new Dl(Q.x,Q.y,0))}}(e,o,f,F,r,u,h,p,x,j,a)},_=0,b=e.features;_<b.length;_+=1)y();o&&e.generateCollisionDebugBuffers()},e.perspective=function(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+r)*(o=1/(r-i)),e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e},e.pick=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r];i in e&&(n[i]=e[i])}return n},e.plugin=ai,e.polygonIntersectsPolygon=Wo,e.postMapLoadEvent=ae,e.postTurnstileEvent=ie,e.potpack=gl,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.register=Br,e.registerForPluginStateChange=function(e){return e({pluginStatus:$r,pluginURL:ei}),ri.on("pluginStateChange",e),e},e.renderColorRamp=xa,e.rotate=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+o*s,e[1]=i*l+a*s,e[2]=r*-s+o*l,e[3]=i*-s+a*l,e},e.rotateX=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],h=t[10],p=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+u*r,e[5]=a*i+c*r,e[6]=s*i+h*r,e[7]=l*i+p*r,e[8]=u*i-o*r,e[9]=c*i-a*r,e[10]=h*i-s*r,e[11]=p*i-l*r,e},e.rotateZ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5],h=t[6],p=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+u*r,e[1]=a*i+c*r,e[2]=s*i+h*r,e[3]=l*i+p*r,e[4]=u*i-o*r,e[5]=c*i-a*r,e[6]=h*i-s*r,e[7]=p*i-l*r,e},e.scale=function(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scale$1=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},e.scale$2=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},e.setCacheLimits=function(e,t){se=e,le=t},e.setRTLTextPlugin=function(e,t,n){if(void 0===n&&(n=!1),"deferred"===$r||"loading"===$r||"loaded"===$r)throw new Error("setRTLTextPlugin cannot be called multiple times.");ei=B.resolveURL(e),$r="deferred",Qr=t,ni(),n||oi()},e.sphericalToCartesian=function(e){var t=e[0],n=e[1],r=e[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:t*Math.cos(n)*Math.sin(r),y:t*Math.sin(n)*Math.sin(r),z:t*Math.cos(r)}},e.sqrLen=function(e){var t=e[0],n=e[1];return t*t+n*n},e.styleSpec=Ce,e.sub=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},e.symbolSize=Fl,e.transformMat3=function(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e},e.transformMat4=ha,e.translate=function(e,t,n){var r,i,o,a,s,l,u,c,h,p,f,d,m=n[0],v=n[1],g=n[2];return t===e?(e[12]=t[0]*m+t[4]*v+t[8]*g+t[12],e[13]=t[1]*m+t[5]*v+t[9]*g+t[13],e[14]=t[2]*m+t[6]*v+t[10]*g+t[14],e[15]=t[3]*m+t[7]*v+t[11]*g+t[15]):(i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],p=t[9],f=t[10],d=t[11],e[0]=r=t[0],e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=h,e[9]=p,e[10]=f,e[11]=d,e[12]=r*m+s*v+h*g+t[12],e[13]=i*m+l*v+p*g+t[13],e[14]=o*m+u*v+f*g+t[14],e[15]=a*m+c*v+d*g+t[15]),e},e.triggerPluginCompletionEvent=ti,e.uniqueId=d,e.validateCustomStyleLayer=function(e){var t=[],n=e.id;return void 0===n&&t.push({message:"layers."+n+': missing required property "id"'}),void 0===e.render&&t.push({message:"layers."+n+': missing required method "render"'}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),t},e.validateLight=Cr,e.validateStyle=Ar,e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.vectorTile=bs,e.version="1.13.2",e.warnOnce=S,e.webpSupported=j,e.window=a,e.wrap=h})),r(["./shared"],(function(e){function t(e){var n=typeof e;if("number"===n||"boolean"===n||"string"===n||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var r="[",i=0,o=e;i<o.length;i+=1)r+=t(o[i])+",";return r+"]"}for(var a=Object.keys(e).sort(),s="{",l=0;l<a.length;l++)s+=JSON.stringify(a[l])+":"+t(e[a[l]])+",";return s+"}"}function n(n){for(var r="",i=0,o=e.refProperties;i<o.length;i+=1)r+="/"+t(n[o[i]]);return r}var r=function(e){this.keyCache={},e&&this.replace(e)};r.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},r.prototype.update=function(t,r){for(var i=this,o=0,a=t;o<a.length;o+=1){var s=a[o];this._layerConfigs[s.id]=s;var l=this._layers[s.id]=e.createStyleLayer(s);l._featureFilter=e.featureFilter(l.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var u=0,c=r;u<c.length;u+=1){var h=c[u];delete this.keyCache[h],delete this._layerConfigs[h],delete this._layers[h]}this.familiesBySource={};for(var p=0,f=function(e,t){for(var r={},i=0;i<e.length;i++){var o=t&&t[e[i].id]||n(e[i]);t&&(t[e[i].id]=o);var a=r[o];a||(a=r[o]=[]),a.push(e[i])}var s=[];for(var l in r)s.push(r[l]);return s}(e.values(this._layerConfigs),this.keyCache);p<f.length;p+=1){var d=f[p].map((function(e){return i._layers[e.id]})),m=d[0];if("none"!==m.visibility){var v=m.source||"",g=this.familiesBySource[v];g||(g=this.familiesBySource[v]={});var y=m.sourceLayer||"_geojsonTileLayer",_=g[y];_||(_=g[y]=[]),_.push(d)}}};var i=function(t){var n={},r=[];for(var i in t){var o=t[i],a=n[i]={};for(var s in o){var l=o[+s];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var u={x:0,y:0,w:l.bitmap.width+2,h:l.bitmap.height+2};r.push(u),a[s]={rect:u,metrics:l.metrics}}}}var c=e.potpack(r),h=new e.AlphaImage({width:c.w||1,height:c.h||1});for(var p in t){var f=t[p];for(var d in f){var m=f[+d];if(m&&0!==m.bitmap.width&&0!==m.bitmap.height){var v=n[p][d].rect;e.AlphaImage.copy(m.bitmap,h,{x:0,y:0},{x:v.x+1,y:v.y+1},m.bitmap)}}}this.image=h,this.positions=n};e.register("GlyphAtlas",i);var o=function(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId};function a(t,n,r){for(var i=new e.EvaluationParameters(n),o=0,a=t;o<a.length;o+=1)a[o].recalculate(i,r)}function s(t,n){var r=e.getArrayBuffer(t.request,(function(t,r,i,o){t?n(t):r&&n(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(r)),rawData:r,cacheControl:i,expires:o})}));return function(){r.cancel(),n()}}o.prototype.parse=function(t,n,r,o,s){var l=this;this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var u=new e.DictionaryCoder(Object.keys(t.layers).sort()),c=new e.FeatureIndex(this.tileID,this.promoteId);c.bucketLayerIDs=[];var h,p,f,d,m={},v={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:r},g=n.familiesBySource[this.source];for(var y in g){var _=t.layers[y];if(_){1===_.version&&e.warnOnce('Vector tile source "'+this.source+'" layer "'+y+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var b=u.encode(y),x=[],w=0;w<_.length;w++){var S=_.feature(w),E=c.getId(S,y);x.push({feature:S,id:E,index:w,sourceLayerIndex:b})}for(var M=0,k=g[y];M<k.length;M+=1){var T=k[M],A=T[0];A.minzoom&&this.zoom<Math.floor(A.minzoom)||A.maxzoom&&this.zoom>=A.maxzoom||"none"!==A.visibility&&(a(T,this.zoom,r),(m[A.id]=A.createBucket({index:c.bucketLayerIDs.length,layers:T,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:b,sourceID:this.source})).populate(x,v,this.tileID.canonical),c.bucketLayerIDs.push(T.map((function(e){return e.id}))))}}}var C=e.mapObject(v.glyphDependencies,(function(e){return Object.keys(e).map(Number)}));Object.keys(C).length?o.send("getGlyphs",{uid:this.uid,stacks:C},(function(e,t){h||(h=e,p=t,R.call(l))})):p={};var P=Object.keys(v.iconDependencies);P.length?o.send("getImages",{icons:P,source:this.source,tileID:this.tileID,type:"icons"},(function(e,t){h||(h=e,f=t,R.call(l))})):f={};var O=Object.keys(v.patternDependencies);function R(){if(h)return s(h);if(p&&f&&d){var t=new i(p),n=new e.ImageAtlas(f,d);for(var o in m){var l=m[o];l instanceof e.SymbolBucket?(a(l.layers,this.zoom,r),e.performSymbolLayout(l,p,t.positions,f,n.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):l.hasPattern&&(l instanceof e.LineBucket||l instanceof e.FillBucket||l instanceof e.FillExtrusionBucket)&&(a(l.layers,this.zoom,r),l.addFeatures(v,this.tileID.canonical,n.patternPositions))}this.status="done",s(null,{buckets:e.values(m).filter((function(e){return!e.isEmpty()})),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:n,glyphMap:this.returnDependencies?p:null,iconMap:this.returnDependencies?f:null,glyphPositions:this.returnDependencies?t.positions:null})}}O.length?o.send("getImages",{icons:O,source:this.source,tileID:this.tileID,type:"patterns"},(function(e,t){h||(h=e,d=t,R.call(l))})):d={},R.call(this)};var l=function(e,t,n,r){this.actor=e,this.layerIndex=t,this.availableImages=n,this.loadVectorData=r||s,this.loading={},this.loaded={}};l.prototype.loadTile=function(t,n){var r=this,i=t.uid;this.loading||(this.loading={});var a=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.RequestPerformance(t.request),s=this.loading[i]=new o(t);s.abort=this.loadVectorData(t,(function(t,o){if(delete r.loading[i],t||!o)return s.status="done",r.loaded[i]=s,n(t);var l=o.rawData,u={};o.expires&&(u.expires=o.expires),o.cacheControl&&(u.cacheControl=o.cacheControl);var c={};if(a){var h=a.finish();h&&(c.resourceTiming=JSON.parse(JSON.stringify(h)))}s.vectorTile=o.vectorTile,s.parse(o.vectorTile,r.layerIndex,r.availableImages,r.actor,(function(t,r){if(t||!r)return n(t);n(null,e.extend({rawTileData:l.slice(0)},r,u,c))})),r.loaded=r.loaded||{},r.loaded[i]=s}))},l.prototype.reloadTile=function(e,t){var n=this,r=this.loaded,i=e.uid,o=this;if(r&&r[i]){var a=r[i];a.showCollisionBoxes=e.showCollisionBoxes;var s=function(e,r){var i=a.reloadCallback;i&&(delete a.reloadCallback,a.parse(a.vectorTile,o.layerIndex,n.availableImages,o.actor,i)),t(e,r)};"parsing"===a.status?a.reloadCallback=s:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},l.prototype.abortTile=function(e,t){var n=this.loading,r=e.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),t()},l.prototype.removeTile=function(e,t){var n=this.loaded,r=e.uid;n&&n[r]&&delete n[r],t()};var u=e.window.ImageBitmap,c=function(){this.loaded={}};function h(e,t){if(0!==e.length){p(e[0],t);for(var n=1;n<e.length;n++)p(e[n],!t)}}function p(e,t){for(var n=0,r=0,i=e.length,o=i-1;r<i;o=r++)n+=(e[r][0]-e[o][0])*(e[o][1]+e[r][1]);n>=0!=!!t&&e.reverse()}c.prototype.loadTile=function(t,n){var r=t.uid,i=t.encoding,o=t.rawImageData,a=u&&o instanceof u?this.getImageData(o):o,s=new e.DEMData(r,a,i);this.loaded=this.loaded||{},this.loaded[r]=s,n(null,s)},c.prototype.getImageData=function(t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(t.width,t.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=t.width,this.offscreenCanvas.height=t.height,this.offscreenCanvasContext.drawImage(t,0,0,t.width,t.height);var n=this.offscreenCanvasContext.getImageData(-1,-1,t.width+2,t.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new e.RGBAImage({width:n.width,height:n.height},n.data)},c.prototype.removeTile=function(e){var t=this.loaded,n=e.uid;t&&t[n]&&delete t[n]};var f=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,d=function(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};d.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],n=0,r=this._feature.geometry;n<r.length;n+=1){var i=r[n];t.push([new e.Point$1(i[0],i[1])])}return t}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var l=[],u=0,c=s[a];u<c.length;u+=1){var h=c[u];l.push(new e.Point$1(h[0],h[1]))}o.push(l)}return o},d.prototype.toGeoJSON=function(e,t,n){return f.call(this,e,t,n)};var m=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t};m.prototype.feature=function(e){return new d(this._features[e])};var v=e.vectorTile.VectorTileFeature,g=y;function y(e,t){this.options=t||{},this.features=e,this.length=e.length}function _(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}y.prototype.feature=function(e){return new _(this.features[e],this.options.extent)},_.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var n=0;n<t.length;n++){for(var r=t[n],i=[],o=0;o<r.length;o++)i.push(new e.Point$1(r[o][0],r[o][1]));this.geometry.push(i)}return this.geometry},_.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.y)}return[t,r,n,i]},_.prototype.toGeoJSON=v.prototype.toGeoJSON;var b=w,x=g;function w(t){var n=new e.pbf;return function(e,t){for(var n in e.layers)t.writeMessage(3,S,e.layers[n])}(t,n),n.finish()}function S(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)r.feature=e.feature(n),t.writeMessage(2,E,r);var i=r.keys;for(n=0;n<i.length;n++)t.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)t.writeMessage(4,C,o[n])}function E(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,M,e),t.writeVarintField(3,n.type),t.writeMessage(4,A,n)}function M(e,t){var n=e.feature,r=e.keys,i=e.values,o=e.keycache,a=e.valuecache;for(var s in n.properties){var l=o[s];void 0===l&&(r.push(s),o[s]=l=r.length-1),t.writeVarint(l);var u=n.properties[s],c=typeof u;"string"!==c&&"boolean"!==c&&"number"!==c&&(u=JSON.stringify(u));var h=c+":"+u,p=a[h];void 0===p&&(i.push(u),a[h]=p=i.length-1),t.writeVarint(p)}}function k(e,t){return(t<<3)+(7&e)}function T(e){return e<<1^e>>31}function A(e,t){for(var n=e.loadGeometry(),r=e.type,i=0,o=0,a=n.length,s=0;s<a;s++){var l=n[s],u=1;1===r&&(u=l.length),t.writeVarint(k(1,u));for(var c=3===r?l.length-1:l.length,h=0;h<c;h++){1===h&&1!==r&&t.writeVarint(k(2,c-1));var p=l[h].x-i,f=l[h].y-o;t.writeVarint(T(p)),t.writeVarint(T(f)),i+=p,o+=f}3===r&&t.writeVarint(k(7,1))}}function C(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function P(e,t,n,r){O(e,n,r),O(t,2*n,2*r),O(t,2*n+1,2*r+1)}function O(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function R(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}b.fromVectorTileJs=w,b.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var r in e)n[r]=new g(e[r].features,t),n[r].name=r,n[r].version=t.version,n[r].extent=t.extent;return w({layers:n})},b.GeoJSONWrapper=x;var I=function(e){return e[0]},L=function(e){return e[1]},D=function(e,t,n,r,i){void 0===t&&(t=I),void 0===n&&(n=L),void 0===r&&(r=64),void 0===i&&(i=Float64Array),this.nodeSize=r,this.points=e;for(var o=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(e.length),s=this.coords=new i(2*e.length),l=0;l<e.length;l++)a[l]=l,s[2*l]=t(e[l]),s[2*l+1]=n(e[l]);!function e(t,n,r,i,o,a){if(!(o-i<=r)){var s=i+o>>1;!function e(t,n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(t,n,r,Math.max(i,Math.floor(r-l*c/s+h)),Math.min(o,Math.floor(r+(s-l)*c/s+h)),a)}var p=n[2*r+a],f=i,d=o;for(P(t,n,i,r),n[2*o+a]>p&&P(t,n,i,o);f<d;){for(P(t,n,f,d),f++,d--;n[2*f+a]<p;)f++;for(;n[2*d+a]>p;)d--}n[2*i+a]===p?P(t,n,i,d):P(t,n,++d,o),d<=r&&(i=d+1),r<=d&&(o=d-1)}}(t,n,s,i,o,a%2),e(t,n,r,i,s-1,a+1),e(t,n,r,s+1,o,a+1)}}(a,s,r,0,a.length-1,0)};D.prototype.range=function(e,t,n,r){return function(e,t,n,r,i,o,a){for(var s,l,u=[0,e.length-1,0],c=[];u.length;){var h=u.pop(),p=u.pop(),f=u.pop();if(p-f<=a)for(var d=f;d<=p;d++)l=t[2*d+1],(s=t[2*d])>=n&&s<=i&&l>=r&&l<=o&&c.push(e[d]);else{var m=Math.floor((f+p)/2);l=t[2*m+1],(s=t[2*m])>=n&&s<=i&&l>=r&&l<=o&&c.push(e[m]);var v=(h+1)%2;(0===h?n<=s:r<=l)&&(u.push(f),u.push(m-1),u.push(v)),(0===h?i>=s:o>=l)&&(u.push(m+1),u.push(p),u.push(v))}}return c}(this.ids,this.coords,e,t,n,r,this.nodeSize)},D.prototype.within=function(e,t,n){return function(e,t,n,r,i,o){for(var a=[0,e.length-1,0],s=[],l=i*i;a.length;){var u=a.pop(),c=a.pop(),h=a.pop();if(c-h<=o)for(var p=h;p<=c;p++)R(t[2*p],t[2*p+1],n,r)<=l&&s.push(e[p]);else{var f=Math.floor((h+c)/2),d=t[2*f],m=t[2*f+1];R(d,m,n,r)<=l&&s.push(e[f]);var v=(u+1)%2;(0===u?n-i<=d:r-i<=m)&&(a.push(h),a.push(f-1),a.push(v)),(0===u?n+i>=d:r+i>=m)&&(a.push(f+1),a.push(c),a.push(v))}}return s}(this.ids,this.coords,e,t,n,this.nodeSize)};var z={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},N=function(e){this.options=W(Object.create(z),e),this.trees=new Array(this.options.maxZoom+1)};function B(e,t,n,r,i){return{x:e,y:t,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function F(e,t){var n=e.geometry.coordinates,r=n[1];return{x:V(n[0]),y:H(r),zoom:1/0,index:t,parentId:-1}}function j(e){return{type:"Feature",id:e.id,properties:U(e),geometry:{type:"Point",coordinates:[(r=e.x,360*(r-.5)),(t=e.y,n=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var t,n,r}function U(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return W(W({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function V(e){return e/360+.5}function H(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function W(e,t){for(var n in t)e[n]=t[n];return e}function G(e){return e.x}function q(e){return e.y}function Y(e,t,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var l=((e-n)*a+(t-r)*s)/(a*a+s*s);l>1?(n=i,r=o):l>0&&(n+=a*l,r+=s*l)}return(a=e-n)*a+(s=t-r)*s}function X(e,t,n,r){var i={id:void 0===e?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)Z(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<t.length;r++)Z(e,t[r]);else if("MultiPolygon"===n)for(r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)Z(e,t[r][i])}(i),i}function Z(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function K(e,t,n,r){if(t.geometry){var i=t.geometry.coordinates,o=t.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=t.id;if(n.promoteId?l=t.properties[n.promoteId]:n.generateId&&(l=r||0),"Point"===o)J(i,s);else if("MultiPoint"===o)for(var u=0;u<i.length;u++)J(i[u],s);else if("LineString"===o)Q(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(u=0;u<i.length;u++)Q(i[u],s=[],a,!1),e.push(X(l,"LineString",s,t.properties));return}$(i,s,a,!1)}else if("Polygon"===o)$(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(u=0;u<t.geometry.geometries.length;u++)K(e,{id:l,geometry:t.geometry.geometries[u],properties:t.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<i.length;u++){var c=[];$(i[u],c,a,!0),s.push(c)}}e.push(X(l,o,s,t.properties))}}function J(e,t){t.push(ee(e[0])),t.push(te(e[1])),t.push(0)}function Q(e,t,n,r){for(var i,o,a=0,s=0;s<e.length;s++){var l=ee(e[s][0]),u=te(e[s][1]);t.push(l),t.push(u),t.push(0),s>0&&(a+=r?(i*u-l*o)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(u-o,2))),i=l,o=u}var c=t.length-3;t[2]=1,function e(t,n,r,i){for(var o,a=i,s=r-n>>1,l=r-n,u=t[n],c=t[n+1],h=t[r],p=t[r+1],f=n+3;f<r;f+=3){var d=Y(t[f],t[f+1],u,c,h,p);if(d>a)o=f,a=d;else if(d===a){var m=Math.abs(f-s);m<l&&(o=f,l=m)}}a>i&&(o-n>3&&e(t,n,o,i),t[o+2]=a,r-o>3&&e(t,o,r,i))}(t,0,c,n),t[c+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function $(e,t,n,r){for(var i=0;i<e.length;i++){var o=[];Q(e[i],o,n,r),t.push(o)}}function ee(e){return e/360+.5}function te(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function ne(e,t,n,r,i,o,a,s){if(r/=t,o>=(n/=t)&&a<r)return e;if(a<n||o>=r)return null;for(var l=[],u=0;u<e.length;u++){var c=e[u],h=c.geometry,p=c.type,f=0===i?c.minX:c.minY,d=0===i?c.maxX:c.maxY;if(f>=n&&d<r)l.push(c);else if(!(d<n||f>=r)){var m=[];if("Point"===p||"MultiPoint"===p)re(h,m,n,r,i);else if("LineString"===p)ie(h,m,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===p)ae(h,m,n,r,i,!1);else if("Polygon"===p)ae(h,m,n,r,i,!0);else if("MultiPolygon"===p)for(var v=0;v<h.length;v++){var g=[];ae(h[v],g,n,r,i,!0),g.length&&m.push(g)}if(m.length){if(s.lineMetrics&&"LineString"===p){for(v=0;v<m.length;v++)l.push(X(c.id,p,m[v],c.tags));continue}"LineString"!==p&&"MultiLineString"!==p||(1===m.length?(p="LineString",m=m[0]):p="MultiLineString"),"Point"!==p&&"MultiPoint"!==p||(p=3===m.length?"Point":"MultiPoint"),l.push(X(c.id,p,m,c.tags))}}}return l.length?l:null}function re(e,t,n,r,i){for(var o=0;o<e.length;o+=3){var a=e[o+i];a>=n&&a<=r&&(t.push(e[o]),t.push(e[o+1]),t.push(e[o+2]))}}function ie(e,t,n,r,i,o,a){for(var s,l,u=oe(e),c=0===i?le:ue,h=e.start,p=0;p<e.length-3;p+=3){var f=e[p],d=e[p+1],m=e[p+2],v=e[p+3],g=e[p+4],y=0===i?f:d,_=0===i?v:g,b=!1;a&&(s=Math.sqrt(Math.pow(f-v,2)+Math.pow(d-g,2))),y<n?_>n&&(l=c(u,f,d,v,g,n),a&&(u.start=h+s*l)):y>r?_<r&&(l=c(u,f,d,v,g,r),a&&(u.start=h+s*l)):se(u,f,d,m),_<n&&y>=n&&(l=c(u,f,d,v,g,n),b=!0),_>r&&y<=r&&(l=c(u,f,d,v,g,r),b=!0),!o&&b&&(a&&(u.end=h+s*l),t.push(u),u=oe(e)),a&&(h+=s)}var x=e.length-3;f=e[x],d=e[x+1],m=e[x+2],(y=0===i?f:d)>=n&&y<=r&&se(u,f,d,m),x=u.length-3,o&&x>=3&&(u[x]!==u[0]||u[x+1]!==u[1])&&se(u,u[0],u[1],u[2]),u.length&&t.push(u)}function oe(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ae(e,t,n,r,i,o){for(var a=0;a<e.length;a++)ie(e[a],t,n,r,i,o,!1)}function se(e,t,n,r){e.push(t),e.push(n),e.push(r)}function le(e,t,n,r,i,o){var a=(o-t)/(r-t);return e.push(o),e.push(n+(i-n)*a),e.push(1),a}function ue(e,t,n,r,i,o){var a=(o-n)/(i-n);return e.push(t+(r-t)*a),e.push(o),e.push(1),a}function ce(e,t){for(var n=[],r=0;r<e.length;r++){var i,o=e[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=he(o.geometry,t);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(he(o.geometry[s],t))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var l=[],u=0;u<o.geometry[s].length;u++)l.push(he(o.geometry[s][u],t));i.push(l)}n.push(X(o.id,a,i,o.tags))}return n}function he(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function pe(e,t){if(e.transformed)return e;var n,r,i,o=1<<e.z,a=e.x,s=e.y;for(n=0;n<e.features.length;n++){var l=e.features[n],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(r=0;r<u.length;r+=2)l.geometry.push(fe(u[r],u[r+1],t,o,a,s));else for(r=0;r<u.length;r++){var h=[];for(i=0;i<u[r].length;i+=2)h.push(fe(u[r][i],u[r][i+1],t,o,a,s));l.geometry.push(h)}}return e.transformed=!0,e}function fe(e,t,n,r,i,o){return[Math.round(n*(e*r-i)),Math.round(n*(t*r-o))]}function de(e,t,n,r,i){for(var o=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,me(a,e[s],o,i);var l=e[s].minX,u=e[s].minY,c=e[s].maxX,h=e[s].maxY;l<a.minX&&(a.minX=l),u<a.minY&&(a.minY=u),c>a.maxX&&(a.maxX=c),h>a.maxY&&(a.maxY=h)}return a}function me(e,t,n,r){var i=t.geometry,o=t.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)ve(a,i,e,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)ve(a,i[s],e,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<i.length;l++){var u=i[l];for(s=0;s<u.length;s++)ve(a,u[s],e,n,!0,0===s)}if(a.length){var c=t.tags||null;if("LineString"===o&&r.lineMetrics){for(var h in c={},t.tags)c[h]=t.tags[h];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var p={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==t.id&&(p.id=t.id),e.features.push(p)}}function ve(e,t,n,r,i,o){var a=r*r;if(r>0&&t.size<(i?a:r))n.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===r||t[l+2]>a)&&(n.numSimplified++,s.push(t[l]),s.push(t[l+1])),n.numPoints++;i&&function(e,t){for(var n=0,r=0,i=e.length,o=i-2;r<i;o=r,r+=2)n+=(e[r]-e[o])*(e[r+1]+e[o+1]);if(n>0===t)for(r=0,i=e.length;r<i/2;r+=2){var a=e[r],s=e[r+1];e[r]=e[i-2-r],e[r+1]=e[i-1-r],e[i-2-r]=a,e[i-1-r]=s}}(s,o),e.push(s)}}function ge(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)K(n,e.features[r],t,r);else K(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(e,t){var n=t.buffer/t.extent,r=e,i=ne(e,1,-1-n,n,0,-1,2,t),o=ne(e,1,1-n,2+n,0,-1,2,t);return(i||o)&&(r=ne(e,1,-n,1+n,0,-1,2,t)||[],i&&(r=ce(i,1).concat(r)),o&&(r=r.concat(ce(o,-1)))),r}(r,t)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ye(e,t,n){return 32*((1<<e)*n+t)+e}function _e(e,t){var n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return t(null,null);var i=new m(r.features),o=b(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),t(null,{vectorTile:i,rawData:o.buffer})}N.prototype.load=function(e){var t=this.options,n=t.log,r=t.minZoom,i=t.maxZoom,o=t.nodeSize;n&&console.time("total time");var a="prepare "+e.length+" points";n&&console.time(a),this.points=e;for(var s=[],l=0;l<e.length;l++)e[l].geometry&&s.push(F(e[l],l));this.trees[i+1]=new D(s,G,q,o,Float32Array),n&&console.timeEnd(a);for(var u=i;u>=r;u--){var c=+Date.now();s=this._cluster(s,u),this.trees[u]=new D(s,G,q,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",u,s.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this},N.prototype.getClusters=function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var a=this.getClusters([n,r,180,o],t),s=this.getClusters([-180,r,i,o],t);return a.concat(s)}for(var l=this.trees[this._limitZoom(t)],u=[],c=0,h=l.range(V(n),H(o),V(i),H(r));c<h.length;c+=1){var p=l.points[h[c]];u.push(p.numPoints?j(p):this.points[p.index])}return u},N.prototype.getChildren=function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[t];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=[],l=0,u=i.within(o.x,o.y,a);l<u.length;l+=1){var c=i.points[u[l]];c.parentId===e&&s.push(c.numPoints?j(c):this.points[c.index])}if(0===s.length)throw new Error(r);return s},N.prototype.getLeaves=function(e,t,n){var r=[];return this._appendLeaves(r,e,t=t||10,n=n||0,0),r},N.prototype.getTile=function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),o=this.options,a=o.radius/o.extent,s=(n-a)/i,l=(n+1+a)/i,u={features:[]};return this._addTileFeatures(r.range((t-a)/i,s,(t+1+a)/i,l),r.points,t,n,i,u),0===t&&this._addTileFeatures(r.range(1-a/i,s,1,l),r.points,i,n,i,u),t===i-1&&this._addTileFeatures(r.range(0,s,a/i,l),r.points,-1,n,i,u),u.features.length?u:null},N.prototype.getClusterExpansionZoom=function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t},N.prototype._appendLeaves=function(e,t,n,r,i){for(var o=0,a=this.getChildren(t);o<a.length;o+=1){var s=a[o],l=s.properties;if(l&&l.cluster?i+l.point_count<=r?i+=l.point_count:i=this._appendLeaves(e,l.cluster_id,n,r,i):i<r?i++:e.push(s),e.length===n)break}return i},N.prototype._addTileFeatures=function(e,t,n,r,i,o){for(var a=0,s=e;a<s.length;a+=1){var l=t[s[a]],u=l.numPoints,c={type:1,geometry:[[Math.round(this.options.extent*(l.x*i-n)),Math.round(this.options.extent*(l.y*i-r))]],tags:u?U(l):this.points[l.index].properties},h=void 0;u?h=l.id:this.options.generateId?h=l.index:this.points[l.index].id&&(h=this.points[l.index].id),void 0!==h&&(c.id=h),o.features.push(c)}},N.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))},N.prototype._cluster=function(e,t){for(var n=[],r=this.options,i=r.reduce,o=r.minPoints,a=r.radius/(r.extent*Math.pow(2,t)),s=0;s<e.length;s++){var l=e[s];if(!(l.zoom<=t)){l.zoom=t;for(var u=this.trees[t+1],c=u.within(l.x,l.y,a),h=l.numPoints||1,p=h,f=0,d=c;f<d.length;f+=1){var m=u.points[d[f]];m.zoom>t&&(p+=m.numPoints||1)}if(p>=o){for(var v=l.x*h,g=l.y*h,y=i&&h>1?this._map(l,!0):null,_=(s<<5)+(t+1)+this.points.length,b=0,x=c;b<x.length;b+=1){var w=u.points[x[b]];if(!(w.zoom<=t)){w.zoom=t;var S=w.numPoints||1;v+=w.x*S,g+=w.y*S,w.parentId=_,i&&(y||(y=this._map(l,!0)),i(y,this._map(w)))}}l.parentId=_,n.push(B(v/p,g/p,_,p,y))}else if(n.push(l),p>1)for(var E=0,M=c;E<M.length;E+=1){var k=u.points[M[E]];k.zoom<=t||(k.zoom=t,n.push(k))}}}return n},N.prototype._getOriginId=function(e){return e-this.points.length>>5},N.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},N.prototype._map=function(e,t){if(e.numPoints)return t?W({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?W({},r):r},ge.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ge.prototype.splitTile=function(e,t,n,r,i,o,a){for(var s=[e,t,n,r],l=this.options,u=l.debug;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var c=1<<t,h=ye(t,n,r),p=this.tiles[h];if(!p&&(u>1&&console.time("creation"),p=this.tiles[h]=de(e,t,n,r,l),this.tileCoords.push({z:t,x:n,y:r}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var f="z"+t;this.stats[f]=(this.stats[f]||0)+1,this.total++}if(p.source=e,i){if(t===l.maxZoom||t===i)continue;var d=1<<i-t;if(n!==Math.floor(o/d)||r!==Math.floor(a/d))continue}else if(t===l.indexMaxZoom||p.numPoints<=l.indexMaxPoints)continue;if(p.source=null,0!==e.length){u>1&&console.time("clipping");var m,v,g,y,_,b,x=.5*l.buffer/l.extent,w=.5-x,S=.5+x,E=1+x;m=v=g=y=null,_=ne(e,c,n-x,n+S,0,p.minX,p.maxX,l),b=ne(e,c,n+w,n+E,0,p.minX,p.maxX,l),e=null,_&&(m=ne(_,c,r-x,r+S,1,p.minY,p.maxY,l),v=ne(_,c,r+w,r+E,1,p.minY,p.maxY,l),_=null),b&&(g=ne(b,c,r-x,r+S,1,p.minY,p.maxY,l),y=ne(b,c,r+w,r+E,1,p.minY,p.maxY,l),b=null),u>1&&console.timeEnd("clipping"),s.push(m||[],t+1,2*n,2*r),s.push(v||[],t+1,2*n,2*r+1),s.push(g||[],t+1,2*n+1,2*r),s.push(y||[],t+1,2*n+1,2*r+1)}}},ge.prototype.getTile=function(e,t,n){var r=this.options,i=r.extent,o=r.debug;if(e<0||e>24)return null;var a=1<<e,s=ye(e,t=(t%a+a)%a,n);if(this.tiles[s])return pe(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var l,u=e,c=t,h=n;!l&&u>0;)u--,c=Math.floor(c/2),h=Math.floor(h/2),l=this.tiles[ye(u,c,h)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",u,c,h),o>1&&console.time("drilling down"),this.splitTile(l.source,u,c,h,e,t,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?pe(this.tiles[s],i):null):null};var be=function(t){function n(e,n,r,i){t.call(this,e,n,r,_e),i&&(this.loadGeoJSON=i)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.loadData=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},n.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(r&&r.request&&r.request.collectResourceTiming)&&new e.RequestPerformance(r.request);this.loadGeoJSON(r,(function(o,a){if(o||!a)return n(o);if("object"!=typeof a)return n(new Error("Input data given to '"+r.source+"' is not a valid GeoJSON object."));!function e(t,n){var r,i=t&&t.type;if("FeatureCollection"===i)for(r=0;r<t.features.length;r++)e(t.features[r],n);else if("GeometryCollection"===i)for(r=0;r<t.geometries.length;r++)e(t.geometries[r],n);else if("Feature"===i)e(t.geometry,n);else if("Polygon"===i)h(t.coordinates,n);else if("MultiPolygon"===i)for(r=0;r<t.coordinates.length;r++)h(t.coordinates[r],n);return t}(a,!0);try{if(r.filter){var s=e.createExpression(r.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===s.result)throw new Error(s.value.map((function(e){return e.key+": "+e.message})).join(", "));var l=a.features.filter((function(e){return s.value.evaluate({zoom:0},e)}));a={type:"FeatureCollection",features:l}}t._geoJSONIndex=r.cluster?new N(function(t){var n=t.superclusterOptions,r=t.clusterProperties;if(!r||!n)return n;for(var i={},o={},a={accumulated:null,zoom:0},s={properties:null},l=Object.keys(r),u=0,c=l;u<c.length;u+=1){var h=c[u],p=r[h],f=p[0],d=e.createExpression(p[1]),m=e.createExpression("string"==typeof f?[f,["accumulated"],["get",h]]:f);i[h]=d.value,o[h]=m.value}return n.map=function(e){s.properties=e;for(var t={},n=0,r=l;n<r.length;n+=1){var o=r[n];t[o]=i[o].evaluate(a,s)}return t},n.reduce=function(e,t){s.properties=t;for(var n=0,r=l;n<r.length;n+=1){var i=r[n];a.accumulated=e[i],e[i]=o[i].evaluate(a,s)}},n}(r)).load(a.features):function(e,t){return new ge(e,t)}(a,r.geojsonVtOptions)}catch(o){return n(o)}t.loaded={};var u={};if(i){var c=i.finish();c&&(u.resourceTiming={},u.resourceTiming[r.source]=JSON.parse(JSON.stringify(c)))}n(null,u)}))}},n.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},n.prototype.reloadTile=function(e,n){var r=this.loaded;return r&&r[e.uid]?t.prototype.reloadTile.call(this,e,n):this.loadTile(e,n)},n.prototype.loadGeoJSON=function(t,n){if(t.request)e.getJSON(t.request,n);else{if("string"!=typeof t.data)return n(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."));try{return n(null,JSON.parse(t.data))}catch(e){return n(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."))}}},n.prototype.removeSource=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()},n.prototype.getClusterExpansionZoom=function(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}},n.prototype.getClusterChildren=function(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}},n.prototype.getClusterLeaves=function(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}},n}(l),xe=function(t){var n=this;this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:l,geojson:be},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(n.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');n.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return xe.prototype.setReferrer=function(e,t){this.referrer=t},xe.prototype.setImages=function(e,t,n){for(var r in this.availableImages[e]=t,this.workerSources[e]){var i=this.workerSources[e][r];for(var o in i)i[o].availableImages=t}n()},xe.prototype.setLayers=function(e,t,n){this.getLayerIndex(e).replace(t),n()},xe.prototype.updateLayers=function(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()},xe.prototype.loadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).loadTile(t,n)},xe.prototype.loadDEMTile=function(e,t,n){this.getDEMWorkerSource(e,t.source).loadTile(t,n)},xe.prototype.reloadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).reloadTile(t,n)},xe.prototype.abortTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)},xe.prototype.removeTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)},xe.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)},xe.prototype.removeSource=function(e,t,n){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var r=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==r.removeSource?r.removeSource(t,n):n()}},xe.prototype.loadWorkerSource=function(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}},xe.prototype.syncRTLPluginState=function(t,n,r){try{e.plugin.setState(n);var i=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=i){this.self.importScripts(i);var o=e.plugin.isParsed();r(o?void 0:new Error("RTL Text Plugin failed to import scripts from "+i),o)}}catch(e){r(e.toString())}},xe.prototype.getAvailableImages=function(e){var t=this.availableImages[e];return t||(t=[]),t},xe.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new r),t},xe.prototype.getWorkerSource=function(e,t,n){var r=this;return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][n]||(this.workerSources[e][t][n]=new this.workerSourceTypes[t]({send:function(t,n,i){r.actor.send(t,n,i,e)}},this.getLayerIndex(e),this.getAvailableImages(e))),this.workerSources[e][t][n]},xe.prototype.getDEMWorkerSource=function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new c),this.demWorkerSources[e][t]},xe.prototype.enforceCacheSizeLimit=function(t,n){e.enforceCacheSizeLimit(n)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new xe(self)),xe})),r(["./shared"],(function(e){var t=e.createCommonjsModule((function(e){function t(e){return!n(e)}function n(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{t=new Worker(r),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(r),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var n=t.getImageData(0,0,1,1);return n&&n.width===e.width}()?(void 0===r[n=e&&e.failIfMajorPerformanceCaveat]&&(r[n]=function(e){var n=function(e){var n=document.createElement("canvas"),r=Object.create(t.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=e,n.probablySupportsContext?n.probablySupportsContext("webgl",r)||n.probablySupportsContext("experimental-webgl",r):n.supportsContext?n.supportsContext("webgl",r)||n.supportsContext("experimental-webgl",r):n.getContext("webgl",r)||n.getContext("experimental-webgl",r)}(e);if(!n)return!1;var r=n.createShader(n.VERTEX_SHADER);return!(!r||n.isContextLost())&&(n.shaderSource(r,"void main() {}"),n.compileShader(r),!0===n.getShaderParameter(r,n.COMPILE_STATUS))}(n)),r[n]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var n}e.exports?e.exports=t:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=t,window.mapboxgl.notSupportedReason=n);var r={};t.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),n={create:function(t,n,r){var i=e.window.document.createElement(t);return void 0!==n&&(i.className=n),r&&r.appendChild(i),i},createNS:function(t,n){return e.window.document.createElementNS(t,n)}},r=e.window.document&&e.window.document.documentElement.style;function i(e){if(!r)return e[0];for(var t=0;t<e.length;t++)if(e[t]in r)return e[t];return e[0]}var o,a=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){r&&a&&(o=r[a],r[a]="none")},n.enableDrag=function(){r&&a&&(r[a]=o)};var s=i(["transform","WebkitTransform"]);n.setTransform=function(e,t){e.style[s]=t};var l=!1;try{var u=Object.defineProperty({},"passive",{get:function(){l=!0}});e.window.addEventListener("test",u,u),e.window.removeEventListener("test",u,u)}catch(e){l=!1}n.addEventListener=function(e,t,n,r){void 0===r&&(r={}),e.addEventListener(t,n,"passive"in r&&l?r:r.capture)},n.removeEventListener=function(e,t,n,r){void 0===r&&(r={}),e.removeEventListener(t,n,"passive"in r&&l?r:r.capture)};var c=function t(n){n.preventDefault(),n.stopPropagation(),e.window.removeEventListener("click",t,!0)};function h(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}n.suppressClick=function(){e.window.addEventListener("click",c,!0),e.window.setTimeout((function(){e.window.removeEventListener("click",c,!0)}),0)},n.mousePos=function(t,n){var r=t.getBoundingClientRect();return new e.Point(n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop)},n.touchPos=function(t,n){for(var r=t.getBoundingClientRect(),i=[],o=0;o<n.length;o++)i.push(new e.Point(n[o].clientX-r.left-t.clientLeft,n[o].clientY-r.top-t.clientTop));return i},n.mouseButton=function(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},n.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var p=function(t){function n(){t.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.isLoaded=function(){return this.loaded},n.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var t=0,n=this.requestors;t<n.length;t+=1){var r=n[t];this._notify(r.ids,r.callback)}this.requestors=[]}},n.prototype.getImage=function(e){return this.images[e]},n.prototype.addImage=function(e,t){this._validate(e,t)&&(this.images[e]=t)},n.prototype._validate=function(t,n){var r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchX" value'))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchY" value'))),r=!1),this._validateContent(n.content,n)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "content" value'))),r=!1),r},n.prototype._validateStretch=function(e,t){if(!e)return!0;for(var n=0,r=0,i=e;r<i.length;r+=1){var o=i[r];if(o[0]<n||o[1]<o[0]||t<o[1])return!1;n=o[1]}return!0},n.prototype._validateContent=function(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))},n.prototype.updateImage=function(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0},n.prototype.removeImage=function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()},n.prototype.listImages=function(){return Object.keys(this.images)},n.prototype.getImages=function(e,t){var n=!0;if(!this.isLoaded())for(var r=0,i=e;r<i.length;r+=1)this.images[i[r]]||(n=!1);this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})},n.prototype._notify=function(t,n){for(var r={},i=0,o=t;i<o.length;i+=1){var a=o[i];this.images[a]||this.fire(new e.Event("styleimagemissing",{id:a}));var s=this.images[a];s?r[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}n(null,r)},n.prototype.getPixelSize=function(){var e=this.atlasImage;return{width:e.width,height:e.height}},n.prototype.getPattern=function(t){var n=this.patterns[t],r=this.getImage(t);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},o=new e.ImagePosition(i,r);this.patterns[t]={bin:i,position:o}}return this._updatePatternAtlas(),this.patterns[t].position},n.prototype.bind=function(t){var n=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},n.prototype._updatePatternAtlas=function(){var t=[];for(var n in this.patterns)t.push(this.patterns[n].bin);var r=e.potpack(t),i=r.w,o=r.h,a=this.atlasImage;for(var s in a.resize({width:i||1,height:o||1}),this.patterns){var l=this.patterns[s].bin,u=l.x+1,c=l.y+1,h=this.images[s].data,p=h.width,f=h.height;e.RGBAImage.copy(h,a,{x:0,y:0},{x:u,y:c},{width:p,height:f}),e.RGBAImage.copy(h,a,{x:0,y:f-1},{x:u,y:c-1},{width:p,height:1}),e.RGBAImage.copy(h,a,{x:0,y:0},{x:u,y:c+f},{width:p,height:1}),e.RGBAImage.copy(h,a,{x:p-1,y:0},{x:u-1,y:c},{width:1,height:f}),e.RGBAImage.copy(h,a,{x:0,y:0},{x:u+p,y:c},{width:1,height:f})}this.dirty=!0},n.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},n.prototype.dispatchRenderCallbacks=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var i=this.images[r];h(i)&&this.updateImage(r,i)}}},n}(e.Evented),f=v,d=v,m=1e20;function v(e,t,n,r,i,o){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function g(e,t,n,r,i,o,a){for(var s=0;s<t;s++){for(var l=0;l<n;l++)r[l]=e[l*t+s];for(y(r,i,o,a,n),l=0;l<n;l++)e[l*t+s]=i[l]}for(l=0;l<n;l++){for(s=0;s<t;s++)r[s]=e[l*t+s];for(y(r,i,o,a,t),s=0;s<t;s++)e[l*t+s]=Math.sqrt(i[s])}}function y(e,t,n,r,i){n[0]=0,r[0]=-m,r[1]=+m;for(var o=1,a=0;o<i;o++){for(var s=(e[o]+o*o-(e[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);s<=r[a];)a--,s=(e[o]+o*o-(e[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);n[++a]=o,r[a]=s,r[a+1]=+m}for(o=0,a=0;o<i;o++){for(;r[a+1]<o;)a++;t[o]=(o-n[a])*(o-n[a])+e[n[a]]}}v.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=t.data[4*r+3]/255;this.gridOuter[r]=1===i?0:0===i?m:Math.pow(Math.max(0,.5-i),2),this.gridInner[r]=1===i?m:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(g(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),g(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++)n[r]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[r]-this.gridInner[r])/this.radius+this.cutoff))));return n},f.default=d;var _=function(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}};_.prototype.setURL=function(e){this.url=e},_.prototype.getGlyphs=function(t,n){var r=this,i=[];for(var o in t)for(var a=0,s=t[o];a<s.length;a+=1)i.push({stack:o,id:s[a]});e.asyncAll(i,(function(e,t){var n=e.stack,i=e.id,o=r.entries[n];o||(o=r.entries[n]={glyphs:{},requests:{},ranges:{}});var a=o.glyphs[i];if(void 0===a){if(a=r._tinySDF(o,n,i))return o.glyphs[i]=a,void t(null,{stack:n,id:i,glyph:a});var s=Math.floor(i/256);if(256*s>65535)t(new Error("glyphs > 65535 not supported"));else if(o.ranges[s])t(null,{stack:n,id:i,glyph:a});else{var l=o.requests[s];l||(l=o.requests[s]=[],_.loadGlyphRange(n,s,r.url,r.requestManager,(function(e,t){if(t){for(var n in t)r._doesCharSupportLocalGlyph(+n)||(o.glyphs[+n]=t[+n]);o.ranges[s]=!0}for(var i=0,a=l;i<a.length;i+=1)(0,a[i])(e,t);delete o.requests[s]}))),l.push((function(e,r){e?t(e):r&&t(null,{stack:n,id:i,glyph:r[i]||null})}))}}else t(null,{stack:n,id:i,glyph:a})}),(function(e,t){if(e)n(e);else if(t){for(var r={},i=0,o=t;i<o.length;i+=1){var a=o[i],s=a.stack,l=a.id,u=a.glyph;(r[s]||(r[s]={}))[l]=u&&{id:u.id,bitmap:u.bitmap.clone(),metrics:u.metrics}}n(null,r)}}))},_.prototype._doesCharSupportLocalGlyph=function(t){return!!this.localIdeographFontFamily&&(e.isChar["CJK Unified Ideographs"](t)||e.isChar["Hangul Syllables"](t)||e.isChar.Hiragana(t)||e.isChar.Katakana(t))},_.prototype._tinySDF=function(t,n,r){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(r)){var o=t.tinySDF;if(!o){var a="400";/bold/i.test(n)?a="900":/medium/i.test(n)?a="500":/light/i.test(n)&&(a="200"),o=t.tinySDF=new _.TinySDF(24,3,8,.25,i,a)}return{id:r,bitmap:new e.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},_.loadGlyphRange=function(t,n,r,i,o){var a=256*n,s=a+255,l=i.transformRequest(i.normalizeGlyphsURL(r).replace("{fontstack}",t).replace("{range}",a+"-"+s),e.ResourceType.Glyphs);e.getArrayBuffer(l,(function(t,n){if(t)o(t);else if(n){for(var r={},i=0,a=e.parseGlyphPBF(n);i<a.length;i+=1){var s=a[i];r[s.id]=s}o(null,r)}}))},_.TinySDF=f;var b=function(){this.specification=e.styleSpec.light.position};b.prototype.possiblyEvaluate=function(t,n){return e.sphericalToCartesian(t.expression.evaluate(n))},b.prototype.interpolate=function(t,n,r){return{x:e.number(t.x,n.x,r),y:e.number(t.y,n.y,r),z:e.number(t.z,n.z,r)}};var x=new e.Properties({anchor:new e.DataConstantProperty(e.styleSpec.light.anchor),position:new b,color:new e.DataConstantProperty(e.styleSpec.light.color),intensity:new e.DataConstantProperty(e.styleSpec.light.intensity)}),w=function(t){function n(n){t.call(this),this._transitionable=new e.Transitionable(x),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(t,n){if(void 0===n&&(n={}),!this._validate(e.validateLight,t,n))for(var r in t){var i=t[r];e.endsWith(r,"-transition")?this._transitionable.setTransition(r.slice(0,-"-transition".length),i):this._transitionable.setValue(r,i)}},n.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},n.prototype._validate=function(t,n,r){return(!r||!1!==r.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.styleSpec})))},n}(e.Evented),S=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};S.prototype.getDash=function(e,t){var n=e.join(",")+String(t);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(e,t)),this.dashEntry[n]},S.prototype.getDashRanges=function(e,t,n){var r=[],i=e.length%2==1?-e[e.length-1]*n:0,o=e[0]*n,a=!0;r.push({left:i,right:o,isDash:a,zeroLength:0===e[0]});for(var s=e[0],l=1;l<e.length;l++){var u=e[l];r.push({left:i=s*n,right:o=(s+=u)*n,isDash:a=!a,zeroLength:0===u})}return r},S.prototype.addRoundDash=function(e,t,n){for(var r=t/2,i=-n;i<=n;i++)for(var o=this.width*(this.nextRow+n+i),a=0,s=e[a],l=0;l<this.width;l++){l/s.right>1&&(s=e[++a]);var u=Math.abs(l-s.left),c=Math.abs(l-s.right),h=Math.min(u,c),p=void 0,f=i/n*(r+1);if(s.isDash){var d=r-Math.abs(f);p=Math.sqrt(h*h+d*d)}else p=r-Math.sqrt(h*h+f*f);this.data[o+l]=Math.max(0,Math.min(255,p+128))}},S.prototype.addRegularDash=function(e){for(var t=e.length-1;t>=0;--t){var n=e[t],r=e[t+1];n.zeroLength?e.splice(t,1):r&&r.isDash===n.isDash&&(r.left=n.left,e.splice(t,1))}var i=e[0],o=e[e.length-1];i.isDash===o.isDash&&(i.left=o.left-this.width,o.right=i.right+this.width);for(var a=this.width*this.nextRow,s=0,l=e[s],u=0;u<this.width;u++){u/l.right>1&&(l=e[++s]);var c=Math.abs(u-l.left),h=Math.abs(u-l.right),p=Math.min(c,h);this.data[a+u]=Math.max(0,Math.min(255,(l.isDash?p:-p)+128))}},S.prototype.addDash=function(t,n){var r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return e.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<t.length;a++)o+=t[a];if(0!==o){var s=this.width/o,l=this.getDashRanges(t,this.width,s);n?this.addRoundDash(l,s,r):this.addRegularDash(l)}var u={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:o};return this.nextRow+=i,this.dirty=!0,u},S.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))};var E=function t(n,r){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var i=this.workerPool.acquire(this.id),o=0;o<i.length;o++){var a=new t.Actor(i[o],r,this.id);a.name="Worker "+o,this.actors.push(a)}};function M(t,n,r){var i=function(i,o){if(i)return r(i);if(o){var a=e.pick(e.extend(o,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);o.vector_layers&&(a.vectorLayers=o.vector_layers,a.vectorLayerIds=a.vectorLayers.map((function(e){return e.id}))),a.tiles=n.canonicalizeTileset(a,t.url),r(null,a)}};return t.url?e.getJSON(n.transformRequest(n.normalizeSourceURL(t.url),e.ResourceType.Source),i):e.browser.frame((function(){return i(null,t)}))}E.prototype.broadcast=function(t,n,r){e.asyncAll(this.actors,(function(e,r){e.send(t,n,r)}),r=r||function(){})},E.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},E.prototype.remove=function(){this.actors.forEach((function(e){e.remove()})),this.actors=[],this.workerPool.release(this.id)},E.Actor=e.Actor;var k=function(t,n,r){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=n||0,this.maxzoom=r||24};k.prototype.validateBounds=function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},k.prototype.contains=function(t){var n=Math.pow(2,t.z),r=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n);return t.x>=r&&t.x<o&&t.y>=i&&t.y<a};var T=function(t){function n(n,r,i,o){if(t.call(this),this.id=n,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(r,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=M(this._options,this.map._requestManager,(function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new k(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles,t.map._requestManager._customAccessToken),e.postMapLoadEvent(r.tiles,t.map._getMapId(),t.map._requestManager._skuToken,t.map._requestManager._customAccessToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setSourceProperty=function(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},n.prototype.setTiles=function(e){var t=this;return this.setSourceProperty((function(){t._options.tiles=e})),this},n.prototype.setUrl=function(e){var t=this;return this.setSourceProperty((function(){t.url=e,t._options.url=e})),this},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return e.extend({},this._options)},n.prototype.loadTile=function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),i={request:this.map._requestManager.transformRequest(r,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function o(r,i){return delete t.request,t.aborted?n(null):r&&404!==r.status?n(r):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=n:t.request=t.actor.send("reloadTile",i,o.bind(this)):(t.actor=this.dispatcher.getActor(),t.request=t.actor.send("loadTile",i,o.bind(this)))},n.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)},n.prototype.unloadTile=function(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)},n.prototype.hasTransition=function(){return!1},n}(e.Evented),A=function(t){function n(n,r,i,o){t.call(this),this.id=n,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},r),e.extend(this,e.pick(r,["url","scheme","tileSize"]))}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=M(this._options,this.map._requestManager,(function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new k(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles),e.postMapLoadEvent(r.tiles,t.map._getMapId(),t.map._requestManager._skuToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return e.extend({},this._options)},n.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},n.prototype.loadTile=function(t,n){var r=this,i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),(function(i,o){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(i)t.state="errored",n(i);else if(o){r.map._refreshExpiredTiles&&t.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=r.map.painter.context,s=a.gl;t.texture=r.map.painter.getTileTexture(o.width),t.texture?t.texture.update(o,{useMipmap:!0}):(t.texture=new e.Texture(a,o,s.RGBA,{useMipmap:!0}),t.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),t.state="loaded",e.cacheEntryPossiblyAdded(r.dispatcher),n(null)}}))},n.prototype.abortTile=function(e,t){e.request&&(e.request.cancel(),delete e.request),t()},n.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()},n.prototype.hasTransition=function(){return!1},n}(e.Evented),C=function(t){function n(n,r,i,o){t.call(this,n,r,i,o),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function i(e,r){e&&(t.state="errored",n(e)),r&&(t.dem=r,t.needsHillshadePrepare=!0,t.state="loaded",n(null))}t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),function(r,o){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(r)t.state="errored",n(r);else if(o){this.map._refreshExpiredTiles&&t.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=e.window.ImageBitmap&&o instanceof e.window.ImageBitmap&&e.offscreenCanvasSupported()?o:e.browser.getImageData(o,1),s={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:a,encoding:this.encoding};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",s,i.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},n.prototype._getNeighboringTiles=function(t){var n=t.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,o=0===n.x?t.wrap-1:t.wrap,a=(n.x+1+r)%r,s=n.x+1===r?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(l[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),l},n.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&e.actor.send("removeDEMTile",{uid:e.uid,source:this.id})},n}(A),P=function(t){function n(n,r,i,o){t.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(o),this._data=r.data,this._options=e.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;var a=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*a,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*a,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?Math.min(r.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:e.EXTENT,radius:(r.clusterRadius||50)*a,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter},r.workerOptions)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(n){if(n)t.fire(new e.ErrorEvent(n));else{var r={dataType:"source",sourceDataType:"metadata"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(r.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire(new e.Event("data",r))}}))},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setData=function(t){var n=this;return this._data=t,this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(t){if(t)n.fire(new e.ErrorEvent(t));else{var r={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(r.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new e.Event("data",r))}})),this},n.prototype.getClusterExpansionZoom=function(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this},n.prototype.getClusterChildren=function(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this},n.prototype.getClusterLeaves=function(e,t,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},r),this},n.prototype._updateWorkerData=function(t){var n=this;this._loaded=!1;var r=e.extend({},this.workerOptions),i=this._data;"string"==typeof i?(r.request=this.map._requestManager.transformRequest(e.browser.resolveURL(i),e.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(i),this.actor.send(this.type+".loadData",r,(function(e,i){n._removed||i&&i.abandoned||(n._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[n.id]&&(n._resourceTiming=i.resourceTiming[n.id].slice(0)),n.actor.send(n.type+".coalesce",{source:r.source},null),t(e))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.loadTile=function(t,n){var r=this,i=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(i,{type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(e,o){return delete t.request,t.unloadVectorData(),t.aborted?n(null):e?n(e):(t.loadVectorData(o,r.map.painter,"reloadTile"===i),n(null))}))},n.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0},n.prototype.unloadTile=function(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})},n.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},n.prototype.serialize=function(){return e.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(e.Evented),O=e.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),R=function(t){function n(e,n,r,i){t.call(this),this.id=e,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=n}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(t,n){var r=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(function(i,o){r._loaded=!0,i?r.fire(new e.ErrorEvent(i)):o&&(r.image=o,t&&(r.coordinates=t),n&&n(),r._finishLoading())}))},n.prototype.loaded=function(){return this._loaded},n.prototype.updateImage=function(e){var t=this;return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,(function(){t.texture=null})),this):this},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setCoordinates=function(t){var n=this;this.coordinates=t;var r=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0,s=t;a<s.length;a+=1){var l=s[a];n=Math.min(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.x),o=Math.max(o,l.y)}var u=Math.max(i-n,o-r),c=Math.max(0,Math.floor(-Math.log(u)/Math.LN2)),h=Math.pow(2,c);return new e.CanonicalTileID(c,Math.floor((n+i)/2*h),Math.floor((r+o)/2*h))}(r),this.minzoom=this.maxzoom=this.tileID.z;var i=r.map((function(e){return n.tileID.getTilePoint(e)._round()}));return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this},n.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,O.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new e.Texture(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))},n.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(e.Evented),I=function(t){function n(e,n,r,i){t.call(this,e,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1;var n=this.options;this.urls=[];for(var r=0,i=n.urls;r<i.length;r+=1)this.urls.push(this.map._requestManager.transformRequest(i[r],e.ResourceType.Source).url);e.getVideo(this.urls,(function(n,r){t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(t.video=r,t.video.loop=!0,t.video.addEventListener("playing",(function(){t.map.triggerRepaint()})),t.map&&t.video.play(),t._finishLoading())}))},n.prototype.pause=function(){this.video&&this.video.pause()},n.prototype.play=function(){this.video&&this.video.play()},n.prototype.seek=function(t){if(this.video){var n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+n.start(0)+" and "+n.end(0)+"-second mark."))):this.video.currentTime=t}},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,O.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(R),L=function(t){function n(n,r,i,o){t.call(this,n,r,i,o),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some((function(e){return!Array.isArray(e)||2!==e.length||e.some((function(e){return"number"!=typeof e}))}))||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,r=n.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,O.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(n,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var n=t[e];if(isNaN(n)||n<=0)return!0}return!1},n}(R),D={vector:T,raster:A,"raster-dem":C,geojson:P,video:I,image:R,canvas:L};function z(t,n){var r=e.identity([]);return e.translate(r,r,[1,1,0]),e.scale(r,r,[.5*t.width,.5*t.height,1]),e.multiply(r,r,t.calculatePosMatrix(n.toUnwrapped()))}function N(e,t,n,r,i,o){var a=function(e,t,n){if(e)for(var r=0,i=e;r<i.length;r+=1){var o=t[i[r]];if(o&&o.source===n&&"fill-extrusion"===o.type)return!0}else for(var a in t){var s=t[a];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(i&&i.layers,t,e.id),s=o.maxPitchScaleFactor(),l=e.tilesIn(r,s,a);l.sort(B);for(var u=[],c=0,h=l;c<h.length;c+=1){var p=h[c];u.push({wrappedTileID:p.tileID.wrapped().key,queryResults:p.tile.queryRenderedFeatures(t,n,e._state,p.queryGeometry,p.cameraQueryGeometry,p.scale,i,o,s,z(e.transform,p.tileID))})}var f=function(e){for(var t={},n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.queryResults,s=o.wrappedTileID,l=n[s]=n[s]||{};for(var u in a)for(var c=a[u],h=l[u]=l[u]||{},p=t[u]=t[u]||[],f=0,d=c;f<d.length;f+=1){var m=d[f];h[m.featureIndex]||(h[m.featureIndex]=!0,p.push(m))}}return t}(u);for(var d in f)f[d].forEach((function(t){var n=t.feature,r=e.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return f}function B(e,t){var n=e.tileID,r=t.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var F=function(e,t){this.max=e,this.onRemove=t,this.reset()};F.prototype.reset=function(){for(var e in this.data)for(var t=0,n=this.data[e];t<n.length;t+=1){var r=n[t];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},F.prototype.add=function(e,t,n){var r=this,i=e.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var o={value:t,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout((function(){r.remove(e,o)}),n)),this.data[i].push(o),this.order.push(i),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},F.prototype.has=function(e){return e.wrapped().key in this.data},F.prototype.getAndRemove=function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null},F.prototype._getAndRemoveByKey=function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value},F.prototype.getByKey=function(e){var t=this.data[e];return t?t[0].value:null},F.prototype.get=function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null},F.prototype.remove=function(e,t){if(!this.has(e))return this;var n=e.wrapped().key,r=void 0===t?0:this.data[n].indexOf(t),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this},F.prototype.setMaxSize=function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this},F.prototype.filter=function(e){var t=[];for(var n in this.data)for(var r=0,i=this.data[n];r<i.length;r+=1){var o=i[r];e(o.value)||t.push(o)}for(var a=0,s=t;a<s.length;a+=1){var l=s[a];this.remove(l.value.tileID,l)}};var j=function(e,t,n){this.context=e;var r=e.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};j.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},j.prototype.updateData=function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},j.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var U={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},V=function(e,t,n,r){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=r,this.context=e;var i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};V.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},V.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},V.prototype.enableAttributes=function(e,t){for(var n=0;n<this.attributes.length;n++){var r=t.attributes[this.attributes[n].name];void 0!==r&&e.enableVertexAttribArray(r)}},V.prototype.setVertexAttribPointers=function(e,t,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],o=t.attributes[i.name];void 0!==o&&e.vertexAttribPointer(o,i.components,e[U[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}},V.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var H=function(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};H.prototype.get=function(){return this.current},H.prototype.set=function(e){},H.prototype.getDefault=function(){return this.default},H.prototype.setDefault=function(){this.set(this.default)};var W=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getDefault=function(){return e.Color.transparent},n.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},n}(H),G=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 1},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)},t}(H),q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)},t}(H),Y=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[!0,!0,!0,!0]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(H),X=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)},t}(H),Z=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 255},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)},t}(H),K=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},t.prototype.set=function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)},t}(H),J=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)},t}(H),Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}},t}(H),$=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[0,1]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)},t}(H),ee=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}},t}(H),te=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.LESS},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)},t}(H),ne=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}},t}(H),re=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.ONE,e.ZERO]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)},t}(H),ie=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getDefault=function(){return e.Color.transparent},n.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},n}(H),oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.FUNC_ADD},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)},t}(H),ae=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}},t}(H),se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.BACK},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)},t}(H),le=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.CCW},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)},t}(H),ue=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)},t}(H),ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.TEXTURE0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)},t}(H),he=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(H),pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}},t}(H),fe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(H),de=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}},t}(H),me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}},t}(H),ve=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1},t}(H),ge=function(e){function t(t){e.call(this,t),this.vao=t.extVertexArrayObject}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)},t}(H),ye=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 4},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}},t}(H),_e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}},t}(H),be=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}},t}(H),xe=function(e){function t(t,n){e.call(this,t),this.context=t,this.parent=n}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t}(H),we=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.setDirty=function(){this.dirty=!0},t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t}(xe),Se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(xe),Ee=function(e,t,n,r){this.context=e,this.width=t,this.height=n;var i=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new we(e,i),r&&(this.depthAttachment=new Se(e,i))};Ee.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){var n=this.depthAttachment.get();n&&e.deleteRenderbuffer(n)}e.deleteFramebuffer(this.framebuffer)};var Me=function(e,t,n){this.func=e,this.mask=t,this.range=n};Me.ReadOnly=!1,Me.ReadWrite=!0,Me.disabled=new Me(519,Me.ReadOnly,[0,1]);var ke=function(e,t,n,r,i,o){this.test=e,this.ref=t,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o};ke.disabled=new ke({func:519,mask:0},0,0,7680,7680,7680);var Te=function(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n};Te.disabled=new Te(Te.Replace=[1,0],e.Color.transparent,[!1,!1,!1,!1]),Te.unblended=new Te(Te.Replace,e.Color.transparent,[!0,!0,!0,!0]),Te.alphaBlended=new Te([1,771],e.Color.transparent,[!0,!0,!0,!0]);var Ae=function(e,t,n){this.enable=e,this.mode=t,this.frontFace=n};Ae.disabled=new Ae(!1,1029,2305),Ae.backCCW=new Ae(!0,1029,2305);var Ce=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new W(this),this.clearDepth=new G(this),this.clearStencil=new q(this),this.colorMask=new Y(this),this.depthMask=new X(this),this.stencilMask=new Z(this),this.stencilFunc=new K(this),this.stencilOp=new J(this),this.stencilTest=new Q(this),this.depthRange=new $(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new ne(this),this.blendFunc=new re(this),this.blendColor=new ie(this),this.blendEquation=new oe(this),this.cullFace=new ae(this),this.cullFaceSide=new se(this),this.frontFace=new le(this),this.program=new ue(this),this.activeTexture=new ce(this),this.viewport=new he(this),this.bindFramebuffer=new pe(this),this.bindRenderbuffer=new fe(this),this.bindTexture=new de(this),this.bindVertexBuffer=new me(this),this.bindElementBuffer=new ve(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ge(this),this.pixelStoreUnpack=new ye(this),this.pixelStoreUnpackPremultiplyAlpha=new _e(this),this.pixelStoreUnpackFlipY=new be(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)};Ce.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ce.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ce.prototype.createIndexBuffer=function(e,t){return new j(this,e,t)},Ce.prototype.createVertexBuffer=function(e,t,n){return new V(this,e,t,n)},Ce.prototype.createRenderbuffer=function(e,t,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),i},Ce.prototype.createFramebuffer=function(e,t,n){return new Ee(this,e,t,n)},Ce.prototype.clear=function(e){var t=e.color,n=e.depth,r=this.gl,i=0;t&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},Ce.prototype.setCullFace=function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))},Ce.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},Ce.prototype.setStencilMode=function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},Ce.prototype.setColorMode=function(t){e.deepEqual(t.blendFunction,Te.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},Ce.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Pe=function(t){function n(n,r,i){var o=this;t.call(this),this.id=n,this.dispatcher=i,this.on("data",(function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))})),this.on("error",(function(){o._sourceErrored=!0})),this._source=function(t,n,r,i){var o=new D[n.type](t,n,r,i);if(o.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+o.id);return e.bindAll(["load","abort","unload","serialize","prepare"],o),o}(n,r,i,this),this._tiles={},this._cache=new F(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new e.SourceFeatureState}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},n.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},n.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,(function(){}))},n.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,(function(){}))},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}},n.prototype.getIds=function(){return e.values(this._tiles).map((function(e){return e.tileID})).sort(Oe).map((function(e){return e.key}))},n.prototype.getRenderableIds=function(t){var n=this,r=[];for(var i in this._tiles)this._isIdRenderable(i,t)&&r.push(this._tiles[i]);return t?r.sort((function(t,r){var i=t.tileID,o=r.tileID,a=new e.Point(i.canonical.x,i.canonical.y)._rotate(n.transform.angle),s=new e.Point(o.canonical.x,o.canonical.y)._rotate(n.transform.angle);return i.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x})).map((function(e){return e.tileID.key})):r.map((function(e){return e.tileID})).sort(Oe).map((function(e){return e.key}))},n.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)},n.prototype._isIdRenderable=function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())},n.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")},n.prototype._reloadTile=function(e,t){var n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))},n.prototype._tileLoaded=function(t,n,r,i){if(i)return t.state="errored",void(404!==i.status?this._source.fire(new e.ErrorEvent(i,{tile:t})):this.update(this.transform));t.timeAdded=e.browser.now(),"expired"===r&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(n,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))},n.prototype._backfillDEM=function(e){for(var t=this.getRenderableIds(),n=0;n<t.length;n++){var r=t[n];if(e.neighboringTiles&&e.neighboringTiles[r]){var i=this.getTileByID(r);o(e,i),o(i,e)}}function o(e,t){e.needsHillshadePrepare=!0;var n=t.tileID.canonical.x-e.tileID.canonical.x,r=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,r),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)))}},n.prototype.getTile=function(e){return this.getTileByID(e.key)},n.prototype.getTileByID=function(e){return this._tiles[e]},n.prototype._retainLoadedChildren=function(e,t,n,r){for(var i in this._tiles){var o=this._tiles[i];if(!(r[i]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>n)){for(var a=o.tileID;o&&o.tileID.overscaledZ>t+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var l=a;l.overscaledZ>t;)if(e[(l=l.scaledTo(l.overscaledZ-1)).key]){r[a.key]=a;break}}}},n.prototype.findLoadedParent=function(e,t){if(e.key in this._loadedParentTiles){var n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(var r=e.overscaledZ-1;r>=t;r--){var i=e.scaledTo(r),o=this._getLoadedTile(i);if(o)return o}},n.prototype._getLoadedTile=function(e){var t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)},n.prototype.updateCacheSize=function(e){var t=Math.ceil(e.width/this._source.tileSize)+1,n=Math.ceil(e.height/this._source.tileSize)+1,r=Math.floor(t*n*5),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(i)},n.prototype.handleWrapJump=function(e){var t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){var n={};for(var r in this._tiles){var i=this._tiles[r];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),n[i.tileID.key]=i}for(var o in this._tiles=n,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var a in this._tiles)this._setTileReloadTimer(a,this._tiles[a])}},n.prototype.update=function(t){var r=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(t){return new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)})):(i=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter((function(e){return r._source.hasTile(e)})))):i=[];var o=t.coveringZoomLevel(this._source),a=Math.max(o-n.maxOverzooming,this._source.minzoom),s=Math.max(o+n.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(i,o);if(Re(this._source.type)){for(var u={},c={},h=0,p=Object.keys(l);h<p.length;h+=1){var f=p[h],d=l[f],m=this._tiles[f];if(m&&!(m.fadeEndTime&&m.fadeEndTime<=e.browser.now())){var v=this.findLoadedParent(d,a);v&&(this._addTile(v.tileID),u[v.tileID.key]=v.tileID),c[f]=d}}for(var g in this._retainLoadedChildren(c,o,s,l),u)l[g]||(this._coveredTiles[g]=!0,l[g]=u[g])}for(var y in l)this._tiles[y].clearFadeHold();for(var _=0,b=e.keysDifference(this._tiles,l);_<b.length;_+=1){var x=b[_],w=this._tiles[x];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(this.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||this._removeTile(x)}this._updateLoadedParentTileCache()}},n.prototype.releaseSymbolFadeTiles=function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)},n.prototype._updateRetainedTiles=function(e,t){for(var r={},i={},o=Math.max(t-n.maxOverzooming,this._source.minzoom),a=Math.max(t+n.maxUnderzooming,this._source.minzoom),s={},l=0,u=e;l<u.length;l+=1){var c=u[l],h=this._addTile(c);r[c.key]=c,h.hasData()||t<this._source.maxzoom&&(s[c.key]=c)}this._retainLoadedChildren(s,t,a,r);for(var p=0,f=e;p<f.length;p+=1){var d=f[p],m=this._tiles[d.key];if(!m.hasData()){if(t+1>this._source.maxzoom){var v=d.children(this._source.maxzoom)[0],g=this.getTile(v);if(g&&g.hasData()){r[v.key]=v;continue}}else{var y=d.children(this._source.maxzoom);if(r[y[0].key]&&r[y[1].key]&&r[y[2].key]&&r[y[3].key])continue}for(var _=m.wasRequested(),b=d.overscaledZ-1;b>=o;--b){var x=d.scaledTo(b);if(i[x.key])break;if(i[x.key]=!0,!(m=this.getTile(x))&&_&&(m=this._addTile(x)),m&&(r[x.key]=x,_=m.wasRequested(),m.hasData()))break}}}return r},n.prototype._updateLoadedParentTileCache=function(){for(var e in this._loadedParentTiles={},this._tiles){for(var t=[],n=void 0,r=this._tiles[e].tileID;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}t.push(r.key);var i=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(i))break;r=i}for(var o=0,a=t;o<a.length;o+=1)this._loadedParentTiles[a[o]]=n}},n.prototype._addTile=function(t){var n=this._tiles[t.key];if(n)return n;(n=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,n),n.tileID=t,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,n)));var r=Boolean(n);return r||(n=new e.Tile(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,t.key,n.state))),n?(n.uses++,this._tiles[t.key]=n,r||this._source.fire(new e.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},n.prototype._setTileReloadTimer=function(e,t){var n=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout((function(){n._reloadTile(e,"expired"),delete n._timers[e]}),r))},n.prototype._removeTile=function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))},n.prototype.clearTiles=function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()},n.prototype.tilesIn=function(t,n,r){var i=this,o=[],a=this.transform;if(!a)return o;for(var s=r?a.getCameraQueryGeometry(t):t,l=t.map((function(e){return a.pointCoordinate(e)})),u=s.map((function(e){return a.pointCoordinate(e)})),c=this.getIds(),h=1/0,p=1/0,f=-1/0,d=-1/0,m=0,v=u;m<v.length;m+=1){var g=v[m];h=Math.min(h,g.x),p=Math.min(p,g.y),f=Math.max(f,g.x),d=Math.max(d,g.y)}for(var y=function(t){var r=i._tiles[c[t]];if(!r.holdingForFade()){var s=r.tileID,m=Math.pow(2,a.zoom-r.tileID.overscaledZ),v=n*r.queryPadding*e.EXTENT/r.tileSize/m,g=[s.getTilePoint(new e.MercatorCoordinate(h,p)),s.getTilePoint(new e.MercatorCoordinate(f,d))];if(g[0].x-v<e.EXTENT&&g[0].y-v<e.EXTENT&&g[1].x+v>=0&&g[1].y+v>=0){var y=l.map((function(e){return s.getTilePoint(e)})),_=u.map((function(e){return s.getTilePoint(e)}));o.push({tile:r,tileID:s,queryGeometry:y,cameraQueryGeometry:_,scale:m})}}},_=0;_<c.length;_++)y(_);return o},n.prototype.getVisibleCoordinates=function(e){for(var t=this,n=this.getRenderableIds(e).map((function(e){return t._tiles[e].tileID})),r=0,i=n;r<i.length;r+=1){var o=i[r];o.posMatrix=this.transform.calculatePosMatrix(o.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Re(this._source.type))for(var t in this._tiles){var n=this._tiles[t];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=e.browser.now())return!0}return!1},n.prototype.setFeatureState=function(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)},n.prototype.removeFeatureState=function(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)},n.prototype.getFeatureState=function(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)},n.prototype.setDependencies=function(e,t,n){var r=this._tiles[e];r&&r.setDependencies(t,n)},n.prototype.reloadTilesForDependencies=function(e,t){for(var n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(n,"reloading");this._cache.filter((function(n){return!n.hasDependency(e,t)}))},n}(e.Evented);function Oe(e,t){var n=Math.abs(2*e.wrap)-+(e.wrap<0),r=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||r-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function Re(e){return"raster"===e||"image"===e||"video"===e}function Ie(){return new e.window.Worker(Zi.workerUrl)}Pe.maxOverzooming=10,Pe.maxUnderzooming=3;var Le="mapboxgl_preloaded_worker_pool",De=function(){this.active={}};De.prototype.acquire=function(e){if(!this.workers)for(this.workers=[];this.workers.length<De.workerCount;)this.workers.push(new Ie);return this.active[e]=!0,this.workers.slice()},De.prototype.release=function(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)},De.prototype.isPreloaded=function(){return!!this.active[Le]},De.prototype.numActive=function(){return Object.keys(this.active).length};var ze,Ne=Math.floor(e.browser.hardwareConcurrency/2);function Be(){return ze||(ze=new De),ze}function Fe(t,n){var r={};for(var i in t)"ref"!==i&&(r[i]=t[i]);return e.refProperties.forEach((function(e){e in n&&(r[e]=n[e])})),r}function je(e){e=e.slice();for(var t=Object.create(null),n=0;n<e.length;n++)t[e[n].id]=e[n];for(var r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=Fe(e[r],t[e[r].ref]));return e}De.workerCount=Math.max(Math.min(Ne,6),1);var Ue={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ve(e,t,n){n.push({command:Ue.addSource,args:[e,t[e]]})}function He(e,t,n){t.push({command:Ue.removeSource,args:[e]}),n[e]=!0}function We(e,t,n,r){He(e,n,r),Ve(e,t,n)}function Ge(t,n,r){var i;for(i in t[r])if(t[r].hasOwnProperty(i)&&"data"!==i&&!e.deepEqual(t[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&"data"!==i&&!e.deepEqual(t[r][i],n[r][i]))return!1;return!0}function qe(t,n,r,i,o,a){var s;for(s in n=n||{},t=t||{})t.hasOwnProperty(s)&&(e.deepEqual(t[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(e.deepEqual(t[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}))}function Ye(e){return e.id}function Xe(e,t){return e[t.id]=t,e}var Ze=function(e,t){this.reset(e,t)};Ze.prototype.reset=function(e,t){this.points=e||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Ze.prototype.lerp=function(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);for(var n=1,r=this._distances[n],i=t*this.paddedLength+this.padding;r<i&&n<this._distances.length;)r=this._distances[++n];var o=n-1,a=this._distances[o],s=r-a,l=s>0?(i-a)/s:0;return this.points[o].mult(1-l).add(this.points[n].mult(l))};var Ke=function(e,t,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};function Je(t,n,r,i,o){var a=e.create();return n?(e.scale(a,a,[1/o,1/o,1]),r||e.rotateZ(a,a,i.angle)):e.multiply(a,i.labelPlaneMatrix,t),a}function Qe(t,n,r,i,o){if(n){var a=e.clone(t);return e.scale(a,a,[o,o,1]),r||e.rotateZ(a,a,-i.angle),a}return i.glCoordMatrix}function $e(t,n){var r=[t.x,t.y,0,1];ct(r,r,n);var i=r[3];return{point:new e.Point(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function et(e,t){return.5+e/t*.5}function tt(e,t){var n=e[0]/e[3],r=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&r>=-t[1]&&r<=t[1]}function nt(t,n,r,i,o,a,s,l){var u=i?t.textSizeData:t.iconSizeData,c=e.evaluateSizeForZoom(u,r.transform.zoom),h=[256/r.width*2+1,256/r.height*2+1],p=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;p.clear();for(var f=t.lineVertexArray,d=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,m=r.transform.width/r.transform.height,v=!1,g=0;g<d.length;g++){var y=d.get(g);if(y.hidden||y.writingMode===e.WritingMode.vertical&&!v)ut(y.numGlyphs,p);else{v=!1;var _=[y.anchorX,y.anchorY,0,1];if(e.transformMat4(_,_,n),tt(_,h)){var b=et(r.transform.cameraToCenterDistance,_[3]),x=e.evaluateSizeForFeature(u,c,y),w=s?x/b:x*b,S=new e.Point(y.anchorX,y.anchorY),E=$e(S,o).point,M={},k=ot(y,w,!1,l,n,o,a,t.glyphOffsetArray,f,p,E,S,M,m);v=k.useVertical,(k.notEnoughRoom||v||k.needsFlipping&&ot(y,w,!0,l,n,o,a,t.glyphOffsetArray,f,p,E,S,M,m).notEnoughRoom)&&ut(y.numGlyphs,p)}else ut(y.numGlyphs,p)}}i?t.text.dynamicLayoutVertexBuffer.updateData(p):t.icon.dynamicLayoutVertexBuffer.updateData(p)}function rt(e,t,n,r,i,o,a,s,l,u,c){var h=s.glyphStartIndex+s.numGlyphs,p=s.lineStartIndex,f=s.lineStartIndex+s.lineLength,d=t.getoffsetX(s.glyphStartIndex),m=t.getoffsetX(h-1),v=st(e*d,n,r,i,o,a,s.segment,p,f,l,u,c);if(!v)return null;var g=st(e*m,n,r,i,o,a,s.segment,p,f,l,u,c);return g?{first:v,last:g}:null}function it(t,n,r,i){return t===e.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(t===e.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function ot(t,n,r,i,o,a,s,l,u,c,h,p,f,d){var m,v=n/24,g=t.lineOffsetX*v,y=t.lineOffsetY*v;if(t.numGlyphs>1){var _=t.glyphStartIndex+t.numGlyphs,b=t.lineStartIndex,x=t.lineStartIndex+t.lineLength,w=rt(v,l,g,y,r,h,p,t,u,a,f);if(!w)return{notEnoughRoom:!0};var S=$e(w.first.point,s).point,E=$e(w.last.point,s).point;if(i&&!r){var M=it(t.writingMode,S,E,d);if(M)return M}m=[w.first];for(var k=t.glyphStartIndex+1;k<_-1;k++)m.push(st(v*l.getoffsetX(k),g,y,r,h,p,t.segment,b,x,u,a,f));m.push(w.last)}else{if(i&&!r){var T=$e(p,o).point,A=t.lineStartIndex+t.segment+1,C=new e.Point(u.getx(A),u.gety(A)),P=$e(C,o),O=P.signedDistanceFromCamera>0?P.point:at(p,C,T,1,o),R=it(t.writingMode,T,O,d);if(R)return R}var I=st(v*l.getoffsetX(t.glyphStartIndex),g,y,r,h,p,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,u,a,f);if(!I)return{notEnoughRoom:!0};m=[I]}for(var L=0,D=m;L<D.length;L+=1){var z=D[L];e.addDynamicAttributes(c,z.point,z.angle)}return{}}function at(e,t,n,r,i){var o=$e(e.add(e.sub(t)._unit()),i).point,a=n.sub(o);return n.add(a._mult(r/a.mag()))}function st(t,n,r,i,o,a,s,l,u,c,h,p){var f=i?t-n:t+n,d=f>0?1:-1,m=0;i&&(d*=-1,m=Math.PI),d<0&&(m+=Math.PI);for(var v=d>0?l+s:l+s+1,g=o,y=o,_=0,b=0,x=Math.abs(f),w=[];_+b<=x;){if((v+=d)<l||v>=u)return null;if(y=g,w.push(g),void 0===(g=p[v])){var S=new e.Point(c.getx(v),c.gety(v)),E=$e(S,h);if(E.signedDistanceFromCamera>0)g=p[v]=E.point;else{var M=v-d;g=at(0===_?a:new e.Point(c.getx(M),c.gety(M)),S,y,x-_+1,h)}}_+=b,b=y.dist(g)}var k=(x-_)/b,T=g.sub(y),A=T.mult(k)._add(y);A._add(T._unit()._perp()._mult(r*d));var C=m+Math.atan2(g.y-y.y,g.x-y.x);return w.push(A),{point:A,angle:C,path:w}}Ke.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ke.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Ke.prototype.insertCircle=function(e,t,n,r){this._forEachCell(t-r,n-r,t+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(r)},Ke.prototype._insertBoxCell=function(e,t,n,r,i,o){this.boxCells[i].push(o)},Ke.prototype._insertCircleCell=function(e,t,n,r,i,o){this.circleCells[i].push(o)},Ke.prototype._query=function(e,t,n,r,i,o){if(n<0||e>this.width||r<0||t>this.height)return!i&&[];var a=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var u=this.circles[3*l],c=this.circles[3*l+1],h=this.circles[3*l+2];a.push({key:this.circleKeys[l],x1:u-h,y1:c-h,x2:u+h,y2:c+h})}return o?a.filter(o):a}return this._forEachCell(e,t,n,r,this._queryCell,a,{hitTest:i,seenUids:{box:{},circle:{}}},o),i?a.length>0:a},Ke.prototype._queryCircle=function(e,t,n,r,i){var o=e-n,a=e+n,s=t-n,l=t+n;if(a<0||o>this.width||l<0||s>this.height)return!r&&[];var u=[];return this._forEachCell(o,s,a,l,this._queryCellCircle,u,{hitTest:r,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},i),r?u.length>0:u},Ke.prototype.query=function(e,t,n,r,i){return this._query(e,t,n,r,!1,i)},Ke.prototype.hitTest=function(e,t,n,r,i){return this._query(e,t,n,r,!0,i)},Ke.prototype.hitTestCircle=function(e,t,n,r){return this._queryCircle(e,t,n,!0,r)},Ke.prototype._queryCell=function(e,t,n,r,i,o,a,s){var l=a.seenUids,u=this.boxCells[i];if(null!==u)for(var c=this.bboxes,h=0,p=u;h<p.length;h+=1){var f=p[h];if(!l.box[f]){l.box[f]=!0;var d=4*f;if(e<=c[d+2]&&t<=c[d+3]&&n>=c[d+0]&&r>=c[d+1]&&(!s||s(this.boxKeys[f]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[f],x1:c[d],y1:c[d+1],x2:c[d+2],y2:c[d+3]})}}}var m=this.circleCells[i];if(null!==m)for(var v=this.circles,g=0,y=m;g<y.length;g+=1){var _=y[g];if(!l.circle[_]){l.circle[_]=!0;var b=3*_;if(this._circleAndRectCollide(v[b],v[b+1],v[b+2],e,t,n,r)&&(!s||s(this.circleKeys[_]))){if(a.hitTest)return o.push(!0),!0;var x=v[b],w=v[b+1],S=v[b+2];o.push({key:this.circleKeys[_],x1:x-S,y1:w-S,x2:x+S,y2:w+S})}}}},Ke.prototype._queryCellCircle=function(e,t,n,r,i,o,a,s){var l=a.circle,u=a.seenUids,c=this.boxCells[i];if(null!==c)for(var h=this.bboxes,p=0,f=c;p<f.length;p+=1){var d=f[p];if(!u.box[d]){u.box[d]=!0;var m=4*d;if(this._circleAndRectCollide(l.x,l.y,l.radius,h[m+0],h[m+1],h[m+2],h[m+3])&&(!s||s(this.boxKeys[d])))return o.push(!0),!0}}var v=this.circleCells[i];if(null!==v)for(var g=this.circles,y=0,_=v;y<_.length;y+=1){var b=_[y];if(!u.circle[b]){u.circle[b]=!0;var x=3*b;if(this._circlesCollide(g[x],g[x+1],g[x+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[b])))return o.push(!0),!0}}},Ke.prototype._forEachCell=function(e,t,n,r,i,o,a,s){for(var l=this._convertToXCellCoord(e),u=this._convertToYCellCoord(t),c=this._convertToXCellCoord(n),h=this._convertToYCellCoord(r),p=l;p<=c;p++)for(var f=u;f<=h;f++)if(i.call(this,e,t,n,r,this.xCellCount*f+p,o,a,s))return},Ke.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},Ke.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},Ke.prototype._circlesCollide=function(e,t,n,r,i,o){var a=r-e,s=i-t,l=n+o;return l*l>a*a+s*s},Ke.prototype._circleAndRectCollide=function(e,t,n,r,i,o,a){var s=(o-r)/2,l=Math.abs(e-(r+s));if(l>s+n)return!1;var u=(a-i)/2,c=Math.abs(t-(i+u));if(c>u+n)return!1;if(l<=s||c<=u)return!0;var h=l-s,p=c-u;return h*h+p*p<=n*n};var lt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ut(e,t){for(var n=0;n<e;n++){var r=t.length;t.resize(r+4),t.float32.set(lt,3*r)}}function ct(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e[3]=n[3]*r+n[7]*i+n[15],e}var ht=function(e,t,n){void 0===t&&(t=new Ke(e.width+200,e.height+200,25)),void 0===n&&(n=new Ke(e.width+200,e.height+200,25)),this.transform=e,this.grid=t,this.ignoredGrid=n,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200};function pt(t,n,r){return n*(e.EXTENT/(t.tileSize*Math.pow(2,r-t.tileID.overscaledZ)))}ht.prototype.placeCollisionBox=function(e,t,n,r,i){var o=this.projectAndGetPerspectiveRatio(r,e.anchorPointX,e.anchorPointY),a=n*o.perspectiveRatio,s=e.x1*a+o.point.x,l=e.y1*a+o.point.y,u=e.x2*a+o.point.x,c=e.y2*a+o.point.y;return!this.isInsideGrid(s,l,u,c)||!t&&this.grid.hitTest(s,l,u,c,i)?{box:[],offscreen:!1}:{box:[s,l,u,c],offscreen:this.isOffscreen(s,l,u,c)}},ht.prototype.placeCollisionCircles=function(t,n,r,i,o,a,s,l,u,c,h,p,f){var d=[],m=new e.Point(n.anchorX,n.anchorY),v=$e(m,a),g=et(this.transform.cameraToCenterDistance,v.signedDistanceFromCamera),y=(c?o/g:o*g)/e.ONE_EM,_=$e(m,s).point,b=rt(y,i,n.lineOffsetX*y,n.lineOffsetY*y,!1,_,m,n,r,s,{}),x=!1,w=!1,S=!0;if(b){for(var E=.5*p*g+f,M=new e.Point(-100,-100),k=new e.Point(this.screenRightBoundary,this.screenBottomBoundary),T=new Ze,A=b.first,C=b.last,P=[],O=A.path.length-1;O>=1;O--)P.push(A.path[O]);for(var R=1;R<C.path.length;R++)P.push(C.path[R]);var I=2.5*E;if(l){var L=P.map((function(e){return $e(e,l)}));P=L.some((function(e){return e.signedDistanceFromCamera<=0}))?[]:L.map((function(e){return e.point}))}var D=[];if(P.length>0){for(var z=P[0].clone(),N=P[0].clone(),B=1;B<P.length;B++)z.x=Math.min(z.x,P[B].x),z.y=Math.min(z.y,P[B].y),N.x=Math.max(N.x,P[B].x),N.y=Math.max(N.y,P[B].y);D=z.x>=M.x&&N.x<=k.x&&z.y>=M.y&&N.y<=k.y?[P]:N.x<M.x||z.x>k.x||N.y<M.y||z.y>k.y?[]:e.clipLine([P],M.x,M.y,k.x,k.y)}for(var F=0,j=D;F<j.length;F+=1){var U;T.reset(j[F],.25*E),U=T.length<=.5*E?1:Math.ceil(T.paddedLength/I)+1;for(var V=0;V<U;V++){var H=V/Math.max(U-1,1),W=T.lerp(H),G=W.x+100,q=W.y+100;d.push(G,q,E,0);var Y=G-E,X=q-E,Z=G+E,K=q+E;if(S=S&&this.isOffscreen(Y,X,Z,K),w=w||this.isInsideGrid(Y,X,Z,K),!t&&this.grid.hitTestCircle(G,q,E,h)&&(x=!0,!u))return{circles:[],offscreen:!1,collisionDetected:x}}}}return{circles:!u&&x||!w?[]:d,offscreen:S,collisionDetected:x}},ht.prototype.queryRenderedSymbols=function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],r=1/0,i=1/0,o=-1/0,a=-1/0,s=0,l=t;s<l.length;s+=1){var u=l[s],c=new e.Point(u.x+100,u.y+100);r=Math.min(r,c.x),i=Math.min(i,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y),n.push(c)}for(var h={},p={},f=0,d=this.grid.query(r,i,o,a).concat(this.ignoredGrid.query(r,i,o,a));f<d.length;f+=1){var m=d[f],v=m.key;if(void 0===h[v.bucketInstanceId]&&(h[v.bucketInstanceId]={}),!h[v.bucketInstanceId][v.featureIndex]){var g=[new e.Point(m.x1,m.y1),new e.Point(m.x2,m.y1),new e.Point(m.x2,m.y2),new e.Point(m.x1,m.y2)];e.polygonIntersectsPolygon(n,g)&&(h[v.bucketInstanceId][v.featureIndex]=!0,void 0===p[v.bucketInstanceId]&&(p[v.bucketInstanceId]=[]),p[v.bucketInstanceId].push(v.featureIndex))}}return p},ht.prototype.insertCollisionBox=function(e,t,n,r,i){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:r,collisionGroupID:i},e[0],e[1],e[2],e[3])},ht.prototype.insertCollisionCircles=function(e,t,n,r,i){for(var o=t?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<e.length;s+=4)o.insertCircle(a,e[s],e[s+1],e[s+2])},ht.prototype.projectAndGetPerspectiveRatio=function(t,n,r){var i=[n,r,0,1];return ct(i,i,t),{point:new e.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},ht.prototype.isOffscreen=function(e,t,n,r){return n<100||e>=this.screenRightBoundary||r<100||t>this.screenBottomBoundary},ht.prototype.isInsideGrid=function(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary},ht.prototype.getViewportMatrix=function(){var t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t};var ft=function(e,t,n,r){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):r&&n?1:0,this.placed=n};ft.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var dt=function(e,t,n,r,i){this.text=new ft(e?e.text:null,t,n,i),this.icon=new ft(e?e.icon:null,t,r,i)};dt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var mt=function(e,t,n){this.text=e,this.icon=t,this.skipFade=n},vt=function(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]},gt=function(e,t,n,r,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i},yt=function(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}};function _t(t,n,r,i,o){var a=e.getAnchorAlignment(t),s=-(a.horizontalAlign-.5)*n,l=-(a.verticalAlign-.5)*r,u=e.evaluateVariableOffset(t,i);return new e.Point(s+u[0]*o,l+u[1]*o)}function bt(t,n,r,i,o,a){var s=t.x1,l=t.x2,u=t.y1,c=t.y2,h=t.anchorPointX,p=t.anchorPointY,f=new e.Point(n,r);return i&&f._rotate(o?a:-a),{x1:s+f.x,y1:u+f.y,x2:l+f.x,y2:c+f.y,anchorPointX:h,anchorPointY:p}}yt.prototype.get=function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]};var xt=function(e,t,n,r){this.transform=e.clone(),this.collisionIndex=new ht(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new yt(n),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}};function wt(e,t,n,r,i){e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0)}xt.prototype.getBucketParts=function(t,n,r,i){var o=r.getBucket(n),a=r.latestFeatureIndex;if(o&&a&&n.id===o.layerIds[0]){var s=r.collisionBoxArray,l=o.layers[0].layout,u=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),c=r.tileSize/e.EXTENT,h=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),p="map"===l.get("text-pitch-alignment"),f="map"===l.get("text-rotation-alignment"),d=pt(r,1,this.transform.zoom),m=Je(h,p,f,this.transform,d),v=null;if(p){var g=Qe(h,p,f,this.transform,d);v=e.multiply([],this.transform.labelPlaneMatrix,g)}this.retainedQueryData[o.bucketInstanceId]=new gt(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,r.tileID);var y={bucket:o,layout:l,posMatrix:h,textLabelPlaneMatrix:m,labelToScreenMatrix:v,scale:u,textPixelRatio:c,holdingForFade:r.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i)for(var _=0,b=o.sortKeyRanges;_<b.length;_+=1){var x=b[_];t.push({sortKey:x.sortKey,symbolInstanceStart:x.symbolInstanceStart,symbolInstanceEnd:x.symbolInstanceEnd,parameters:y})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:y})}},xt.prototype.attemptAnchorPlacement=function(e,t,n,r,i,o,a,s,l,u,c,h,p,f,d){var m,v=[h.textOffset0,h.textOffset1],g=_t(e,n,r,v,i),y=this.collisionIndex.placeCollisionBox(bt(t,g.x,g.y,o,a,this.transform.angle),c,s,l,u.predicate);if(!d||0!==this.collisionIndex.placeCollisionBox(bt(d,g.x,g.y,o,a,this.transform.angle),c,s,l,u.predicate).box.length)return y.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID].text&&(m=this.prevPlacement.variableOffsets[h.crossTileID].anchor),this.variableOffsets[h.crossTileID]={textOffset:v,width:n,height:r,anchor:e,textBoxScale:i,prevAnchor:m},this.markUsedJustification(p,e,h,f),p.allowVerticalPlacement&&(this.markUsedOrientation(p,f,h),this.placedOrientations[h.crossTileID]=f),{shift:g,placedGlyphBoxes:y}):void 0},xt.prototype.placeLayerBucketPart=function(t,n,r){var i=this,o=t.parameters,a=o.bucket,s=o.layout,l=o.posMatrix,u=o.textLabelPlaneMatrix,c=o.labelToScreenMatrix,h=o.textPixelRatio,p=o.holdingForFade,f=o.collisionBoxArray,d=o.partiallyEvaluatedTextSize,m=o.collisionGroup,v=s.get("text-optional"),g=s.get("icon-optional"),y=s.get("text-allow-overlap"),_=s.get("icon-allow-overlap"),b="map"===s.get("text-rotation-alignment"),x="map"===s.get("text-pitch-alignment"),w="none"!==s.get("icon-text-fit"),S="viewport-y"===s.get("symbol-z-order"),E=y&&(_||!a.hasIconData()||g),M=_&&(y||!a.hasTextData()||v);!a.collisionArrays&&f&&a.deserializeCollisionBoxes(f);var k=function(t,o){if(!n[t.crossTileID])if(p)i.placements[t.crossTileID]=new mt(!1,!1,!1);else{var f,S=!1,k=!1,T=!0,A=null,C={box:null,offscreen:null},P={box:null,offscreen:null},O=null,R=null,I=0,L=0,D=0;o.textFeatureIndex?I=o.textFeatureIndex:t.useRuntimeCollisionCircles&&(I=t.featureIndex),o.verticalTextFeatureIndex&&(L=o.verticalTextFeatureIndex);var z=o.textBox;if(z){var N=function(n){var r=e.WritingMode.horizontal;if(a.allowVerticalPlacement&&!n&&i.prevPlacement){var o=i.prevPlacement.placedOrientations[t.crossTileID];o&&(i.placedOrientations[t.crossTileID]=o,i.markUsedOrientation(a,r=o,t))}return r},B=function(n,r){if(a.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&o.verticalTextBox)for(var i=0,s=a.writingModes;i<s.length&&(s[i]===e.WritingMode.vertical?(C=r(),P=C):C=n(),!(C&&C.box&&C.box.length));i+=1);else C=n()};if(s.get("text-variable-anchor")){var F=s.get("text-variable-anchor");if(i.prevPlacement&&i.prevPlacement.variableOffsets[t.crossTileID]){var j=i.prevPlacement.variableOffsets[t.crossTileID];F.indexOf(j.anchor)>0&&(F=F.filter((function(e){return e!==j.anchor}))).unshift(j.anchor)}var U=function(e,n,r){for(var o=e.x2-e.x1,s=e.y2-e.y1,u=t.textBoxScale,c=w&&!_?n:null,p={box:[],offscreen:!1},f=y?2*F.length:F.length,d=0;d<f;++d){var v=i.attemptAnchorPlacement(F[d%F.length],e,o,s,u,b,x,h,l,m,d>=F.length,t,a,r,c);if(v&&(p=v.placedGlyphBoxes)&&p.box&&p.box.length){S=!0,A=v.shift;break}}return p};B((function(){return U(z,o.iconBox,e.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&!(C&&C.box&&C.box.length)&&t.numVerticalGlyphVertices>0&&n?U(n,o.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}})),C&&(S=C.box,T=C.offscreen);var V=N(C&&C.box);if(!S&&i.prevPlacement){var H=i.prevPlacement.variableOffsets[t.crossTileID];H&&(i.variableOffsets[t.crossTileID]=H,i.markUsedJustification(a,H.anchor,t,V))}}else{var W=function(e,n){var r=i.collisionIndex.placeCollisionBox(e,y,h,l,m.predicate);return r&&r.box&&r.box.length&&(i.markUsedOrientation(a,n,t),i.placedOrientations[t.crossTileID]=n),r};B((function(){return W(z,e.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&n?W(n,e.WritingMode.vertical):{box:null,offscreen:null}})),N(C&&C.box&&C.box.length)}}if(S=(f=C)&&f.box&&f.box.length>0,T=f&&f.offscreen,t.useRuntimeCollisionCircles){var G=a.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),q=e.evaluateSizeForFeature(a.textSizeData,d,G),Y=s.get("text-padding");O=i.collisionIndex.placeCollisionCircles(y,G,a.lineVertexArray,a.glyphOffsetArray,q,l,u,c,r,x,m.predicate,t.collisionCircleDiameter,Y),S=y||O.circles.length>0&&!O.collisionDetected,T=T&&O.offscreen}if(o.iconFeatureIndex&&(D=o.iconFeatureIndex),o.iconBox){var X=function(e){var t=w&&A?bt(e,A.x,A.y,b,x,i.transform.angle):e;return i.collisionIndex.placeCollisionBox(t,_,h,l,m.predicate)};k=P&&P.box&&P.box.length&&o.verticalIconBox?(R=X(o.verticalIconBox)).box.length>0:(R=X(o.iconBox)).box.length>0,T=T&&R.offscreen}var Z=v||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,K=g||0===t.numIconVertices;if(Z||K?K?Z||(k=k&&S):S=k&&S:k=S=k&&S,S&&f&&f.box&&i.collisionIndex.insertCollisionBox(f.box,s.get("text-ignore-placement"),a.bucketInstanceId,P&&P.box&&L?L:I,m.ID),k&&R&&i.collisionIndex.insertCollisionBox(R.box,s.get("icon-ignore-placement"),a.bucketInstanceId,D,m.ID),O&&(S&&i.collisionIndex.insertCollisionCircles(O.circles,s.get("text-ignore-placement"),a.bucketInstanceId,I,m.ID),r)){var J=a.bucketInstanceId,Q=i.collisionCircleArrays[J];void 0===Q&&(Q=i.collisionCircleArrays[J]=new vt);for(var $=0;$<O.circles.length;$+=4)Q.circles.push(O.circles[$+0]),Q.circles.push(O.circles[$+1]),Q.circles.push(O.circles[$+2]),Q.circles.push(O.collisionDetected?1:0)}i.placements[t.crossTileID]=new mt(S||E,k||M,T||a.justReloaded),n[t.crossTileID]=!0}};if(S)for(var T=a.getSortedSymbolIndexes(this.transform.angle),A=T.length-1;A>=0;--A){var C=T[A];k(a.symbolInstances.get(C),a.collisionArrays[C])}else for(var P=t.symbolInstanceStart;P<t.symbolInstanceEnd;P++)k(a.symbolInstances.get(P),a.collisionArrays[P]);if(r&&a.bucketInstanceId in this.collisionCircleArrays){var O=this.collisionCircleArrays[a.bucketInstanceId];e.invert(O.invProjMatrix,l),O.viewportMatrix=this.collisionIndex.getViewportMatrix()}a.justReloaded=!1},xt.prototype.markUsedJustification=function(t,n,r,i){var o;o=i===e.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(n)];for(var a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];a<s.length;a+=1){var l=s[a];l>=0&&(t.text.placedSymbolArray.get(l).crossTileID=o>=0&&l!==o?0:r.crossTileID)}},xt.prototype.markUsedOrientation=function(t,n,r){for(var i=n===e.WritingMode.horizontal||n===e.WritingMode.horizontalOnly?n:0,o=n===e.WritingMode.vertical?n:0,a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];a<s.length;a+=1)t.text.placedSymbolArray.get(s[a]).placedOrientation=i;r.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=o)},xt.prototype.commit=function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var r=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},o=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(var s in this.placements){var l=this.placements[s],u=i[s];u?(this.opacities[s]=new dt(u,r,l.text,l.icon),n=n||l.text!==u.text.placed||l.icon!==u.icon.placed):(this.opacities[s]=new dt(null,r,l.text,l.icon,l.skipFade),n=n||l.text||l.icon)}for(var c in i){var h=i[c];if(!this.opacities[c]){var p=new dt(h,r,!1,!1);p.isHidden()||(this.opacities[c]=p,n=n||h.text.placed||h.icon.placed)}}for(var f in o)this.variableOffsets[f]||!this.opacities[f]||this.opacities[f].isHidden()||(this.variableOffsets[f]=o[f]);for(var d in a)this.placedOrientations[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.placedOrientations[d]=a[d]);n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},xt.prototype.updateLayerOpacities=function(e,t){for(var n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.getBucket(e);a&&o.latestFeatureIndex&&e.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},xt.prototype.updateBucketOpacities=function(t,n,r){var i=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();var o=t.layers[0].layout,a=new dt(null,0,!1,!1,!0),s=o.get("text-allow-overlap"),l=o.get("icon-allow-overlap"),u=o.get("text-variable-anchor"),c="map"===o.get("text-rotation-alignment"),h="map"===o.get("text-pitch-alignment"),p="none"!==o.get("icon-text-fit"),f=new dt(null,0,s&&(l||!t.hasIconData()||o.get("icon-optional")),l&&(s||!t.hasTextData()||o.get("text-optional")),!0);!t.collisionArrays&&r&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(r);for(var d=function(e,t,n){for(var r=0;r<t/4;r++)e.opacityVertexArray.emplaceBack(n)},m=function(r){var o=t.symbolInstances.get(r),s=o.numHorizontalGlyphVertices,l=o.numVerticalGlyphVertices,m=o.crossTileID,v=i.opacities[m];n[m]?v=a:v||(i.opacities[m]=v=f),n[m]=!0;var g=o.numIconVertices>0,y=i.placedOrientations[o.crossTileID],_=y===e.WritingMode.vertical,b=y===e.WritingMode.horizontal||y===e.WritingMode.horizontalOnly;if(s>0||l>0){var x=Pt(v.text);d(t.text,s,_?Ot:x),d(t.text,l,b?Ot:x);var w=v.text.isHidden();[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach((function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=w||_?1:0)})),o.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).hidden=w||b?1:0);var S=i.variableOffsets[o.crossTileID];S&&i.markUsedJustification(t,S.anchor,o,y);var E=i.placedOrientations[o.crossTileID];E&&(i.markUsedJustification(t,"left",o,E),i.markUsedOrientation(t,E,o))}if(g){var M=Pt(v.icon),k=!(p&&o.verticalPlacedIconSymbolIndex&&_);o.placedIconSymbolIndex>=0&&(d(t.icon,o.numIconVertices,k?M:Ot),t.icon.placedSymbolArray.get(o.placedIconSymbolIndex).hidden=v.icon.isHidden()),o.verticalPlacedIconSymbolIndex>=0&&(d(t.icon,o.numVerticalIconVertices,k?Ot:M),t.icon.placedSymbolArray.get(o.verticalPlacedIconSymbolIndex).hidden=v.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){var T=t.collisionArrays[r];if(T){var A=new e.Point(0,0);if(T.textBox||T.verticalTextBox){var C=!0;if(u){var P=i.variableOffsets[m];P?(A=_t(P.anchor,P.width,P.height,P.textOffset,P.textBoxScale),c&&A._rotate(h?i.transform.angle:-i.transform.angle)):C=!1}T.textBox&&wt(t.textCollisionBox.collisionVertexArray,v.text.placed,!C||_,A.x,A.y),T.verticalTextBox&&wt(t.textCollisionBox.collisionVertexArray,v.text.placed,!C||b,A.x,A.y)}var O=Boolean(!b&&T.verticalIconBox);T.iconBox&&wt(t.iconCollisionBox.collisionVertexArray,v.icon.placed,O,p?A.x:0,p?A.y:0),T.verticalIconBox&&wt(t.iconCollisionBox.collisionVertexArray,v.icon.placed,!O,p?A.x:0,p?A.y:0)}}},v=0;v<t.symbolInstances.length;v++)m(v);if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){var g=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=g.invProjMatrix,t.placementViewportMatrix=g.viewportMatrix,t.collisionCircleArray=g.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}},xt.prototype.symbolFadeChange=function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},xt.prototype.zoomAdjustment=function(e){return Math.max(0,(this.transform.zoom-e)/1.5)},xt.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},xt.prototype.stillRecent=function(e,t){var n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e},xt.prototype.setStale=function(){this.stale=!0};var St=Math.pow(2,25),Et=Math.pow(2,24),Mt=Math.pow(2,17),kt=Math.pow(2,16),Tt=Math.pow(2,9),At=Math.pow(2,8),Ct=Math.pow(2,1);function Pt(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*St+t*Et+n*Mt+t*kt+n*Tt+t*At+n*Ct+t}var Ot=0,Rt=function(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Rt.prototype.continuePlacement=function(e,t,n,r,i){for(var o=this._bucketParts;this._currentTileIndex<e.length;)if(t.getBucketParts(o,r,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((function(e,t){return e.sortKey-t.sortKey})));this._currentPartIndex<o.length;)if(t.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,i())return!0;return!1};var It=function(e,t,n,r,i,o,a){this.placement=new xt(e,i,o,a),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};It.prototype.isDone=function(){return this._done},It.prototype.continuePlacement=function(t,n,r){for(var i=this,o=e.browser.now(),a=function(){var t=e.browser.now()-o;return!i._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=n[t[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new Rt(s)),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},It.prototype.commit=function(e){return this.placement.commit(e),this.placement};var Lt=512/e.EXTENT/2,Dt=function(e,t,n){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0;r<t.length;r++){var i=t.get(r),o=i.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,e)})}};Dt.prototype.getScaledCoordinates=function(t,n){var r=Lt/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*e.EXTENT+t.anchorX)*r),y:Math.floor((n.canonical.y*e.EXTENT+t.anchorY)*r)}},Dt.prototype.findMatches=function(e,t,n){for(var r=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),i=0;i<e.length;i++){var o=e.get(i);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var s=this.getScaledCoordinates(o,t),l=0,u=a;l<u.length;l+=1){var c=u[l];if(Math.abs(c.coord.x-s.x)<=r&&Math.abs(c.coord.y-s.y)<=r&&!n[c.crossTileID]){n[c.crossTileID]=!0,o.crossTileID=c.crossTileID;break}}}}};var zt=function(){this.maxCrossTileID=0};zt.prototype.generate=function(){return++this.maxCrossTileID};var Nt=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Nt.prototype.handleWrapJump=function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var n in this.indexes){var r=this.indexes[n],i={};for(var o in r){var a=r[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+t),i[a.tileID.key]=a}this.indexes[n]=i}this.lng=e},Nt.prototype.addBucket=function(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var r=0;r<t.symbolInstances.length;r++)t.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var i=this.usedCrossTileIDs[e.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>e.overscaledZ)for(var s in a){var l=a[s];l.tileID.isChildOf(e)&&l.findMatches(t.symbolInstances,e,i)}else{var u=a[e.scaledTo(Number(o)).key];u&&u.findMatches(t.symbolInstances,e,i)}}for(var c=0;c<t.symbolInstances.length;c++){var h=t.symbolInstances.get(c);h.crossTileID||(h.crossTileID=n.generate(),i[h.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Dt(e,t.symbolInstances,t.bucketInstanceId),!0},Nt.prototype.removeBucketCrossTileIDs=function(e,t){for(var n in t.indexedSymbolInstances)for(var r=0,i=t.indexedSymbolInstances[n];r<i.length;r+=1)delete this.usedCrossTileIDs[e][i[r].crossTileID]},Nt.prototype.removeStaleBuckets=function(e){var t=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)e[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],t=!0)}return t};var Bt=function(){this.layerIndexes={},this.crossTileIDs=new zt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Bt.prototype.addLayer=function(e,t,n){var r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new Nt);var i=!1,o={};r.handleWrapJump(n);for(var a=0,s=t;a<s.length;a+=1){var l=s[a],u=l.getBucket(e);u&&e.id===u.layerIds[0]&&(u.bucketInstanceId||(u.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(l.tileID,u,this.crossTileIDs)&&(i=!0),o[u.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i},Bt.prototype.pruneUnusedLayers=function(e){var t={};for(var n in e.forEach((function(e){t[e]=!0})),this.layerIndexes)t[n]||delete this.layerIndexes[n]};var Ft=function(t,n){return e.emitValidationErrors(t,n&&n.filter((function(e){return"source.canvas"!==e.identifier})))},jt=e.pick(Ue,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ut=e.pick(Ue,["setCenter","setZoom","setBearing","setPitch"]),Vt=function(){var t={},n=e.styleSpec.$version;for(var r in e.styleSpec.$root){var i,o=e.styleSpec.$root[r];o.required&&null!=(i="version"===r?n:"array"===o.type?[]:{})&&(t[r]=i)}return t}(),Ht=function(t){function n(r,i){var o=this;void 0===i&&(i={}),t.call(this),this.map=r,this.dispatcher=new E(Be(),this),this.imageManager=new p,this.imageManager.setEventedParent(this),this.glyphManager=new _(r._requestManager,i.localIdeographFontFamily),this.lineAtlas=new S(256,512),this.crossTileSymbolIndex=new Bt,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());var a=this;this._rtlTextPluginCallback=n.registerForPluginStateChange((function(t){a.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(function(t,n){if(e.triggerPluginCompletionEvent(t),n&&n.every((function(e){return e})))for(var r in a.sourceCaches)a.sourceCaches[r].reload()}))})),this.on("data",(function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=o.sourceCaches[e.sourceId];if(t){var n=t.getSource();if(n&&n.vectorLayerIds)for(var r in o._layers){var i=o._layers[r];i.source===n.id&&o._validateLayer(i)}}}}))}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.loadURL=function(t,n){var r=this;void 0===n&&(n={}),this.fire(new e.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof n.validate?n.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,n.accessToken);var o=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(o,(function(t,n){r._request=null,t?r.fire(new e.ErrorEvent(t)):n&&r._load(n,i)}))},n.prototype.loadJSON=function(t,n){var r=this;void 0===n&&(n={}),this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.browser.frame((function(){r._request=null,r._load(t,!1!==n.validate)}))},n.prototype.loadEmpty=function(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(Vt,!1)},n.prototype._load=function(t,n){if(!n||!Ft(this,e.validateStyle(t))){for(var r in this._loaded=!0,this.stylesheet=t,t.sources)this.addSource(r,t.sources[r],{validate:!1});t.sprite?this._loadSprite(t.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var i=je(this.stylesheet.layers);this._order=i.map((function(e){return e.id})),this._layers={},this._serializedLayers={};for(var o=0,a=i;o<a.length;o+=1){var s=a[o];(s=e.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}},n.prototype._loadSprite=function(t){var n=this;this._spriteRequest=function(t,n,r){var i,o,a,s=e.browser.devicePixelRatio>1?"@2x":"",l=e.getJSON(n.transformRequest(n.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(function(e,t){l=null,a||(a=e,i=t,c())})),u=e.getImage(n.transformRequest(n.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(function(e,t){u=null,a||(a=e,o=t,c())}));function c(){if(a)r(a);else if(i&&o){var t=e.browser.getImageData(o),n={};for(var s in i){var l=i[s],u=l.width,c=l.height,h=l.x,p=l.y,f=l.sdf,d=l.pixelRatio,m=l.stretchX,v=l.stretchY,g=l.content,y=new e.RGBAImage({width:u,height:c});e.RGBAImage.copy(t,y,{x:h,y:p},{x:0,y:0},{width:u,height:c}),n[s]={data:y,pixelRatio:d,sdf:f,stretchX:m,stretchY:v,content:g}}r(null,n)}}return{cancel:function(){l&&(l.cancel(),l=null),u&&(u.cancel(),u=null)}}}(t,this.map._requestManager,(function(t,r){if(n._spriteRequest=null,t)n.fire(new e.ErrorEvent(t));else if(r)for(var i in r)n.imageManager.addImage(i,r[i]);n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),n.dispatcher.broadcast("setImages",n._availableImages),n.fire(new e.Event("data",{dataType:"style"}))}))},n.prototype._validateLayer=function(t){var n=this.sourceCaches[t.source];if(n){var r=t.sourceLayer;if(r){var i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new e.ErrorEvent(new Error('Source layer "'+r+'" does not exist on source "'+i.id+'" as specified by style layer "'+t.id+'"')))}}},n.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(e){for(var t=[],n=0,r=e;n<r.length;n+=1){var i=this._layers[r[n]];"custom"!==i.type&&t.push(i.serialize())}return t},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},n.prototype.update=function(t){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var o in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}var l={};for(var u in this.sourceCaches){var c=this.sourceCaches[u];l[u]=c.used,c.used=!1}for(var h=0,p=this._order;h<p.length;h+=1){var f=this._layers[p[h]];f.recalculate(t,this._availableImages),!f.isHidden(t.zoom)&&f.source&&(this.sourceCaches[f.source].used=!0)}for(var d in l){var m=this.sourceCaches[d];l[d]!==m.used&&m.fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:d}))}this.light.recalculate(t),this.z=t.zoom,n&&this.fire(new e.Event("data",{dataType:"style"}))}},n.prototype._updateTilesForChangedImages=function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}},n.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},n.prototype.setState=function(t){var n=this;if(this._checkLoaded(),Ft(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=je(t.layers);var r=function(t,n){if(!t)return[{command:Ue.setStyle,args:[n]}];var r=[];try{if(!e.deepEqual(t.version,n.version))return[{command:Ue.setStyle,args:[n]}];e.deepEqual(t.center,n.center)||r.push({command:Ue.setCenter,args:[n.center]}),e.deepEqual(t.zoom,n.zoom)||r.push({command:Ue.setZoom,args:[n.zoom]}),e.deepEqual(t.bearing,n.bearing)||r.push({command:Ue.setBearing,args:[n.bearing]}),e.deepEqual(t.pitch,n.pitch)||r.push({command:Ue.setPitch,args:[n.pitch]}),e.deepEqual(t.sprite,n.sprite)||r.push({command:Ue.setSprite,args:[n.sprite]}),e.deepEqual(t.glyphs,n.glyphs)||r.push({command:Ue.setGlyphs,args:[n.glyphs]}),e.deepEqual(t.transition,n.transition)||r.push({command:Ue.setTransition,args:[n.transition]}),e.deepEqual(t.light,n.light)||r.push({command:Ue.setLight,args:[n.light]});var i={},o=[];!function(t,n,r,i){var o;for(o in n=n||{},t=t||{})t.hasOwnProperty(o)&&(n.hasOwnProperty(o)||He(o,r,i));for(o in n)n.hasOwnProperty(o)&&(t.hasOwnProperty(o)?e.deepEqual(t[o],n[o])||("geojson"===t[o].type&&"geojson"===n[o].type&&Ge(t,n,o)?r.push({command:Ue.setGeoJSONSourceData,args:[o,n[o].data]}):We(o,n,r,i)):Ve(o,n,r))}(t.sources,n.sources,o,i);var a=[];t.layers&&t.layers.forEach((function(e){i[e.source]?r.push({command:Ue.removeLayer,args:[e.id]}):a.push(e)})),r=r.concat(o),function(t,n,r){n=n||[];var i,o,a,s,l,u,c,h=(t=t||[]).map(Ye),p=n.map(Ye),f=t.reduce(Xe,{}),d=n.reduce(Xe,{}),m=h.slice(),v=Object.create(null);for(i=0,o=0;i<h.length;i++)d.hasOwnProperty(a=h[i])?o++:(r.push({command:Ue.removeLayer,args:[a]}),m.splice(m.indexOf(a,o),1));for(i=0,o=0;i<p.length;i++)m[m.length-1-i]!==(a=p[p.length-1-i])&&(f.hasOwnProperty(a)?(r.push({command:Ue.removeLayer,args:[a]}),m.splice(m.lastIndexOf(a,m.length-o),1)):o++,r.push({command:Ue.addLayer,args:[d[a],u=m[m.length-i]]}),m.splice(m.length-i,0,a),v[a]=!0);for(i=0;i<p.length;i++)if(s=f[a=p[i]],l=d[a],!v[a]&&!e.deepEqual(s,l))if(e.deepEqual(s.source,l.source)&&e.deepEqual(s["source-layer"],l["source-layer"])&&e.deepEqual(s.type,l.type)){for(c in qe(s.layout,l.layout,r,a,null,Ue.setLayoutProperty),qe(s.paint,l.paint,r,a,null,Ue.setPaintProperty),e.deepEqual(s.filter,l.filter)||r.push({command:Ue.setFilter,args:[a,l.filter]}),e.deepEqual(s.minzoom,l.minzoom)&&e.deepEqual(s.maxzoom,l.maxzoom)||r.push({command:Ue.setLayerZoomRange,args:[a,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?qe(s[c],l[c],r,a,c.slice(6),Ue.setPaintProperty):e.deepEqual(s[c],l[c])||r.push({command:Ue.setLayerProperty,args:[a,c,l[c]]}));for(c in l)l.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?qe(s[c],l[c],r,a,c.slice(6),Ue.setPaintProperty):e.deepEqual(s[c],l[c])||r.push({command:Ue.setLayerProperty,args:[a,c,l[c]]}))}else r.push({command:Ue.removeLayer,args:[a]}),u=m[m.lastIndexOf(a)+1],r.push({command:Ue.addLayer,args:[l,u]})}(a,n.layers,r)}catch(e){console.warn("Unable to compute style diff:",e),r=[{command:Ue.setStyle,args:[n]}]}return r}(this.serialize(),t).filter((function(e){return!(e.command in Ut)}));if(0===r.length)return!1;var i=r.filter((function(e){return!(e.command in jt)}));if(i.length>0)throw new Error("Unimplemented: "+i.map((function(e){return e.command})).join(", ")+".");return r.forEach((function(e){"setTransition"!==e.command&&n[e.command].apply(n,e.args)})),this.stylesheet=t,!0},n.prototype.addImage=function(t,n){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,n),this._afterImageUpdated(t)},n.prototype.updateImage=function(e,t){this.imageManager.updateImage(e,t)},n.prototype.getImage=function(e){return this.imageManager.getImage(e)},n.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this._afterImageUpdated(t)},n.prototype._afterImageUpdated=function(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(t,n,r){var i=this;if(void 0===r&&(r={}),this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(e.validateStyle.source,"sources."+t,n,null,r))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var o=this.sourceCaches[t]=new Pe(t,n,this.dispatcher);o.style=this,o.setEventedParent(this,(function(){return{isSourceLoaded:i.loaded(),source:o.serialize(),sourceId:t}})),o.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'+t+'" cannot be removed while layer "'+n+'" is using it.')));var r=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],r.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},n.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},n.prototype.addLayer=function(t,n,r){void 0===r&&(r={}),this._checkLoaded();var i=t.id;if(this.getLayer(i))this.fire(new e.ErrorEvent(new Error('Layer with id "'+i+'" already exists on this map')));else{var o;if("custom"===t.type){if(Ft(this,e.validateCustomStyleLayer(t)))return;o=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateStyle.layer,"layers."+i,t,{arrayIndex:-1},r))return;o=e.createStyleLayer(t),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[o.id]=o.serialize()}var a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new e.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}},n.prototype.moveLayer=function(t,n){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==n){var r=this._order.indexOf(t);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new e.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(i,0,t),this._layerOrderChanged=!0)}}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")))},n.prototype.removeLayer=function(t){this._checkLoaded();var n=this._layers[t];if(n){n.setEventedParent(null);var r=this._order.indexOf(t);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map)}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")))},n.prototype.getLayer=function(e){return this._layers[e]},n.prototype.hasLayer=function(e){return e in this._layers},n.prototype.setLayerZoomRange=function(t,n,r){this._checkLoaded();var i=this.getLayer(t);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")))},n.prototype.setFilter=function(t,n,r){void 0===r&&(r={}),this._checkLoaded();var i=this.getLayer(t);if(i){if(!e.deepEqual(i.filter,n))return null==n?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(e.validateStyle.filter,"layers."+i.id+".filter",n,null,r)||(i.filter=e.clone$1(n),this._updateLayer(i)))}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")))},n.prototype.getFilter=function(t){return e.clone$1(this.getLayer(t).filter)},n.prototype.setLayoutProperty=function(t,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(t);o?e.deepEqual(o.getLayoutProperty(n),r)||(o.setLayoutProperty(n,r,i),this._updateLayer(o)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getLayoutProperty=function(t,n){var r=this.getLayer(t);if(r)return r.getLayoutProperty(n);this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style.")))},n.prototype.setPaintProperty=function(t,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(t);o?e.deepEqual(o.getPaintProperty(n),r)||(o.setPaintProperty(n,r,i)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},n.prototype.setFeatureState=function(t,n){this._checkLoaded();var r=t.source,i=t.sourceLayer,o=this.sourceCaches[r];if(void 0!==o){var a=o.getSource().type;"geojson"===a&&i?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||i?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),o.setFeatureState(i,t.id,n)):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.removeFeatureState=function(t,n){this._checkLoaded();var r=t.source,i=this.sourceCaches[r];if(void 0!==i){var o=i.getSource().type,a="vector"===o?t.sourceLayer:void 0;"vector"!==o||a?n&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(a,t.id,n):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.getFeatureState=function(t){this._checkLoaded();var n=t.source,r=t.sourceLayer,i=this.sourceCaches[n];if(void 0!==i){if("vector"!==i.getSource().type||r)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),i.getFeatureState(r,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},n.prototype.getTransition=function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,(function(e){return e.serialize()})),layers:this._serializeLayers(this._order)},(function(e){return void 0!==e}))},n.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0},n.prototype._flattenAndSortRenderedFeatures=function(e){for(var t=this,n=function(e){return"fill-extrusion"===t._layers[e].type},r={},i=[],o=this._order.length-1;o>=0;o--){var a=this._order[o];if(n(a)){r[a]=o;for(var s=0,l=e;s<l.length;s+=1){var u=l[s][a];if(u)for(var c=0,h=u;c<h.length;c+=1)i.push(h[c])}}}i.sort((function(e,t){return t.intersectionZ-e.intersectionZ}));for(var p=[],f=this._order.length-1;f>=0;f--){var d=this._order[f];if(n(d))for(var m=i.length-1;m>=0;m--){var v=i[m].feature;if(r[v.layer.id]<f)break;p.push(v),i.pop()}else for(var g=0,y=e;g<y.length;g+=1){var _=y[g][d];if(_)for(var b=0,x=_;b<x.length;b+=1)p.push(x[b].feature)}}return p},n.prototype.queryRenderedFeatures=function(t,n,r){n&&n.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);var i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,a=n.layers;o<a.length;o+=1){var s=a[o],l=this._layers[s];if(!l)return this.fire(new e.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];i[l.source]=!0}}var u=[];for(var c in n.availableImages=this._availableImages,this.sourceCaches)n.layers&&!i[c]||u.push(N(this.sourceCaches[c],this._layers,this._serializedLayers,t,n,r));return this.placement&&u.push(function(e,t,n,r,i,o,a){for(var s={},l=o.queryRenderedSymbols(r),u=[],c=0,h=Object.keys(l).map(Number);c<h.length;c+=1)u.push(a[h[c]]);u.sort(B);for(var p=function(){var n=d[f],r=n.featureIndex.lookupSymbolFeatures(l[n.bucketInstanceId],t,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(var o in r){var a=s[o]=s[o]||[],u=r[o];u.sort((function(e,t){var r=n.featureSortOrder;if(r){var i=r.indexOf(e.featureIndex);return r.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(var c=0,h=u;c<h.length;c+=1)a.push(h[c])}},f=0,d=u;f<d.length;f+=1)p();var m=function(t){s[t].forEach((function(r){var i=r.feature,o=n[e[t].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o}))};for(var v in s)m(v);return s}(this._layers,this._serializedLayers,this.sourceCaches,t,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(u)},n.prototype.querySourceFeatures=function(t,n){n&&n.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);var r=this.sourceCaches[t];return r?function(e,t){for(var n=e.getRenderableIds().map((function(t){return e.getTileByID(t)})),r=[],i={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(r,t))}return r}(r,n):[]},n.prototype.addSourceType=function(e,t,r){return n.getSourceType(e)?r(new Error('A source type called "'+e+'" already exists.')):(n.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},r):r(null,null))},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(t,n){void 0===n&&(n={}),this._checkLoaded();var r=this.light.getLight(),i=!1;for(var o in t)if(!e.deepEqual(t[o],r[o])){i=!0;break}if(i){var a={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,n),this.light.updateTransitions(a)}},n.prototype._validate=function(t,n,r,i,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&Ft(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:r,styleSpec:e.styleSpec},i)))},n.prototype._remove=function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[t].setEventedParent(null);for(var n in this.sourceCaches)this.sourceCaches[n].clearTiles(),this.sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},n.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},n.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},n.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},n.prototype._generateCollisionBoxes=function(){for(var e in this.sourceCaches)this._reloadSource(e)},n.prototype._updatePlacement=function(t,n,r,i,o){void 0===o&&(o=!1);for(var a=!1,s=!1,l={},u=0,c=this._order;u<c.length;u+=1){var h=this._layers[c[u]];if("symbol"===h.type){if(!l[h.source]){var p=this.sourceCaches[h.source];l[h.source]=p.getRenderableIds(!0).map((function(e){return p.getTileByID(e)})).sort((function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)}))}var f=this.crossTileSymbolIndex.addLayer(h,l[h.source],t.center.lng);a=a||f}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((o=o||this._layerOrderChanged||0===r)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now(),t.zoom))&&(this.pauseablePlacement=new It(t,this._order,o,n,r,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.browser.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(var d=0,m=this._order;d<m.length;d+=1){var v=this._layers[m[d]];"symbol"===v.type&&this.placement.updateLayerOpacities(v,l[v.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()},n.prototype.getImages=function(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();var r=this.sourceCaches[t.source];r&&r.setDependencies(t.tileID.key,t.type,t.icons)},n.prototype.getGlyphs=function(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)},n.prototype.getResource=function(t,n,r){return e.makeRequest(n,r)},n}(e.Evented);Ht.getSourceType=function(e){return D[e]},Ht.setSourceType=function(e,t){D[e]=t},Ht.registerForPluginStateChange=e.registerForPluginStateChange;var Wt=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),Gt=yn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),qt=yn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Yt=yn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Xt=yn("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Zt=yn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Kt=yn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Jt=yn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Qt=yn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),$t=yn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),en=yn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),tn=yn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),nn=yn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),rn=yn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),on=yn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),an=yn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),sn=yn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),ln=yn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),un=yn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),cn=yn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),hn=yn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),pn=yn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),fn=yn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),dn=yn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),mn=yn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),vn=yn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),gn=yn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function yn(e,t){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=t.match(/attribute ([\w]+) ([\w]+)/g),i=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=o?o.concat(i):i,s={};return{fragmentSource:e=e.replace(n,(function(e,t,n,r,i){return s[i]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),vertexSource:t=t.replace(n,(function(e,t,n,r,i){var o="float"===r?"vec2":"vec4",a=i.match(/color/)?"color":o;return s[i]?"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),staticAttributes:r,staticUniforms:a}}var _n=Object.freeze({__proto__:null,prelude:Gt,background:qt,backgroundPattern:Yt,circle:Xt,clippingMask:Zt,heatmap:Kt,heatmapTexture:Jt,collisionBox:Qt,collisionCircle:$t,debug:en,fill:tn,fillOutline:nn,fillOutlinePattern:rn,fillPattern:on,fillExtrusion:an,fillExtrusionPattern:sn,hillshadePrepare:ln,hillshade:un,line:cn,lineGradient:hn,linePattern:pn,lineSDF:fn,raster:dn,symbolIcon:mn,symbolSDF:vn,symbolTextAndIcon:gn}),bn=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function xn(e){for(var t=[],n=0;n<e.length;n++)if(null!==e[n]){var r=e[n].split(" ");t.push(r.pop())}return t}bn.prototype.bind=function(e,t,n,r,i,o,a,s){this.context=e;for(var l=this.boundPaintVertexBuffers.length!==r.length,u=0;!l&&u<r.length;u++)this.boundPaintVertexBuffers[u]!==r[u]&&(l=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===n&&!l&&this.boundIndexBuffer===i&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(e.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind()):this.freshBind(t,n,r,i,o,a,s)},bn.prototype.freshBind=function(e,t,n,r,i,o,a){var s,l=e.numAttributes,u=this.context,c=u.gl;if(u.extVertexArrayObject)this.vao&&this.destroy(),this.vao=u.extVertexArrayObject.createVertexArrayOES(),u.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=u.currentNumAttributes||0;for(var h=l;h<s;h++)c.disableVertexAttribArray(h)}t.enableAttributes(c,e);for(var p=0,f=n;p<f.length;p+=1)f[p].enableAttributes(c,e);o&&o.enableAttributes(c,e),a&&a.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,i);for(var d=0,m=n;d<m.length;d+=1){var v=m[d];v.bind(),v.setVertexAttribPointers(c,e,i)}o&&(o.bind(),o.setVertexAttribPointers(c,e,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,e,i)),u.currentNumAttributes=l},bn.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var wn=function(e,t,n,r,i,o){var a=e.gl;this.program=a.createProgram();for(var s=xn(n.staticAttributes),l=r?r.getBinderAttributes():[],u=s.concat(l),c=n.staticUniforms?xn(n.staticUniforms):[],h=r?r.getBinderUniforms():[],p=[],f=0,d=c.concat(h);f<d.length;f+=1){var m=d[f];p.indexOf(m)<0&&p.push(m)}var v=r?r.defines():[];o&&v.push("#define OVERDRAW_INSPECTOR;");var g=v.concat(Gt.fragmentSource,n.fragmentSource).join("\n"),y=v.concat(Gt.vertexSource,n.vertexSource).join("\n"),_=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(_,g),a.compileShader(_),a.attachShader(this.program,_);var b=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(b,y),a.compileShader(b),a.attachShader(this.program,b),this.attributes={};var x={};this.numAttributes=u.length;for(var w=0;w<this.numAttributes;w++)u[w]&&(a.bindAttribLocation(this.program,w,u[w]),this.attributes[u[w]]=w);a.linkProgram(this.program),a.deleteShader(b),a.deleteShader(_);for(var S=0;S<p.length;S++){var E=p[S];if(E&&!x[E]){var M=a.getUniformLocation(this.program,E);M&&(x[E]=M)}}this.fixedUniforms=i(e,x),this.binderUniforms=r?r.getUniforms(e,x):[]}}};function Sn(e,t,n){var r=1/pt(n,1,t.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,t.transform.tileZoom)/i,a=o*(n.tileID.canonical.x+n.tileID.wrap*i),s=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}wn.prototype.draw=function(e,t,n,r,i,o,a,s,l,u,c,h,p,f,d,m){var v,g=e.gl;if(!this.failedToCreate){for(var y in e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(r),e.setColorMode(i),e.setCullFace(o),this.fixedUniforms)this.fixedUniforms[y].set(a[y]);f&&f.setUniforms(e,this.binderUniforms,h,{zoom:p});for(var _=(v={},v[g.LINES]=2,v[g.TRIANGLES]=3,v[g.LINE_STRIP]=1,v)[t],b=0,x=c.get();b<x.length;b+=1){var w=x[b],S=w.vaos||(w.vaos={});(S[s]||(S[s]=new bn)).bind(e,this,l,f?f.getPaintVertexBuffers():[],u,w.vertexOffset,d,m),g.drawElements(t,w.primitiveLength*_,g.UNSIGNED_SHORT,w.primitiveOffset*_*2)}}};var En=function(t,n,r,i){var o=n.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],l=e.create$1();"viewport"===o.properties.get("anchor")&&e.fromRotation(l,-n.transform.angle),e.transformMat3(s,s,l);var u=o.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[u.r,u.g,u.b],u_vertical_gradient:+r,u_opacity:i}},Mn=function(t,n,r,i,o,a,s){return e.extend(En(t,n,r,i),Sn(a,n,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8})},kn=function(e){return{u_matrix:e}},Tn=function(t,n,r,i){return e.extend(kn(t),Sn(r,n,i))},An=function(e,t){return{u_matrix:e,u_world:t}},Cn=function(t,n,r,i,o){return e.extend(Tn(t,n,r,i),{u_world:o})},Pn=function(t,n,r,i){var o,a,s=t.transform;if("map"===i.paint.get("circle-pitch-alignment")){var l=pt(r,1,s.zoom);o=!0,a=[l,l]}else o=!1,a=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===i.paint.get("circle-pitch-scale")),u_matrix:t.translatePosMatrix(n.posMatrix,r,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_device_pixel_ratio:e.browser.devicePixelRatio,u_extrude_scale:a}},On=function(e,t,n){var r=pt(n,1,t.zoom),i=Math.pow(2,t.zoom-n.tileID.overscaledZ),o=n.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[t.pixelsToGLUnits[0]/(r*i),t.pixelsToGLUnits[1]/(r*i)],u_overscale_factor:o}},Rn=function(e,t,n){return{u_matrix:e,u_inv_matrix:t,u_camera_to_center_distance:n.cameraToCenterDistance,u_viewport_size:[n.width,n.height]}},In=function(e,t,n){return void 0===n&&(n=1),{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:n}},Ln=function(e){return{u_matrix:e}},Dn=function(e,t,n,r){return{u_matrix:e,u_extrude_scale:pt(t,1,n),u_intensity:r}},zn=function(t,n,r){var i=t.transform;return{u_matrix:Un(t,n,r),u_ratio:1/pt(n,1,i.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Nn=function(t,n,r,i){return e.extend(zn(t,n,r),{u_image:0,u_image_height:i})},Bn=function(t,n,r,i){var o=t.transform,a=jn(n,o);return{u_matrix:Un(t,n,r),u_texsize:n.imageAtlasTexture.size,u_ratio:1/pt(n,1,o.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_image:0,u_scale:[a,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},Fn=function(t,n,r,i,o){var a=t.lineAtlas,s=jn(n,t.transform),l="round"===r.layout.get("line-cap"),u=a.getDash(i.from,l),c=a.getDash(i.to,l),h=u.width*o.fromScale,p=c.width*o.toScale;return e.extend(zn(t,n,r),{u_patternscale_a:[s/h,-u.height/2],u_patternscale_b:[s/p,-c.height/2],u_sdfgamma:a.width/(256*Math.min(h,p)*e.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:u.y,u_tex_y_b:c.y,u_mix:o.t})};function jn(e,t){return 1/pt(e,1,t.tileZoom)}function Un(e,t,n){return e.translatePosMatrix(t.tileID.posMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var Vn=function(e,t,n,r,i){return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:Hn(i.paint.get("raster-hue-rotate"))};var o,a};function Hn(e){e*=Math.PI/180;var t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}var Wn,Gn=function(e,t,n,r,i,o,a,s,l,u){var c=i.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:c.width/c.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+r,u_texsize:u,u_texture:0}},qn=function(t,n,r,i,o,a,s,l,u,c,h){var p=o.transform;return e.extend(Gn(t,n,r,i,o,a,s,l,u,c),{u_gamma_scale:i?Math.cos(p._pitch)*p.cameraToCenterDistance:1,u_device_pixel_ratio:e.browser.devicePixelRatio,u_is_halo:+h})},Yn=function(t,n,r,i,o,a,s,l,u,c){return e.extend(qn(t,n,r,i,o,a,s,l,!0,u,!0),{u_texsize_icon:c,u_texture_icon:1})},Xn=function(e,t,n){return{u_matrix:e,u_opacity:t,u_color:n}},Zn=function(t,n,r,i,o,a){return e.extend(function(e,t,n,r){var i=n.imageManager.getPattern(e.from.toString()),o=n.imageManager.getPattern(e.to.toString()),a=n.imageManager.getPixelSize(),s=a.width,l=a.height,u=Math.pow(2,r.tileID.overscaledZ),c=r.tileSize*Math.pow(2,n.transform.tileZoom)/u,h=c*(r.tileID.canonical.x+r.tileID.wrap*u),p=c*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,l],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/pt(r,1,n.transform.tileZoom),u_pixel_coord_upper:[h>>16,p>>16],u_pixel_coord_lower:[65535&h,65535&p]}}(i,a,r,o),{u_matrix:t,u_opacity:n})},Kn={fillExtrusion:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_opacity:new e.Uniform1f(t,n.u_opacity)}},fillExtrusionPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,n.u_height_factor),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade),u_opacity:new e.Uniform1f(t,n.u_opacity)}},fill:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},fillPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},fillOutline:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world)}},fillOutlinePattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},circle:function(t,n){return{u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,n.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},collisionBox:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,n.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,n.u_overscale_factor)}},collisionCircle:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,n.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,n.u_viewport_size)}},debug:function(t,n){return{u_color:new e.UniformColor(t,n.u_color),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_overlay:new e.Uniform1i(t,n.u_overlay),u_overlay_scale:new e.Uniform1f(t,n.u_overlay_scale)}},clippingMask:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},heatmap:function(t,n){return{u_extrude_scale:new e.Uniform1f(t,n.u_extrude_scale),u_intensity:new e.Uniform1f(t,n.u_intensity),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},heatmapTexture:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_color_ramp:new e.Uniform1i(t,n.u_color_ramp),u_opacity:new e.Uniform1f(t,n.u_opacity)}},hillshade:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_latrange:new e.Uniform2f(t,n.u_latrange),u_light:new e.Uniform2f(t,n.u_light),u_shadow:new e.UniformColor(t,n.u_shadow),u_highlight:new e.UniformColor(t,n.u_highlight),u_accent:new e.UniformColor(t,n.u_accent)}},hillshadePrepare:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_dimension:new e.Uniform2f(t,n.u_dimension),u_zoom:new e.Uniform1f(t,n.u_zoom),u_unpack:new e.Uniform4f(t,n.u_unpack)}},line:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels)}},lineGradient:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_image:new e.Uniform1i(t,n.u_image),u_image_height:new e.Uniform1f(t,n.u_image_height)}},linePattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_texsize:new e.Uniform2f(t,n.u_texsize),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_image:new e.Uniform1i(t,n.u_image),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},lineSDF:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,n.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,n.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,n.u_sdfgamma),u_image:new e.Uniform1i(t,n.u_image),u_tex_y_a:new e.Uniform1f(t,n.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,n.u_tex_y_b),u_mix:new e.Uniform1f(t,n.u_mix)}},raster:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_tl_parent:new e.Uniform2f(t,n.u_tl_parent),u_scale_parent:new e.Uniform1f(t,n.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,n.u_buffer_scale),u_fade_t:new e.Uniform1f(t,n.u_fade_t),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image0:new e.Uniform1i(t,n.u_image0),u_image1:new e.Uniform1i(t,n.u_image1),u_brightness_low:new e.Uniform1f(t,n.u_brightness_low),u_brightness_high:new e.Uniform1f(t,n.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,n.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,n.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,n.u_spin_weights)}},symbolIcon:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture)}},symbolSDF:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}},symbolTextAndIcon:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texsize_icon:new e.Uniform2f(t,n.u_texsize_icon),u_texture:new e.Uniform1i(t,n.u_texture),u_texture_icon:new e.Uniform1i(t,n.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}},background:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_color:new e.UniformColor(t,n.u_color)}},backgroundPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image:new e.Uniform1i(t,n.u_image),u_pattern_tl_a:new e.Uniform2f(t,n.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,n.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,n.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,n.u_pattern_br_b),u_texsize:new e.Uniform2f(t,n.u_texsize),u_mix:new e.Uniform1f(t,n.u_mix),u_pattern_size_a:new e.Uniform2f(t,n.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,n.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,n.u_scale_a),u_scale_b:new e.Uniform1f(t,n.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,n.u_tile_units_to_pixels)}}};function Jn(t,n,r,i,o,a,s){for(var l=t.context,u=l.gl,c=t.useProgram("collisionBox"),h=[],p=0,f=0,d=0;d<i.length;d++){var m=i[d],v=n.getTile(m),g=v.getBucket(r);if(g){var y=m.posMatrix;0===o[0]&&0===o[1]||(y=t.translatePosMatrix(m.posMatrix,v,o,a));var _=s?g.textCollisionBox:g.iconCollisionBox,b=g.collisionCircleArray;if(b.length>0){var x=e.create(),w=y;e.mul(x,g.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul(x,x,g.placementViewportMatrix),h.push({circleArray:b,circleOffset:f,transform:w,invTransform:x}),f=p+=b.length/4}_&&c.draw(l,u.LINES,Me.disabled,ke.disabled,t.colorModeForRenderPass(),Ae.disabled,On(y,t.transform,v),r.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,null,t.transform.zoom,null,null,_.collisionVertexBuffer)}}if(s&&h.length){var S=t.useProgram("collisionCircle"),E=new e.StructArrayLayout2f1f2i16;E.resize(4*p),E._trim();for(var M=0,k=0,T=h;k<T.length;k+=1)for(var A=T[k],C=0;C<A.circleArray.length/4;C++){var P=4*C,O=A.circleArray[P+0],R=A.circleArray[P+1],I=A.circleArray[P+2],L=A.circleArray[P+3];E.emplace(M++,O,R,I,L,0),E.emplace(M++,O,R,I,L,1),E.emplace(M++,O,R,I,L,2),E.emplace(M++,O,R,I,L,3)}(!Wn||Wn.length<2*p)&&(Wn=function(t){var n=2*t,r=new e.StructArrayLayout3ui6;r.resize(n),r._trim();for(var i=0;i<n;i++){var o=6*i;r.uint16[o+0]=4*i+0,r.uint16[o+1]=4*i+1,r.uint16[o+2]=4*i+2,r.uint16[o+3]=4*i+2,r.uint16[o+4]=4*i+3,r.uint16[o+5]=4*i+0}return r}(p));for(var D=l.createIndexBuffer(Wn,!0),z=l.createVertexBuffer(E,e.collisionCircleLayout.members,!0),N=0,B=h;N<B.length;N+=1){var F=B[N],j=Rn(F.transform,F.invTransform,t.transform);S.draw(l,u.TRIANGLES,Me.disabled,ke.disabled,t.colorModeForRenderPass(),Ae.disabled,j,r.id,z,D,e.SegmentVector.simpleSegment(0,2*F.circleOffset,F.circleArray.length,F.circleArray.length/2),null,t.transform.zoom,null,null,null)}z.destroy(),D.destroy()}}var Qn=e.identity(new Float32Array(16));function $n(t,n,r,i,o,a){var s=e.getAnchorAlignment(t),l=-(s.horizontalAlign-.5)*n,u=-(s.verticalAlign-.5)*r,c=e.evaluateVariableOffset(t,i);return new e.Point((l/o+c[0])*a,(u/o+c[1])*a)}function er(t,n,r,i,o,a,s,l,u,c,h){var p=t.text.placedSymbolArray,f=t.text.dynamicLayoutVertexArray,d=t.icon.dynamicLayoutVertexArray,m={};f.clear();for(var v=0;v<p.length;v++){var g=p.get(v),y=g.hidden||!g.crossTileID||t.allowVerticalPlacement&&!g.placedOrientation?null:i[g.crossTileID];if(y){var _=new e.Point(g.anchorX,g.anchorY),b=$e(_,r?l:s),x=et(a.cameraToCenterDistance,b.signedDistanceFromCamera),w=o.evaluateSizeForFeature(t.textSizeData,c,g)*x/e.ONE_EM;r&&(w*=t.tilePixelRatio/u);for(var S=$n(y.anchor,y.width,y.height,y.textOffset,y.textBoxScale,w),E=r?$e(_.add(S),s).point:b.point.add(n?S.rotate(-a.angle):S),M=t.allowVerticalPlacement&&g.placedOrientation===e.WritingMode.vertical?Math.PI/2:0,k=0;k<g.numGlyphs;k++)e.addDynamicAttributes(f,E,M);h&&g.associatedIconIndex>=0&&(m[g.associatedIconIndex]={shiftedAnchor:E,angle:M})}else ut(g.numGlyphs,f)}if(h){d.clear();for(var T=t.icon.placedSymbolArray,A=0;A<T.length;A++){var C=T.get(A);if(C.hidden)ut(C.numGlyphs,d);else{var P=m[A];if(P)for(var O=0;O<C.numGlyphs;O++)e.addDynamicAttributes(d,P.shiftedAnchor,P.angle);else ut(C.numGlyphs,d)}}t.icon.dynamicLayoutVertexBuffer.updateData(d)}t.text.dynamicLayoutVertexBuffer.updateData(f)}function tr(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function nr(t,n,r,i,o,a,s,l,u,c,h,p){for(var f=t.context,d=f.gl,m=t.transform,v="map"===l,g="map"===u,y=v&&"point"!==r.layout.get("symbol-placement"),_=v&&!g&&!y,b=void 0!==r.layout.get("symbol-sort-key").constantOr(1),x=!1,w=t.depthModeForSublayer(0,Me.ReadOnly),S=r.layout.get("text-variable-anchor"),E=[],M=0,k=i;M<k.length;M+=1){var T=k[M],A=n.getTile(T),C=A.getBucket(r);if(C){var P=o?C.text:C.icon;if(P&&P.segments.get().length){var O=P.programConfigurations.get(r.id),R=o||C.sdfIcons,I=o?C.textSizeData:C.iconSizeData,L=g||0!==m.pitch,D=t.useProgram(tr(R,o,C),O),z=e.evaluateSizeForZoom(I,m.zoom),N=void 0,B=[0,0],F=void 0,j=void 0,U=null,V=void 0;if(o)F=A.glyphAtlasTexture,j=d.LINEAR,N=A.glyphAtlasTexture.size,C.iconsInText&&(B=A.imageAtlasTexture.size,U=A.imageAtlasTexture,V=L||t.options.rotating||t.options.zooming||"composite"===I.kind||"camera"===I.kind?d.LINEAR:d.NEAREST);else{var H=1!==r.layout.get("icon-size").constantOr(0)||C.iconsNeedLinear;F=A.imageAtlasTexture,j=R||t.options.rotating||t.options.zooming||H||L?d.LINEAR:d.NEAREST,N=A.imageAtlasTexture.size}var W=pt(A,1,t.transform.zoom),G=Je(T.posMatrix,g,v,t.transform,W),q=Qe(T.posMatrix,g,v,t.transform,W),Y=S&&C.hasTextData(),X="none"!==r.layout.get("icon-text-fit")&&Y&&C.hasIconData();y&&nt(C,T.posMatrix,t,o,G,q,g,c);var Z=t.translatePosMatrix(T.posMatrix,A,a,s),K=y||o&&S||X?Qn:G,J=t.translatePosMatrix(q,A,a,s,!0),Q=R&&0!==r.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),$={program:D,buffers:P,uniformValues:R?C.iconsInText?Yn(I.kind,z,_,g,t,Z,K,J,N,B):qn(I.kind,z,_,g,t,Z,K,J,o,N,!0):Gn(I.kind,z,_,g,t,Z,K,J,o,N),atlasTexture:F,atlasTextureIcon:U,atlasInterpolation:j,atlasInterpolationIcon:V,isSDF:R,hasHalo:Q};if(b&&C.canOverlap){x=!0;for(var ee=0,te=P.segments.get();ee<te.length;ee+=1){var ne=te[ee];E.push({segments:new e.SegmentVector([ne]),sortKey:ne.sortKey,state:$})}}else E.push({segments:P.segments,sortKey:0,state:$})}}}x&&E.sort((function(e,t){return e.sortKey-t.sortKey}));for(var re=0,ie=E;re<ie.length;re+=1){var oe=ie[re],ae=oe.state;if(f.activeTexture.set(d.TEXTURE0),ae.atlasTexture.bind(ae.atlasInterpolation,d.CLAMP_TO_EDGE),ae.atlasTextureIcon&&(f.activeTexture.set(d.TEXTURE1),ae.atlasTextureIcon&&ae.atlasTextureIcon.bind(ae.atlasInterpolationIcon,d.CLAMP_TO_EDGE)),ae.isSDF){var se=ae.uniformValues;ae.hasHalo&&(se.u_is_halo=1,rr(ae.buffers,oe.segments,r,t,ae.program,w,h,p,se)),se.u_is_halo=0}rr(ae.buffers,oe.segments,r,t,ae.program,w,h,p,ae.uniformValues)}}function rr(e,t,n,r,i,o,a,s,l){var u=r.context;i.draw(u,u.gl.TRIANGLES,o,a,s,Ae.disabled,l,n.id,e.layoutVertexBuffer,e.indexBuffer,t,n.paint,r.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function ir(e,t,n,r,i,o,a){var s,l,u,c,h,p=e.context.gl,f=n.paint.get("fill-pattern"),d=f&&f.constantOr(1),m=n.getCrossfadeParameters();a?(l=d&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=p.LINES):(l=d?"fillPattern":"fill",s=p.TRIANGLES);for(var v=0,g=r;v<g.length;v+=1){var y=g[v],_=t.getTile(y);if(!d||_.patternsLoaded()){var b=_.getBucket(n);if(b){var x=b.programConfigurations.get(n.id),w=e.useProgram(l,x);d&&(e.context.activeTexture.set(p.TEXTURE0),_.imageAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),x.updatePaintBuffers(m));var S=f.constantOr(null);if(S&&_.imageAtlas){var E=_.imageAtlas,M=E.patternPositions[S.to.toString()],k=E.patternPositions[S.from.toString()];M&&k&&x.setConstantPatternPositions(M,k)}var T=e.translatePosMatrix(y.posMatrix,_,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){c=b.indexBuffer2,h=b.segments2;var A=[p.drawingBufferWidth,p.drawingBufferHeight];u="fillOutlinePattern"===l&&d?Cn(T,e,m,_,A):An(T,A)}else c=b.indexBuffer,h=b.segments,u=d?Tn(T,e,m,_):kn(T);w.draw(e.context,s,i,e.stencilModeForClipping(y),o,Ae.disabled,u,n.id,b.layoutVertexBuffer,c,h,n.paint,e.transform.zoom,x)}}}}function or(e,t,n,r,i,o,a){for(var s=e.context,l=s.gl,u=n.paint.get("fill-extrusion-pattern"),c=u.constantOr(1),h=n.getCrossfadeParameters(),p=n.paint.get("fill-extrusion-opacity"),f=0,d=r;f<d.length;f+=1){var m=d[f],v=t.getTile(m),g=v.getBucket(n);if(g){var y=g.programConfigurations.get(n.id),_=e.useProgram(c?"fillExtrusionPattern":"fillExtrusion",y);c&&(e.context.activeTexture.set(l.TEXTURE0),v.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),y.updatePaintBuffers(h));var b=u.constantOr(null);if(b&&v.imageAtlas){var x=v.imageAtlas,w=x.patternPositions[b.to.toString()],S=x.patternPositions[b.from.toString()];w&&S&&y.setConstantPatternPositions(w,S)}var E=e.translatePosMatrix(m.posMatrix,v,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),M=n.paint.get("fill-extrusion-vertical-gradient"),k=c?Mn(E,e,M,p,m,h,v):En(E,e,M,p);_.draw(s,s.gl.TRIANGLES,i,o,a,Ae.backCCW,k,n.id,g.layoutVertexBuffer,g.indexBuffer,g.segments,n.paint,e.transform.zoom,y)}}}function ar(t,n,r,i,o,a){var s=t.context,l=s.gl,u=n.fbo;if(u){var c=t.useProgram("hillshade");s.activeTexture.set(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,u.colorAttachment.get());var h=function(t,n,r){var i=r.paint.get("hillshade-shadow-color"),o=r.paint.get("hillshade-highlight-color"),a=r.paint.get("hillshade-accent-color"),s=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(s-=t.transform.angle);var l,u,c,h=!t.options.moving;return{u_matrix:t.transform.calculatePosMatrix(n.tileID.toUnwrapped(),h),u_image:0,u_latrange:(l=n.tileID,u=Math.pow(2,l.canonical.z),c=l.canonical.y,[new e.MercatorCoordinate(0,c/u).toLngLat().lat,new e.MercatorCoordinate(0,(c+1)/u).toLngLat().lat]),u_light:[r.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:o,u_accent:a}}(t,n,r);c.draw(s,l.TRIANGLES,i,o,a,Ae.disabled,h,r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function sr(t,n,r,i,o,a){var s=t.context,l=s.gl,u=n.dem;if(u&&u.data){var c=u.dim,h=u.stride,p=u.getPixels();if(s.activeTexture.set(l.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(h),n.demTexture){var f=n.demTexture;f.update(p,{premultiply:!1}),f.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else n.demTexture=new e.Texture(s,p,l.RGBA,{premultiply:!1}),n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);s.activeTexture.set(l.TEXTURE0);var d=n.fbo;if(!d){var m=new e.Texture(s,{width:c,height:c,data:null},l.RGBA);m.bind(l.LINEAR,l.CLAMP_TO_EDGE),(d=n.fbo=s.createFramebuffer(c,c,!0)).colorAttachment.set(m.texture)}s.bindFramebuffer.set(d.framebuffer),s.viewport.set([0,0,c,c]),t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,i,o,a,Ae.disabled,function(t,n){var r=n.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:t.overscaledZ,u_unpack:n.getUnpackVector()}}(n.tileID,u),r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function lr(t,n,r,i,o){var a=i.paint.get("raster-fade-duration");if(a>0){var s=e.browser.now(),l=(s-t.timeAdded)/a,u=n?(s-n.timeAdded)/a:-1,c=r.getSource(),h=o.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),p=!n||Math.abs(n.tileID.overscaledZ-h)>Math.abs(t.tileID.overscaledZ-h),f=p&&t.refreshedUponExpiration?1:e.clamp(p?l:1-u,0,1);return t.refreshedUponExpiration&&l>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}var ur=new e.Color(1,0,0,1),cr=new e.Color(0,1,0,1),hr=new e.Color(0,0,1,1),pr=new e.Color(1,0,1,1),fr=new e.Color(0,1,1,1);function dr(e,t,n,r){vr(e,0,t+n/2,e.transform.width,n,r)}function mr(e,t,n,r){vr(e,t-n/2,0,n,e.transform.height,r)}function vr(t,n,r,i,o,a){var s=t.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(n*e.browser.devicePixelRatio,r*e.browser.devicePixelRatio,i*e.browser.devicePixelRatio,o*e.browser.devicePixelRatio),s.clear({color:a}),l.disable(l.SCISSOR_TEST)}function gr(t,n,r){var i=t.context,o=i.gl,a=r.posMatrix,s=t.useProgram("debug"),l=Me.disabled,u=ke.disabled,c=t.colorModeForRenderPass();i.activeTexture.set(o.TEXTURE0),t.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),s.draw(i,o.LINE_STRIP,l,u,c,Ae.disabled,In(a,e.Color.red),"$debug",t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);var h=n.getTileByID(r.key).latestRawTileData,p=Math.floor((h&&h.byteLength||0)/1024),f=n.getTile(r).tileSize,d=512/Math.min(f,512)*(r.overscaledZ/t.transform.zoom)*.5,m=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(m+=" => "+r.overscaledZ),function(e,t){e.initDebugOverlayCanvas();var n=e.debugOverlayCanvas,r=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(t,m+" "+p+"kb"),s.draw(i,o.TRIANGLES,l,u,Te.alphaBlended,Ae.disabled,In(a,e.Color.transparent,d),"$debug",t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments)}var yr={symbol:function(t,n,r,i,o){if("translucent"===t.renderPass){var a=ke.disabled,s=t.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(t,n,r,i,o,a,s){for(var l=n.transform,u="map"===o,c="map"===a,h=0,p=t;h<p.length;h+=1){var f=p[h],d=i.getTile(f),m=d.getBucket(r);if(m&&m.text&&m.text.segments.get().length){var v=e.evaluateSizeForZoom(m.textSizeData,l.zoom),g=pt(d,1,n.transform.zoom),y=Je(f.posMatrix,c,u,n.transform,g),_="none"!==r.layout.get("icon-text-fit")&&m.hasIconData();if(v){var b=Math.pow(2,l.zoom-d.tileID.overscaledZ);er(m,u,c,s,e.symbolSize,l,y,f.posMatrix,b,v,_)}}}}(i,t,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),o),0!==r.paint.get("icon-opacity").constantOr(1)&&nr(t,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),a,s),0!==r.paint.get("text-opacity").constantOr(1)&&nr(t,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(Jn(t,n,r,i,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),Jn(t,n,r,i,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))}},circle:function(t,n,r,i){if("translucent"===t.renderPass){var o=r.paint.get("circle-opacity"),a=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),l=void 0!==r.layout.get("circle-sort-key").constantOr(1);if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){for(var u=t.context,c=u.gl,h=t.depthModeForSublayer(0,Me.ReadOnly),p=ke.disabled,f=t.colorModeForRenderPass(),d=[],m=0;m<i.length;m++){var v=i[m],g=n.getTile(v),y=g.getBucket(r);if(y){var _=y.programConfigurations.get(r.id),b={programConfiguration:_,program:t.useProgram("circle",_),layoutVertexBuffer:y.layoutVertexBuffer,indexBuffer:y.indexBuffer,uniformValues:Pn(t,v,g,r)};if(l)for(var x=0,w=y.segments.get();x<w.length;x+=1){var S=w[x];d.push({segments:new e.SegmentVector([S]),sortKey:S.sortKey,state:b})}else d.push({segments:y.segments,sortKey:0,state:b})}}l&&d.sort((function(e,t){return e.sortKey-t.sortKey}));for(var E=0,M=d;E<M.length;E+=1){var k=M[E],T=k.state;T.program.draw(u,c.TRIANGLES,h,p,f,Ae.disabled,T.uniformValues,r.id,T.layoutVertexBuffer,T.indexBuffer,k.segments,r.paint,t.transform.zoom,T.programConfiguration)}}}},heatmap:function(t,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var o=t.context,a=o.gl,s=ke.disabled,l=new Te([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,n){var r=e.gl;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),e.bindFramebuffer.set(i.framebuffer);else{var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,n,r){var i=e.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t.width/4,t.height/4,0,i.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),r.colorAttachment.set(n)}(e,t,o,i)}}(o,t,r),o.clear({color:e.Color.transparent});for(var u=0;u<i.length;u++){var c=i[u];if(!n.hasRenderableParent(c)){var h=n.getTile(c),p=h.getBucket(r);if(p){var f=p.programConfigurations.get(r.id);t.useProgram("heatmap",f).draw(o,a.TRIANGLES,Me.disabled,s,l,Ae.disabled,Dn(c.posMatrix,h,t.transform.zoom,r.paint.get("heatmap-intensity")),r.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,r.paint,t.transform.zoom,f)}}}o.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){var r=t.context,i=r.gl,o=n.heatmapFbo;if(o){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var a=n.colorRampTexture;a||(a=n.colorRampTexture=new e.Texture(r,n.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(r,i.TRIANGLES,Me.disabled,ke.disabled,t.colorModeForRenderPass(),Ae.disabled,function(t,n,r,i){var o=e.create();e.ortho(o,0,t.width,t.height,0,0,1);var a=t.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}}(t,n),n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}}(t,r))},line:function(t,n,r,i){if("translucent"===t.renderPass){var o=r.paint.get("line-opacity"),a=r.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1))for(var s=t.depthModeForSublayer(0,Me.ReadOnly),l=t.colorModeForRenderPass(),u=r.paint.get("line-dasharray"),c=r.paint.get("line-pattern"),h=c.constantOr(1),p=r.paint.get("line-gradient"),f=r.getCrossfadeParameters(),d=h?"linePattern":u?"lineSDF":p?"lineGradient":"line",m=t.context,v=m.gl,g=!0,y=0,_=i;y<_.length;y+=1){var b=_[y],x=n.getTile(b);if(!h||x.patternsLoaded()){var w=x.getBucket(r);if(w){var S=w.programConfigurations.get(r.id),E=t.context.program.get(),M=t.useProgram(d,S),k=g||M.program!==E,T=c.constantOr(null);if(T&&x.imageAtlas){var A=x.imageAtlas,C=A.patternPositions[T.to.toString()],P=A.patternPositions[T.from.toString()];C&&P&&S.setConstantPatternPositions(C,P)}var O=h?Bn(t,x,r,f):u?Fn(t,x,r,u,f):p?Nn(t,x,r,w.lineClipsArray.length):zn(t,x,r);if(h)m.activeTexture.set(v.TEXTURE0),x.imageAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),S.updatePaintBuffers(f);else if(u&&(k||t.lineAtlas.dirty))m.activeTexture.set(v.TEXTURE0),t.lineAtlas.bind(m);else if(p){var R=w.gradients[r.id],I=R.texture;if(r.gradientVersion!==R.version){var L=256;if(r.stepInterpolant){var D=n.getSource().maxzoom,z=b.canonical.z===D?Math.ceil(1<<t.transform.maxZoom-b.canonical.z):1;L=e.clamp(e.nextPowerOfTwo(w.maxLineLength/e.EXTENT*1024*z),256,m.maxTextureSize)}R.gradient=e.renderColorRamp({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:L,image:R.gradient||void 0,clips:w.lineClipsArray}),R.texture?R.texture.update(R.gradient):R.texture=new e.Texture(m,R.gradient,v.RGBA),R.version=r.gradientVersion,I=R.texture}m.activeTexture.set(v.TEXTURE0),I.bind(r.stepInterpolant?v.NEAREST:v.LINEAR,v.CLAMP_TO_EDGE)}M.draw(m,v.TRIANGLES,s,t.stencilModeForClipping(b),l,Ae.disabled,O,r.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,r.paint,t.transform.zoom,S,w.layoutVertexBuffer2),g=!1}}}}},fill:function(t,n,r,i){var o=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=t.colorModeForRenderPass(),l=r.paint.get("fill-pattern"),u=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===o.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===u){var c=t.depthModeForSublayer(1,"opaque"===t.renderPass?Me.ReadWrite:Me.ReadOnly);ir(t,n,r,i,c,s,!1)}if("translucent"===t.renderPass&&r.paint.get("fill-antialias")){var h=t.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,Me.ReadOnly);ir(t,n,r,i,h,s,!0)}}},"fill-extrusion":function(e,t,n,r){var i=n.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===e.renderPass){var o=new Me(e.context.gl.LEQUAL,Me.ReadWrite,e.depthRangeFor3D);if(1!==i||n.paint.get("fill-extrusion-pattern").constantOr(1))or(e,t,n,r,o,ke.disabled,Te.disabled),or(e,t,n,r,o,e.stencilModeFor3D(),e.colorModeForRenderPass());else{var a=e.colorModeForRenderPass();or(e,t,n,r,o,ke.disabled,a)}}},hillshade:function(e,t,n,r){if("offscreen"===e.renderPass||"translucent"===e.renderPass){for(var i=e.context,o=e.depthModeForSublayer(0,Me.ReadOnly),a=e.colorModeForRenderPass(),s="translucent"===e.renderPass?e.stencilConfigForOverlap(r):[{},r],l=s[0],u=0,c=s[1];u<c.length;u+=1){var h=c[u],p=t.getTile(h);p.needsHillshadePrepare&&"offscreen"===e.renderPass?sr(e,p,n,o,ke.disabled,a):"translucent"===e.renderPass&&ar(e,p,n,o,l[h.overscaledZ],a)}i.viewport.set([0,0,e.width,e.height])}},raster:function(e,t,n,r){if("translucent"===e.renderPass&&0!==n.paint.get("raster-opacity")&&r.length)for(var i=e.context,o=i.gl,a=t.getSource(),s=e.useProgram("raster"),l=e.colorModeForRenderPass(),u=a instanceof R?[{},r]:e.stencilConfigForOverlap(r),c=u[0],h=u[1],p=h[h.length-1].overscaledZ,f=!e.options.moving,d=0,m=h;d<m.length;d+=1){var v=m[d],g=e.depthModeForSublayer(v.overscaledZ-p,1===n.paint.get("raster-opacity")?Me.ReadWrite:Me.ReadOnly,o.LESS),y=t.getTile(v),_=e.transform.calculatePosMatrix(v.toUnwrapped(),f);y.registerFadeDuration(n.paint.get("raster-fade-duration"));var b=t.findLoadedParent(v,0),x=lr(y,b,t,n,e.transform),w=void 0,S=void 0,E="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),y.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),b?(b.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),w=Math.pow(2,b.tileID.overscaledZ-y.tileID.overscaledZ),S=[y.tileID.canonical.x*w%1,y.tileID.canonical.y*w%1]):y.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var M=Vn(_,S||[0,0],w||1,x,n);a instanceof R?s.draw(i,o.TRIANGLES,g,ke.disabled,l,Ae.disabled,M,n.id,a.boundsBuffer,e.quadTriangleIndexBuffer,a.boundsSegments):s.draw(i,o.TRIANGLES,g,c[v.overscaledZ],l,Ae.disabled,M,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,n){var r=n.paint.get("background-color"),i=n.paint.get("background-opacity");if(0!==i){var o=e.context,a=o.gl,s=e.transform,l=s.tileSize,u=n.paint.get("background-pattern");if(!e.isPatternMissing(u)){var c=!u&&1===r.a&&1===i&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass===c){var h=ke.disabled,p=e.depthModeForSublayer(0,"opaque"===c?Me.ReadWrite:Me.ReadOnly),f=e.colorModeForRenderPass(),d=e.useProgram(u?"backgroundPattern":"background"),m=s.coveringTiles({tileSize:l});u&&(o.activeTexture.set(a.TEXTURE0),e.imageManager.bind(e.context));for(var v=n.getCrossfadeParameters(),g=0,y=m;g<y.length;g+=1){var _=y[g],b=e.transform.calculatePosMatrix(_.toUnwrapped()),x=u?Zn(b,i,e,u,{tileID:_,tileSize:l},v):Xn(b,i,r);d.draw(o,a.TRIANGLES,p,h,f,Ae.disabled,x,n.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}},debug:function(e,t,n){for(var r=0;r<n.length;r++)gr(e,t,n[r])},custom:function(e,t,n){var r=e.context,i=n.implementation;if("offscreen"===e.renderPass){var o=i.prerender;o&&(e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),o.call(i,r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),r.setStencilMode(ke.disabled);var a="3d"===i.renderingMode?new Me(e.context.gl.LEQUAL,Me.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,Me.ReadOnly);r.setDepthMode(a),i.render(r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState(),r.bindFramebuffer.set(null)}}},_r=function(e,t){this.context=new Ce(e),this.transform=t,this._tileTextures={},this.setup(),this.numSublayers=Pe.maxUnderzooming+Pe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Bt,this.gpuTimers={}};_r.prototype.resize=function(t,n){if(this.width=t*e.browser.devicePixelRatio,this.height=n*e.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var r=0,i=this.style._order;r<i.length;r+=1)this.style._layers[i[r]].resize()},_r.prototype.setup=function(){var t=this.context,n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,Wt.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(r,Wt.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var i=new e.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(e.EXTENT,0,e.EXTENT,0),i.emplaceBack(0,e.EXTENT,0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(i,O.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(o,Wt.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(a);var s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA);var l=this.context.gl;this.stencilClearMode=new ke({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)},_r.prototype.clearStencil=function(){var t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=e.create();e.ortho(r,0,this.width,this.height,0,0,1),e.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,n.TRIANGLES,Me.disabled,this.stencilClearMode,Te.disabled,Ae.disabled,Ln(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},_r.prototype._renderTileClippingMasks=function(e,t){if(this.currentStencilSource!==e.source&&e.isTileClipped()&&t&&t.length){this.currentStencilSource=e.source;var n=this.context,r=n.gl;this.nextStencilID+t.length>256&&this.clearStencil(),n.setColorMode(Te.disabled),n.setDepthMode(Me.disabled);var i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var o=0,a=t;o<a.length;o+=1){var s=a[o],l=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;i.draw(n,r.TRIANGLES,Me.disabled,new ke({func:r.ALWAYS,mask:0},l,255,r.KEEP,r.KEEP,r.REPLACE),Te.disabled,Ae.disabled,Ln(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},_r.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var e=this.nextStencilID++,t=this.context.gl;return new ke({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)},_r.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new ke({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},_r.prototype.stencilConfigForOverlap=function(e){var t,n=this.context.gl,r=e.sort((function(e,t){return t.overscaledZ-e.overscaledZ})),i=r[r.length-1].overscaledZ,o=r[0].overscaledZ-i+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();for(var a={},s=0;s<o;s++)a[s+i]=new ke({func:n.GEQUAL,mask:255},s+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=o,[a,r]}return[(t={},t[i]=ke.disabled,t),r]},_r.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new Te([t.CONSTANT_COLOR,t.ONE],new e.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Te.unblended:Te.alphaBlended},_r.prototype.depthModeForSublayer=function(e,t,n){if(!this.opaquePassEnabledForLayer())return Me.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new Me(n||this.context.gl.LEQUAL,t,[r,r])},_r.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},_r.prototype.render=function(t,n){var r=this;this.style=t,this.options=n,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now()),this.imageManager.beginFrame();var i=this.style._order,o=this.style.sourceCaches;for(var a in o){var s=o[a];s.used&&s.prepare(this.context)}var l,u,c={},h={},p={};for(var f in o){var d=o[f];c[f]=d.getVisibleCoordinates(),h[f]=c[f].slice().reverse(),p[f]=d.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var m=0;m<i.length;m++)if(this.style._layers[i[m]].is3D()){this.opaquePassCutoff=m;break}this.renderPass="offscreen";for(var v=0,g=i;v<g.length;v+=1){var y=this.style._layers[g[v]];if(y.hasOffscreenPass()&&!y.isHidden(this.transform.zoom)){var _=h[y.source];("custom"===y.type||_.length)&&this.renderLayer(this,o[y.source],y,_)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var b=this.style._layers[i[this.currentLayer]],x=o[b.source],w=c[b.source];this._renderTileClippingMasks(b,w),this.renderLayer(this,x,b,w)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var S=this.style._layers[i[this.currentLayer]],E=o[S.source],M=("symbol"===S.type?p:h)[S.source];this._renderTileClippingMasks(S,c[S.source]),this.renderLayer(this,E,S,M)}this.options.showTileBoundaries&&(e.values(this.style._layers).forEach((function(e){e.source&&!e.isHidden(r.transform.zoom)&&(e.source!==(u&&u.id)&&(u=r.style.sourceCaches[e.source]),(!l||l.getSource().maxzoom<u.getSource().maxzoom)&&(l=u))})),l&&yr.debug(this,l,l.getVisibleCoordinates())),this.options.showPadding&&function(e){var t=e.transform.padding;dr(e,e.transform.height-(t.top||0),3,ur),dr(e,t.bottom||0,3,cr),mr(e,t.left||0,3,hr),mr(e,e.transform.width-(t.right||0),3,pr);var n=e.transform.centerPoint;!function(e,t,n,r){vr(e,t-1,n-10,2,20,r),vr(e,t-10,n-1,20,2,r)}(e,n.x,e.transform.height-n.y,fr)}(this),this.context.setDefault()},_r.prototype.renderLayer=function(e,t,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||r.length)&&(this.id=n.id,this.gpuTimingStart(n),yr[n.type](e,t,n,r,this.style.placement.variableOffsets),this.gpuTimingEnd())},_r.prototype.gpuTimingStart=function(e){if(this.options.gpuTiming){var t=this.context.extTimerQuery,n=this.gpuTimers[e.id];n||(n=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),n.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,n.query)}},_r.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}},_r.prototype.collectGpuTimers=function(){var e=this.gpuTimers;return this.gpuTimers={},e},_r.prototype.queryGpuTimers=function(e){var t={};for(var n in e){var r=e[n],i=this.context.extTimerQuery,o=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r.query),t[n]=o}return t},_r.prototype.translatePosMatrix=function(t,n,r,i,o){if(!r[0]&&!r[1])return t;var a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){var s=Math.sin(a),l=Math.cos(a);r=[r[0]*l-r[1]*s,r[0]*s+r[1]*l]}var u=[o?r[0]:pt(n,r[0],this.transform.zoom),o?r[1]:pt(n,r[1],this.transform.zoom),0],c=new Float32Array(16);return e.translate(c,t,u),c},_r.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},_r.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},_r.prototype.isPatternMissing=function(e){if(!e)return!1;if(!e.from||!e.to)return!0;var t=this.imageManager.getPattern(e.from.toString()),n=this.imageManager.getPattern(e.to.toString());return!t||!n},_r.prototype.useProgram=function(e,t){this.cache=this.cache||{};var n=""+e+(t?t.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new wn(this.context,e,_n[e],t,Kn[e],this._showOverdrawInspector)),this.cache[n]},_r.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},_r.prototype.setBaseState=function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)},_r.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},_r.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var br=function(e,t){this.points=e,this.planes=t};br.fromInvProjectionMatrix=function(t,n,r){var i=Math.pow(2,r),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(n){return e.transformMat4([],n,t)})).map((function(t){return e.scale$1([],t,1/t[3]/n*i)})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(t){var n=e.sub([],o[t[0]],o[t[1]]),r=e.sub([],o[t[2]],o[t[1]]),i=e.normalize([],e.cross([],n,r)),a=-e.dot(i,o[t[1]]);return i.concat(a)}));return new br(o,a)};var xr=function(t,n){this.min=t,this.max=n,this.center=e.scale$2([],e.add([],this.min,this.max),.5)};xr.prototype.quadrant=function(t){for(var n=[t%2==0,t<2],r=e.clone$2(this.min),i=e.clone$2(this.max),o=0;o<n.length;o++)r[o]=n[o]?this.min[o]:this.center[o],i[o]=n[o]?this.center[o]:this.max[o];return i[2]=this.max[2],new xr(r,i)},xr.prototype.distanceX=function(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]},xr.prototype.distanceY=function(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]},xr.prototype.intersects=function(t){for(var n=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],r=!0,i=0;i<t.planes.length;i++){for(var o=t.planes[i],a=0,s=0;s<n.length;s++)a+=e.dot$1(o,n[s])>=0;if(0===a)return 0;a!==n.length&&(r=!1)}if(r)return 2;for(var l=0;l<3;l++){for(var u=Number.MAX_VALUE,c=-Number.MAX_VALUE,h=0;h<t.points.length;h++){var p=t.points[h][l]-this.min[l];u=Math.min(u,p),c=Math.max(c,p)}if(c<0||u>this.max[l]-this.min[l])return 0}return 1};var wr=function(e,t,n,r){if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),isNaN(e)||e<0||isNaN(t)||t<0||isNaN(n)||n<0||isNaN(r)||r<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=n,this.right=r};wr.prototype.interpolate=function(t,n,r){return null!=n.top&&null!=t.top&&(this.top=e.number(t.top,n.top,r)),null!=n.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,n.bottom,r)),null!=n.left&&null!=t.left&&(this.left=e.number(t.left,n.left,r)),null!=n.right&&null!=t.right&&(this.right=e.number(t.right,n.right,r)),this},wr.prototype.getCenter=function(t,n){var r=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+n-this.bottom)/2,0,n);return new e.Point(r,i)},wr.prototype.equals=function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right},wr.prototype.clone=function(){return new wr(this.top,this.bottom,this.left,this.right)},wr.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Sr=function(t,n,r,i,o){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||o,this._minZoom=t||0,this._maxZoom=n||22,this._minPitch=null==r?0:r,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wr,this._posMatrixCache={},this._alignedPosMatrixCache={}},Er={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Sr.prototype.clone=function(){var e=new Sr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._calcMatrices(),e},Er.minZoom.get=function(){return this._minZoom},Er.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},Er.maxZoom.get=function(){return this._maxZoom},Er.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},Er.minPitch.get=function(){return this._minPitch},Er.minPitch.set=function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))},Er.maxPitch.get=function(){return this._maxPitch},Er.maxPitch.set=function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))},Er.renderWorldCopies.get=function(){return this._renderWorldCopies},Er.renderWorldCopies.set=function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e},Er.worldSize.get=function(){return this.tileSize*this.scale},Er.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Er.size.get=function(){return new e.Point(this.width,this.height)},Er.bearing.get=function(){return-this.angle/Math.PI*180},Er.bearing.set=function(t){var n=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=e.create$2(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Er.pitch.get=function(){return this._pitch/Math.PI*180},Er.pitch.set=function(t){var n=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},Er.fov.get=function(){return this._fov/Math.PI*180},Er.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},Er.zoom.get=function(){return this._zoom},Er.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},Er.center.get=function(){return this._center},Er.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},Er.padding.get=function(){return this._edgeInsets.toJSON()},Er.padding.set=function(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())},Er.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Sr.prototype.isPaddingEqual=function(e){return this._edgeInsets.equals(e)},Sr.prototype.interpolatePadding=function(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()},Sr.prototype.coveringZoomLevel=function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)},Sr.prototype.getVisibleUnwrappedCoordinates=function(t){var n=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new e.Point(0,0)),i=this.pointCoordinate(new e.Point(this.width,0)),o=this.pointCoordinate(new e.Point(this.width,this.height)),a=this.pointCoordinate(new e.Point(0,this.height)),s=Math.floor(Math.min(r.x,i.x,o.x,a.x)),l=Math.floor(Math.max(r.x,i.x,o.x,a.x)),u=s-1;u<=l+1;u++)0!==u&&n.push(new e.UnwrappedTileID(u,t));return n},Sr.prototype.coveringTiles=function(t){var n=this.coveringZoomLevel(t),r=n;if(void 0!==t.minzoom&&n<t.minzoom)return[];void 0!==t.maxzoom&&n>t.maxzoom&&(n=t.maxzoom);var i=e.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,n),a=[o*i.x,o*i.y,0],s=br.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n),l=t.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(l=n);var u=function(e){return{aabb:new xr([e*o,0,0],[(e+1)*o,o,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}},c=[],h=[],p=n,f=t.reparseOverscaled?r:n;if(this._renderWorldCopies)for(var d=1;d<=3;d++)c.push(u(-d)),c.push(u(d));for(c.push(u(0));c.length>0;){var m=c.pop(),v=m.x,g=m.y,y=m.fullyVisible;if(!y){var _=m.aabb.intersects(s);if(0===_)continue;y=2===_}var b=m.aabb.distanceX(a),x=m.aabb.distanceY(a),w=Math.max(Math.abs(b),Math.abs(x));if(m.zoom===p||w>3+(1<<p-m.zoom)-2&&m.zoom>=l)h.push({tileID:new e.OverscaledTileID(m.zoom===p?f:m.zoom,m.wrap,m.zoom,v,g),distanceSq:e.sqrLen([a[0]-.5-v,a[1]-.5-g])});else for(var S=0;S<4;S++){var E=(v<<1)+S%2,M=(g<<1)+(S>>1);c.push({aabb:m.aabb.quadrant(S),zoom:m.zoom+1,x:E,y:M,wrap:m.wrap,fullyVisible:y})}}return h.sort((function(e,t){return e.distanceSq-t.distanceSq})).map((function(e){return e.tileID}))},Sr.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},Er.unmodified.get=function(){return this._unmodified},Sr.prototype.zoomScale=function(e){return Math.pow(2,e)},Sr.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},Sr.prototype.project=function(t){var n=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.Point(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(n)*this.worldSize)},Sr.prototype.unproject=function(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()},Er.point.get=function(){return this.project(this.center)},Sr.prototype.setLocationAtPoint=function(t,n){var r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(t),a=new e.MercatorCoordinate(o.x-(r.x-i.x),o.y-(r.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},Sr.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},Sr.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},Sr.prototype.locationCoordinate=function(t){return e.MercatorCoordinate.fromLngLat(t)},Sr.prototype.coordinateLocation=function(e){return e.toLngLat()},Sr.prototype.pointCoordinate=function(t){var n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];e.transformMat4(n,n,this.pixelMatrixInverse),e.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],o=r[3],a=n[1]/i,s=r[1]/o,l=n[2]/i,u=r[2]/o,c=l===u?0:(0-l)/(u-l);return new e.MercatorCoordinate(e.number(n[0]/i,r[0]/o,c)/this.worldSize,e.number(a,s,c)/this.worldSize)},Sr.prototype.coordinatePoint=function(t){var n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix),new e.Point(n[0]/n[3],n[1]/n[3])},Sr.prototype.getBounds=function(){return(new e.LngLatBounds).extend(this.pointLocation(new e.Point(0,0))).extend(this.pointLocation(new e.Point(this.width,0))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))},Sr.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Sr.prototype.setMaxBounds=function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Sr.prototype.calculatePosMatrix=function(t,n){void 0===n&&(n=!1);var r=t.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];var o=t.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*t.wrap,l=e.identity(new Float64Array(16));return e.translate(l,l,[s*a,o.y*a,0]),e.scale(l,l,[a/e.EXTENT,a/e.EXTENT,1]),e.multiply(l,n?this.alignedProjMatrix:this.projMatrix,l),i[r]=new Float32Array(l),i[r]},Sr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Sr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,n,r,i,o=-90,a=90,s=-180,l=180,u=this.size,c=this._unmodified;if(this.latRange){var h=this.latRange;o=e.mercatorYfromLat(h[1])*this.worldSize,t=(a=e.mercatorYfromLat(h[0])*this.worldSize)-o<u.y?u.y/(a-o):0}if(this.lngRange){var p=this.lngRange;s=e.mercatorXfromLng(p[0])*this.worldSize,n=(l=e.mercatorXfromLng(p[1])*this.worldSize)-s<u.x?u.x/(l-s):0}var f=this.point,d=Math.max(n||0,t||0);if(d)return this.center=this.unproject(new e.Point(n?(l+s)/2:f.x,t?(a+o)/2:f.y)),this.zoom+=this.scaleZoom(d),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var m=f.y,v=u.y/2;m-v<o&&(i=o+v),m+v>a&&(i=a-v)}if(this.lngRange){var g=f.x,y=u.x/2;g-y<s&&(r=s+y),g+y>l&&(r=l-y)}void 0===r&&void 0===i||(this.center=this.unproject(new e.Point(void 0!==r?r:f.x,void 0!==i?i:f.y))),this._unmodified=c,this._constraining=!1}},Sr.prototype._calcMatrices=function(){if(this.height){var t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var n=Math.PI/2+this._pitch,r=this._fov*(.5+t.y/this.height),i=Math.sin(r)*this.cameraToCenterDistance/Math.sin(e.clamp(Math.PI-n-r,.01,Math.PI-.01)),o=this.point,a=o.x,s=o.y,l=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),u=this.height/50,c=new Float64Array(16);e.perspective(c,this._fov,this.width/this.height,u,l),c[8]=2*-t.x/this.width,c[9]=2*t.y/this.height,e.scale(c,c,[1,-1,1]),e.translate(c,c,[0,0,-this.cameraToCenterDistance]),e.rotateX(c,c,this._pitch),e.rotateZ(c,c,this.angle),e.translate(c,c,[-a,-s,0]),this.mercatorMatrix=e.scale([],c,[this.worldSize,this.worldSize,this.worldSize]),e.scale(c,c,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=c,this.invProjMatrix=e.invert([],this.projMatrix);var h=this.width%2/2,p=this.height%2/2,f=Math.cos(this.angle),d=Math.sin(this.angle),m=a-Math.round(a)+f*h+d*p,v=s-Math.round(s)+f*p+d*h,g=new Float64Array(c);if(e.translate(g,g,[m>.5?m-1:m,v>.5?v-1:v,0]),this.alignedProjMatrix=g,c=e.create(),e.scale(c,c,[this.width/2,-this.height/2,1]),e.translate(c,c,[1,-1,0]),this.labelPlaneMatrix=c,c=e.create(),e.scale(c,c,[1,-1,1]),e.translate(c,c,[-1,-1,0]),e.scale(c,c,[2/this.width,2/this.height,1]),this.glCoordMatrix=c,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(c=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=c,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Sr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.Point(0,0)),n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},Sr.prototype.getCameraPoint=function(){var t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.Point(0,t))},Sr.prototype.getCameraQueryGeometry=function(t){var n=this.getCameraPoint();if(1===t.length)return[t[0],n];for(var r=n.x,i=n.y,o=n.x,a=n.y,s=0,l=t;s<l.length;s+=1){var u=l[s];r=Math.min(r,u.x),i=Math.min(i,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}return[new e.Point(r,i),new e.Point(o,i),new e.Point(o,a),new e.Point(r,a),new e.Point(r,i)]},Object.defineProperties(Sr.prototype,Er);var Mr=function(t){var n,r,i,o;this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(n=this._updateHashUnthrottled.bind(this),r=!1,i=null,o=function(){i=null,r&&(n(),i=setTimeout(o,300),r=!1)},function(){return r=!0,i||o(),i})};Mr.prototype.addTo=function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Mr.prototype.remove=function(){return e.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Mr.prototype.getHashString=function(t){var n=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,i=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,i),a=Math.round(n.lng*o)/o,s=Math.round(n.lat*o)/o,l=this._map.getBearing(),u=this._map.getPitch(),c="";if(c+=t?"/"+a+"/"+s+"/"+r:r+"/"+s+"/"+a,(l||u)&&(c+="/"+Math.round(10*l)/10),u&&(c+="/"+Math.round(u)),this._hashName){var h=this._hashName,p=!1,f=e.window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===h?(p=!0,t+"="+c):e})).filter((function(e){return e}));return p||f.push(h+"="+c),"#"+f.join("&")}return"#"+c},Mr.prototype._getCurrentHash=function(){var t,n=this,r=e.window.location.hash.replace("#","");return this._hashName?(r.split("&").map((function(e){return e.split("=")})).forEach((function(e){e[0]===n._hashName&&(t=e)})),(t&&t[1]||"").split("/")):r.split("/")},Mr.prototype._onHashChange=function(){var e=this._getCurrentHash();if(e.length>=3&&!e.some((function(e){return isNaN(e)}))){var t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1},Mr.prototype._updateHashUnthrottled=function(){var t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());try{e.window.history.replaceState(e.window.history.state,null,t)}catch(e){}};var kr={linearity:.3,easing:e.bezier(0,0,.3,1)},Tr=e.extend({deceleration:2500,maxSpeed:1400},kr),Ar=e.extend({deceleration:20,maxSpeed:1400},kr),Cr=e.extend({deceleration:1e3,maxSpeed:360},kr),Pr=e.extend({deceleration:1e3,maxSpeed:90},kr),Or=function(e){this._map=e,this.clear()};function Rr(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function Ir(t,n,r){var i=r.maxSpeed,o=r.linearity,a=r.deceleration,s=e.clamp(t*o/(n/1e3),-i,i),l=Math.abs(s)/(a*o);return{easing:r.easing,duration:1e3*l,amount:s*(l/2)}}Or.prototype.clear=function(){this._inertiaBuffer=[]},Or.prototype.record=function(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.browser.now(),settings:t})},Or.prototype._drainInertiaBuffer=function(){for(var t=this._inertiaBuffer,n=e.browser.now();t.length>0&&n-t[0].time>160;)t.shift()},Or.prototype._onMoveEnd=function(t){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var n={zoom:0,bearing:0,pitch:0,pan:new e.Point(0,0),pinchAround:void 0,around:void 0},r=0,i=this._inertiaBuffer;r<i.length;r+=1){var o=i[r].settings;n.zoom+=o.zoomDelta||0,n.bearing+=o.bearingDelta||0,n.pitch+=o.pitchDelta||0,o.panDelta&&n.pan._add(o.panDelta),o.around&&(n.around=o.around),o.pinchAround&&(n.pinchAround=o.pinchAround)}var a=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(n.pan.mag()){var l=Ir(n.pan.mag(),a,e.extend({},Tr,t||{}));s.offset=n.pan.mult(l.amount/n.pan.mag()),s.center=this._map.transform.center,Rr(s,l)}if(n.zoom){var u=Ir(n.zoom,a,Ar);s.zoom=this._map.transform.zoom+u.amount,Rr(s,u)}if(n.bearing){var c=Ir(n.bearing,a,Cr);s.bearing=this._map.transform.bearing+e.clamp(c.amount,-179,179),Rr(s,c)}if(n.pitch){var h=Ir(n.pitch,a,Pr);s.pitch=this._map.transform.pitch+h.amount,Rr(s,h)}if(s.zoom||s.bearing){var p=void 0===n.pinchAround?n.around:n.pinchAround;s.around=p?this._map.unproject(p):this._map.getCenter()}return this.clear(),e.extend(s,{noMoveStart:!0})}};var Lr=function(t){function r(r,i,o,a){void 0===a&&(a={});var s=n.mousePos(i.getCanvasContainer(),o),l=i.unproject(s);t.call(this,r,e.extend({point:s,lngLat:l,originalEvent:o},a)),this._defaultPrevented=!1,this.target=i}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(e.Event),Dr=function(t){function r(r,i,o){var a="touchend"===r?o.changedTouches:o.touches,s=n.touchPos(i.getCanvasContainer(),a),l=s.map((function(e){return i.unproject(e)})),u=s.reduce((function(e,t,n,r){return e.add(t.div(r.length))}),new e.Point(0,0)),c=i.unproject(u);t.call(this,r,{points:s,point:u,lngLats:l,lngLat:c,originalEvent:o}),this._defaultPrevented=!1}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(e.Event),zr=function(e){function t(t,n,r){e.call(this,t,{originalEvent:r}),this._defaultPrevented=!1}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={defaultPrevented:{configurable:!0}};return t.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,n),t}(e.Event),Nr=function(e,t){this._map=e,this._clickTolerance=t.clickTolerance};Nr.prototype.reset=function(){delete this._mousedownPos},Nr.prototype.wheel=function(e){return this._firePreventable(new zr(e.type,this._map,e))},Nr.prototype.mousedown=function(e,t){return this._mousedownPos=t,this._firePreventable(new Lr(e.type,this._map,e))},Nr.prototype.mouseup=function(e){this._map.fire(new Lr(e.type,this._map,e))},Nr.prototype.click=function(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new Lr(e.type,this._map,e))},Nr.prototype.dblclick=function(e){return this._firePreventable(new Lr(e.type,this._map,e))},Nr.prototype.mouseover=function(e){this._map.fire(new Lr(e.type,this._map,e))},Nr.prototype.mouseout=function(e){this._map.fire(new Lr(e.type,this._map,e))},Nr.prototype.touchstart=function(e){return this._firePreventable(new Dr(e.type,this._map,e))},Nr.prototype.touchmove=function(e){this._map.fire(new Dr(e.type,this._map,e))},Nr.prototype.touchend=function(e){this._map.fire(new Dr(e.type,this._map,e))},Nr.prototype.touchcancel=function(e){this._map.fire(new Dr(e.type,this._map,e))},Nr.prototype._firePreventable=function(e){if(this._map.fire(e),e.defaultPrevented)return{}},Nr.prototype.isEnabled=function(){return!0},Nr.prototype.isActive=function(){return!1},Nr.prototype.enable=function(){},Nr.prototype.disable=function(){};var Br=function(e){this._map=e};Br.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Br.prototype.mousemove=function(e){this._map.fire(new Lr(e.type,this._map,e))},Br.prototype.mousedown=function(){this._delayContextMenu=!0},Br.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Lr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Br.prototype.contextmenu=function(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new Lr(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()},Br.prototype.isEnabled=function(){return!0},Br.prototype.isActive=function(){return!1},Br.prototype.enable=function(){},Br.prototype.disable=function(){};var Fr=function(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1};function jr(e,t){for(var n={},r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}Fr.prototype.isEnabled=function(){return!!this._enabled},Fr.prototype.isActive=function(){return!!this._active},Fr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Fr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Fr.prototype.mousedown=function(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(n.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)},Fr.prototype.mousemoveWindow=function(e,t){if(this._active){var r=t;if(!(this._lastPos.equals(r)||!this._box&&r.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=r,this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var o=Math.min(i.x,r.x),a=Math.max(i.x,r.x),s=Math.min(i.y,r.y),l=Math.max(i.y,r.y);n.setTransform(this._box,"translate("+o+"px,"+s+"px)"),this._box.style.width=a-o+"px",this._box.style.height=l-s+"px"}}},Fr.prototype.mouseupWindow=function(t,r){var i=this;if(this._active&&0===t.button){var o=this._startPos,a=r;if(this.reset(),n.suppressClick(),o.x!==a.x||o.y!==a.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:function(e){return e.fitScreenCoordinates(o,a,i._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",t)}},Fr.prototype.keydown=function(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))},Fr.prototype.blur=function(){this.reset()},Fr.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos},Fr.prototype._fireEvent=function(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))};var Ur=function(e){this.reset(),this.numTouches=e.numTouches};Ur.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Ur.prototype.touchstart=function(t,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),r.length===this.numTouches&&(this.centroid=function(t){for(var n=new e.Point(0,0),r=0,i=t;r<i.length;r+=1)n._add(i[r]);return n.div(t.length)}(n),this.touches=jr(r,n)))},Ur.prototype.touchmove=function(e,t,n){if(!this.aborted&&this.centroid){var r=jr(n,t);for(var i in this.touches){var o=r[i];(!o||o.dist(this.touches[i])>30)&&(this.aborted=!0)}}},Ur.prototype.touchend=function(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}};var Vr=function(e){this.singleTap=new Ur(e),this.numTaps=e.numTaps,this.reset()};Vr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Vr.prototype.touchstart=function(e,t,n){this.singleTap.touchstart(e,t,n)},Vr.prototype.touchmove=function(e,t,n){this.singleTap.touchmove(e,t,n)},Vr.prototype.touchend=function(e,t,n){var r=this.singleTap.touchend(e,t,n);if(r){var i=e.timeStamp-this.lastTime<500,o=!this.lastTap||this.lastTap.dist(r)<30;if(i&&o||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}};var Hr=function(){this._zoomIn=new Vr({numTouches:1,numTaps:2}),this._zoomOut=new Vr({numTouches:2,numTaps:1}),this.reset()};Hr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Hr.prototype.touchstart=function(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)},Hr.prototype.touchmove=function(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)},Hr.prototype.touchend=function(e,t,n){var r=this,i=this._zoomIn.touchend(e,t,n),o=this._zoomOut.touchend(e,t,n);return i?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}}):o?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(o)},{originalEvent:e})}}):void 0},Hr.prototype.touchcancel=function(){this.reset()},Hr.prototype.enable=function(){this._enabled=!0},Hr.prototype.disable=function(){this._enabled=!1,this.reset()},Hr.prototype.isEnabled=function(){return this._enabled},Hr.prototype.isActive=function(){return this._active};var Wr={0:1,2:2},Gr=function(e){this.reset(),this._clickTolerance=e.clickTolerance||1};Gr.prototype.blur=function(){this.reset()},Gr.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Gr.prototype._correctButton=function(e,t){return!1},Gr.prototype._move=function(e,t){return{}},Gr.prototype.mousedown=function(e,t){if(!this._lastPoint){var r=n.mouseButton(e);this._correctButton(e,r)&&(this._lastPoint=t,this._eventButton=r)}},Gr.prototype.mousemoveWindow=function(e,t){var n=this._lastPoint;if(n)if(e.preventDefault(),function(e,t){var n=Wr[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(n,t)},Gr.prototype.mouseupWindow=function(e){this._lastPoint&&n.mouseButton(e)===this._eventButton&&(this._moved&&n.suppressClick(),this.reset())},Gr.prototype.enable=function(){this._enabled=!0},Gr.prototype.disable=function(){this._enabled=!1,this.reset()},Gr.prototype.isEnabled=function(){return this._enabled},Gr.prototype.isActive=function(){return this._active};var qr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.mousedown=function(t,n){e.prototype.mousedown.call(this,t,n),this._lastPoint&&(this._active=!0)},t.prototype._correctButton=function(e,t){return 0===t&&!e.ctrlKey},t.prototype._move=function(e,t){return{around:t,panDelta:t.sub(e)}},t}(Gr),Yr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return 0===t&&e.ctrlKey||2===t},t.prototype._move=function(e,t){var n=.8*(t.x-e.x);if(n)return this._active=!0,{bearingDelta:n}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(Gr),Xr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return 0===t&&e.ctrlKey||2===t},t.prototype._move=function(e,t){var n=-.5*(t.y-e.y);if(n)return this._active=!0,{pitchDelta:n}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(Gr),Zr=function(e){this._minTouches=1,this._clickTolerance=e.clickTolerance||1,this.reset()};Zr.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new e.Point(0,0)},Zr.prototype.touchstart=function(e,t,n){return this._calculateTransform(e,t,n)},Zr.prototype.touchmove=function(e,t,n){if(this._active&&!(n.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,n)},Zr.prototype.touchend=function(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()},Zr.prototype.touchcancel=function(){this.reset()},Zr.prototype._calculateTransform=function(t,n,r){r.length>0&&(this._active=!0);var i=jr(r,n),o=new e.Point(0,0),a=new e.Point(0,0),s=0;for(var l in i){var u=i[l],c=this._touches[l];c&&(o._add(u),a._add(u.sub(c)),s++,i[l]=u)}if(this._touches=i,!(s<this._minTouches)&&a.mag()){var h=a.div(s);if(this._sum._add(h),!(this._sum.mag()<this._clickTolerance))return{around:o.div(s),panDelta:h}}},Zr.prototype.enable=function(){this._enabled=!0},Zr.prototype.disable=function(){this._enabled=!1,this.reset()},Zr.prototype.isEnabled=function(){return this._enabled},Zr.prototype.isActive=function(){return this._active};var Kr=function(){this.reset()};function Jr(e,t,n){for(var r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}function Qr(e,t){return Math.log(e/t)/Math.LN2}Kr.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Kr.prototype._start=function(e){},Kr.prototype._move=function(e,t,n){return{}},Kr.prototype.touchstart=function(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))},Kr.prototype.touchmove=function(e,t,n){if(this._firstTwoTouches){e.preventDefault();var r=this._firstTwoTouches,i=r[1],o=Jr(n,t,r[0]),a=Jr(n,t,i);if(o&&a){var s=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],s,e)}}},Kr.prototype.touchend=function(e,t,r){if(this._firstTwoTouches){var i=this._firstTwoTouches,o=i[1],a=Jr(r,t,i[0]),s=Jr(r,t,o);a&&s||(this._active&&n.suppressClick(),this.reset())}},Kr.prototype.touchcancel=function(){this.reset()},Kr.prototype.enable=function(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around},Kr.prototype.disable=function(){this._enabled=!1,this.reset()},Kr.prototype.isEnabled=function(){return this._enabled},Kr.prototype.isActive=function(){return this._active};var $r=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._distance,delete this._startDistance},t.prototype._start=function(e){this._startDistance=this._distance=e[0].dist(e[1])},t.prototype._move=function(e,t){var n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Qr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Qr(this._distance,n),pinchAround:t}},t}(Kr);function ei(e,t){return 180*e.angleWith(t)/Math.PI}var ti=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},t.prototype._start=function(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])},t.prototype._move=function(e,t){var n=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ei(this._vector,n),pinchAround:t}},t.prototype._isBelowThreshold=function(e){this._minDiameter=Math.min(this._minDiameter,e.mag());var t=25/(Math.PI*this._minDiameter)*360,n=ei(e,this._startVector);return Math.abs(n)<t},t}(Kr);function ni(e){return Math.abs(e.y)>Math.abs(e.x)}var ri=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},t.prototype._start=function(e){this._lastPoints=e,ni(e[0].sub(e[1]))&&(this._valid=!1)},t.prototype._move=function(e,t,n){var r=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),this._valid)return this._lastPoints=e,this._active=!0,{pitchDelta:(r.y+i.y)/2*-.5}},t.prototype.gestureBeginsVertically=function(e,t,n){if(void 0!==this._valid)return this._valid;var r=e.mag()>=2,i=t.mag()>=2;if(r||i){if(!r||!i)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;var o=e.y>0==t.y>0;return ni(e)&&ni(t)&&o}},t}(Kr),ii={panStep:100,bearingStep:15,pitchStep:10},oi=function(){var e=ii;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1};function ai(e){return e*(2-e)}oi.prototype.blur=function(){this.reset()},oi.prototype.reset=function(){this._active=!1},oi.prototype.keydown=function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=0,r=0,i=0,o=0,a=0;switch(e.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),o=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),o=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),a=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(r=0,i=0),{cameraAnimation:function(s){var l=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:ai,zoom:n?Math.round(l)+n*(e.shiftKey?2:1):l,bearing:s.getBearing()+r*t._bearingStep,pitch:s.getPitch()+i*t._pitchStep,offset:[-o*t._panStep,-a*t._panStep],center:s.getCenter()},{originalEvent:e})}}}},oi.prototype.enable=function(){this._enabled=!0},oi.prototype.disable=function(){this._enabled=!1,this.reset()},oi.prototype.isEnabled=function(){return this._enabled},oi.prototype.isActive=function(){return this._active},oi.prototype.disableRotation=function(){this._rotationDisabled=!0},oi.prototype.enableRotation=function(){this._rotationDisabled=!1};var si=function(t,n){this._map=t,this._el=t.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,e.bindAll(["_onTimeout"],this)};si.prototype.setZoomRate=function(e){this._defaultZoomRate=e},si.prototype.setWheelZoomRate=function(e){this._wheelZoomRate=e},si.prototype.isEnabled=function(){return!!this._enabled},si.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},si.prototype.isZooming=function(){return!!this._zooming},si.prototype.enable=function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},si.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},si.prototype.wheel=function(t){if(this.isEnabled()){var n=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,r=e.browser.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}},si.prototype._onTimeout=function(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)},si.prototype._start=function(t){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var r=n.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},si.prototype.renderFrame=function(){var t=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._map.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,i=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==i&&(i=1/i);var o="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(o*i))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a,s="number"==typeof this._targetZoom?this._targetZoom:n.zoom,l=this._startZoom,u=this._easing,c=!1;if("wheel"===this._type&&l&&u){var h=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1),p=u(h);a=e.number(l,s,p),h<1?this._frameId||(this._frameId=!0):c=!0}else a=s,c=!0;return this._active=!0,c&&(this._active=!1,this._finishTimeout=setTimeout((function(){t._zooming=!1,t._handler._triggerRenderFrame(),delete t._targetZoom,delete t._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!c,zoomDelta:a-n.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},si.prototype._smoothOutEasing=function(t){var n=e.ease;if(this._prevEase){var r=this._prevEase,i=(e.browser.now()-r.start)/r.duration,o=r.easing(i+.01)-r.easing(i),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);n=e.bezier(a,s,.25,1)}return this._prevEase={start:e.browser.now(),duration:t,easing:n},n},si.prototype.blur=function(){this.reset()},si.prototype.reset=function(){this._active=!1};var li=function(e,t){this._clickZoom=e,this._tapZoom=t};li.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},li.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},li.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},li.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var ui=function(){this.reset()};ui.prototype.reset=function(){this._active=!1},ui.prototype.blur=function(){this.reset()},ui.prototype.dblclick=function(e,t){return e.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}},ui.prototype.enable=function(){this._enabled=!0},ui.prototype.disable=function(){this._enabled=!1,this.reset()},ui.prototype.isEnabled=function(){return this._enabled},ui.prototype.isActive=function(){return this._active};var ci=function(){this._tap=new Vr({numTouches:1,numTaps:1}),this.reset()};ci.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ci.prototype.touchstart=function(e,t,n){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=t[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(e,t,n))},ci.prototype.touchmove=function(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var r=t[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,n)},ci.prototype.touchend=function(e,t,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(e,t,n)&&(this._tapTime=e.timeStamp)},ci.prototype.touchcancel=function(){this.reset()},ci.prototype.enable=function(){this._enabled=!0},ci.prototype.disable=function(){this._enabled=!1,this.reset()},ci.prototype.isEnabled=function(){return this._enabled},ci.prototype.isActive=function(){return this._active};var hi=function(e,t,n){this._el=e,this._mousePan=t,this._touchPan=n};hi.prototype.enable=function(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},hi.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},hi.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},hi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var pi=function(e,t,n){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=n};pi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},pi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},pi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},pi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var fi=function(e,t,n,r){this._el=e,this._touchZoom=t,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0};fi.prototype.enable=function(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},fi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},fi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},fi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},fi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},fi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var di=function(e){return e.zoom||e.drag||e.pitch||e.rotate},mi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(e.Event);function vi(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var gi=function(t,r){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Or(t),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(r),e.bindAll(["handleEvent","handleWindowEvent"],this);var i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[e.window,"blur",void 0]];for(var o=0,a=this._listeners;o<a.length;o+=1){var s=a[o],l=s[0];n.addEventListener(l,s[1],l===e.window.document?this.handleWindowEvent:this.handleEvent,s[2])}};gi.prototype.destroy=function(){for(var t=0,r=this._listeners;t<r.length;t+=1){var i=r[t],o=i[0];n.removeEventListener(o,i[1],o===e.window.document?this.handleWindowEvent:this.handleEvent,i[2])}},gi.prototype._addDefaultHandlers=function(e){var t=this._map,n=t.getCanvasContainer();this._add("mapEvent",new Nr(t,e));var r=t.boxZoom=new Fr(t,e);this._add("boxZoom",r);var i=new Hr,o=new ui;t.doubleClickZoom=new li(o,i),this._add("tapZoom",i),this._add("clickZoom",o);var a=new ci;this._add("tapDragZoom",a);var s=t.touchPitch=new ri;this._add("touchPitch",s);var l=new Yr(e),u=new Xr(e);t.dragRotate=new pi(e,l,u),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",u,["mouseRotate"]);var c=new qr(e),h=new Zr(e);t.dragPan=new hi(n,c,h),this._add("mousePan",c),this._add("touchPan",h,["touchZoom","touchRotate"]);var p=new ti,f=new $r;t.touchZoomRotate=new fi(n,f,p,a),this._add("touchRotate",p,["touchPan","touchZoom"]),this._add("touchZoom",f,["touchPan","touchRotate"]);var d=t.scrollZoom=new si(t,this);this._add("scrollZoom",d,["mousePan"]);var m=t.keyboard=new oi;this._add("keyboard",m),this._add("blockableMapEvent",new Br(t));for(var v=0,g=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];v<g.length;v+=1){var y=g[v];e.interactive&&e[y]&&t[y].enable(e[y])}},gi.prototype._add=function(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t},gi.prototype.stop=function(e){if(!this._updatingCamera){for(var t=0,n=this._handlers;t<n.length;t+=1)n[t].handler.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}},gi.prototype.isActive=function(){for(var e=0,t=this._handlers;e<t.length;e+=1)if(t[e].handler.isActive())return!0;return!1},gi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},gi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},gi.prototype.isMoving=function(){return Boolean(di(this._eventsInProgress))||this.isZooming()},gi.prototype._blockedByActive=function(e,t,n){for(var r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1},gi.prototype.handleWindowEvent=function(e){this.handleEvent(e,e.type+"Window")},gi.prototype._getMapTouches=function(e){for(var t=[],n=0,r=e;n<r.length;n+=1){var i=r[n];this._el.contains(i.target)&&t.push(i)}return t},gi.prototype.handleEvent=function(e,t){this._updatingCamera=!0;for(var r="renderFrame"===e.type?void 0:e,i={needsRenderFrame:!1},o={},a={},s=e.touches?this._getMapTouches(e.touches):void 0,l=s?n.touchPos(this._el,s):n.mousePos(this._el,e),u=0,c=this._handlers;u<c.length;u+=1){var h=c[u],p=h.handlerName,f=h.handler,d=h.allowed;if(f.isEnabled()){var m=void 0;this._blockedByActive(a,d,p)?f.reset():f[t||e.type]&&(m=f[t||e.type](e,l,s),this.mergeHandlerResult(i,o,m,p,r),m&&m.needsRenderFrame&&this._triggerRenderFrame()),(m||f.isActive())&&(a[p]=f)}}var v={};for(var g in this._previousActiveHandlers)a[g]||(v[g]=r);this._previousActiveHandlers=a,(Object.keys(v).length||vi(i))&&(this._changes.push([i,o,v]),this._triggerRenderFrame()),(Object.keys(a).length||vi(i))&&this._map._stop(!0),this._updatingCamera=!1;var y=i.cameraAnimation;y&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],y(this._map))},gi.prototype.mergeHandlerResult=function(t,n,r,i,o){if(r){e.extend(t,r);var a={handlerName:i,originalEvent:r.originalEvent||o};void 0!==r.zoomDelta&&(n.zoom=a),void 0!==r.panDelta&&(n.drag=a),void 0!==r.pitchDelta&&(n.pitch=a),void 0!==r.bearingDelta&&(n.rotate=a)}},gi.prototype._applyChanges=function(){for(var t={},n={},r={},i=0,o=this._changes;i<o.length;i+=1){var a=o[i],s=a[0],l=a[1],u=a[2];s.panDelta&&(t.panDelta=(t.panDelta||new e.Point(0,0))._add(s.panDelta)),s.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(t.around=s.around),void 0!==s.pinchAround&&(t.pinchAround=s.pinchAround),s.noInertia&&(t.noInertia=s.noInertia),e.extend(n,l),e.extend(r,u)}this._updateMapTransform(t,n,r),this._changes=[]},gi.prototype._updateMapTransform=function(e,t,n){var r=this._map,i=r.transform;if(!vi(e))return this._fireEvents(t,n,!0);var o=e.panDelta,a=e.zoomDelta,s=e.bearingDelta,l=e.pitchDelta,u=e.around,c=e.pinchAround;void 0!==c&&(u=c),r._stop(!0),u=u||r.transform.centerPoint;var h=i.pointLocation(o?u.sub(o):u);s&&(i.bearing+=s),l&&(i.pitch+=l),a&&(i.zoom+=a),i.setLocationAtPoint(h,u),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,n,!0)},gi.prototype._fireEvents=function(t,n,r){var i=this,o=di(this._eventsInProgress),a=di(t),s={};for(var l in t)this._eventsInProgress[l]||(s[l+"start"]=t[l].originalEvent),this._eventsInProgress[l]=t[l];for(var u in!o&&a&&this._fireEvent("movestart",a.originalEvent),s)this._fireEvent(u,s[u]);for(var c in a&&this._fireEvent("move",a.originalEvent),t)this._fireEvent(c,t[c].originalEvent);var h,p={};for(var f in this._eventsInProgress){var d=this._eventsInProgress[f],m=d.handlerName,v=d.originalEvent;this._handlersById[m].isActive()||(delete this._eventsInProgress[f],p[f+"end"]=h=n[m]||v)}for(var g in p)this._fireEvent(g,p[g]);var y=di(this._eventsInProgress);if(r&&(o||a)&&!y){this._updatingCamera=!0;var _=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),b=function(e){return 0!==e&&-i._bearingSnap<e&&e<i._bearingSnap};_?(b(_.bearing||this._map.getBearing())&&(_.bearing=0),this._map.easeTo(_,{originalEvent:h})):(this._map.fire(new e.Event("moveend",{originalEvent:h})),b(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},gi.prototype._fireEvent=function(t,n){this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))},gi.prototype._requestFrame=function(){var e=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(t){delete e._frameId,e.handleEvent(new mi("renderFrame",{timeStamp:t})),e._applyChanges()}))},gi.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var yi=function(t){function n(n,r){t.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=r.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getCenter=function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)},n.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},n.prototype.panBy=function(t,n,r){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),r)},n.prototype.panTo=function(t,n,r){return this.easeTo(e.extend({center:t},n),r)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},n.prototype.zoomTo=function(t,n,r){return this.easeTo(e.extend({zoom:t},n),r)},n.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},n.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},n.prototype.getPadding=function(){return this.transform.padding},n.prototype.setPadding=function(e,t){return this.jumpTo({padding:e},t),this},n.prototype.rotateTo=function(t,n,r){return this.easeTo(e.extend({bearing:t},n),r)},n.prototype.resetNorth=function(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this},n.prototype.resetNorthPitch=function(t,n){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),n),this},n.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},n.prototype.cameraForBounds=function(t,n){t=e.LngLatBounds.convert(t);var r=n&&n.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),r,n)},n.prototype._cameraForBoxAndBearing=function(t,n,r,i){var o={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=e.extend({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var a=i.padding;i.padding={top:a,bottom:a,right:a,left:a}}i.padding=e.extend(o,i.padding);var s=this.transform,l=s.padding,u=s.project(e.LngLat.convert(t)),c=s.project(e.LngLat.convert(n)),h=u.rotate(-r*Math.PI/180),p=c.rotate(-r*Math.PI/180),f=new e.Point(Math.max(h.x,p.x),Math.max(h.y,p.y)),d=new e.Point(Math.min(h.x,p.x),Math.min(h.y,p.y)),m=f.sub(d),v=(s.width-(l.left+l.right+i.padding.left+i.padding.right))/m.x,g=(s.height-(l.top+l.bottom+i.padding.top+i.padding.bottom))/m.y;if(!(g<0||v<0)){var y=Math.min(s.scaleZoom(s.scale*Math.min(v,g)),i.maxZoom),_="number"==typeof i.offset.x?new e.Point(i.offset.x,i.offset.y):e.Point.convert(i.offset),b=new e.Point((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(r*Math.PI/180),x=_.add(b).mult(s.scale/s.zoomScale(y));return{center:s.unproject(u.add(c).div(2).sub(x)),zoom:y,bearing:r}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},n.prototype.fitBounds=function(e,t,n){return this._fitInternal(this.cameraForBounds(e,t),t,n)},n.prototype.fitScreenCoordinates=function(t,n,r,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(n)),r,i),i,o)},n.prototype._fitInternal=function(t,n,r){return t?(delete(n=e.extend(t,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this},n.prototype.jumpTo=function(t,n){this.stop();var r=this.transform,i=!1,o=!1,a=!1;return"zoom"in t&&r.zoom!==+t.zoom&&(i=!0,r.zoom=+t.zoom),void 0!==t.center&&(r.center=e.LngLat.convert(t.center)),"bearing"in t&&r.bearing!==+t.bearing&&(o=!0,r.bearing=+t.bearing),"pitch"in t&&r.pitch!==+t.pitch&&(a=!0,r.pitch=+t.pitch),null==t.padding||r.isPaddingEqual(t.padding)||(r.padding=t.padding),this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),i&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),o&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),a&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n))},n.prototype.easeTo=function(t,n){var r=this;this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.browser.prefersReducedMotion)&&(t.duration=0);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l=this.getPadding(),u="zoom"in t?+t.zoom:o,c="bearing"in t?this._normalizeBearing(t.bearing,a):a,h="pitch"in t?+t.pitch:s,p="padding"in t?t.padding:i.padding,f=e.Point.convert(t.offset),d=i.centerPoint.add(f),m=i.pointLocation(d),v=e.LngLat.convert(t.center||m);this._normalizeCenter(v);var g,y,_=i.project(m),b=i.project(v).sub(_),x=i.zoomScale(u-o);t.around&&(g=e.LngLat.convert(t.around),y=i.locationPoint(g));var w={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||u!==o,this._rotating=this._rotating||a!==c,this._pitching=this._pitching||h!==s,this._padding=!i.isPaddingEqual(p),this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,w),this._ease((function(t){if(r._zooming&&(i.zoom=e.number(o,u,t)),r._rotating&&(i.bearing=e.number(a,c,t)),r._pitching&&(i.pitch=e.number(s,h,t)),r._padding&&(i.interpolatePadding(l,p,t),d=i.centerPoint.add(f)),g)i.setLocationAtPoint(g,y);else{var m=i.zoomScale(i.zoom-o),v=u>o?Math.min(2,x):Math.max(.5,x),w=Math.pow(v,1-t),S=i.unproject(_.add(b.mult(t*w)).mult(m));i.setLocationAtPoint(i.renderWorldCopies?S.wrap():S,d)}r._fireMoveEvents(n)}),(function(e){r._afterEase(n,e)}),t),this},n.prototype._prepareEase=function(t,n,r){void 0===r&&(r={}),this._moving=!0,n||r.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!r.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!r.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!r.pitching&&this.fire(new e.Event("pitchstart",t))},n.prototype._fireMoveEvents=function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))},n.prototype._afterEase=function(t,n){if(!this._easeId||!n||this._easeId!==n){delete this._easeId;var r=this._zooming,i=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new e.Event("zoomend",t)),i&&this.fire(new e.Event("rotateend",t)),o&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}},n.prototype.flyTo=function(t,n){var r=this;if(!t.essential&&e.browser.prefersReducedMotion){var i=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var o=this.transform,a=this.getZoom(),s=this.getBearing(),l=this.getPitch(),u=this.getPadding(),c="zoom"in t?e.clamp(+t.zoom,o.minZoom,o.maxZoom):a,h="bearing"in t?this._normalizeBearing(t.bearing,s):s,p="pitch"in t?+t.pitch:l,f="padding"in t?t.padding:o.padding,d=o.zoomScale(c-a),m=e.Point.convert(t.offset),v=o.centerPoint.add(m),g=o.pointLocation(v),y=e.LngLat.convert(t.center||g);this._normalizeCenter(y);var _=o.project(g),b=o.project(y).sub(_),x=t.curve,w=Math.max(o.width,o.height),S=w/d,E=b.mag();if("minZoom"in t){var M=e.clamp(Math.min(t.minZoom,a,c),o.minZoom,o.maxZoom),k=w/o.zoomScale(M-a);x=Math.sqrt(k/E*2)}var T=x*x;function A(e){var t=(S*S-w*w+(e?-1:1)*T*T*E*E)/(2*(e?S:w)*T*E);return Math.log(Math.sqrt(t*t+1)-t)}function C(e){return(Math.exp(e)-Math.exp(-e))/2}function P(e){return(Math.exp(e)+Math.exp(-e))/2}var O=A(0),R=function(e){return P(O)/P(O+x*e)},I=function(e){return w*((P(O)*(C(t=O+x*e)/P(t))-C(O))/T)/E;var t},L=(A(1)-O)/x;if(Math.abs(E)<1e-6||!isFinite(L)){if(Math.abs(w-S)<1e-6)return this.easeTo(t,n);var D=S<w?-1:1;L=Math.abs(Math.log(S/w))/x,I=function(){return 0},R=function(e){return Math.exp(D*x*e)}}return t.duration="duration"in t?+t.duration:1e3*L/("screenSpeed"in t?+t.screenSpeed/x:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=s!==h,this._pitching=p!==l,this._padding=!o.isPaddingEqual(f),this._prepareEase(n,!1),this._ease((function(t){var i=t*L,d=1/R(i);o.zoom=1===t?c:a+o.scaleZoom(d),r._rotating&&(o.bearing=e.number(s,h,t)),r._pitching&&(o.pitch=e.number(l,p,t)),r._padding&&(o.interpolatePadding(u,f,t),v=o.centerPoint.add(m));var g=1===t?y:o.unproject(_.add(b.mult(I(i))).mult(d));o.setLocationAtPoint(o.renderWorldCopies?g.wrap():g,v),r._fireMoveEvents(n)}),(function(){return r._afterEase(n)}),t),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){return this._stop()},n.prototype._stop=function(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var n=this._onEaseEnd;delete this._onEaseEnd,n.call(this,t)}if(!e){var r=this.handlers;r&&r.stop(!1)}return this},n.prototype._ease=function(t,n,r){!1===r.animate||0===r.duration?(t(1),n()):(this._easeStart=e.browser.now(),this._easeOptions=r,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(t,n){t=e.wrap(t,-180,180);var r=Math.abs(t-n);return Math.abs(t-360-n)<r&&(t-=360),Math.abs(t+360-n)<r&&(t+=360),t},n.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}},n}(e.Evented),_i=function(t){void 0===t&&(t={}),this.options=t,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};_i.prototype.getDefaultPosition=function(){return"bottom-right"},_i.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=n.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=n.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},_i.prototype.onRemove=function(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},_i.prototype._setElementTitle=function(e,t){var n=this._map._getUIString("AttributionControl."+t);e.title=n,e.setAttribute("aria-label",n)},_i.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},_i.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){var r=n.reduce((function(e,t,r){return t.value&&(e+=t.key+"="+t.value+(r<n.length-1?"&":"")),e}),"?");t.href=e.config.FEEDBACK_URL+"/"+r+(this._map._hash?this._map._hash.getHashString(!0):""),t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}},_i.prototype._updateData=function(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())},_i.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((function(e){return"string"!=typeof e?"":e}))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r];if(i.used){var o=i.getSource();o.attribution&&e.indexOf(o.attribution)<0&&e.push(o.attribution)}}e.sort((function(e,t){return e.length-t.length}));var a=(e=e.filter((function(t,n){for(var r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0}))).join(" | ");a!==this._attribHTML&&(this._attribHTML=a,e.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},_i.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var bi=function(){e.bindAll(["_updateLogo"],this),e.bindAll(["_updateCompact"],this)};bi.prototype.onAdd=function(e){this._map=e,this._container=n.create("div","mapboxgl-ctrl");var t=n.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},bi.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},bi.prototype.getDefaultPosition=function(){return"bottom-left"},bi.prototype._updateLogo=function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},bi.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e)if(e[t].getSource().mapbox_logo)return!0;return!1}},bi.prototype._updateCompact=function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}};var xi=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};xi.prototype.add=function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t},xi.prototype.remove=function(e){for(var t=this._currentlyRunning,n=0,r=t?this._queue.concat(t):this._queue;n<r.length;n+=1){var i=r[n];if(i.id===e)return void(i.cancelled=!0)}},xi.prototype.run=function(e){void 0===e&&(e=0);var t=this._currentlyRunning=this._queue;this._queue=[];for(var n=0,r=t;n<r.length;n+=1){var i=r[n];if(!i.cancelled&&(i.callback(e),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},xi.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var wi={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Si=e.window.HTMLImageElement,Ei=e.window.HTMLElement,Mi=e.window.ImageBitmap,ki={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Ti=function(r){function i(t){var n=this;if(null!=(t=e.extend({},ki,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var i=new Sr(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies);if(r.call(this,i,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new xi,this._controls=[],this._mapId=e.uniqueId(),this._locale=e.extend({},wi,t.locale),this._clickTolerance=t.clickTolerance,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken),"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error("Container '"+t.container+"' not found.")}else{if(!(t.container instanceof Ei))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return n._update(!1)})),this.on("moveend",(function(){return n._update(!1)})),this.on("zoom",(function(){return n._update(!0)})),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1),e.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new gi(this,t),this._hash=t.hash&&new Mr("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new _i({customAttribution:t.customAttribution})),this.addControl(new bi,t.logoPosition),this.on("style.load",(function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)})),this.on("data",(function(t){n._update("style"===t.dataType),n.fire(new e.Event(t.dataType+"data",t))})),this.on("dataloading",(function(t){n.fire(new e.Event(t.dataType+"dataloading",t))}))}r&&(i.__proto__=r),(i.prototype=Object.create(r&&r.prototype)).constructor=i;var o={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return i.prototype._getMapId=function(){return this._mapId},i.prototype.addControl=function(t,n){if(void 0===n&&(n=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=t.onAdd(this);this._controls.push(t);var i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this},i.prototype.removeControl=function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this},i.prototype.hasControl=function(e){return this._controls.indexOf(e)>-1},i.prototype.resize=function(t){var n=this._containerDimensions(),r=n[0],i=n[1];if(r===this.transform.width&&i===this.transform.height)return this;this._resizeCanvas(r,i),this.transform.resize(r,i),this.painter.resize(r,i);var o=!this._moving;return o&&this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)),this.fire(new e.Event("resize",t)),o&&this.fire(new e.Event("moveend",t)),this},i.prototype.getBounds=function(){return this.transform.getBounds()},i.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},i.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()},i.prototype.setMinZoom=function(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.setMinPitch=function(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},i.prototype.getMinPitch=function(){return this.transform.minPitch},i.prototype.setMaxPitch=function(e){if((e=null==e?60:e)>60)throw new Error("maxPitch must be less than or equal to 60");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")},i.prototype.getMaxPitch=function(){return this.transform.maxPitch},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(e){return this.transform.renderWorldCopies=e,this._update()},i.prototype.project=function(t){return this.transform.locationPoint(e.LngLat.convert(t))},i.prototype.unproject=function(t){return this.transform.pointLocation(e.Point.convert(t))},i.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},i.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},i.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},i.prototype._createDelegatedListener=function(e,t,n){var r,i=this;if("mouseenter"===e||"mouseover"===e){var o=!1;return{layer:t,listener:n,delegates:{mousemove:function(r){var a=i.getLayer(t)?i.queryRenderedFeatures(r.point,{layers:[t]}):[];a.length?o||(o=!0,n.call(i,new Lr(e,i,r.originalEvent,{features:a}))):o=!1},mouseout:function(){o=!1}}}}if("mouseleave"===e||"mouseout"===e){var a=!1;return{layer:t,listener:n,delegates:{mousemove:function(r){(i.getLayer(t)?i.queryRenderedFeatures(r.point,{layers:[t]}):[]).length?a=!0:a&&(a=!1,n.call(i,new Lr(e,i,r.originalEvent)))},mouseout:function(t){a&&(a=!1,n.call(i,new Lr(e,i,t.originalEvent)))}}}}return{layer:t,listener:n,delegates:(r={},r[e]=function(e){var r=i.getLayer(t)?i.queryRenderedFeatures(e.point,{layers:[t]}):[];r.length&&(e.features=r,n.call(i,e),delete e.features)},r)}},i.prototype.on=function(e,t,n){if(void 0===n)return r.prototype.on.call(this,e,t);var i=this._createDelegatedListener(e,t,n);for(var o in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i),i.delegates)this.on(o,i.delegates[o]);return this},i.prototype.once=function(e,t,n){if(void 0===n)return r.prototype.once.call(this,e,t);var i=this._createDelegatedListener(e,t,n);for(var o in i.delegates)this.once(o,i.delegates[o]);return this},i.prototype.off=function(e,t,n){var i=this;return void 0===n?r.prototype.off.call(this,e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&function(r){for(var o=r[e],a=0;a<o.length;a++){var s=o[a];if(s.layer===t&&s.listener===n){for(var l in s.delegates)i.off(l,s.delegates[l]);return o.splice(a,1),i}}}(this._delegatedListeners),this)},i.prototype.queryRenderedFeatures=function(t,n){if(!this.style)return[];var r;if(void 0!==n||void 0===t||t instanceof e.Point||Array.isArray(t)||(n=t,t=void 0),n=n||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.Point||"number"==typeof t[0])r=[e.Point.convert(t)];else{var i=e.Point.convert(t[0]),o=e.Point.convert(t[1]);r=[i,new e.Point(o.x,i.y),o,new e.Point(i.x,o.y),i]}return this.style.queryRenderedFeatures(r,n,this.transform)},i.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},i.prototype.setStyle=function(t,n){return!1!==(n=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(t,n))},i.prototype._getUIString=function(e){var t=this._locale[e];if(null==t)throw new Error("Missing UI string '"+e+"'");return t},i.prototype._updateStyle=function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Ht(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},i.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Ht(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},i.prototype._diffStyle=function(t,n){var r=this;if("string"==typeof t){var i=this._requestManager.normalizeStyleURL(t),o=this._requestManager.transformRequest(i,e.ResourceType.Style);e.getJSON(o,(function(t,i){t?r.fire(new e.ErrorEvent(t)):i&&r._updateDiff(i,n)}))}else"object"==typeof t&&this._updateDiff(t,n)},i.prototype._updateDiff=function(t,n){try{this.style.setState(t)&&this._update(!0)}catch(r){e.warnOnce("Unable to perform style diff: "+(r.message||r.error||r)+".  Rebuilding the style from scratch."),this._updateStyle(t,n)}},i.prototype.getStyle=function(){if(this.style)return this.style.serialize()},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")},i.prototype.addSource=function(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)},i.prototype.isSourceLoaded=function(t){var n=this.style&&this.style.sourceCaches[t];if(void 0!==n)return n.loaded();this.fire(new e.ErrorEvent(new Error("There is no source with ID '"+t+"'")))},i.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var n=e[t]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},i.prototype.addSourceType=function(e,t,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)},i.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0)},i.prototype.getSource=function(e){return this.style.getSource(e)},i.prototype.addImage=function(t,n,r){void 0===r&&(r={});var i=r.pixelRatio;void 0===i&&(i=1);var o=r.sdf;void 0===o&&(o=!1);var a=r.stretchX,s=r.stretchY,l=r.content;if(this._lazyInitEmptyStyle(),n instanceof Si||Mi&&n instanceof Mi){var u=e.browser.getImageData(n);this.style.addImage(t,{data:new e.RGBAImage({width:u.width,height:u.height},u.data),pixelRatio:i,stretchX:a,stretchY:s,content:l,sdf:o,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=n;this.style.addImage(t,{data:new e.RGBAImage({width:n.width,height:n.height},new Uint8Array(n.data)),pixelRatio:i,stretchX:a,stretchY:s,content:l,sdf:o,version:0,userImage:c}),c.onAdd&&c.onAdd(this,t)}},i.prototype.updateImage=function(t,n){var r=this.style.getImage(t);if(!r)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=n instanceof Si||Mi&&n instanceof Mi?e.browser.getImageData(n):n,o=i.width,a=i.height,s=i.data;return void 0===o||void 0===a?this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):o!==r.data.width||a!==r.data.height?this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(r.data.replace(s,!(n instanceof Si||Mi&&n instanceof Mi)),void this.style.updateImage(t,r))},i.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)},i.prototype.removeImage=function(e){this.style.removeImage(e)},i.prototype.loadImage=function(t,n){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),n)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)},i.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0)},i.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0)},i.prototype.getLayer=function(e){return this.style.getLayer(e)},i.prototype.setLayerZoomRange=function(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)},i.prototype.setFilter=function(e,t,n){return void 0===n&&(n={}),this.style.setFilter(e,t,n),this._update(!0)},i.prototype.getFilter=function(e){return this.style.getFilter(e)},i.prototype.setPaintProperty=function(e,t,n,r){return void 0===r&&(r={}),this.style.setPaintProperty(e,t,n,r),this._update(!0)},i.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},i.prototype.setLayoutProperty=function(e,t,n,r){return void 0===r&&(r={}),this.style.setLayoutProperty(e,t,n,r),this._update(!0)},i.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},i.prototype.setLight=function(e,t){return void 0===t&&(t={}),this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(e,t){return this.style.setFeatureState(e,t),this._update()},i.prototype.removeFeatureState=function(e,t){return this.style.removeFeatureState(e,t),this._update()},i.prototype.getFeatureState=function(e){return this.style.getFeatureState(e)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]},i.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},i.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=n.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=n.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=n.create("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var i=this._controlContainer=n.create("div","mapboxgl-control-container",e),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(e){o[e]=n.create("div","mapboxgl-ctrl-"+e,i)})),this._container.addEventListener("scroll",this._onMapScroll,!1)},i.prototype._resizeCanvas=function(t,n){var r=e.browser.devicePixelRatio||1;this._canvas.width=r*t,this._canvas.height=r*n,this._canvas.style.width=t+"px",this._canvas.style.height=n+"px"},i.prototype._setupPainter=function(){var n=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);r?(this.painter=new _r(r,this.transform),e.webpSupported.testSupport(r)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))},i.prototype._contextLost=function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))},i.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))},i.prototype._onMapScroll=function(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},i.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},i.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this},i.prototype._requestRenderFrame=function(e){return this._update(),this._renderTaskQueue.add(e)},i.prototype._cancelRenderFrame=function(e){this._renderTaskQueue.remove(e)},i.prototype._render=function(t){var n,r=this,i=0,o=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(n=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,n),i=e.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),!this._removed){var a=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var s=this.transform.zoom,l=e.browser.now();this.style.zoomHistory.update(s,l);var u=new e.EvaluationParameters(s,{now:l,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),c=u.crossFadingFactor();1===c&&c===this._crossFadingFactor||(a=!0,this._crossFadingFactor=c),this.style.update(u)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||a)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var h=e.browser.now()-i;o.endQueryEXT(o.TIME_ELAPSED_EXT,n),setTimeout((function(){var t=o.getQueryObjectEXT(n,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(n),r.fire(new e.Event("gpu-timing-frame",{cpuTime:h,gpuTime:t}))}),50)}if(this.listens("gpu-timing-layer")){var p=this.painter.collectGpuTimers();setTimeout((function(){var t=r.painter.queryGpuTimers(p);r.fire(new e.Event("gpu-timing-layer",{layerTimes:t}))}),50)}var f=this._sourcesDirty||this._styleDirty||this._placementDirty;return f||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),!this._loaded||this._fullyLoaded||f||(this._fullyLoaded=!0),this}},i.prototype.remove=function(){this._hash&&this._hash.remove();for(var t=0,n=this._controls;t<n.length;t+=1)n[t].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),Ai(this._canvasContainer),Ai(this._controlContainer),Ai(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new e.Event("remove"))},i.prototype.triggerRepaint=function(){var t=this;this.style&&!this._frame&&(this._frame=e.browser.frame((function(e){t._frame=null,t._render(e)})))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(e){this._trackResize&&this.resize({originalEvent:e})._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},o.showPadding.get=function(){return!!this._showPadding},o.showPadding.set=function(e){this._showPadding!==e&&(this._showPadding=e,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(e){this._vertices=e,this._update()},i.prototype._setCacheLimits=function(t,n){e.setCacheLimits(t,n)},o.version.get=function(){return e.version},Object.defineProperties(i.prototype,o),i}(yi);function Ai(e){e.parentNode&&e.parentNode.removeChild(e)}var Ci={showCompass:!0,showZoom:!0,visualizePitch:!1},Pi=function(t){var r=this;this.options=e.extend({},Ci,t),this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(e){return r._map.zoomIn({},{originalEvent:e})})),n.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(e){return r._map.zoomOut({},{originalEvent:e})})),n.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(e){r.options.visualizePitch?r._map.resetNorthPitch({},{originalEvent:e}):r._map.resetNorth({},{originalEvent:e})})),this._compassIcon=n.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Pi.prototype._updateZoomButtons=function(){var e=this._map.getZoom(),t=e===this._map.getMaxZoom(),n=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())},Pi.prototype._rotateCompassArrow=function(){var e=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=e},Pi.prototype.onAdd=function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Oi(this._map,this._compass,this.options.visualizePitch)),this._container},Pi.prototype.onRemove=function(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Pi.prototype._createButton=function(e,t){var r=n.create("button",e,this._container);return r.type="button",r.addEventListener("click",t),r},Pi.prototype._setButtonTitle=function(e,t){var n=this._map._getUIString("NavigationControl."+t);e.title=n,e.setAttribute("aria-label",n)};var Oi=function(t,r,i){void 0===i&&(i=!1),this._clickTolerance=10,this.element=r,this.mouseRotate=new Yr({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,i&&(this.mousePitch=new Xr({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),n.addEventListener(r,"mousedown",this.mousedown),n.addEventListener(r,"touchstart",this.touchstart,{passive:!1}),n.addEventListener(r,"touchmove",this.touchmove),n.addEventListener(r,"touchend",this.touchend),n.addEventListener(r,"touchcancel",this.reset)};function Ri(t,n,r){if(t=new e.LngLat(t.lng,t.lat),n){var i=new e.LngLat(t.lng-360,t.lat),o=new e.LngLat(t.lng+360,t.lat),a=r.locationPoint(t).distSqr(n);r.locationPoint(i).distSqr(n)<a?t=i:r.locationPoint(o).distSqr(n)<a&&(t=o)}for(;Math.abs(t.lng-r.center.lng)>180;){var s=r.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;t.lng>r.center.lng?t.lng-=360:t.lng+=360}return t}Oi.prototype.down=function(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),n.disableDrag()},Oi.prototype.move=function(e,t){var n=this.map,r=this.mouseRotate.mousemoveWindow(e,t);if(r&&r.bearingDelta&&n.setBearing(n.getBearing()+r.bearingDelta),this.mousePitch){var i=this.mousePitch.mousemoveWindow(e,t);i&&i.pitchDelta&&n.setPitch(n.getPitch()+i.pitchDelta)}},Oi.prototype.off=function(){var e=this.element;n.removeEventListener(e,"mousedown",this.mousedown),n.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),n.removeEventListener(e,"touchmove",this.touchmove),n.removeEventListener(e,"touchend",this.touchend),n.removeEventListener(e,"touchcancel",this.reset),this.offTemp()},Oi.prototype.offTemp=function(){n.enableDrag(),n.removeEventListener(e.window,"mousemove",this.mousemove),n.removeEventListener(e.window,"mouseup",this.mouseup)},Oi.prototype.mousedown=function(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:function(){return t.preventDefault()}}),n.mousePos(this.element,t)),n.addEventListener(e.window,"mousemove",this.mousemove),n.addEventListener(e.window,"mouseup",this.mouseup)},Oi.prototype.mousemove=function(e){this.move(e,n.mousePos(this.element,e))},Oi.prototype.mouseup=function(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()},Oi.prototype.touchstart=function(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=n.touchPos(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return e.preventDefault()}},this._startPos))},Oi.prototype.touchmove=function(e){1!==e.targetTouches.length?this.reset():(this._lastPos=n.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:function(){return e.preventDefault()}},this._lastPos))},Oi.prototype.touchend=function(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Oi.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Ii={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Li(e,t,n){var r=e.classList;for(var i in Ii)r.remove("mapboxgl-"+n+"-anchor-"+i);r.add("mapboxgl-"+n+"-anchor-"+t)}var Di,zi=function(t){function r(r,i){if(t.call(this),(r instanceof e.window.HTMLElement||i)&&(r=e.extend({element:r},i)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&"auto"!==r.pitchAlignment?r.pitchAlignment:this._rotationAlignment,r&&r.element)this._element=r.element,this._offset=e.Point.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div"),this._element.setAttribute("aria-label","Map marker");var o=n.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var a=n.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");var s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var l=n.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");for(var u=0,c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];u<c.length;u+=1){var h=c[u],p=n.createNS("http://www.w3.org/2000/svg","ellipse");p.setAttributeNS(null,"opacity","0.04"),p.setAttributeNS(null,"cx","10.5"),p.setAttributeNS(null,"cy","5.80029008"),p.setAttributeNS(null,"rx",h.rx),p.setAttributeNS(null,"ry",h.ry),l.appendChild(p)}var f=n.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"fill",this._color);var d=n.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),f.appendChild(d);var m=n.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"fill","#000000");var v=n.createNS("http://www.w3.org/2000/svg","path");v.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),m.appendChild(v);var g=n.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(6.0, 7.0)"),g.setAttributeNS(null,"fill","#FFFFFF");var y=n.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(8.0, 8.0)");var _=n.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#000000"),_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962");var b=n.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#FFFFFF"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962"),y.appendChild(_),y.appendChild(b),s.appendChild(l),s.appendChild(f),s.appendChild(m),s.appendChild(g),s.appendChild(y),o.appendChild(s),o.setAttributeNS(null,"height",41*this._scale+"px"),o.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(o),this._offset=e.Point.convert(r&&r.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(e){e.preventDefault()})),this._element.addEventListener("mousedown",(function(e){e.preventDefault()})),Li(this._element,this._anchor,"marker"),this._popup=null}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},r.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},r.prototype.getElement=function(){return this._element},r.prototype.setPopup=function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){var t=Math.sqrt(Math.pow(13.5,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[t,-1*(24.6+t)],"bottom-right":[-t,-1*(24.6+t)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},r.prototype._onKeyPress=function(e){var t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()},r.prototype._onMapClick=function(e){var t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()},r.prototype.getPopup=function(){return this._popup},r.prototype.togglePopup=function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this},r.prototype._update=function(e){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Ri(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var t="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?t="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(t="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var r="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?r="rotateX(0deg)":"map"===this._pitchAlignment&&(r="rotateX("+this._map.getPitch()+"deg)"),e&&"moveend"!==e.type||(this._pos=this._pos.round()),n.setTransform(this._element,Ii[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+r+" "+t)}},r.prototype.getOffset=function(){return this._offset},r.prototype.setOffset=function(t){return this._offset=e.Point.convert(t),this._update(),this},r.prototype._onMove=function(t){if(!this._isDragging){var n=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=n}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag")))},r.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"},r.prototype._addDragHandler=function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},r.prototype.setDraggable=function(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},r.prototype.isDraggable=function(){return this._draggable},r.prototype.setRotation=function(e){return this._rotation=e||0,this._update(),this},r.prototype.getRotation=function(){return this._rotation},r.prototype.setRotationAlignment=function(e){return this._rotationAlignment=e||"auto",this._update(),this},r.prototype.getRotationAlignment=function(){return this._rotationAlignment},r.prototype.setPitchAlignment=function(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this},r.prototype.getPitchAlignment=function(){return this._pitchAlignment},r}(e.Evented),Ni={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Bi=0,Fi=!1,ji=function(t){function r(n){t.call(this),this.options=e.extend({},Ni,n),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.onAdd=function(t){var r;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r=this._setupUI,void 0!==Di?r(Di):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((function(e){r(Di="denied"!==e.state)})):r(Di=!!e.window.navigator.geolocation),this._container},r.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),n.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Bi=0,Fi=!1},r.prototype._isOutOfMapMaxBounds=function(e){var t=this._map.getMaxBounds(),n=e.coords;return t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())},r.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},r.prototype._onSuccess=function(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}},r.prototype._updateCamera=function(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,i=this._map.getBearing(),o=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),o,{geolocateSource:!0})},r.prototype._updateMarker=function(t){if(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},r.prototype._updateCircleRadius=function(){var e=this._map._container.clientHeight/2,t=this._map.unproject([0,e]),n=this._map.unproject([1,e]),r=t.distanceTo(n),i=Math.ceil(2*this._accuracy/r);this._circleElement.style.width=i+"px",this._circleElement.style.height=i+"px"},r.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},r.prototype._onError=function(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&Fi)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}},r.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},r.prototype._setupUI=function(t){var r=this;if(this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this._geolocateButton=n.create("button","mapboxgl-ctrl-geolocate",this._container),n.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}else{var o=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new zi(this._dotElement),this._circleElement=n.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new zi({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(t){t.geolocateSource||"ACTIVE_LOCK"!==r._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),r.fire(new e.Event("trackuserlocationend")))}))},r.prototype.trigger=function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Bi--,Fi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var t;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Bi>1?(t={maximumAge:6e5,timeout:0},Fi=!0):(t=this.options.positionOptions,Fi=!1),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)}}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},r.prototype._clearWatch=function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},r}(e.Evented),Ui={maxWidth:100,unit:"metric"},Vi=function(t){this.options=e.extend({},Ui,t),e.bindAll(["_onMove","setUnit"],this)};function Hi(e,t,n){var r=n&&n.maxWidth||100,i=e._container.clientHeight/2,o=e.unproject([0,i]),a=e.unproject([r,i]),s=o.distanceTo(a);if(n&&"imperial"===n.unit){var l=3.2808*s;l>5280?Wi(t,r,l/5280,e._getUIString("ScaleControl.Miles")):Wi(t,r,l,e._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?Wi(t,r,s/1852,e._getUIString("ScaleControl.NauticalMiles")):s>=1e3?Wi(t,r,s/1e3,e._getUIString("ScaleControl.Kilometers")):Wi(t,r,s,e._getUIString("ScaleControl.Meters"))}function Wi(e,t,n,r){var i,o,a,s=(i=n,(o=Math.pow(10,(""+Math.floor(i)).length-1))*(a=(a=i/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(a)));e.style.width=t*(s/n)+"px",e.innerHTML=s+"&nbsp;"+r}Vi.prototype.getDefaultPosition=function(){return"bottom-left"},Vi.prototype._onMove=function(){Hi(this._map,this._container,this.options)},Vi.prototype.onAdd=function(e){return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Vi.prototype.onRemove=function(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Vi.prototype.setUnit=function(e){this.options.unit=e,Hi(this._map,this._container,this.options)};var Gi=function(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in e.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in e.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in e.window.document&&(this._fullscreenchange="MSFullscreenChange")};Gi.prototype.onAdd=function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Gi.prototype.onRemove=function(){n.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Gi.prototype._checkFullscreenSupport=function(){return!!(e.window.document.fullscreenEnabled||e.window.document.mozFullScreenEnabled||e.window.document.msFullscreenEnabled||e.window.document.webkitFullscreenEnabled)},Gi.prototype._setupUI=function(){var t=this._fullscreenButton=n.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);n.create("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden",!0),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Gi.prototype._updateTitle=function(){var e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e},Gi.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Gi.prototype._isFullscreen=function(){return this._fullscreen},Gi.prototype._changeIcon=function(){(e.window.document.fullscreenElement||e.window.document.mozFullScreenElement||e.window.document.webkitFullscreenElement||e.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Gi.prototype._onClickFullscreen=function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.mozCancelFullScreen?e.window.document.mozCancelFullScreen():e.window.document.msExitFullscreen?e.window.document.msExitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var qi={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Yi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Xi=function(t){function r(n){t.call(this),this.options=e.extend(Object.create(qi),n),e.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.addTo=function(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this},r.prototype.isOpen=function(){return!!this._map},r.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new e.Event("close")),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},r.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},r.prototype.getElement=function(){return this._container},r.prototype.setText=function(t){return this.setDOMContent(e.window.document.createTextNode(t))},r.prototype.setHTML=function(t){var n,r=e.window.document.createDocumentFragment(),i=e.window.document.createElement("body");for(i.innerHTML=t;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)},r.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},r.prototype.setMaxWidth=function(e){return this.options.maxWidth=e,this._update(),this},r.prototype.setDOMContent=function(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=n.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this},r.prototype.addClassName=function(e){this._container&&this._container.classList.add(e)},r.prototype.removeClassName=function(e){this._container&&this._container.classList.remove(e)},r.prototype.setOffset=function(e){return this.options.offset=e,this._update(),this},r.prototype.toggleClassName=function(e){if(this._container)return this._container.classList.toggle(e)},r.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=n.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},r.prototype._onMouseUp=function(e){this._update(e.point)},r.prototype._onMouseMove=function(e){this._update(e.point)},r.prototype._onDrag=function(e){this._update(e.point)},r.prototype._update=function(t){var r=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=n.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=n.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(e){return r._container.classList.add(e)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ri(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||t)){var i=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat),o=this.options.anchor,a=function t(n){if(n){if("number"==typeof n){var r=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new e.Point(0,0),top:new e.Point(0,n),"top-left":new e.Point(r,r),"top-right":new e.Point(-r,r),bottom:new e.Point(0,-n),"bottom-left":new e.Point(r,-r),"bottom-right":new e.Point(-r,-r),left:new e.Point(n,0),right:new e.Point(-n,0)}}if(n instanceof e.Point||Array.isArray(n)){var i=e.Point.convert(n);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:e.Point.convert(n.center||[0,0]),top:e.Point.convert(n.top||[0,0]),"top-left":e.Point.convert(n["top-left"]||[0,0]),"top-right":e.Point.convert(n["top-right"]||[0,0]),bottom:e.Point.convert(n.bottom||[0,0]),"bottom-left":e.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":e.Point.convert(n["bottom-right"]||[0,0]),left:e.Point.convert(n.left||[0,0]),right:e.Point.convert(n.right||[0,0])}}return t(new e.Point(0,0))}(this.options.offset);if(!o){var s,l=this._container.offsetWidth,u=this._container.offsetHeight;s=i.y+a.bottom.y<u?["top"]:i.y>this._map.transform.height-u?["bottom"]:[],i.x<l/2?s.push("left"):i.x>this._map.transform.width-l/2&&s.push("right"),o=0===s.length?"bottom":s.join("-")}var c=i.add(a[o]).round();n.setTransform(this._container,Ii[o]+" translate("+c.x+"px,"+c.y+"px)"),Li(this._container,o,"popup")}},r.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var e=this._container.querySelector(Yi);e&&e.focus()}},r.prototype._onClose=function(){this.remove()},r}(e.Evented),Zi={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:Ti,NavigationControl:Pi,GeolocateControl:ji,AttributionControl:_i,ScaleControl:Vi,FullscreenControl:Gi,Popup:Xi,Marker:zi,Style:Ht,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.Point,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,config:e.config,prewarm:function(){Be().acquire(Le)},clearPrewarmedResources:function(){var e=ze;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Le),ze=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return De.workerCount},set workerCount(e){De.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage:function(t){e.clearTileCache(t)},workerUrl:""};return Zi})),n}()},2426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function u(e){return void 0===e}function c(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function h(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function p(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function f(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return Yn(e,t,n,r,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(e){return null==e._pf&&(e._pf=m()),e._pf}function g(e){if(null==e._isValid){var t=v(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function y(e){var t=d(NaN);return null!=e?f(v(t),e):v(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var _=r.momentProperties=[],b=!1;function x(e,t){var n,r,i;if(u(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),u(t._i)||(e._i=t._i),u(t._f)||(e._f=t._f),u(t._l)||(e._l=t._l),u(t._strict)||(e._strict=t._strict),u(t._tzm)||(e._tzm=t._tzm),u(t._isUTC)||(e._isUTC=t._isUTC),u(t._offset)||(e._offset=t._offset),u(t._pf)||(e._pf=v(t)),u(t._locale)||(e._locale=t._locale),_.length>0)for(n=0;n<_.length;n++)u(i=t[r=_[n]])||(e[r]=i);return e}function w(e){x(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function S(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function E(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function M(e,t){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,o,a,l=[];for(o=0;o<arguments.length;o++){if(i="","object"===typeof arguments[o]){for(a in i+="\n["+o+"] ",arguments[0])s(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[o];l.push(i)}E(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var k,T={};function A(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),T[e]||(E(t),T[e]=!0)}function C(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function P(e){var t,n;for(n in e)s(e,n)&&(C(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function O(e,t){var n,r=f({},e);for(n in t)s(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&a(e[n])&&(r[n]=f({},r[n]));return r}function R(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var I={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function L(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return C(r)?r.call(t,n):r}function D(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var z=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,B={},F={};function j(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(F[e]=i),t&&(F[t[0]]=function(){return D(i.apply(this,arguments),t[1],t[2])}),n&&(F[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function U(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function V(e){var t,n,r=e.match(z);for(t=0,n=r.length;t<n;t++)F[r[t]]?r[t]=F[r[t]]:r[t]=U(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=C(r[i])?r[i].call(t,e):r[i];return o}}function H(e,t){return e.isValid()?(t=W(t,e.localeData()),B[t]=B[t]||V(t),B[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(N.lastIndex=0;n>=0&&N.test(e);)e=e.replace(N,r),N.lastIndex=0,n-=1;return e}var G={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function q(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(z).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var Y="Invalid date";function X(){return this._invalidDate}var Z="%d",K=/\d{1,2}/;function J(e){return this._ordinal.replace("%d",e)}var Q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $(e,t,n,r){var i=this._relativeTime[n];return C(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var oe={};function ae(e,t){oe[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:oe[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function le(e){return e%4===0&&e%100!==0||e%400===0}function ue(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ce(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ue(t)),n}function he(e,t){return function(n){return null!=n?(fe(this,e,n),r.updateOffset(this,t),this):pe(this,e)}}function pe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function fe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&le(e.year())&&1===e.month()&&29===e.date()?(n=ce(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),$e(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function de(e){return C(this[e=re(e)])?this[e]():this}function me(e,t){if("object"===typeof e){var n,r=se(e=ie(e));for(n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(C(this[e=re(e)]))return this[e](t);return this}var ve,ge=/\d/,ye=/\d\d/,_e=/\d{3}/,be=/\d{4}/,xe=/[+-]?\d{6}/,we=/\d\d?/,Se=/\d\d\d\d?/,Ee=/\d\d\d\d\d\d?/,Me=/\d{1,3}/,ke=/\d{1,4}/,Te=/[+-]?\d{1,6}/,Ae=/\d+/,Ce=/[+-]?\d+/,Pe=/Z|[+-]\d\d:?\d\d/gi,Oe=/Z|[+-]\d\d(?::?\d\d)?/gi,Re=/[+-]?\d+(\.\d{1,3})?/,Ie=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Le(e,t,n){ve[e]=C(t)?t:function(e,r){return e&&n?n:t}}function De(e,t){return s(ve,e)?ve[e](t._strict,t._locale):new RegExp(ze(e))}function ze(e){return Ne(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Ne(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ve={};var Be={};function Fe(e,t){var n,r=t;for("string"===typeof e&&(e=[e]),c(t)&&(r=function(e,n){n[t]=ce(e)}),n=0;n<e.length;n++)Be[e[n]]=r}function je(e,t){Fe(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Ue(e,t,n){null!=t&&s(Be,e)&&Be[e](t,n._a,n,e)}var Ve,He=0,We=1,Ge=2,qe=3,Ye=4,Xe=5,Ze=6,Ke=7,Je=8;function Qe(e,t){return(e%t+t)%t}function $e(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Qe(t,12);return e+=(t-n)/12,1===n?le(e)?29:28:31-n%7%2}Ve=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},j("M",["MM",2],"Mo",(function(){return this.month()+1})),j("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),j("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),ae("month",8),Le("M",we),Le("MM",we,ye),Le("MMM",(function(e,t){return t.monthsShortRegex(e)})),Le("MMMM",(function(e,t){return t.monthsRegex(e)})),Fe(["M","MM"],(function(e,t){t[We]=ce(e)-1})),Fe(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[We]=i:v(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Ie,it=Ie;function ot(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone}function at(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ve.call(this._shortMonthsParse,a))?i:null:-1!==(i=Ve.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Ve.call(this._shortMonthsParse,a))||-1!==(i=Ve.call(this._longMonthsParse,a))?i:null:-1!==(i=Ve.call(this._longMonthsParse,a))||-1!==(i=Ve.call(this._shortMonthsParse,a))?i:null}function lt(e,t,n){var r,i,o;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ut(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=ce(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),$e(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ct(e){return null!=e?(ut(this,e),r.updateOffset(this,!0),this):pe(this,"Month")}function ht(){return $e(this.year(),this.month())}function pt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||dt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ft(e){return this._monthsParseExact?(s(this,"_monthsRegex")||dt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function dt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=d([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=Ne(r[t]),i[t]=Ne(i[t]);for(t=0;t<24;t++)o[t]=Ne(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function mt(e){return le(e)?366:365}j("Y",0,0,(function(){var e=this.year();return e<=9999?D(e,4):"+"+e})),j(0,["YY",2],0,(function(){return this.year()%100})),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),ae("year",1),Le("Y",Ce),Le("YY",we,ye),Le("YYYY",ke,be),Le("YYYYY",Te,xe),Le("YYYYYY",Te,xe),Fe(["YYYYY","YYYYYY"],He),Fe("YYYY",(function(e,t){t[He]=2===e.length?r.parseTwoDigitYear(e):ce(e)})),Fe("YY",(function(e,t){t[He]=r.parseTwoDigitYear(e)})),Fe("Y",(function(e,t){t[He]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return ce(e)+(ce(e)>68?1900:2e3)};var vt=he("FullYear",!0);function gt(){return le(this.year())}function yt(e,t,n,r,i,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}function _t(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function bt(e,t,n){var r=7+t-n;return-(7+_t(e,0,r).getUTCDay()-t)%7+r-1}function xt(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+bt(e,r,i);return s<=0?a=mt(o=e-1)+s:s>mt(e)?(o=e+1,a=s-mt(e)):(o=e,a=s),{year:o,dayOfYear:a}}function wt(e,t,n){var r,i,o=bt(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+St(i=e.year()-1,t,n):a>St(e.year(),t,n)?(r=a-St(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function St(e,t,n){var r=bt(e,t,n),i=bt(e+1,t,n);return(mt(e)-r+i)/7}function Et(e){return wt(e,this._week.dow,this._week.doy).week}j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),ae("week",5),ae("isoWeek",5),Le("w",we),Le("ww",we,ye),Le("W",we),Le("WW",we,ye),je(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=ce(e)}));var Mt={dow:0,doy:6};function kt(){return this._week.dow}function Tt(){return this._week.doy}function At(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ct(e){var t=wt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Pt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Ot(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Rt(e,t){return e.slice(t,7).concat(e.slice(0,t))}j("d",0,"do","day"),j("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),j("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),j("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),ae("day",11),ae("weekday",11),ae("isoWeekday",11),Le("d",we),Le("e",we),Le("E",we),Le("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Le("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Le("dddd",(function(e,t){return t.weekdaysRegex(e)})),je(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:v(n).invalidWeekday=e})),je(["d","e","E"],(function(e,t,n,r){t[r]=ce(e)}));var It="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Lt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Dt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),zt=Ie,Nt=Ie,Bt=Ie;function Ft(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Rt(n,this._week.dow):e?n[e.day()]:n}function jt(e){return!0===e?Rt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ut(e){return!0===e?Rt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Vt(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ve.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ve.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Ve.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Ve.call(this._weekdaysParse,a))||-1!==(i=Ve.call(this._shortWeekdaysParse,a))||-1!==(i=Ve.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ve.call(this._shortWeekdaysParse,a))||-1!==(i=Ve.call(this._weekdaysParse,a))||-1!==(i=Ve.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Ve.call(this._minWeekdaysParse,a))||-1!==(i=Ve.call(this._weekdaysParse,a))||-1!==(i=Ve.call(this._shortWeekdaysParse,a))?i:null}function Ht(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Vt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Pt(e,this.localeData()),this.add(e-t,"d")):t}function Gt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function qt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ot(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Yt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=zt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Xt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Nt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Zt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Bt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Kt(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],u=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),r=Ne(this.weekdaysMin(n,"")),i=Ne(this.weekdaysShort(n,"")),o=Ne(this.weekdays(n,"")),a.push(r),s.push(i),l.push(o),u.push(r),u.push(i),u.push(o);a.sort(e),s.sort(e),l.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Jt(){return this.hours()%12||12}function Qt(){return this.hours()||24}function $t(e,t){j(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}j("H",["HH",2],0,"hour"),j("h",["hh",2],0,Jt),j("k",["kk",2],0,Qt),j("hmm",0,0,(function(){return""+Jt.apply(this)+D(this.minutes(),2)})),j("hmmss",0,0,(function(){return""+Jt.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)})),j("Hmm",0,0,(function(){return""+this.hours()+D(this.minutes(),2)})),j("Hmmss",0,0,(function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)})),$t("a",!0),$t("A",!1),ne("hour","h"),ae("hour",13),Le("a",en),Le("A",en),Le("H",we),Le("h",we),Le("k",we),Le("HH",we,ye),Le("hh",we,ye),Le("kk",we,ye),Le("hmm",Se),Le("hmmss",Ee),Le("Hmm",Se),Le("Hmmss",Ee),Fe(["H","HH"],qe),Fe(["k","kk"],(function(e,t,n){var r=ce(e);t[qe]=24===r?0:r})),Fe(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Fe(["h","hh"],(function(e,t,n){t[qe]=ce(e),v(n).bigHour=!0})),Fe("hmm",(function(e,t,n){var r=e.length-2;t[qe]=ce(e.substr(0,r)),t[Ye]=ce(e.substr(r)),v(n).bigHour=!0})),Fe("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[qe]=ce(e.substr(0,r)),t[Ye]=ce(e.substr(r,2)),t[Xe]=ce(e.substr(i)),v(n).bigHour=!0})),Fe("Hmm",(function(e,t,n){var r=e.length-2;t[qe]=ce(e.substr(0,r)),t[Ye]=ce(e.substr(r))})),Fe("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[qe]=ce(e.substr(0,r)),t[Ye]=ce(e.substr(r,2)),t[Xe]=ce(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=he("Hours",!0);function on(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var an,sn={calendar:I,longDateFormat:G,invalidDate:Y,ordinal:Z,dayOfMonthOrdinalParse:K,relativeTime:Q,months:et,monthsShort:tt,week:Mt,weekdays:It,weekdaysMin:Dt,weekdaysShort:Lt,meridiemParse:nn},ln={},un={};function cn(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function hn(e){return e?e.toLowerCase().replace("_","-"):e}function pn(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=hn(e[o]).split("-")).length,n=(n=hn(e[o+1]))?n.split("-"):null;t>0;){if(r=fn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&cn(i,n)>=t-1)break;t--}o++}return an}function fn(t){var n=null;if(void 0===ln[t]&&e&&e.exports)try{n=an._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),dn(n)}catch(r){ln[t]=null}return ln[t]}function dn(e,t){var n;return e&&((n=u(t)?gn(e):mn(e,t))?an=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),an._abbr}function mn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=ln[e])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])r=ln[t.parentLocale]._config;else{if(null==(n=fn(t.parentLocale)))return un[t.parentLocale]||(un[t.parentLocale]=[]),un[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ln[e]=new R(O(r,t)),un[e]&&un[e].forEach((function(e){mn(e.name,e.config)})),dn(e),ln[e]}return delete ln[e],null}function vn(e,t){if(null!=t){var n,r,i=sn;null!=ln[e]&&null!=ln[e].parentLocale?ln[e].set(O(ln[e]._config,t)):(null!=(r=fn(e))&&(i=r._config),t=O(i,t),null==r&&(t.abbr=e),(n=new R(t)).parentLocale=ln[e],ln[e]=n),dn(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?(ln[e]=ln[e].parentLocale,e===dn()&&dn(e)):null!=ln[e]&&delete ln[e]);return ln[e]}function gn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return an;if(!o(e)){if(t=fn(e))return t;e=[e]}return pn(e)}function yn(){return k(ln)}function _n(e){var t,n=e._a;return n&&-2===v(e).overflow&&(t=n[We]<0||n[We]>11?We:n[Ge]<1||n[Ge]>$e(n[He],n[We])?Ge:n[qe]<0||n[qe]>24||24===n[qe]&&(0!==n[Ye]||0!==n[Xe]||0!==n[Ze])?qe:n[Ye]<0||n[Ye]>59?Ye:n[Xe]<0||n[Xe]>59?Xe:n[Ze]<0||n[Ze]>999?Ze:-1,v(e)._overflowDayOfYear&&(t<He||t>Ge)&&(t=Ge),v(e)._overflowWeeks&&-1===t&&(t=Ke),v(e)._overflowWeekday&&-1===t&&(t=Je),v(e).overflow=t),e}var bn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/Z|[+-]\d\d(?::?\d\d)?/,Sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],En=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Mn=/^\/?Date\((-?\d+)/i,kn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Tn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function An(e){var t,n,r,i,o,a,s=e._i,l=bn.exec(s)||xn.exec(s);if(l){for(v(e).iso=!0,t=0,n=Sn.length;t<n;t++)if(Sn[t][1].exec(l[1])){i=Sn[t][0],r=!1!==Sn[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=En.length;t<n;t++)if(En[t][1].exec(l[3])){o=(l[2]||" ")+En[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!wn.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),jn(e)}else e._isValid=!1}function Cn(e,t,n,r,i,o){var a=[Pn(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function Pn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function On(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Rn(e,t,n){return!e||Lt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(v(n).weekdayMismatch=!0,n._isValid=!1,!1)}function In(e,t,n){if(e)return Tn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Ln(e){var t,n=kn.exec(On(e._i));if(n){if(t=Cn(n[4],n[3],n[2],n[5],n[6],n[7]),!Rn(n[1],t,e))return;e._a=t,e._tzm=In(n[8],n[9],n[10]),e._d=_t.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),v(e).rfc2822=!0}else e._isValid=!1}function Dn(e){var t=Mn.exec(e._i);null===t?(An(e),!1===e._isValid&&(delete e._isValid,Ln(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function zn(e,t,n){return null!=e?e:null!=t?t:n}function Nn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Bn(e){var t,n,r,i,o,a=[];if(!e._d){for(r=Nn(e),e._w&&null==e._a[Ge]&&null==e._a[We]&&Fn(e),null!=e._dayOfYear&&(o=zn(e._a[He],r[He]),(e._dayOfYear>mt(o)||0===e._dayOfYear)&&(v(e)._overflowDayOfYear=!0),n=_t(o,0,e._dayOfYear),e._a[We]=n.getUTCMonth(),e._a[Ge]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[qe]&&0===e._a[Ye]&&0===e._a[Xe]&&0===e._a[Ze]&&(e._nextDay=!0,e._a[qe]=0),e._d=(e._useUTC?_t:yt).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[qe]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(v(e).weekdayMismatch=!0)}}function Fn(e){var t,n,r,i,o,a,s,l,u;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,n=zn(t.GG,e._a[He],wt(Xn(),1,4).year),r=zn(t.W,1),((i=zn(t.E,1))<1||i>7)&&(l=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,u=wt(Xn(),o,a),n=zn(t.gg,e._a[He],u.year),r=zn(t.w,u.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o),r<1||r>St(n,o,a)?v(e)._overflowWeeks=!0:null!=l?v(e)._overflowWeekday=!0:(s=xt(n,r,i,o,a),e._a[He]=s.year,e._dayOfYear=s.dayOfYear)}function jn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],v(e).empty=!0;var t,n,i,o,a,s,l=""+e._i,u=l.length,c=0;for(i=W(e._f,e._locale).match(z)||[],t=0;t<i.length;t++)o=i[t],(n=(l.match(De(o,e))||[])[0])&&((a=l.substr(0,l.indexOf(n))).length>0&&v(e).unusedInput.push(a),l=l.slice(l.indexOf(n)+n.length),c+=n.length),F[o]?(n?v(e).empty=!1:v(e).unusedTokens.push(o),Ue(o,n,e)):e._strict&&!n&&v(e).unusedTokens.push(o);v(e).charsLeftOver=u-c,l.length>0&&v(e).unusedInput.push(l),e._a[qe]<=12&&!0===v(e).bigHour&&e._a[qe]>0&&(v(e).bigHour=void 0),v(e).parsedDateParts=e._a.slice(0),v(e).meridiem=e._meridiem,e._a[qe]=Un(e._locale,e._a[qe],e._meridiem),null!==(s=v(e).era)&&(e._a[He]=e._locale.erasConvertYear(s,e._a[He])),Bn(e),_n(e)}else Ln(e);else An(e)}function Un(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Vn(e){var t,n,r,i,o,a,s=!1;if(0===e._f.length)return v(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,a=!1,t=x({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],jn(t),g(t)&&(a=!0),o+=v(t).charsLeftOver,o+=10*v(t).unusedTokens.length,v(t).score=o,s?o<r&&(r=o,n=t):(null==r||o<r||a)&&(r=o,n=t,a&&(s=!0));f(e,n||t)}function Hn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=p([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Bn(e)}}function Wn(e){var t=new w(_n(Gn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Gn(e){var t=e._i,n=e._f;return e._locale=e._locale||gn(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),S(t)?new w(_n(t)):(h(t)?e._d=t:o(n)?Vn(e):n?jn(e):qn(e),g(e)||(e._d=null),e))}function qn(e){var t=e._i;u(t)?e._d=new Date(r.now()):h(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Dn(e):o(t)?(e._a=p(t.slice(0),(function(e){return parseInt(e,10)})),Bn(e)):a(t)?Hn(e):c(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Yn(e,t,n,r,i){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&l(e)||o(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,Wn(s)}function Xn(e,t,n,r){return Yn(e,t,n,r,!1)}r.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Zn=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),Kn=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function Jn(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Xn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Qn(){return Jn("isBefore",[].slice.call(arguments,0))}function $n(){return Jn("isAfter",[].slice.call(arguments,0))}var er=function(){return Date.now?Date.now():+new Date},tr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nr(e){var t,n,r=!1;for(t in e)if(s(e,t)&&(-1===Ve.call(tr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<tr.length;++n)if(e[tr[n]]){if(r)return!1;parseFloat(e[tr[n]])!==ce(e[tr[n]])&&(r=!0)}return!0}function rr(){return this._isValid}function ir(){return Tr(NaN)}function or(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=nr(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=gn(),this._bubble()}function ar(e){return e instanceof or}function sr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function lr(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&ce(e[r])!==ce(t[r]))&&a++;return a+o}function ur(e,t){j(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+D(~~(e/60),2)+t+D(~~e%60,2)}))}ur("Z",":"),ur("ZZ",""),Le("Z",Oe),Le("ZZ",Oe),Fe(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=hr(Oe,e)}));var cr=/([\+\-]|\d\d)/gi;function hr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(cr)||["-",0,0])[1]+ce(n[2]))?0:"+"===n[0]?r:-r}function pr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(S(e)||h(e)?e.valueOf():Xn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Xn(e).local()}function fr(e){return-Math.round(e._d.getTimezoneOffset())}function dr(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hr(Oe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=fr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Rr(this,Tr(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:fr(this)}function mr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function vr(e){return this.utcOffset(0,e)}function gr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(fr(this),"m")),this}function yr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hr(Pe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function _r(e){return!!this.isValid()&&(e=e?Xn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function br(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function xr(){if(!u(this._isDSTShifted))return this._isDSTShifted;var e,t={};return x(t,this),(t=Gn(t))._a?(e=t._isUTC?d(t._a):Xn(t._a),this._isDSTShifted=this.isValid()&&lr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function wr(){return!!this.isValid()&&!this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC}function Er(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Mr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,kr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Tr(e,t){var n,r,i,o=e,a=null;return ar(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(a=Mr.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:ce(a[Ge])*n,h:ce(a[qe])*n,m:ce(a[Ye])*n,s:ce(a[Xe])*n,ms:ce(sr(1e3*a[Ze]))*n}):(a=kr.exec(e))?(n="-"===a[1]?-1:1,o={y:Ar(a[2],n),M:Ar(a[3],n),w:Ar(a[4],n),d:Ar(a[5],n),h:Ar(a[6],n),m:Ar(a[7],n),s:Ar(a[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=Pr(Xn(o.from),Xn(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new or(o),ar(e)&&s(e,"_locale")&&(r._locale=e._locale),ar(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Ar(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Cr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Pr(e,t){var n;return e.isValid()&&t.isValid()?(t=pr(t,e),e.isBefore(t)?n=Cr(e,t):((n=Cr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Or(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(A(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Rr(this,Tr(n,r),e),this}}function Rr(e,t,n,i){var o=t._milliseconds,a=sr(t._days),s=sr(t._months);e.isValid()&&(i=null==i||i,s&&ut(e,pe(e,"Month")+s*n),a&&fe(e,"Date",pe(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,a||s))}Tr.fn=or.prototype,Tr.invalid=ir;var Ir=Or(1,"add"),Lr=Or(-1,"subtract");function Dr(e){return"string"===typeof e||e instanceof String}function zr(e){return S(e)||h(e)||Dr(e)||c(e)||Br(e)||Nr(e)||null===e||void 0===e}function Nr(e){var t,n,r=a(e)&&!l(e),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<o.length;t+=1)n=o[t],i=i||s(e,n);return r&&i}function Br(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!c(t)&&Dr(e)})).length),t&&n}function Fr(e){var t,n,r=a(e)&&!l(e),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=o[t],i=i||s(e,n);return r&&i}function jr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ur(e,t){1===arguments.length&&(arguments[0]?zr(arguments[0])?(e=arguments[0],t=void 0):Fr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Xn(),i=pr(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=t&&(C(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,Xn(n)))}function Vr(){return new w(this)}function Hr(e,t){var n=S(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Wr(e,t){var n=S(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Gr(e,t,n,r){var i=S(e)?e:Xn(e),o=S(t)?t:Xn(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))}function qr(e,t){var n,r=S(e)?e:Xn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Yr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Xr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Zr(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=pr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":o=Kr(this,r)/12;break;case"month":o=Kr(this,r);break;case"quarter":o=Kr(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:ue(o)}function Kr(e,t){if(e.date()<t.date())return-Kr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Jr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Qr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?H(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(n,"Z")):H(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function $r(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+n+r)}function ei(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=H(this,e);return this.localeData().postformat(t)}function ti(e,t){return this.isValid()&&(S(e)&&e.isValid()||Xn(e).isValid())?Tr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ni(e){return this.from(Xn(),e)}function ri(e,t){return this.isValid()&&(S(e)&&e.isValid()||Xn(e).isValid())?Tr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ii(e){return this.to(Xn(),e)}function oi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=gn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ai=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function si(){return this._locale}var li=1e3,ui=60*li,ci=60*ui,hi=3506328*ci;function pi(e,t){return(e%t+t)%t}function fi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hi:new Date(e,t,n).valueOf()}function di(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hi:Date.UTC(e,t,n)}function mi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?di:fi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=pi(t+(this._isUTC?0:this.utcOffset()*ui),ci);break;case"minute":t=this._d.valueOf(),t-=pi(t,ui);break;case"second":t=this._d.valueOf(),t-=pi(t,li)}return this._d.setTime(t),r.updateOffset(this,!0),this}function vi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?di:fi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ci-pi(t+(this._isUTC?0:this.utcOffset()*ui),ci)-1;break;case"minute":t=this._d.valueOf(),t+=ui-pi(t,ui)-1;break;case"second":t=this._d.valueOf(),t+=li-pi(t,li)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function gi(){return this._d.valueOf()-6e4*(this._offset||0)}function yi(){return Math.floor(this.valueOf()/1e3)}function _i(){return new Date(this.valueOf())}function bi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function xi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function wi(){return this.isValid()?this.toISOString():null}function Si(){return g(this)}function Ei(){return f({},v(this))}function Mi(){return v(this).overflow}function ki(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ti(e,t){var n,i,o,a=this._eras||gn("en")._eras;for(n=0,i=a.length;n<i;++n)switch("string"===typeof a[n].since&&(o=r(a[n].since).startOf("day"),a[n].since=o.valueOf()),typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=r(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf()}return a}function Ai(e,t,n){var r,i,o,a,s,l=this.eras();for(e=e.toUpperCase(),r=0,i=l.length;r<i;++r)if(o=l[r].name.toUpperCase(),a=l[r].abbr.toUpperCase(),s=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return l[r];break;case"NNNN":if(o===e)return l[r];break;case"NNNNN":if(s===e)return l[r]}else if([o,a,s].indexOf(e)>=0)return l[r]}function Ci(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Pi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Oi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Ri(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Ii(){var e,t,n,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return(this.year()-r(o[e].since).year())*n+o[e].offset;return this.year()}function Li(e){return s(this,"_erasNameRegex")||Ui.call(this),e?this._erasNameRegex:this._erasRegex}function Di(e){return s(this,"_erasAbbrRegex")||Ui.call(this),e?this._erasAbbrRegex:this._erasRegex}function zi(e){return s(this,"_erasNarrowRegex")||Ui.call(this),e?this._erasNarrowRegex:this._erasRegex}function Ni(e,t){return t.erasAbbrRegex(e)}function Bi(e,t){return t.erasNameRegex(e)}function Fi(e,t){return t.erasNarrowRegex(e)}function ji(e,t){return t._eraYearOrdinalRegex||Ae}function Ui(){var e,t,n=[],r=[],i=[],o=[],a=this.eras();for(e=0,t=a.length;e<t;++e)r.push(Ne(a[e].name)),n.push(Ne(a[e].abbr)),i.push(Ne(a[e].narrow)),o.push(Ne(a[e].name)),o.push(Ne(a[e].abbr)),o.push(Ne(a[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function Vi(e,t){j(0,[e,e.length],0,t)}function Hi(e){return Zi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Wi(e){return Zi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Gi(){return St(this.year(),1,4)}function qi(){return St(this.isoWeekYear(),1,4)}function Yi(){var e=this.localeData()._week;return St(this.year(),e.dow,e.doy)}function Xi(){var e=this.localeData()._week;return St(this.weekYear(),e.dow,e.doy)}function Zi(e,t,n,r,i){var o;return null==e?wt(this,r,i).year:(t>(o=St(e,r,i))&&(t=o),Ki.call(this,e,t,n,r,i))}function Ki(e,t,n,r,i){var o=xt(e,t,n,r,i),a=_t(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Ji(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}j("N",0,0,"eraAbbr"),j("NN",0,0,"eraAbbr"),j("NNN",0,0,"eraAbbr"),j("NNNN",0,0,"eraName"),j("NNNNN",0,0,"eraNarrow"),j("y",["y",1],"yo","eraYear"),j("y",["yy",2],0,"eraYear"),j("y",["yyy",3],0,"eraYear"),j("y",["yyyy",4],0,"eraYear"),Le("N",Ni),Le("NN",Ni),Le("NNN",Ni),Le("NNNN",Bi),Le("NNNNN",Fi),Fe(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?v(n).era=i:v(n).invalidEra=e})),Le("y",Ae),Le("yy",Ae),Le("yyy",Ae),Le("yyyy",Ae),Le("yo",ji),Fe(["y","yy","yyy","yyyy"],He),Fe(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[He]=n._locale.eraYearOrdinalParse(e,i):t[He]=parseInt(e,10)})),j(0,["gg",2],0,(function(){return this.weekYear()%100})),j(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Vi("gggg","weekYear"),Vi("ggggg","weekYear"),Vi("GGGG","isoWeekYear"),Vi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),ae("weekYear",1),ae("isoWeekYear",1),Le("G",Ce),Le("g",Ce),Le("GG",we,ye),Le("gg",we,ye),Le("GGGG",ke,be),Le("gggg",ke,be),Le("GGGGG",Te,xe),Le("ggggg",Te,xe),je(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=ce(e)})),je(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),j("Q",0,"Qo","quarter"),ne("quarter","Q"),ae("quarter",7),Le("Q",ge),Fe("Q",(function(e,t){t[We]=3*(ce(e)-1)})),j("D",["DD",2],"Do","date"),ne("date","D"),ae("date",9),Le("D",we),Le("DD",we,ye),Le("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Fe(["D","DD"],Ge),Fe("Do",(function(e,t){t[Ge]=ce(e.match(we)[0])}));var Qi=he("Date",!0);function $i(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}j("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),ae("dayOfYear",4),Le("DDD",Me),Le("DDDD",_e),Fe(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=ce(e)})),j("m",["mm",2],0,"minute"),ne("minute","m"),ae("minute",14),Le("m",we),Le("mm",we,ye),Fe(["m","mm"],Ye);var eo=he("Minutes",!1);j("s",["ss",2],0,"second"),ne("second","s"),ae("second",15),Le("s",we),Le("ss",we,ye),Fe(["s","ss"],Xe);var to,no,ro=he("Seconds",!1);for(j("S",0,0,(function(){return~~(this.millisecond()/100)})),j(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),j(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),j(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),j(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),j(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),j(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),ae("millisecond",16),Le("S",Me,ge),Le("SS",Me,ye),Le("SSS",Me,_e),to="SSSS";to.length<=9;to+="S")Le(to,Ae);function io(e,t){t[Ze]=ce(1e3*("0."+e))}for(to="S";to.length<=9;to+="S")Fe(to,io);function oo(){return this._isUTC?"UTC":""}function ao(){return this._isUTC?"Coordinated Universal Time":""}no=he("Milliseconds",!1),j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");var so=w.prototype;function lo(e){return Xn(1e3*e)}function uo(){return Xn.apply(null,arguments).parseZone()}function co(e){return e}so.add=Ir,so.calendar=Ur,so.clone=Vr,so.diff=Zr,so.endOf=vi,so.format=ei,so.from=ti,so.fromNow=ni,so.to=ri,so.toNow=ii,so.get=de,so.invalidAt=Mi,so.isAfter=Hr,so.isBefore=Wr,so.isBetween=Gr,so.isSame=qr,so.isSameOrAfter=Yr,so.isSameOrBefore=Xr,so.isValid=Si,so.lang=ai,so.locale=oi,so.localeData=si,so.max=Kn,so.min=Zn,so.parsingFlags=Ei,so.set=me,so.startOf=mi,so.subtract=Lr,so.toArray=bi,so.toObject=xi,so.toDate=_i,so.toISOString=Qr,so.inspect=$r,"undefined"!==typeof Symbol&&null!=Symbol.for&&(so[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),so.toJSON=wi,so.toString=Jr,so.unix=yi,so.valueOf=gi,so.creationData=ki,so.eraName=Pi,so.eraNarrow=Oi,so.eraAbbr=Ri,so.eraYear=Ii,so.year=vt,so.isLeapYear=gt,so.weekYear=Hi,so.isoWeekYear=Wi,so.quarter=so.quarters=Ji,so.month=ct,so.daysInMonth=ht,so.week=so.weeks=At,so.isoWeek=so.isoWeeks=Ct,so.weeksInYear=Yi,so.weeksInWeekYear=Xi,so.isoWeeksInYear=Gi,so.isoWeeksInISOWeekYear=qi,so.date=Qi,so.day=so.days=Wt,so.weekday=Gt,so.isoWeekday=qt,so.dayOfYear=$i,so.hour=so.hours=rn,so.minute=so.minutes=eo,so.second=so.seconds=ro,so.millisecond=so.milliseconds=no,so.utcOffset=dr,so.utc=vr,so.local=gr,so.parseZone=yr,so.hasAlignedHourOffset=_r,so.isDST=br,so.isLocal=wr,so.isUtcOffset=Sr,so.isUtc=Er,so.isUTC=Er,so.zoneAbbr=oo,so.zoneName=ao,so.dates=M("dates accessor is deprecated. Use date instead.",Qi),so.months=M("months accessor is deprecated. Use month instead",ct),so.years=M("years accessor is deprecated. Use year instead",vt),so.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mr),so.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",xr);var ho=R.prototype;function po(e,t,n,r){var i=gn(),o=d().set(r,t);return i[n](o,e)}function fo(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return po(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=po(e,r,n,"month");return i}function mo(e,t,n,r){"boolean"===typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var i,o=gn(),a=e?o._week.dow:0,s=[];if(null!=n)return po(t,(n+a)%7,r,"day");for(i=0;i<7;i++)s[i]=po(t,(i+a)%7,r,"day");return s}function vo(e,t){return fo(e,t,"months")}function go(e,t){return fo(e,t,"monthsShort")}function yo(e,t,n){return mo(e,t,n,"weekdays")}function _o(e,t,n){return mo(e,t,n,"weekdaysShort")}function bo(e,t,n){return mo(e,t,n,"weekdaysMin")}ho.calendar=L,ho.longDateFormat=q,ho.invalidDate=X,ho.ordinal=J,ho.preparse=co,ho.postformat=co,ho.relativeTime=$,ho.pastFuture=ee,ho.set=P,ho.eras=Ti,ho.erasParse=Ai,ho.erasConvertYear=Ci,ho.erasAbbrRegex=Di,ho.erasNameRegex=Li,ho.erasNarrowRegex=zi,ho.months=ot,ho.monthsShort=at,ho.monthsParse=lt,ho.monthsRegex=ft,ho.monthsShortRegex=pt,ho.week=Et,ho.firstDayOfYear=Tt,ho.firstDayOfWeek=kt,ho.weekdays=Ft,ho.weekdaysMin=Ut,ho.weekdaysShort=jt,ho.weekdaysParse=Ht,ho.weekdaysRegex=Yt,ho.weekdaysShortRegex=Xt,ho.weekdaysMinRegex=Zt,ho.isPM=tn,ho.meridiem=on,dn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===ce(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=M("moment.lang is deprecated. Use moment.locale instead.",dn),r.langData=M("moment.langData is deprecated. Use moment.localeData instead.",gn);var xo=Math.abs;function wo(){var e=this._data;return this._milliseconds=xo(this._milliseconds),this._days=xo(this._days),this._months=xo(this._months),e.milliseconds=xo(e.milliseconds),e.seconds=xo(e.seconds),e.minutes=xo(e.minutes),e.hours=xo(e.hours),e.months=xo(e.months),e.years=xo(e.years),this}function So(e,t,n,r){var i=Tr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Eo(e,t){return So(this,e,t,1)}function Mo(e,t){return So(this,e,t,-1)}function ko(e){return e<0?Math.floor(e):Math.ceil(e)}function To(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*ko(Co(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=ue(o/1e3),l.seconds=e%60,t=ue(e/60),l.minutes=t%60,n=ue(t/60),l.hours=n%24,a+=ue(n/24),s+=i=ue(Ao(a)),a-=ko(Co(i)),r=ue(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function Ao(e){return 4800*e/146097}function Co(e){return 146097*e/4800}function Po(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ao(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Co(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Oo(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ce(this._months/12):NaN}function Ro(e){return function(){return this.as(e)}}var Io=Ro("ms"),Lo=Ro("s"),Do=Ro("m"),zo=Ro("h"),No=Ro("d"),Bo=Ro("w"),Fo=Ro("M"),jo=Ro("Q"),Uo=Ro("y");function Vo(){return Tr(this)}function Ho(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Wo(e){return function(){return this.isValid()?this._data[e]:NaN}}var Go=Wo("milliseconds"),qo=Wo("seconds"),Yo=Wo("minutes"),Xo=Wo("hours"),Zo=Wo("days"),Ko=Wo("months"),Jo=Wo("years");function Qo(){return ue(this.days()/7)}var $o=Math.round,ea={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ta(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function na(e,t,n,r){var i=Tr(e).abs(),o=$o(i.as("s")),a=$o(i.as("m")),s=$o(i.as("h")),l=$o(i.as("d")),u=$o(i.as("M")),c=$o(i.as("w")),h=$o(i.as("y")),p=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(p=p||c<=1&&["w"]||c<n.w&&["ww",c]),(p=p||u<=1&&["M"]||u<n.M&&["MM",u]||h<=1&&["y"]||["yy",h])[2]=t,p[3]=+e>0,p[4]=r,ta.apply(null,p)}function ra(e){return void 0===e?$o:"function"===typeof e&&($o=e,!0)}function ia(e,t){return void 0!==ea[e]&&(void 0===t?ea[e]:(ea[e]=t,"s"===e&&(ea.ss=t-1),!0))}function oa(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=ea;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(o=Object.assign({},ea,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),r=na(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var aa=Math.abs;function sa(e){return(e>0)-(e<0)||+e}function la(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,a,s,l=aa(this._milliseconds)/1e3,u=aa(this._days),c=aa(this._months),h=this.asSeconds();return h?(e=ue(l/60),t=ue(e/60),l%=60,e%=60,n=ue(c/12),c%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",o=sa(this._months)!==sa(h)?"-":"",a=sa(this._days)!==sa(h)?"-":"",s=sa(this._milliseconds)!==sa(h)?"-":"",i+"P"+(n?o+n+"Y":"")+(c?o+c+"M":"")+(u?a+u+"D":"")+(t||e||l?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(l?s+r+"S":"")):"P0D"}var ua=or.prototype;return ua.isValid=rr,ua.abs=wo,ua.add=Eo,ua.subtract=Mo,ua.as=Po,ua.asMilliseconds=Io,ua.asSeconds=Lo,ua.asMinutes=Do,ua.asHours=zo,ua.asDays=No,ua.asWeeks=Bo,ua.asMonths=Fo,ua.asQuarters=jo,ua.asYears=Uo,ua.valueOf=Oo,ua._bubble=To,ua.clone=Vo,ua.get=Ho,ua.milliseconds=Go,ua.seconds=qo,ua.minutes=Yo,ua.hours=Xo,ua.days=Zo,ua.weeks=Qo,ua.months=Ko,ua.years=Jo,ua.humanize=oa,ua.toISOString=la,ua.toString=la,ua.toJSON=la,ua.locale=oi,ua.localeData=si,ua.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",la),ua.lang=ai,j("X",0,0,"unix"),j("x",0,0,"valueOf"),Le("x",Ce),Le("X",Re),Fe("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Fe("x",(function(e,t,n){n._d=new Date(ce(e))})),r.version="2.29.1",i(Xn),r.fn=so,r.min=Qn,r.max=$n,r.now=er,r.utc=d,r.unix=lo,r.months=vo,r.isDate=h,r.locale=dn,r.invalid=y,r.duration=Tr,r.isMoment=S,r.weekdays=yo,r.parseZone=uo,r.localeData=gn,r.isDuration=ar,r.monthsShort=go,r.weekdaysMin=bo,r.defineLocale=mn,r.updateLocale=vn,r.locales=yn,r.weekdaysShort=_o,r.normalizeUnits=re,r.relativeTimeRounding=ra,r.relativeTimeThreshold=ia,r.calendarFormat=jr,r.prototype=so,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,l=i(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(l[c]=a[c]);if(t){s=t(a);for(var h=0;h<s.length;h++)r.call(a,s[h])&&(l[s[h]]=a[s[h]])}}return l}},8872:function(e){(function(){var t,n,r,i,o,a;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-o)/1e6},n=process.hrtime,i=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),a=1e9*process.uptime(),o=i-a):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5475:function(e,t,n){for(var r=n(8872),i="undefined"===typeof window?n.g:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],l=i["cancel"+a]||i["cancelRequest"+a],u=0;!s&&u<o.length;u++)s=i[o[u]+"Request"+a],l=i[o[u]+"Cancel"+a]||i[o[u]+"CancelRequest"+a];if(!s||!l){var c=0,h=0,p=[];s=function(e){if(0===p.length){var t=r(),n=Math.max(0,16.666666666666668-(t-c));c=n+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return p.push({handle:++h,callback:e,cancelled:!1}),h},l=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){l.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}},1052:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2791),a=h(o),s=h(n(2007)),l=h(n(4164)),u=h(n(6544)),c=h(n(2176));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={initiated:!1},e.onResize=e.onResize.bind(e),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"getDomNodeDimensions",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}}]),i(t,[{key:"componentDidMount",value:function(){this.parentNode=l.default.findDOMNode(this).parentNode,this.elementResizeDetector=(0,u.default)({strategy:"scroll",callOnAdd:!1}),this.elementResizeDetector.listenTo(this.parentNode,this.onResize),this.componentIsMounted=!0,this.onResize()}},{key:"componentWillUnmount",value:function(){this.componentIsMounted=!1,this.elementResizeDetector.uninstall(this.parentNode)}},{key:"onResize",value:function(){var e=t.getDomNodeDimensions(this.parentNode);this.componentIsMounted&&this.setState(r({initiated:!0},e))}},{key:"render",value:function(){if((0,c.default)(this.props.children,"Expected children to be one of function or React.Element"),!this.state.initiated)return a.default.createElement("div",null);if("function"===typeof this.props.children){var e=this.props.children(this.state);return e&&o.Children.only(e)}return o.Children.only(a.default.cloneElement(this.props.children,this.state))}}]),t}(o.Component);p.propTypes={children:s.default.oneOfType([s.default.element,s.default.func]).isRequired},t.Z=p},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),o=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,d={},m={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(d,e)&&(p.test(e)?m[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,_);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,_);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,_);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,S=60106,E=60107,M=60108,k=60114,T=60109,A=60110,C=60112,P=60113,O=60120,R=60115,I=60116,L=60121,D=60128,z=60129,N=60130,B=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;w=F("react.element"),S=F("react.portal"),E=F("react.fragment"),M=F("react.strict_mode"),k=F("react.profiler"),T=F("react.provider"),A=F("react.context"),C=F("react.forward_ref"),P=F("react.suspense"),O=F("react.suspense_list"),R=F("react.memo"),I=F("react.lazy"),L=F("react.block"),F("react.scope"),D=F("react.opaque.id"),z=F("react.debug_trace_mode"),N=F("react.offscreen"),B=F("react.legacy_hidden")}var j,U="function"===typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=U&&e[U]||e["@@iterator"])?e:null}function H(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var W=!1;function G(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?H(e):""}function q(e){switch(e.tag){case 5:return H(e.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 22:return e=G(e.type._render,!1);case 1:return e=G(e.type,!0);default:return""}}function Y(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case k:return"Profiler";case M:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return Y(e.type);case L:return Y(e._render);case I:t=e._payload,e=e._init;try{return Y(e(t))}catch(n){}}return null}function X(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=Z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=X(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=X(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,X(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+X(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:X(n)}}function ue(e,t){var n=X(t.value),r=X(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",pe="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ve,ge=(ve=function(e,t){if(e.namespaceURI!==pe||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _e={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function xe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||_e.hasOwnProperty(e)&&_e[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=xe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(_e).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_e[t]=_e[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Me(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ae=null,Ce=null;function Pe(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Te(e.stateNode,e.type,t))}}function Oe(e){Ae?Ce?Ce.push(e):Ce=[e]:Ae=e}function Re(){if(Ae){var e=Ae,t=Ce;if(Ce=Ae=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function Ie(e,t){return e(t)}function Le(e,t,n,r,i){return e(t,n,r,i)}function De(){}var ze=Ie,Ne=!1,Be=!1;function Fe(){null===Ae&&null===Ce||(De(),Re())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ue=!1;if(h)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ve){Ue=!1}function He(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var We=!1,Ge=null,qe=!1,Ye=null,Xe={onError:function(e){We=!0,Ge=e}};function Ze(e,t,n,r,i,o,a,s,l){We=!1,Ge=null,He.apply(Xe,arguments)}function Ke(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(Ke(e)!==e)throw Error(a(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qe(i),e;if(o===r)return Qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,lt=null,ut=null,ct=new Map,ht=new Map,pt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function vt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=dt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Ke(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function _t(e,t,n){yt(e)&&n.delete(t)}function bt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==lt&&yt(lt)&&(lt=null),null!==ut&&yt(ut)&&(ut=null),ct.forEach(_t),ht.forEach(_t)}function xt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function wt(e){function t(t){return xt(t,e)}if(0<at.length){xt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&xt(st,e),null!==lt&&xt(lt,e),null!==ut&&xt(ut,e),ct.forEach(t),ht.forEach(t),n=0;n<pt.length;n++)(r=pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<pt.length&&null===(n=pt[0]).blockedOn;)gt(n),null===n.blockedOn&&pt.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Mt={},kt={};function Tt(e){if(Mt[e])return Mt[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return Mt[e]=n[t];return e}h&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var At=Tt("animationend"),Ct=Tt("animationiteration"),Pt=Tt("animationstart"),Ot=Tt("transitionend"),Rt=new Map,It=new Map,Lt=["abort","abort",At,"animationEnd",Ct,"animationIteration",Pt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),It.set(r,t),Rt.set(r,i),u(i,[r])}}(0,o.unstable_now)();var zt=8;function Nt(e){if(0!==(1&e))return zt=15,1;if(0!==(2&e))return zt=14,2;if(0!==(4&e))return zt=13,4;var t=24&e;return 0!==t?(zt=12,t):0!==(32&e)?(zt=11,32):0!==(t=192&e)?(zt=10,t):0!==(256&e)?(zt=9,256):0!==(t=3584&e)?(zt=8,t):0!==(4096&e)?(zt=7,4096):0!==(t=4186112&e)?(zt=6,t):0!==(t=62914560&e)?(zt=5,t):67108864&e?(zt=4,67108864):0!==(134217728&e)?(zt=3,134217728):0!==(t=805306368&e)?(zt=2,t):0!==(1073741824&e)?(zt=1,1073741824):(zt=8,e)}function Bt(e,t){var n=e.pendingLanes;if(0===n)return zt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=zt=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(r=Nt(l),i=zt):0!==(s&=o)&&(r=Nt(s),i=zt)}else 0!==(o=n&~a)?(r=Nt(o),i=zt):0!==s&&(r=Nt(s),i=zt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Nt(t),i<=zt)return t;zt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?jt(10,t):e;case 10:return 0===(e=Ut(192&~t))?jt(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&(0===(e=Ut(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Ut(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ht(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Gt(e)/qt|0)|0},Gt=Math.log,qt=Math.LN2;var Yt=o.unstable_UserBlockingPriority,Xt=o.unstable_runWithPriority,Zt=!0;function Kt(e,t,n,r){Ne||De();var i=Qt,o=Ne;Ne=!0;try{Le(i,e,t,n,r)}finally{(Ne=o)||Fe()}}function Jt(e,t,n,r){Xt(Yt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){var i;if(Zt)if((i=0===(4&t))&&0<at.length&&-1<ft.indexOf(e))e=dt(null,e,t,n,r),at.push(e);else{var o=$t(e,t,n,r);if(null===o)i&&mt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=dt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=vt(st,e,t,n,r,i),!0;case"dragenter":return lt=vt(lt,e,t,n,r,i),!0;case"mouseover":return ut=vt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,vt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ht.set(o,vt(ht.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;mt(e,r)}Dr(e,t,r,null,n)}}}function $t(e,t,n,r){var i=ke(r);if(null!==(i=ni(i))){var o=Ke(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Je(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function ln(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var un,cn,hn,pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=ln(pn),dn=i({},pn,{view:0,detail:0}),mn=ln(dn),vn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(un=e.screenX-hn.screenX,cn=e.screenY-hn.screenY):cn=un=0,hn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=ln(vn),yn=ln(i({},vn,{dataTransfer:0})),_n=ln(i({},dn,{relatedTarget:0})),bn=ln(i({},pn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=i({},pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=ln(xn),Sn=ln(i({},pn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function An(){return Tn}var Cn=i({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=ln(Cn),On=ln(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=ln(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),In=ln(i({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=ln(Ln),zn=[9,13,27,32],Nn=h&&"CompositionEvent"in window,Bn=null;h&&"documentMode"in document&&(Bn=document.documentMode);var Fn=h&&"TextEvent"in window&&!Bn,jn=h&&(!Nn||Bn&&8<Bn&&11>=Bn),Un=String.fromCharCode(32),Vn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==zn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Xn(e,t,n,r){Oe(r),0<(t=Nr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zn=null,Kn=null;function Jn(e){Cr(e,0)}function Qn(e){if(J(ii(e)))return e}function $n(e,t){if("change"===e)return t}var er=!1;if(h){var tr;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Zn&&(Zn.detachEvent("onpropertychange",or),Kn=Zn=null)}function or(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];if(Xn(t,Kn,e,ke(e)),e=Jn,Ne)e(t);else{Ne=!0;try{Ie(e,t)}finally{Ne=!1,Fe()}}}}function ar(e,t,n){"focusin"===e?(ir(),Kn=n,(Zn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function lr(e,t){if("click"===e)return Qn(t)}function ur(e,t){if("input"===e||"change"===e)return Qn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},hr=Object.prototype.hasOwnProperty;function pr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=h&&"documentMode"in document&&11>=document.documentMode,_r=null,br=null,xr=null,wr=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==_r||_r!==Q(r)||("selectionStart"in(r=_r)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&pr(xr,r)||(xr=r,0<(r=Nr(br,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_r)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Lt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Mr=0;Mr<Er.length;Mr++)It.set(Er[Mr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Ar(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if(Ze.apply(this,arguments),We){if(!We)throw Error(a(198));var c=Ge;We=!1,Ge=null,qe||(qe=!0,Ye=c)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Ar(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Ar(i,s,u),o=l}}}if(qe)throw e=Ye,qe=!1,Ye=null,e}function Pr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Lr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Or]||(e[Or]=!0,s.forEach((function(t){Tr.has(t)||Ir(t,!1,e,null),Ir(t,!0,e,null)})))}function Ir(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Lr(o,e,i,t),a.add(s))}function Lr(e,t,n,r){var i=It.get(t);switch(void 0===i?2:i){case 0:i=Kt;break;case 1:i=Jt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Be)return e(t,n);Be=!0;try{ze(e,t,n)}finally{Be=!1,Fe()}}((function(){var r=o,i=ke(n),a=[];e:{var s=Rt.get(e);if(void 0!==s){var l=fn,u=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":u="focus",l=_n;break;case"focusout":u="blur",l=_n;break;case"beforeblur":case"afterblur":l=_n;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case At:case Ct:case Pt:l=bn;break;case Ot:l=In;break;case"scroll":l=mn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var c=0!==(4&t),h=!c&&"scroll"===e,p=c?null!==s?s+"Capture":null:s;c=[];for(var f,d=r;null!==d;){var m=(f=d).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=je(d,p))&&c.push(zr(d,m,f)))),h)break;d=d.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=n.relatedTarget||n.fromElement)||!ni(u)&&!u[ei])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ni(u):null)&&(u!==(h=Ke(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=gn,m="onMouseLeave",p="onMouseEnter",d="mouse","pointerout"!==e&&"pointerover"!==e||(c=On,m="onPointerLeave",p="onPointerEnter",d="pointer"),h=null==l?s:ii(l),f=null==u?s:ii(u),(s=new c(m,d+"leave",l,n,i)).target=h,s.relatedTarget=f,m=null,ni(i)===r&&((c=new c(p,d+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(p=u,d=0,f=c=l;f;f=Br(f))d++;for(f=0,m=p;m;m=Br(m))f++;for(;0<d-f;)c=Br(c),d--;for(;0<f-d;)p=Br(p),f--;for(;d--;){if(c===p||null!==p&&c===p.alternate)break e;c=Br(c),p=Br(p)}c=null}else c=null;null!==l&&Fr(a,s,l,c,!1),null!==u&&null!==h&&Fr(a,h,u,c,!0)}if("select"===(l=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=$n;else if(Yn(s))if(er)v=ur;else{v=sr;var g=ar}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=lr);switch(v&&(v=v(e,r))?Xn(a,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(Yn(g)||"true"===g.contentEditable)&&(_r=g,br=r,xr=null);break;case"focusout":xr=br=_r=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Sr(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Sr(a,n,i)}var y;if(Nn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Gn?Hn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(jn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Gn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Gn=!0)),0<(g=Nr(r,_)).length&&(_=new Sn(_,e,null,n,i),a.push({event:_,listeners:g}),y?_.data=y:null!==(y=Wn(n))&&(_.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!Nn&&Hn(e,t)?(e=rn(),nn=tn=en=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Nr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Cr(a,t)}))}function zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=je(e,n))&&r.unshift(zr(e,o,i)),null!=(o=je(e,t))&&r.push(zr(e,o,i))),e=e.return}return r}function Br(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=je(n,o))&&a.unshift(zr(n,l,s)):i||null!=(l=je(n,o))&&a.push(zr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function jr(){}var Ur=null,Vr=null;function Hr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Gr="function"===typeof setTimeout?setTimeout:void 0,qr="function"===typeof clearTimeout?clearTimeout:void 0;function Yr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Xr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Zr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Kr=0;var Jr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Jr,$r="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Zr(e);null!==e;){if(n=e[Qr])return n;e=Zr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Qr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[$r]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],li=-1;function ui(e){return{current:e}}function ci(e){0>li||(e.current=si[li],si[li]=null,li--)}function hi(e,t){li++,si[li]=e.current,e.current=t}var pi={},fi=ui(pi),di=ui(!1),mi=pi;function vi(e,t){var n=e.type.contextTypes;if(!n)return pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){ci(di),ci(fi)}function _i(e,t,n){if(fi.current!==pi)throw Error(a(168));hi(fi,t),hi(di,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,Y(t)||"Unknown",o));return i({},n,r)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pi,mi=fi.current,hi(fi,e),hi(di,di.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=bi(e,t,mi),r.__reactInternalMemoizedMergedChildContext=e,ci(di),ci(fi),hi(fi,e)):ci(di),hi(di,n)}var Si=null,Ei=null,Mi=o.unstable_runWithPriority,ki=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,Ai=o.unstable_shouldYield,Ci=o.unstable_requestPaint,Pi=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Ri=o.unstable_ImmediatePriority,Ii=o.unstable_UserBlockingPriority,Li=o.unstable_NormalPriority,Di=o.unstable_LowPriority,zi=o.unstable_IdlePriority,Ni={},Bi=void 0!==Ci?Ci:function(){},Fi=null,ji=null,Ui=!1,Vi=Pi(),Hi=1e4>Vi?Pi:function(){return Pi()-Vi};function Wi(){switch(Oi()){case Ri:return 99;case Ii:return 98;case Li:return 97;case Di:return 96;case zi:return 95;default:throw Error(a(332))}}function Gi(e){switch(e){case 99:return Ri;case 98:return Ii;case 97:return Li;case 96:return Di;case 95:return zi;default:throw Error(a(332))}}function qi(e,t){return e=Gi(e),Mi(e,t)}function Yi(e,t,n){return e=Gi(e),ki(e,t,n)}function Xi(){if(null!==ji){var e=ji;ji=null,Ti(e)}Zi()}function Zi(){if(!Ui&&null!==Fi){Ui=!0;var e=0;try{var t=Fi;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),ki(Ri,Xi),n}finally{Ui=!1}}}var Ki=x.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Qi=ui(null),$i=null,eo=null,to=null;function no(){to=eo=$i=null}function ro(e){var t=Qi.current;ci(Qi),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){$i=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Na=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===$i)throw Error(a(308));eo=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ho(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function po(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fo(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?a=c:s.next=c,s=u;var h=e.alternate;if(null!==h){var p=(h=h.updateQueue).lastBaseUpdate;p!==s&&(null===p?h.firstBaseUpdate=c:p.next=c,h.lastBaseUpdate=u)}}if(null!==a){for(p=o.baseState,s=0,h=c=u=null;;){l=a.lane;var f=a.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var d=e,m=a;switch(l=t,f=n,m.tag){case 1:if("function"===typeof(d=m.payload)){p=d.call(f,p,l);break e}p=d;break e;case 3:d.flags=-4097&d.flags|64;case 0:if(null===(l="function"===typeof(d=m.payload)?d.call(f,p,l):d)||void 0===l)break e;p=i({},p,l);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else f={eventTime:f,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(c=h=f,u=p):h=h.next=f,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===h&&(u=p),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=h,Us|=s,e.lanes=s,e.memoizedState=p}}function mo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var vo=(new r.Component).refs;function go(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&Ke(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pl(),i=fl(e),o=co(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ho(e,o),dl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pl(),i=fl(e),o=co(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ho(e,o),dl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pl(),r=fl(e),i=co(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ho(e,i),dl(e,r,n)}};function _o(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!pr(n,r)||!pr(i,o))}function bo(e,t,n){var r=!1,i=pi,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=gi(t)?mi:fi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):pi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function xo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=vo,lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=gi(t)?mi:fi.current,i.context=vi(e,o)),fo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),fo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function Eo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===vo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Mo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ko(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ql(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Eo(e,t,n),r.return=e,r):((r=Yl(n.type,n.key,n.props,null,e.mode,r)).ref=Eo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Xl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Kl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Yl(t.type,t.key,t.props,null,e.mode,n)).ref=Eo(e,null,t),n.return=e,n;case S:return(t=Jl(t,e.mode,n)).return=e,t}if(So(t)||V(t))return(t=Xl(t,e.mode,n,null)).return=e,t;Mo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===E?h(e,t,n.props.children,r,i):u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null}if(So(n)||V(n))return null!==i?null:h(e,t,n,r,null);Mo(e,n)}return null}function d(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===E?h(t,e,r.props.children,i,r.key):u(t,e,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||V(r))return h(t,e=e.get(n)||null,r,i,null);Mo(t,r)}return null}function m(i,a,s,l){for(var u=null,c=null,h=a,m=a=0,v=null;null!==h&&m<s.length;m++){h.index>m?(v=h,h=null):v=h.sibling;var g=f(i,h,s[m],l);if(null===g){null===h&&(h=v);break}e&&h&&null===g.alternate&&t(i,h),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g,h=v}if(m===s.length)return n(i,h),u;if(null===h){for(;m<s.length;m++)null!==(h=p(i,s[m],l))&&(a=o(h,a,m),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);m<s.length;m++)null!==(v=d(h,i,m,s[m],l))&&(e&&null!==v.alternate&&h.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v);return e&&h.forEach((function(e){return t(i,e)})),u}function v(i,s,l,u){var c=V(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,m=s,v=s=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var _=f(i,m,y.value,u);if(null===_){null===m&&(m=g);break}e&&m&&null===_.alternate&&t(i,m),s=o(_,s,v),null===h?c=_:h.sibling=_,h=_,m=g}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=p(i,y.value,u))&&(s=o(y,s,v),null===h?c=y:h.sibling=y,h=y);return c}for(m=r(i,m);!y.done;v++,y=l.next())null!==(y=d(m,i,v,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,o,l){var u="object"===typeof o&&null!==o&&o.type===E&&null===o.key;u&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case w:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(o.type===E){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}}else if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=Eo(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===E?((r=Xl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Yl(o.type,o.key,o.props,null,e.mode,l)).ref=Eo(e,r,o),l.return=e,e=l)}return s(e);case S:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Jl(o,e.mode,l)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Kl(o,e.mode,l)).return=e,e=r),s(e);if(So(o))return m(e,r,o,l);if(V(o))return v(e,r,o,l);if(c&&Mo(e,o),"undefined"===typeof o&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,Y(e.type)||"Component"))}return n(e,r)}}var To=ko(!0),Ao=ko(!1),Co={},Po=ui(Co),Oo=ui(Co),Ro=ui(Co);function Io(e){if(e===Co)throw Error(a(174));return e}function Lo(e,t){switch(hi(Ro,t),hi(Oo,e),hi(Po,Co),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Po),hi(Po,t)}function Do(){ci(Po),ci(Oo),ci(Ro)}function zo(e){Io(Ro.current);var t=Io(Po.current),n=de(t,e.type);t!==n&&(hi(Oo,e),hi(Po,n))}function No(e){Oo.current===e&&(ci(Po),ci(Oo))}var Bo=ui(0);function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jo=null,Uo=null,Vo=!1;function Ho(e,t){var n=Wl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Wo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Go(e){if(Vo){var t=Uo;if(t){var n=t;if(!Wo(e,t)){if(!(t=Xr(n.nextSibling))||!Wo(e,t))return e.flags=-1025&e.flags|2,Vo=!1,void(jo=e);Ho(jo,n)}jo=e,Uo=Xr(t.firstChild)}else e.flags=-1025&e.flags|2,Vo=!1,jo=e}}function qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;jo=e}function Yo(e){if(e!==jo)return!1;if(!Vo)return qo(e),Vo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Uo;t;)Ho(e,t),t=Xr(t.nextSibling);if(qo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Uo=Xr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Uo=null}}else Uo=jo?Xr(e.stateNode.nextSibling):null;return!0}function Xo(){Uo=jo=null,Vo=!1}var Zo=[];function Ko(){for(var e=0;e<Zo.length;e++)Zo[e]._workInProgressVersionPrimary=null;Zo.length=0}var Jo=x.ReactCurrentDispatcher,Qo=x.ReactCurrentBatchConfig,$o=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if($o=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jo.current=null===e||null===e.memoizedState?Ia:La,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Jo.current=Da,e=n(r,i)}while(ia)}if(Jo.current=Ra,t=null!==ta&&null!==ta.next,$o=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function la(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ua(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function ca(e,t){return"function"===typeof t?t(e):t}function ha(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,u=i;do{var c=u.lane;if(($o&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=h,o=r):l=l.next=h,ea.lanes|=c,Us|=c}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=s,cr(r,t.memoizedState)||(Na=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function pa(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);cr(o,t.memoizedState)||(Na=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function fa(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($o&e)===e)&&(t._workInProgressVersionPrimary=r,Zo.push(t))),e)return n(t._source);throw Zo.push(t),Error(a(350))}function da(e,t,n,r){var i=Is;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),l=Jo.current,u=l.useState((function(){return fa(i,t,n)})),c=u[1],h=u[0];u=na;var p=e.memoizedState,f=p.refs,d=f.getSnapshot,m=p.source;p=p.subscribe;var v=ea;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=o(t._source);if(!cr(s,e)){e=n(t._source),cr(h,e)||(c(e),e=fl(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-Wt(a),u=1<<l;r[l]|=e,a&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=fl(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),cr(d,n)&&cr(m,t)&&cr(p,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:h}).dispatch=c=Oa.bind(null,ea,e),u.queue=e,u.baseQueue=null,h=fa(i,t,n),u.memoizedState=u.baseState=h),h}function ma(e,t,n){return da(ua(),e,t,n)}function va(e){var t=la();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=Oa.bind(null,ea,e),[t.memoizedState,e]}function ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ya(e){return e={current:e},la().memoizedState=e}function _a(){return ua().memoizedState}function ba(e,t,n,r){var i=la();ea.flags|=e,i.memoizedState=ga(1|t,n,void 0,void 0===r?null:r)}function xa(e,t,n,r){var i=ua();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ga(t,n,o,r)}ea.flags|=e,i.memoizedState=ga(1|t,n,o,r)}function wa(e,t){return ba(516,4,e,t)}function Sa(e,t){return xa(516,4,e,t)}function Ea(e,t){return xa(4,2,e,t)}function Ma(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xa(4,2,Ma.bind(null,t,e),n)}function Ta(){}function Aa(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ca(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Pa(e,t){var n=Wi();qi(98>n?98:n,(function(){e(!0)})),qi(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{e(!1),t()}finally{Qo.transition=n}}))}function Oa(e,t,n){var r=pl(),i=fl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,cr(l,s))return}catch(u){}dl(e,i,r)}}var Ra={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Ia={readContext:ao,useCallback:function(e,t){return la().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:wa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ba(4,2,Ma.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ba(4,2,e,t)},useMemo:function(e,t){var n=la();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=la();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oa.bind(null,ea,e),[r.memoizedState,e]},useRef:ya,useState:va,useDebugValue:Ta,useDeferredValue:function(e){var t=va(e),n=t[0],r=t[1];return wa((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=va(!1),t=e[0];return ya(e=Pa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=la();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},da(r,e,t,n)},useOpaqueIdentifier:function(){if(Vo){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Kr++).toString(36))),Error(a(355))})),n=va(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ga(5,(function(){n("r:"+(Kr++).toString(36))}),void 0,null)),t}return va(t="r:"+(Kr++).toString(36)),t},unstable_isNewReconciler:!1},La={readContext:ao,useCallback:Aa,useContext:ao,useEffect:Sa,useImperativeHandle:ka,useLayoutEffect:Ea,useMemo:Ca,useReducer:ha,useRef:_a,useState:function(){return ha(ca)},useDebugValue:Ta,useDeferredValue:function(e){var t=ha(ca),n=t[0],r=t[1];return Sa((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=ha(ca)[0];return[_a().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return ha(ca)[0]},unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:Aa,useContext:ao,useEffect:Sa,useImperativeHandle:ka,useLayoutEffect:Ea,useMemo:Ca,useReducer:pa,useRef:_a,useState:function(){return pa(ca)},useDebugValue:Ta,useDeferredValue:function(e){var t=pa(ca),n=t[0],r=t[1];return Sa((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=pa(ca)[0];return[_a().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return pa(ca)[0]},unstable_isNewReconciler:!1},za=x.ReactCurrentOwner,Na=!1;function Ba(e,t,n,r){t.child=null===e?Ao(t,null,n,r):To(t,e.child,n,r)}function Fa(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||Na?(t.flags|=1,Ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function ja(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Gl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Yl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ua(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:pr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=ql(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ua(e,t,n,r,i,o){if(null!==e&&pr(e.memoizedProps,r)&&e.ref===t.ref){if(Na=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Na=!0)}return Wa(e,t,n,r,o)}function Va(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},wl(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},wl(t,e),null;t.memoizedState={baseLanes:0},wl(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,wl(t,r);return Ba(e,t,i,n),t.child}function Ha(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wa(e,t,n,r,i){var o=gi(n)?mi:fi.current;return o=vi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||Na?(t.flags|=1,Ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ga(e,t,n,r,i){if(gi(n)){var o=!0;xi(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bo(t,n,r),wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=ao(u):u=vi(t,u=gi(n)?mi:fi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&xo(t,a,r,u),so=!1;var p=t.memoizedState;a.state=p,fo(t,r,a,i),l=t.memoizedState,s!==r||p!==l||di.current||so?("function"===typeof c&&(go(t,n,c,r),l=t.memoizedState),(s=so||_o(t,n,s,r,p,l,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,uo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Ji(t.type,s),a.props=u,h=t.pendingProps,p=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ao(l):l=vi(t,l=gi(n)?mi:fi.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||p!==l)&&xo(t,a,r,l),so=!1,p=t.memoizedState,a.state=p,fo(t,r,a,i);var d=t.memoizedState;s!==h||p!==d||di.current||so?("function"===typeof f&&(go(t,n,f,r),d=t.memoizedState),(u=so||_o(t,n,u,r,p,d,l))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),r=!1)}return qa(e,t,n,r,o,i)}function qa(e,t,n,r,i,o){Ha(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&wi(t,n,!1),os(e,t,o);r=t.stateNode,za.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=To(t,e.child,null,o),t.child=To(t,null,s,o)):Ba(e,t,s,o),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Ya(e){var t=e.stateNode;t.pendingContext?_i(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_i(0,t.context,!1),Lo(e,t.containerInfo)}var Xa,Za,Ka,Ja={dehydrated:null,retryLane:0};function Qa(e,t,n){var r,i=t.pendingProps,o=Bo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),hi(Bo,1&o),null===e?(void 0!==i.fallback&&Go(t),e=i.children,o=i.fallback,a?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ja,e):"number"===typeof i.unstable_expectedLoadTime?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ja,t.lanes=33554432,e):((n=Zl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ja,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function $a(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Zl(t,i,0,null),n=Xl(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=ql(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=ql(a,s),null!==e?r=ql(e,r):(r=Xl(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ba(e,t,r.children,n),0!==(2&(r=Bo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(Bo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Us|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=ql(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ql(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Vo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Do(),ci(di),ci(fi),Ko(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Yo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:No(t);var o=Io(Ro.current);if(n=t.type,null!==e&&null!=t.stateNode)Za(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Io(Po.current),Yo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qr]=t,r[$r]=s,n){case"dialog":Pr("cancel",r),Pr("close",r);break;case"iframe":case"object":case"embed":Pr("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)Pr(kr[e],r);break;case"source":Pr("error",r);break;case"img":case"image":case"link":Pr("error",r),Pr("load",r);break;case"details":Pr("toggle",r);break;case"input":ee(r,s),Pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pr("invalid",r);break;case"textarea":le(r,s),Pr("invalid",r)}for(var u in Ee(n,s),e=null,s)s.hasOwnProperty(u)&&(o=s[u],"children"===u?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Pr("scroll",r));switch(n){case"input":K(r),re(r,s,!0);break;case"textarea":K(r),ce(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,e===he&&(e=fe(n)),e===he?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Qr]=t,e[$r]=r,Xa(e,t),t.stateNode=e,u=Me(n,r),n){case"dialog":Pr("cancel",e),Pr("close",e),o=r;break;case"iframe":case"object":case"embed":Pr("load",e),o=r;break;case"video":case"audio":for(o=0;o<kr.length;o++)Pr(kr[o],e);o=r;break;case"source":Pr("error",e),o=r;break;case"img":case"image":case"link":Pr("error",e),Pr("load",e),o=r;break;case"details":Pr("toggle",e),o=r;break;case"input":ee(e,r),o=$(e,r),Pr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Pr("invalid",e);break;case"textarea":le(e,r),o=se(e,r),Pr("invalid",e);break;default:o=r}Ee(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?we(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&ye(e,h):"number"===typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Pr("scroll",e):null!=h&&b(e,s,h,u))}switch(n){case"input":K(e),re(e,r,!1);break;case"textarea":K(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+X(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=jr)}Hr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ka(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Io(Ro.current),Io(Po.current),Yo(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return ci(Bo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Yo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Bo.current)?0===Bs&&(Bs=3):(0!==Bs&&3!==Bs||(Bs=4),null===Is||0===(134217727&Us)&&0===(134217727&Vs)||yl(Is,Ds))),(r||n)&&(t.flags|=4),null);case 4:return Do(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(ci(Bo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(u=r.rendering))if(s)as(r,!1);else{if(0!==Bs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Fo(e))){for(t.flags|=64,as(r,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hi(Bo,1&Bo.current|2),t.child}e=e.sibling}null!==r.tail&&Hi()>qs&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fo(u))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Vo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Hi()-r.renderingStartTime>qs&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Hi(),n.sibling=null,t=Bo.current,hi(Bo,s?1&t|2:1&t),n):null;case 23:case 24:return Sl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ls(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),ci(di),ci(fi),Ko(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return No(e),null;case 13:return ci(Bo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Bo),null;case 4:return Do(),null;case 10:return ro(e),null;case 23:case 24:return Sl(),null;default:return null}}function us(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function cs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Xa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Za=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Io(Po.current);var a,s=null;switch(n){case"input":o=$(e,o),r=$(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=jr)}for(h in Ee(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var u=o[h];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(u=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(null!=c||null!=u))if("style"===h)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(h,c)):"children"===h?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Pr("scroll",e),s||u===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===D?c.toString():(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Ka=function(e,t,n,r){n!==r&&(t.flags|=4)};var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Js=r),cs(0,t)},n}function fs(e,t,n){(n=co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return cs(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Qs?Qs=new Set([this]):Qs.add(this),cs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ds="function"===typeof WeakSet?WeakSet:Set;function ms(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){jl(e,n)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Yr(t.stateNode.containerInfo))}throw Error(a(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Nl(n,e),zl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&mo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}mo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Hr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=xe("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function _s(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(Si,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Nl(t,n);else{r=t;try{i()}catch(o){jl(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ms(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){jl(t,o)}break;case 5:ms(t);break;case 4:Ms(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function xs(e){return 5===e.tag||3===e.tag||4===e.tag}function ws(e){e:{for(var t=e.return;null!==t;){if(xs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||xs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ss(e,n,t):Es(e,n,t)}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ms(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,u=l;;)if(_s(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(_s(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ks(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Me(e,i),t=Me(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?we(n,l):"dangerouslySetInnerHTML"===s?ge(n,l):"children"===s?ye(n,l):b(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Gs=Hi(),ys(t.child,!0)),void Ts(t);case 19:return void Ts(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ds),t.forEach((function(t){var r=Vl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function As(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Cs=Math.ceil,Ps=x.ReactCurrentDispatcher,Os=x.ReactCurrentOwner,Rs=0,Is=null,Ls=null,Ds=0,zs=0,Ns=ui(0),Bs=0,Fs=null,js=0,Us=0,Vs=0,Hs=0,Ws=null,Gs=0,qs=1/0;function Ys(){qs=Hi()+500}var Xs,Zs=null,Ks=!1,Js=null,Qs=null,$s=!1,el=null,tl=90,nl=[],rl=[],il=null,ol=0,al=null,sl=-1,ll=0,ul=0,cl=null,hl=!1;function pl(){return 0!==(48&Rs)?Hi():-1!==sl?sl:sl=Hi()}function fl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===ll&&(ll=js),0!==Ki.transition){0!==ul&&(ul=null!==Ws?Ws.pendingLanes:0),e=ll;var t=4186112&~ul;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Rs)&&98===e?e=jt(12,ll):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ll),e}function dl(e,t,n){if(50<ol)throw ol=0,al=null,Error(a(185));if(null===(e=ml(e,t)))return null;Ht(e,t,n),e===Is&&(Vs|=t,4===Bs&&yl(e,Ds));var r=Wi();1===t?0!==(8&Rs)&&0===(48&Rs)?_l(e):(vl(e,n),0===Rs&&(Ys(),Xi())):(0===(4&Rs)||98!==r&&99!==r||(null===il?il=new Set([e]):il.add(e)),vl(e,n)),Ws=e}function ml(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Wt(s),u=1<<l,c=o[l];if(-1===c){if(0===(u&r)||0!==(u&i)){c=t,Nt(u);var h=zt;o[l]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);s&=~u}if(r=Bt(e,e===Is?Ds:0),t=zt,0===r)null!==n&&(n!==Ni&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ni&&Ti(n)}15===t?(n=_l.bind(null,e),null===Fi?(Fi=[n],ji=ki(Ri,Zi)):Fi.push(n),n=Ni):14===t?n=Yi(99,_l.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Yi(n,gl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gl(e){if(sl=-1,ul=ll=0,0!==(48&Rs))throw Error(a(327));var t=e.callbackNode;if(Dl()&&e.callbackNode!==t)return null;var n=Bt(e,e===Is?Ds:0);if(0===n)return null;var r=n,i=Rs;Rs|=16;var o=kl();for(Is===e&&Ds===r||(Ys(),El(e,r));;)try{Cl();break}catch(l){Ml(e,l)}if(no(),Ps.current=o,Rs=i,null!==Ls?r=0:(Is=null,Ds=0,r=Bs),0!==(js&Vs))El(e,0);else if(0!==r){if(2===r&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Yr(e.containerInfo)),0!==(n=Ft(e))&&(r=Tl(e,n))),1===r)throw t=Fs,El(e,0),yl(e,n),vl(e,Hi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Rl(e);break;case 3:if(yl(e,n),(62914560&n)===n&&10<(r=Gs+500-Hi())){if(0!==Bt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){pl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gr(Rl.bind(null,e),r);break}Rl(e);break;case 4:if(yl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Hi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cs(n/1960))-n)){e.timeoutHandle=Gr(Rl.bind(null,e),n);break}Rl(e);break;default:throw Error(a(329))}}return vl(e,Hi()),e.callbackNode===t?gl.bind(null,e):null}function yl(e,t){for(t&=~Hs,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function _l(e){if(0!==(48&Rs))throw Error(a(327));if(Dl(),e===Is&&0!==(e.expiredLanes&Ds)){var t=Ds,n=Tl(e,t);0!==(js&Vs)&&(n=Tl(e,t=Bt(e,t)))}else n=Tl(e,t=Bt(e,0));if(0!==e.tag&&2===n&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Yr(e.containerInfo)),0!==(t=Ft(e))&&(n=Tl(e,t))),1===n)throw n=Fs,El(e,0),yl(e,t),vl(e,Hi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rl(e),vl(e,Hi()),null}function bl(e,t){var n=Rs;Rs|=1;try{return e(t)}finally{0===(Rs=n)&&(Ys(),Xi())}}function xl(e,t){var n=Rs;Rs&=-2,Rs|=8;try{return e(t)}finally{0===(Rs=n)&&(Ys(),Xi())}}function wl(e,t){hi(Ns,zs),zs|=t,js|=t}function Sl(){zs=Ns.current,ci(Ns)}function El(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,qr(n)),null!==Ls)for(n=Ls.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Do(),ci(di),ci(fi),Ko();break;case 5:No(r);break;case 4:Do();break;case 13:case 19:ci(Bo);break;case 10:ro(r);break;case 23:case 24:Sl()}n=n.return}Is=e,Ls=ql(e.current,null),Ds=zs=js=t,Bs=0,Fs=null,Hs=Vs=Us=0}function Ml(e,t){for(;;){var n=Ls;try{if(no(),Jo.current=Ra,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if($o=0,na=ta=ea=null,ia=!1,Os.current=null,null===n||null===n.return){Bs=1,Fs=t,Ls=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&Bo.current),p=a;do{var f;if(f=13===p.tag){var d=p.memoizedState;if(null!==d)f=null!==d.dehydrated;else{var m=p.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(f){var v=p.updateQueue;if(null===v){var g=new Set;g.add(u),p.updateQueue=g}else v.add(u);if(0===(2&p.mode)){if(p.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=co(-1,1);y.tag=2,ho(s,y)}s.lanes|=1;break e}l=void 0,s=t;var _=o.pingCache;if(null===_?(_=o.pingCache=new hs,l=new Set,_.set(u,l)):void 0===(l=_.get(u))&&(l=new Set,_.set(u,l)),!l.has(s)){l.add(s);var b=Ul.bind(null,o,u,s);u.then(b,b)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);l=Error((Y(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Bs&&(Bs=2),l=us(l,s),p=a;do{switch(p.tag){case 3:o=l,p.flags|=4096,t&=-t,p.lanes|=t,po(p,ps(0,o,t));break e;case 1:o=l;var x=p.type,w=p.stateNode;if(0===(64&p.flags)&&("function"===typeof x.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Qs||!Qs.has(w)))){p.flags|=4096,t&=-t,p.lanes|=t,po(p,fs(p,o,t));break e}}p=p.return}while(null!==p)}Ol(n)}catch(S){t=S,Ls===n&&null!==n&&(Ls=n=n.return);continue}break}}function kl(){var e=Ps.current;return Ps.current=Ra,null===e?Ra:e}function Tl(e,t){var n=Rs;Rs|=16;var r=kl();for(Is===e&&Ds===t||El(e,t);;)try{Al();break}catch(i){Ml(e,i)}if(no(),Rs=n,Ps.current=r,null!==Ls)throw Error(a(261));return Is=null,Ds=0,Bs}function Al(){for(;null!==Ls;)Pl(Ls)}function Cl(){for(;null!==Ls&&!Ai();)Pl(Ls)}function Pl(e){var t=Xs(e.alternate,e,zs);e.memoizedProps=e.pendingProps,null===t?Ol(e):Ls=t,Os.current=null}function Ol(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,zs)))return void(Ls=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&zs)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ls(t)))return n.flags&=2047,void(Ls=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ls=t);Ls=t=e}while(null!==t);0===Bs&&(Bs=5)}function Rl(e){var t=Wi();return qi(99,Il.bind(null,e,t)),null}function Il(e,t){do{Dl()}while(null!==el);if(0!==(48&Rs))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<o;){var u=31-Wt(o),c=1<<u;i[u]=0,s[u]=-1,l[u]=-1,o&=~c}if(null!==il&&0===(24&r)&&il.has(e)&&il.delete(e),e===Is&&(Ls=Is=null,Ds=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Rs,Rs|=32,Os.current=null,Ur=Zt,gr(s=vr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(k){l=null;break e}var h=0,p=-1,f=-1,d=0,m=0,v=s,g=null;t:for(;;){for(var y;v!==l||0!==o&&3!==v.nodeType||(p=h+o),v!==u||0!==c&&3!==v.nodeType||(f=h+c),3===v.nodeType&&(h+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===l&&++d===o&&(p=h),g===u&&++m===c&&(f=h),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}l=-1===p||-1===f?null:{start:p,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Vr={focusedElem:s,selectionRange:l},Zt=!1,cl=null,hl=!1,Zs=r;do{try{Ll()}catch(k){if(null===Zs)throw Error(a(330));jl(Zs,k),Zs=Zs.nextEffect}}while(null!==Zs);cl=null,Zs=r;do{try{for(s=e;null!==Zs;){var _=Zs.flags;if(16&_&&ye(Zs.stateNode,""),128&_){var b=Zs.alternate;if(null!==b){var x=b.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&_){case 2:ws(Zs),Zs.flags&=-3;break;case 6:ws(Zs),Zs.flags&=-3,ks(Zs.alternate,Zs);break;case 1024:Zs.flags&=-1025;break;case 1028:Zs.flags&=-1025,ks(Zs.alternate,Zs);break;case 4:ks(Zs.alternate,Zs);break;case 8:Ms(s,l=Zs);var w=l.alternate;bs(l),null!==w&&bs(w)}Zs=Zs.nextEffect}}catch(k){if(null===Zs)throw Error(a(330));jl(Zs,k),Zs=Zs.nextEffect}}while(null!==Zs);if(x=Vr,b=vr(),_=x.focusedElem,s=x.selectionRange,b!==_&&_&&_.ownerDocument&&mr(_.ownerDocument.documentElement,_)){null!==s&&gr(_)&&(b=s.start,void 0===(x=s.end)&&(x=b),"selectionStart"in _?(_.selectionStart=b,_.selectionEnd=Math.min(x,_.value.length)):(x=(b=_.ownerDocument||document)&&b.defaultView||window).getSelection&&(x=x.getSelection(),l=_.textContent.length,w=Math.min(s.start,l),s=void 0===s.end?w:Math.min(s.end,l),!x.extend&&w>s&&(l=s,s=w,w=l),l=dr(_,w),o=dr(_,s),l&&o&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((b=b.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),w>s?(x.addRange(b),x.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),x.addRange(b))))),b=[];for(x=_;x=x.parentNode;)1===x.nodeType&&b.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<b.length;_++)(x=b[_]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Zt=!!Ur,Vr=Ur=null,e.current=n,Zs=r;do{try{for(_=e;null!==Zs;){var S=Zs.flags;if(36&S&&gs(_,Zs.alternate,Zs),128&S){b=void 0;var E=Zs.ref;if(null!==E){var M=Zs.stateNode;Zs.tag,b=M,"function"===typeof E?E(b):E.current=b}}Zs=Zs.nextEffect}}catch(k){if(null===Zs)throw Error(a(330));jl(Zs,k),Zs=Zs.nextEffect}}while(null!==Zs);Zs=null,Bi(),Rs=i}else e.current=n;if($s)$s=!1,el=e,tl=t;else for(Zs=r;null!==Zs;)t=Zs.nextEffect,Zs.nextEffect=null,8&Zs.flags&&((S=Zs).sibling=null,S.stateNode=null),Zs=t;if(0===(r=e.pendingLanes)&&(Qs=null),1===r?e===al?ol++:(ol=0,al=e):ol=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(Si,n,void 0,64===(64&n.current.flags))}catch(k){}if(vl(e,Hi()),Ks)throw Ks=!1,e=Js,Js=null,e;return 0!==(8&Rs)||Xi(),null}function Ll(){for(;null!==Zs;){var e=Zs.alternate;hl||null===cl||(0!==(8&Zs.flags)?et(Zs,cl)&&(hl=!0):13===Zs.tag&&As(e,Zs)&&et(Zs,cl)&&(hl=!0));var t=Zs.flags;0!==(256&t)&&vs(e,Zs),0===(512&t)||$s||($s=!0,Yi(97,(function(){return Dl(),null}))),Zs=Zs.nextEffect}}function Dl(){if(90!==tl){var e=97<tl?97:tl;return tl=90,qi(e,Bl)}return!1}function zl(e,t){nl.push(t,e),$s||($s=!0,Yi(97,(function(){return Dl(),null})))}function Nl(e,t){rl.push(t,e),$s||($s=!0,Yi(97,(function(){return Dl(),null})))}function Bl(){if(null===el)return!1;var e=el;if(el=null,0!==(48&Rs))throw Error(a(331));var t=Rs;Rs|=32;var n=rl;rl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(u){if(null===o)throw Error(a(330));jl(o,u)}}for(n=nl,nl=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(u){if(null===o)throw Error(a(330));jl(o,u)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Rs=t,Xi(),!0}function Fl(e,t,n){ho(e,t=ps(0,t=us(n,t),1)),t=pl(),null!==(e=ml(e,1))&&(Ht(e,1,t),vl(e,t))}function jl(e,t){if(3===e.tag)Fl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r))){var i=fs(n,e=us(t,e),1);if(ho(n,i),i=pl(),null!==(n=ml(n,1)))Ht(n,1,i),vl(n,i);else if("function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Ul(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=pl(),e.pingedLanes|=e.suspendedLanes&n,Is===e&&(Ds&n)===n&&(4===Bs||3===Bs&&(62914560&Ds)===Ds&&500>Hi()-Gs?El(e,0):Hs|=n),vl(e,t)}function Vl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===ll&&(ll=js),0===(t=Ut(62914560&~ll))&&(t=4194304))),n=pl(),null!==(e=ml(e,t))&&(Ht(e,t,n),vl(e,n))}function Hl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wl(e,t,n,r){return new Hl(e,t,n,r)}function Gl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ql(e,t){var n=e.alternate;return null===n?((n=Wl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Gl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Xl(n.children,i,o,t);case z:s=8,i|=16;break;case M:s=8,i|=1;break;case k:return(e=Wl(12,n,t,8|i)).elementType=k,e.type=k,e.lanes=o,e;case P:return(e=Wl(13,n,t,i)).type=P,e.elementType=P,e.lanes=o,e;case O:return(e=Wl(19,n,t,i)).elementType=O,e.lanes=o,e;case N:return Zl(n,i,o,t);case B:return(e=Wl(24,n,t,i)).elementType=B,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case A:s=9;break e;case C:s=11;break e;case R:s=14;break e;case I:s=16,r=null;break e;case L:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Wl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Xl(e,t,n,r){return(e=Wl(7,e,r,t)).lanes=n,e}function Zl(e,t,n,r){return(e=Wl(23,e,r,t)).elementType=N,e.lanes=n,e}function Kl(e,t,n){return(e=Wl(6,e,null,t)).lanes=n,e}function Jl(e,t,n){return(t=Wl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ql(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function $l(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function eu(e,t,n,r){var i=t.current,o=pl(),s=fl(i);e:if(n){t:{if(Ke(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(gi(u)){n=bi(n,u,l);break e}}n=l}else n=pi;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ho(i,t),dl(i,s,o),s}function tu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ru(e,t){nu(e,t),(e=e.alternate)&&nu(e,t)}function iu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ql(e,t,null!=n&&!0===n.hydrate),t=Wl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,lo(t),e[ei]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ou(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function au(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tu(a);s.call(e)}}eu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new iu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=tu(a);l.call(e)}}xl((function(){eu(t,a,e,i)}))}return tu(a)}function su(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ou(t))throw Error(a(200));return $l(e,t,null,n)}Xs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||di.current)Na=!0;else{if(0===(n&r)){switch(Na=!1,t.tag){case 3:Ya(t),Xo();break;case 5:zo(t);break;case 1:gi(t.type)&&xi(t);break;case 4:Lo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;hi(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Qa(e,t,n):(hi(Bo,1&Bo.current),null!==(t=os(e,t,n))?t.sibling:null);hi(Bo,1&Bo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(Bo,Bo.current),r)break;return null;case 23:case 24:return t.lanes=0,Va(e,t,n)}return os(e,t,n)}Na=0!==(16384&e.flags)}else Na=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,fi.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;xi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,lo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&go(t,r,s,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,wo(t,r,e,n),t=qa(null,t,r,!0,o,n)}else t.tag=0,Ba(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Gl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(i),e=Ji(i,e),o){case 0:t=Wa(null,t,i,e,n);break e;case 1:t=Ga(null,t,i,e,n);break e;case 11:t=Fa(null,t,i,e,n);break e;case 14:t=ja(null,t,i,Ji(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wa(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ga(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Ya(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,uo(e,t),fo(t,r,null,n),(r=t.memoizedState.element)===i)Xo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Uo=Xr(t.stateNode.containerInfo.firstChild),jo=t,o=Vo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Zo.push(o);for(n=Ao(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ba(e,t,r,n),Xo();t=t.child}return t;case 5:return zo(t),null===e&&Go(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Wr(r,i)?s=null:null!==o&&Wr(r,o)&&(t.flags|=16),Ha(e,t),Ba(e,t,s,n),t.child;case 6:return null===e&&Go(t),null;case 13:return Qa(e,t,n);case 4:return Lo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=To(t,null,r,n):Ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(hi(Qi,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=cr(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!di.current){t=os(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===l.tag&&((c=co(-1,n&-n)).tag=2,ho(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),io(l.return,n),u.lanes|=n;break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Ba(e,t,r,n),t.child;case 14:return o=Ji(i=t.type,t.pendingProps),ja(e,t,i,o=Ji(i.type,o),r,n);case 15:return Ua(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,xi(t)):e=!1,oo(t,n),bo(t,r,i),wo(t,r,i,n),qa(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Va(e,t,n)}throw Error(a(156,t.tag))},iu.prototype.render=function(e){eu(e,this._internalRoot,null,null)},iu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;eu(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(dl(e,4,pl()),ru(e,4))},nt=function(e){13===e.tag&&(dl(e,67108864,pl()),ru(e,67108864))},rt=function(e){if(13===e.tag){var t=pl(),n=fl(e);dl(e,n,t),ru(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));J(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Ie=bl,Le=function(e,t,n,r,i){var o=Rs;Rs|=4;try{return qi(98,e.bind(null,t,n,r,i))}finally{0===(Rs=o)&&(Ys(),Xi())}},De=function(){0===(49&Rs)&&(function(){if(null!==il){var e=il;il=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vl(e,Hi())}))}Xi()}(),Dl())},ze=function(e,t){var n=Rs;Rs|=2;try{return e(t)}finally{0===(Rs=n)&&(Ys(),Xi())}};var lu={Events:[ri,ii,oi,Oe,Re,Dl,{current:!1}]},uu={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cu={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{Si=hu.inject(cu),Ei=hu}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lu,t.createPortal=su,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Rs;if(0!==(48&n))return e(t);Rs|=1;try{if(e)return qi(99,e.bind(null,t))}finally{Rs=n,Xi()}},t.hydrate=function(e,t,n){if(!ou(t))throw Error(a(200));return au(null,e,t,!0,n)},t.render=function(e,t,n){if(!ou(t))throw Error(a(200));return au(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ou(e))throw Error(a(40));return!!e._reactRootContainer&&(xl((function(){au(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bl,t.unstable_createPortal=function(e,t){return su(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ou(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return au(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,l=60110,u=60112,c=60113,h=60120,p=60115,f=60116,d=60121,m=60122,v=60117,g=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var _=Symbol.for;n=_("react.element"),r=_("react.portal"),i=_("react.fragment"),o=_("react.strict_mode"),a=_("react.profiler"),s=_("react.provider"),l=_("react.context"),u=_("react.forward_ref"),c=_("react.suspense"),h=_("react.suspense_list"),p=_("react.memo"),f=_("react.lazy"),d=_("react.block"),m=_("react.server.block"),v=_("react.fundamental"),g=_("react.debug_trace_mode"),y=_("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case c:case h:return e;default:switch(e=e&&e.$$typeof){case l:case u:case f:case p:case s:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===a||e===g||e===o||e===c||e===h||e===y||"object"===typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===p||e.$$typeof===s||e.$$typeof===l||e.$$typeof===u||e.$$typeof===v||e.$$typeof===d||e[0]===m)},t.typeOf=b},7441:function(e,t,n){"use strict";e.exports=n(1372)},3688:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,u="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:function(){return a}}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},3721:function(e,t,n){(e=n.nmd(e)).exports=function(t){var r={},i=n(1725),o=n(2791),a=n(5296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=60103,c=60106,h=60107,p=60108,f=60114,d=60109,m=60110,v=60112,g=60113,y=60120,_=60115,b=60116,x=60121,w=60129,S=60130,E=60131;if("function"===typeof Symbol&&Symbol.for){var M=Symbol.for;u=M("react.element"),c=M("react.portal"),h=M("react.fragment"),p=M("react.strict_mode"),f=M("react.profiler"),d=M("react.provider"),m=M("react.context"),v=M("react.forward_ref"),g=M("react.suspense"),y=M("react.suspense_list"),_=M("react.memo"),b=M("react.lazy"),x=M("react.block"),M("react.scope"),w=M("react.debug_trace_mode"),S=M("react.offscreen"),E=M("react.legacy_hidden")}var k="function"===typeof Symbol&&Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=k&&e[k]||e["@@iterator"])?e:null}function A(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case h:return"Fragment";case c:return"Portal";case f:return"Profiler";case p:return"StrictMode";case g:return"Suspense";case y:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case m:return(e.displayName||"Context")+".Consumer";case d:return(e._context.displayName||"Context")+".Provider";case v:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case _:return A(e.type);case x:return A(e._render);case b:t=e._payload,e=e._init;try{return A(e(t))}catch(n){}}return null}function C(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function P(e){if(C(e)!==e)throw Error(s(188))}function O(e){var t=e.alternate;if(!t){if(null===(t=C(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return P(i),e;if(o===r)return P(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}function R(e){if(!(e=O(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function I(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var L,D=t.getPublicInstance,z=t.getRootHostContext,N=t.getChildHostContext,B=t.prepareForCommit,F=t.resetAfterCommit,j=t.createInstance,U=t.appendInitialChild,V=t.finalizeInitialChildren,H=t.prepareUpdate,W=t.shouldSetTextContent,G=t.createTextInstance,q=t.scheduleTimeout,Y=t.cancelTimeout,X=t.noTimeout,Z=t.isPrimaryRenderer,K=t.supportsMutation,J=t.supportsPersistence,Q=t.supportsHydration,$=t.getInstanceFromNode,ee=t.makeOpaqueHydratingObject,te=t.makeClientId,ne=t.beforeActiveInstanceBlur,re=t.afterActiveInstanceBlur,ie=t.preparePortalMount,oe=t.supportsTestSelectors,ae=t.findFiberRoot,se=t.getBoundingRect,le=t.getTextContent,ue=t.isHiddenSubtree,ce=t.matchAccessibilityRole,he=t.setFocusIfFocusable,pe=t.setupIntersectionObserver,fe=t.appendChild,de=t.appendChildToContainer,me=t.commitTextUpdate,ve=t.commitMount,ge=t.commitUpdate,ye=t.insertBefore,_e=t.insertInContainerBefore,be=t.removeChild,xe=t.removeChildFromContainer,we=t.resetTextContent,Se=t.hideInstance,Ee=t.hideTextInstance,Me=t.unhideInstance,ke=t.unhideTextInstance,Te=t.clearContainer,Ae=t.cloneInstance,Ce=t.createContainerChildSet,Pe=t.appendChildToContainerChildSet,Oe=t.finalizeContainerChildren,Re=t.replaceContainerChildren,Ie=t.cloneHiddenInstance,Le=t.cloneHiddenTextInstance,De=t.canHydrateInstance,ze=t.canHydrateTextInstance,Ne=t.isSuspenseInstancePending,Be=t.isSuspenseInstanceFallback,Fe=t.getNextHydratableSibling,je=t.getFirstHydratableChild,Ue=t.hydrateInstance,Ve=t.hydrateTextInstance,He=t.getNextHydratableInstanceAfterSuspenseInstance,We=t.commitHydratedContainer,Ge=t.commitHydratedSuspenseInstance;function qe(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var Ye=!1;function Xe(e,t){if(!e||Ye)return"";Ye=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{Ye=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qe(e):""}var Ze=[],Ke=-1;function Je(e){return{current:e}}function Qe(e){0>Ke||(e.current=Ze[Ke],Ze[Ke]=null,Ke--)}function $e(e,t){Ke++,Ze[Ke]=e.current,e.current=t}var et={},tt=Je(et),nt=Je(!1),rt=et;function it(e,t){var n=e.type.contextTypes;if(!n)return et;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ot(e){return null!==(e=e.childContextTypes)&&void 0!==e}function at(){Qe(nt),Qe(tt)}function st(e,t,n){if(tt.current!==et)throw Error(s(168));$e(tt,t),$e(nt,n)}function lt(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,A(t)||"Unknown",o));return i({},n,r)}function ut(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||et,rt=tt.current,$e(tt,e),$e(nt,nt.current),!0}function ct(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=lt(e,t,rt),r.__reactInternalMemoizedMergedChildContext=e,Qe(nt),Qe(tt),$e(tt,e)):Qe(nt),$e(nt,n)}var ht=null,pt=null;(0,a.unstable_now)();var ft=0,dt=8;function mt(e){if(0!==(1&e))return dt=15,1;if(0!==(2&e))return dt=14,2;if(0!==(4&e))return dt=13,4;var t=24&e;return 0!==t?(dt=12,t):0!==(32&e)?(dt=11,32):0!==(t=192&e)?(dt=10,t):0!==(256&e)?(dt=9,256):0!==(t=3584&e)?(dt=8,t):0!==(4096&e)?(dt=7,4096):0!==(t=4186112&e)?(dt=6,t):0!==(t=62914560&e)?(dt=5,t):67108864&e?(dt=4,67108864):0!==(134217728&e)?(dt=3,134217728):0!==(t=805306368&e)?(dt=2,t):0!==(1073741824&e)?(dt=1,1073741824):(dt=8,e)}function vt(e,t){var n=e.pendingLanes;if(0===n)return dt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=dt=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(r=mt(l),i=dt):0!==(s&=o)&&(r=mt(s),i=dt)}else 0!==(o=n&~a)?(r=mt(o),i=dt):0!==s&&(r=mt(s),i=dt);if(0===r)return 0;if(r=n&((0>(r=31-wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(mt(t),i<=dt)return t;dt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-wt(t)),r|=e[n],t&=~i;return r}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function yt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=_t(24&~t))?yt(10,t):e;case 10:return 0===(e=_t(192&~t))?yt(8,t):e;case 8:return 0===(e=_t(3584&~t))&&(0===(e=_t(4186112&~t))&&(e=512)),e;case 2:return 0===(t=_t(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function _t(e){return e&-e}function bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-wt(t)]=n}var wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(St(e)/Et|0)|0},St=Math.log,Et=Math.LN2;var Mt=a.unstable_runWithPriority,kt=a.unstable_scheduleCallback,Tt=a.unstable_cancelCallback,At=a.unstable_shouldYield,Ct=a.unstable_requestPaint,Pt=a.unstable_now,Ot=a.unstable_getCurrentPriorityLevel,Rt=a.unstable_ImmediatePriority,It=a.unstable_UserBlockingPriority,Lt=a.unstable_NormalPriority,Dt=a.unstable_LowPriority,zt=a.unstable_IdlePriority,Nt={},Bt=void 0!==Ct?Ct:function(){},Ft=null,jt=null,Ut=!1,Vt=Pt(),Ht=1e4>Vt?Pt:function(){return Pt()-Vt};function Wt(){switch(Ot()){case Rt:return 99;case It:return 98;case Lt:return 97;case Dt:return 96;case zt:return 95;default:throw Error(s(332))}}function Gt(e){switch(e){case 99:return Rt;case 98:return It;case 97:return Lt;case 96:return Dt;case 95:return zt;default:throw Error(s(332))}}function qt(e,t){return e=Gt(e),Mt(e,t)}function Yt(e,t,n){return e=Gt(e),kt(e,t,n)}function Xt(){if(null!==jt){var e=jt;jt=null,Tt(e)}Zt()}function Zt(){if(!Ut&&null!==Ft){Ut=!0;var e=0;try{var t=Ft;qt(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ft=null}catch(n){throw null!==Ft&&(Ft=Ft.slice(e+1)),kt(Rt,Xt),n}finally{Ut=!1}}}var Kt=l.ReactCurrentBatchConfig;var Jt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Qt=Object.prototype.hasOwnProperty;function $t(e,t){if(Jt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Qt.call(t,n[r])||!Jt(e[n[r]],t[n[r]]))return!1;return!0}function en(e){switch(e.tag){case 5:return qe(e.type);case 16:return qe("Lazy");case 13:return qe("Suspense");case 19:return qe("SuspenseList");case 0:case 2:case 15:return e=Xe(e.type,!1);case 11:return e=Xe(e.type.render,!1);case 22:return e=Xe(e.type._render,!1);case 1:return e=Xe(e.type,!0);default:return""}}function tn(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var nn=Je(null),rn=null,on=null,an=null;function sn(){an=on=rn=null}function ln(e,t){e=e.type._context,Z?($e(nn,e._currentValue),e._currentValue=t):($e(nn,e._currentValue2),e._currentValue2=t)}function un(e){var t=nn.current;Qe(nn),e=e.type._context,Z?e._currentValue=t:e._currentValue2=t}function cn(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function hn(e,t){rn=e,an=on=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Vr=!0),e.firstContext=null)}function pn(e,t){if(an!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(an=e,t=1073741823),t={context:e,observedBits:t,next:null},null===on){if(null===rn)throw Error(s(308));on=t,rn.dependencies={lanes:0,firstContext:t,responders:null}}else on=on.next=t;return Z?e._currentValue:e._currentValue2}var fn=!1;function dn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function mn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function yn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _n(e,t,n,r){var o=e.updateQueue;fn=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?a=c:s.next=c,s=u;var h=e.alternate;if(null!==h){var p=(h=h.updateQueue).lastBaseUpdate;p!==s&&(null===p?h.firstBaseUpdate=c:p.next=c,h.lastBaseUpdate=u)}}if(null!==a){for(p=o.baseState,s=0,h=c=u=null;;){l=a.lane;var f=a.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var d=e,m=a;switch(l=t,f=n,m.tag){case 1:if("function"===typeof(d=m.payload)){p=d.call(f,p,l);break e}p=d;break e;case 3:d.flags=-4097&d.flags|64;case 0:if(null===(l="function"===typeof(d=m.payload)?d.call(f,p,l):d)||void 0===l)break e;p=i({},p,l);break e;case 2:fn=!0}}null!==a.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else f={eventTime:f,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(c=h=f,u=p):h=h.next=f,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===h&&(u=p),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=h,ho|=s,e.lanes=s,e.memoizedState=p}}function bn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var xn=(new o.Component).refs;function wn(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Sn={isMounted:function(e){return!!(e=e._reactInternals)&&C(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=No(),i=Bo(e),o=vn(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),gn(e,o),Fo(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=No(),i=Bo(e),o=vn(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),gn(e,o),Fo(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=No(),r=Bo(e),i=vn(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),gn(e,i),Fo(e,r,n)}};function En(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!$t(n,r)||!$t(i,o))}function Mn(e,t,n){var r=!1,i=et,o=t.contextType;return"object"===typeof o&&null!==o?o=pn(o):(i=ot(t)?rt:tt.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?it(e,i):et),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Sn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function kn(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sn.enqueueReplaceState(t,t.state,null)}function Tn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=xn,dn(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=pn(o):(o=ot(t)?rt:tt.current,i.context=it(e,o)),_n(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(wn(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Sn.enqueueReplaceState(i,i.state,null),_n(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var An=Array.isArray;function Cn(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===xn&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Pn(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function On(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ea(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Aa(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Cn(e,t,n),r.return=e,r):((r=Ma(n.type,n.key,n.props,null,e.mode,r)).ref=Cn(e,t,n),r.return=e,r)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ca(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=ka(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Aa(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case u:return(n=Ma(t.type,t.key,t.props,null,e.mode,n)).ref=Cn(e,null,t),n.return=e,n;case c:return(t=Ca(t,e.mode,n)).return=e,t}if(An(t)||T(t))return(t=ka(t,e.mode,n,null)).return=e,t;Pn(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case u:return n.key===i?n.type===h?d(e,t,n.props.children,r,i):p(e,t,n,r):null;case c:return n.key===i?f(e,t,n,r):null}if(An(n)||T(n))return null!==i?null:d(e,t,n,r,null);Pn(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case u:return e=e.get(null===r.key?n:r.key)||null,r.type===h?d(t,e,r.props.children,i,r.key):p(t,e,r,i);case c:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(An(r)||T(r))return d(t,e=e.get(n)||null,r,i,null);Pn(t,r)}return null}function y(i,a,s,l){for(var u=null,c=null,h=a,p=a=0,f=null;null!==h&&p<s.length;p++){h.index>p?(f=h,h=null):f=h.sibling;var d=v(i,h,s[p],l);if(null===d){null===h&&(h=f);break}e&&h&&null===d.alternate&&t(i,h),a=o(d,a,p),null===c?u=d:c.sibling=d,c=d,h=f}if(p===s.length)return n(i,h),u;if(null===h){for(;p<s.length;p++)null!==(h=m(i,s[p],l))&&(a=o(h,a,p),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);p<s.length;p++)null!==(f=g(h,i,p,s[p],l))&&(e&&null!==f.alternate&&h.delete(null===f.key?p:f.key),a=o(f,a,p),null===c?u=f:c.sibling=f,c=f);return e&&h.forEach((function(e){return t(i,e)})),u}function _(i,a,l,u){var c=T(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,p=a,f=a=0,d=null,y=l.next();null!==p&&!y.done;f++,y=l.next()){p.index>f?(d=p,p=null):d=p.sibling;var _=v(i,p,y.value,u);if(null===_){null===p&&(p=d);break}e&&p&&null===_.alternate&&t(i,p),a=o(_,a,f),null===h?c=_:h.sibling=_,h=_,p=d}if(y.done)return n(i,p),c;if(null===p){for(;!y.done;f++,y=l.next())null!==(y=m(i,y.value,u))&&(a=o(y,a,f),null===h?c=y:h.sibling=y,h=y);return c}for(p=r(i,p);!y.done;f++,y=l.next())null!==(y=g(p,i,f,y.value,u))&&(e&&null!==y.alternate&&p.delete(null===y.key?f:y.key),a=o(y,a,f),null===h?c=y:h.sibling=y,h=y);return e&&p.forEach((function(e){return t(i,e)})),c}return function(e,r,o,l){var p="object"===typeof o&&null!==o&&o.type===h&&null===o.key;p&&(o=o.props.children);var f="object"===typeof o&&null!==o;if(f)switch(o.$$typeof){case u:e:{for(f=o.key,p=r;null!==p;){if(p.key===f){if(7===p.tag){if(o.type===h){n(e,p.sibling),(r=i(p,o.props.children)).return=e,e=r;break e}}else if(p.elementType===o.type){n(e,p.sibling),(r=i(p,o.props)).ref=Cn(e,p,o),r.return=e,e=r;break e}n(e,p);break}t(e,p),p=p.sibling}o.type===h?((r=ka(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Ma(o.type,o.key,o.props,null,e.mode,l)).ref=Cn(e,r,o),l.return=e,e=l)}return a(e);case c:e:{for(p=o.key;null!==r;){if(r.key===p){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ca(o,e.mode,l)).return=e,e=r}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Aa(o,e.mode,l)).return=e,e=r),a(e);if(An(o))return y(e,r,o,l);if(T(o))return _(e,r,o,l);if(f&&Pn(e,o),"undefined"===typeof o&&!p)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,A(e.type)||"Component"))}return n(e,r)}}var Rn=On(!0),In=On(!1),Ln={},Dn=Je(Ln),zn=Je(Ln),Nn=Je(Ln);function Bn(e){if(e===Ln)throw Error(s(174));return e}function Fn(e,t){$e(Nn,t),$e(zn,e),$e(Dn,Ln),e=z(t),Qe(Dn),$e(Dn,e)}function jn(){Qe(Dn),Qe(zn),Qe(Nn)}function Un(e){var t=Bn(Nn.current),n=Bn(Dn.current);n!==(t=N(n,e.type,t))&&($e(zn,e),$e(Dn,t))}function Vn(e){zn.current===e&&(Qe(Dn),Qe(zn))}var Hn=Je(0);function Wn(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ne(n)||Be(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gn=null,qn=null,Yn=!1;function Xn(e,t){var n=wa(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Zn(e,t){switch(e.tag){case 5:return null!==(t=De(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=ze(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function Kn(e){if(Yn){var t=qn;if(t){var n=t;if(!Zn(e,t)){if(!(t=Fe(n))||!Zn(e,t))return e.flags=-1025&e.flags|2,Yn=!1,void(Gn=e);Xn(Gn,n)}Gn=e,qn=je(t)}else e.flags=-1025&e.flags|2,Yn=!1,Gn=e}}function Jn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Gn=e}function Qn(e){if(!Q||e!==Gn)return!1;if(!Yn)return Jn(e),Yn=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!W(t,e.memoizedProps))for(t=qn;t;)Xn(e,t),t=Fe(t);if(Jn(e),13===e.tag){if(!Q)throw Error(s(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));qn=He(e)}else qn=Gn?Fe(e.stateNode):null;return!0}function $n(){Q&&(qn=Gn=null,Yn=!1)}var er=[];function tr(){for(var e=0;e<er.length;e++){var t=er[e];Z?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}er.length=0}var nr=l.ReactCurrentDispatcher,rr=l.ReactCurrentBatchConfig,ir=0,or=null,ar=null,sr=null,lr=!1,ur=!1;function cr(){throw Error(s(321))}function hr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jt(e[n],t[n]))return!1;return!0}function pr(e,t,n,r,i,o){if(ir=o,or=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nr.current=null===e||null===e.memoizedState?Br:Fr,e=n(r,i),ur){o=0;do{if(ur=!1,!(25>o))throw Error(s(301));o+=1,sr=ar=null,t.updateQueue=null,nr.current=jr,e=n(r,i)}while(ur)}if(nr.current=Nr,t=null!==ar&&null!==ar.next,ir=0,sr=ar=or=null,lr=!1,t)throw Error(s(300));return e}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===sr?or.memoizedState=sr=e:sr=sr.next=e,sr}function dr(){if(null===ar){var e=or.alternate;e=null!==e?e.memoizedState:null}else e=ar.next;var t=null===sr?or.memoizedState:sr.next;if(null!==t)sr=t,ar=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ar=e).memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},null===sr?or.memoizedState=sr=e:sr=sr.next=e}return sr}function mr(e,t){return"function"===typeof t?t(e):t}function vr(e){var t=dr(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ar,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,u=i;do{var c=u.lane;if((ir&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=h,o=r):l=l.next=h,or.lanes|=c,ho|=c}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=a,Jt(r,t.memoizedState)||(Vr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function gr(e){var t=dr(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Jt(o,t.memoizedState)||(Vr=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function yr(e,t,n){var r=t._getVersion;r=r(t._source);var i=Z?t._workInProgressVersionPrimary:t._workInProgressVersionSecondary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(ir&e)===e)&&(Z?t._workInProgressVersionPrimary=r:t._workInProgressVersionSecondary=r,er.push(t))),e)return n(t._source);throw er.push(t),Error(s(350))}function _r(e,t,n,r){var i=ro;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),l=nr.current,u=l.useState((function(){return yr(i,t,n)})),c=u[1],h=u[0];u=sr;var p=e.memoizedState,f=p.refs,d=f.getSnapshot,m=p.source;p=p.subscribe;var v=or;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=o(t._source);if(!Jt(a,e)){e=n(t._source),Jt(h,e)||(c(e),e=Bo(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var l=31-wt(s),u=1<<l;r[l]|=e,s&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=Bo(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),Jt(d,n)&&Jt(m,t)&&Jt(p,r)||((e={pending:null,dispatch:null,lastRenderedReducer:mr,lastRenderedState:h}).dispatch=c=zr.bind(null,or,e),u.queue=e,u.baseQueue=null,h=yr(i,t,n),u.memoizedState=u.baseState=h),h}function br(e,t,n){return _r(dr(),e,t,n)}function xr(e){var t=fr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:mr,lastRenderedState:e}).dispatch=zr.bind(null,or,e),[t.memoizedState,e]}function wr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=or.updateQueue)?(t={lastEffect:null},or.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Sr(e){return e={current:e},fr().memoizedState=e}function Er(){return dr().memoizedState}function Mr(e,t,n,r){var i=fr();or.flags|=e,i.memoizedState=wr(1|t,n,void 0,void 0===r?null:r)}function kr(e,t,n,r){var i=dr();r=void 0===r?null:r;var o=void 0;if(null!==ar){var a=ar.memoizedState;if(o=a.destroy,null!==r&&hr(r,a.deps))return void wr(t,n,o,r)}or.flags|=e,i.memoizedState=wr(1|t,n,o,r)}function Tr(e,t){return Mr(516,4,e,t)}function Ar(e,t){return kr(516,4,e,t)}function Cr(e,t){return kr(4,2,e,t)}function Pr(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Or(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,kr(4,2,Pr.bind(null,t,e),n)}function Rr(){}function Ir(e,t){var n=dr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Lr(e,t){var n=dr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Dr(e,t){var n=Wt();qt(98>n?98:n,(function(){e(!0)})),qt(97<n?97:n,(function(){var n=rr.transition;rr.transition=1;try{e(!1),t()}finally{rr.transition=n}}))}function zr(e,t,n){var r=No(),i=Bo(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===or||null!==a&&a===or)ur=lr=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,Jt(l,s))return}catch(u){}Fo(e,i,r)}}var Nr={readContext:pn,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useOpaqueIdentifier:cr,unstable_isNewReconciler:!1},Br={readContext:pn,useCallback:function(e,t){return fr().memoizedState=[e,void 0===t?null:t],e},useContext:pn,useEffect:Tr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mr(4,2,Pr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mr(4,2,e,t)},useMemo:function(e,t){var n=fr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=zr.bind(null,or,e),[r.memoizedState,e]},useRef:Sr,useState:xr,useDebugValue:Rr,useDeferredValue:function(e){var t=xr(e),n=t[0],r=t[1];return Tr((function(){var t=rr.transition;rr.transition=1;try{r(e)}finally{rr.transition=t}}),[e]),n},useTransition:function(){var e=xr(!1),t=e[0];return Sr(e=Dr.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=fr();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},_r(r,e,t,n)},useOpaqueIdentifier:function(){if(Yn){var e=!1,t=ee((function(){throw e||(e=!0,n(te())),Error(s(355))})),n=xr(t)[1];return 0===(2&or.mode)&&(or.flags|=516,wr(5,(function(){n(te())}),void 0,null)),t}return xr(t=te()),t},unstable_isNewReconciler:!1},Fr={readContext:pn,useCallback:Ir,useContext:pn,useEffect:Ar,useImperativeHandle:Or,useLayoutEffect:Cr,useMemo:Lr,useReducer:vr,useRef:Er,useState:function(){return vr(mr)},useDebugValue:Rr,useDeferredValue:function(e){var t=vr(mr),n=t[0],r=t[1];return Ar((function(){var t=rr.transition;rr.transition=1;try{r(e)}finally{rr.transition=t}}),[e]),n},useTransition:function(){var e=vr(mr)[0];return[Er().current,e]},useMutableSource:br,useOpaqueIdentifier:function(){return vr(mr)[0]},unstable_isNewReconciler:!1},jr={readContext:pn,useCallback:Ir,useContext:pn,useEffect:Ar,useImperativeHandle:Or,useLayoutEffect:Cr,useMemo:Lr,useReducer:gr,useRef:Er,useState:function(){return gr(mr)},useDebugValue:Rr,useDeferredValue:function(e){var t=gr(mr),n=t[0],r=t[1];return Ar((function(){var t=rr.transition;rr.transition=1;try{r(e)}finally{rr.transition=t}}),[e]),n},useTransition:function(){var e=gr(mr)[0];return[Er().current,e]},useMutableSource:br,useOpaqueIdentifier:function(){return gr(mr)[0]},unstable_isNewReconciler:!1},Ur=l.ReactCurrentOwner,Vr=!1;function Hr(e,t,n,r){t.child=null===e?In(t,null,n,r):Rn(t,e.child,n,r)}function Wr(e,t,n,r,i){n=n.render;var o=t.ref;return hn(t,i),r=pr(e,t,n,r,o,i),null===e||Vr?(t.flags|=1,Hr(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,hi(e,t,i))}function Gr(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Sa(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ma(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,qr(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:$t)(i,r)&&e.ref===t.ref)?hi(e,t,o):(t.flags|=1,(e=Ea(a,r)).ref=t.ref,e.return=t,t.child=e)}function qr(e,t,n,r,i,o){if(null!==e&&$t(e.memoizedProps,r)&&e.ref===t.ref){if(Vr=!1,0===(o&i))return t.lanes=e.lanes,hi(e,t,o);0!==(16384&e.flags)&&(Vr=!0)}return Zr(e,t,n,r,o)}function Yr(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Yo(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Yo(t,e),null;t.memoizedState={baseLanes:0},Yo(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Yo(t,r);return Hr(e,t,i,n),t.child}function Xr(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Zr(e,t,n,r,i){var o=ot(n)?rt:tt.current;return o=it(t,o),hn(t,i),n=pr(e,t,n,r,o,i),null===e||Vr?(t.flags|=1,Hr(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,hi(e,t,i))}function Kr(e,t,n,r,i){if(ot(n)){var o=!0;ut(t)}else o=!1;if(hn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Mn(t,n,r),Tn(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=pn(u):u=it(t,u=ot(n)?rt:tt.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&kn(t,a,r,u),fn=!1;var p=t.memoizedState;a.state=p,_n(t,r,a,i),l=t.memoizedState,s!==r||p!==l||nt.current||fn?("function"===typeof c&&(wn(t,n,c,r),l=t.memoizedState),(s=fn||En(t,n,s,r,p,l,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,mn(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:tn(t.type,s),a.props=u,h=t.pendingProps,p=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=pn(l):l=it(t,l=ot(n)?rt:tt.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||p!==l)&&kn(t,a,r,l),fn=!1,p=t.memoizedState,a.state=p,_n(t,r,a,i);var d=t.memoizedState;s!==h||p!==d||nt.current||fn?("function"===typeof f&&(wn(t,n,f,r),d=t.memoizedState),(u=fn||En(t,n,u,r,p,d,l))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),r=!1)}return Jr(e,t,n,r,o,i)}function Jr(e,t,n,r,i,o){Xr(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&ct(t,n,!1),hi(e,t,o);r=t.stateNode,Ur.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Rn(t,e.child,null,o),t.child=Rn(t,null,s,o)):Hr(e,t,s,o),t.memoizedState=r.state,i&&ct(t,n,!0),t.child}function Qr(e){var t=e.stateNode;t.pendingContext?st(0,t.pendingContext,t.pendingContext!==t.context):t.context&&st(0,t.context,!1),Fn(e,t.containerInfo)}var $r,ei,ti,ni,ri={dehydrated:null,retryLane:0};function ii(e,t,n){var r,i=t.pendingProps,o=Hn.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),$e(Hn,1&o),null===e?(void 0!==i.fallback&&Kn(t),e=i.children,o=i.fallback,a?(e=oi(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=ri,e):"number"===typeof i.unstable_expectedLoadTime?(e=oi(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=ri,t.lanes=33554432,e):((n=Ta({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=si(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=ri,i):(n=ai(e,t,i.children,n),t.memoizedState=null,n))}function oi(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Ta(t,i,0,null),n=ka(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function ai(e,t,n,r){var i=e.child;return e=i.sibling,n=Ea(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function si(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ea(a,s),null!==e?r=Ea(e,r):(r=ka(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function li(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),cn(e.return,t)}function ui(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ci(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Hr(e,t,r.children,n),0!==(2&(r=Hn.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&li(e,n);else if(19===e.tag)li(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($e(Hn,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Wn(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ui(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Wn(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ui(t,!0,n,null,o,t.lastEffect);break;case"together":ui(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function hi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ho|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ea(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ea(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function pi(e){e.flags|=4}if(K)$r=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)U(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ei=function(){},ti=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var o=t.stateNode,a=Bn(Dn.current);n=H(o,n,e,r,i,a),(t.updateQueue=n)&&pi(t)}},ni=function(e,t,n,r){n!==r&&pi(t)};else if(J){$r=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=Ie(o,i.type,i.memoizedProps,i)),U(e,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=Le(o,i.memoizedProps,i)),U(e,o);else if(4!==i.tag){if(13===i.tag&&0!==(4&i.flags)&&(o=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,$r(e,a,!0,o)),null!==(o=a.sibling))){o.return=i,i=o;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var fi=function e(t,n,r,i){for(var o=n.child;null!==o;){if(5===o.tag){var a=o.stateNode;r&&i&&(a=Ie(a,o.type,o.memoizedProps,o)),Pe(t,a)}else if(6===o.tag)a=o.stateNode,r&&i&&(a=Le(a,o.memoizedProps,o)),Pe(t,a);else if(4!==o.tag){if(13===o.tag&&0!==(4&o.flags)&&(a=null!==o.memoizedState)){var s=o.child;if(null!==s&&(null!==s.child&&(s.child.return=s,e(t,s,!0,a)),null!==(a=s.sibling))){a.return=o,o=a;continue}}if(null!==o.child){o.child.return=o,o=o.child;continue}}if(o===n)break;for(;null===o.sibling;){if(null===o.return||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};ei=function(e){var t=e.stateNode;if(null!==e.firstEffect){var n=t.containerInfo,r=Ce(n);fi(r,e,!1,!1),t.pendingChildren=r,pi(e),Oe(n,r)}},ti=function(e,t,n,r,i){var o=e.stateNode,a=e.memoizedProps;if((e=null===t.firstEffect)&&a===r)t.stateNode=o;else{var s=t.stateNode,l=Bn(Dn.current),u=null;a!==r&&(u=H(s,n,a,r,i,l)),e&&null===u?t.stateNode=o:(o=Ae(o,u,n,a,r,t,e,s),V(o,n,r,i,l)&&pi(t),t.stateNode=o,e?pi(t):$r(o,t,!1,!1))}},ni=function(e,t,n,r){n!==r?(e=Bn(Nn.current),n=Bn(Dn.current),t.stateNode=G(r,e,n,t),pi(t)):t.stateNode=e.stateNode}}else ei=function(){},ti=function(){},ni=function(){};function di(e,t){if(!Yn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function mi(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return ot(t.type)&&at(),null;case 3:return jn(),Qe(nt),Qe(tt),tr(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Qn(t)?pi(t):r.hydrate||(t.flags|=256)),ei(t),null;case 5:Vn(t);var i=Bn(Nn.current);if(n=t.type,null!==e&&null!=t.stateNode)ti(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Bn(Dn.current),Qn(t)){if(!Q)throw Error(s(175));e=Ue(t.stateNode,t.type,t.memoizedProps,i,e,t),t.updateQueue=e,null!==e&&pi(t)}else{var o=j(n,r,i,e,t);$r(o,t,!1,!1),t.stateNode=o,V(o,n,r,i,e)&&pi(t)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)ni(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=Bn(Nn.current),i=Bn(Dn.current),Qn(t)){if(!Q)throw Error(s(176));Ve(t.stateNode,t.memoizedProps,t)&&pi(t)}else t.stateNode=G(r,e,i,t)}return null;case 13:return Qe(Hn),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,i=!1,null===e?void 0!==t.memoizedProps.fallback&&Qn(t):i=null!==e.memoizedState,r&&!i&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Hn.current)?0===lo&&(lo=3):(0!==lo&&3!==lo||(lo=4),null===ro||0===(134217727&ho)&&0===(134217727&po)||Ho(ro,oo))),J&&r&&(t.flags|=4),K&&(r||i)&&(t.flags|=4),null);case 4:return jn(),ei(t),null===e&&ie(t.stateNode.containerInfo),null;case 10:return un(t),null;case 19:if(Qe(Hn),null===(r=t.memoizedState))return null;if(i=0!==(64&t.flags),null===(o=r.rendering))if(i)di(r,!1);else{if(0!==lo||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(o=Wn(e))){for(t.flags|=64,di(r,!1),null!==(e=o.updateQueue)&&(t.updateQueue=e,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,e=n,r=t.child;null!==r;)n=e,(i=r).flags&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(o=i.alternate)?(i.childLanes=0,i.lanes=n,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return $e(Hn,1&Hn.current|2),t.child}e=e.sibling}null!==r.tail&&Ht()>go&&(t.flags|=64,i=!0,di(r,!1),t.lanes=33554432)}else{if(!i)if(null!==(e=Wn(o))){if(t.flags|=64,i=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),di(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!Yn)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ht()-r.renderingStartTime>go&&1073741824!==n&&(t.flags|=64,i=!0,di(r,!1),t.lanes=33554432);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ht(),e.sibling=null,t=Hn.current,$e(Hn,i?1&t|2:1&t),e):null;case 23:case 24:return Xo(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function vi(e){switch(e.tag){case 1:ot(e.type)&&at();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(jn(),Qe(nt),Qe(tt),tr(),0!==(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Vn(e),null;case 13:return Qe(Hn),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Qe(Hn),null;case 4:return jn(),null;case 10:return un(e),null;case 23:case 24:return Xo(),null;default:return null}}function gi(e,t){try{var n="",r=t;do{n+=en(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function yi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var _i="function"===typeof WeakMap?WeakMap:Map;function bi(e,t,n){(n=vn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xo||(xo=!0,wo=r),yi(0,t)},n}function xi(e,t,n){(n=vn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return yi(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===So?So=new Set([this]):So.add(this),yi(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var wi="function"===typeof WeakSet?WeakSet:Set;function Si(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){ha(e,n)}else t.current=null}function Ei(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:tn(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(K&&256&t.flags&&Te(t.stateNode.containerInfo))}throw Error(s(163))}function Mi(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function ki(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(la(n,e),sa(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:tn(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&bn(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=D(n.child.stateNode);break;case 1:e=n.child.stateNode}bn(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&ve(e,n.type,n.memoizedProps,n));case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(Q&&null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ge(n)))))}throw Error(s(163))}function Ti(e,t){if(K)for(var n=e;;){if(5===n.tag){var r=n.stateNode;t?Se(r):Me(n.stateNode,n.memoizedProps)}else if(6===n.tag)r=n.stateNode,t?Ee(r):ke(r,n.memoizedProps);else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Ai(e,t){if(pt&&"function"===typeof pt.onCommitFiberUnmount)try{pt.onCommitFiberUnmount(ht,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))la(t,n);else{r=t;try{i()}catch(o){ha(r,o)}}n=n.next}while(n!==e)}break;case 1:if(Si(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){ha(t,o)}break;case 5:Si(t);break;case 4:K?Di(e,t):J&&J&&(t=t.stateNode.containerInfo,e=Ce(t),Re(t,e))}}function Ci(e,t){for(var n=t;;)if(Ai(e,n),null===n.child||K&&4===n.tag){if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else n.child.return=n,n=n.child}function Pi(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Oi(e){return 5===e.tag||3===e.tag||4===e.tag}function Ri(e){if(K){e:{for(var t=e.return;null!==t;){if(Oi(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(we(t),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Oi(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ii(e,n,t):Li(e,n,t)}}function Ii(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?_e(n,e,t):de(n,e);else if(4!==r&&null!==(e=e.child))for(Ii(e,t,n),e=e.sibling;null!==e;)Ii(e,t,n),e=e.sibling}function Li(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?ye(n,e,t):fe(n,e);else if(4!==r&&null!==(e=e.child))for(Li(e,t,n),e=e.sibling;null!==e;)Li(e,t,n),e=e.sibling}function Di(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag)Ci(e,i),r?xe(n,i.stateNode):be(n,i.stateNode);else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(Ai(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function zi(e,t){if(K){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Mi(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&ge(n,o,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(s(162));return n=t.memoizedProps,void me(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(Q&&(t=t.stateNode,t.hydrate&&(t.hydrate=!1,We(t.containerInfo))));case 13:return Ni(t),void Bi(t);case 19:return void Bi(t);case 23:case 24:return void Ti(t,null!==t.memoizedState)}throw Error(s(163))}switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Mi(3,t);case 12:case 23:case 24:return;case 13:return Ni(t),void Bi(t);case 19:return void Bi(t);case 3:Q&&((n=t.stateNode).hydrate&&(n.hydrate=!1,We(n.containerInfo)))}e:if(J){switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,Re(t.containerInfo,t.pendingChildren);break e}throw Error(s(163))}}function Ni(e){null!==e.memoizedState&&(vo=Ht(),K&&Ti(e.child,!0))}function Bi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new wi),t.forEach((function(t){var r=fa.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Fi(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var ji=0,Ui=1,Vi=2,Hi=3,Wi=4;if("function"===typeof Symbol&&Symbol.for){var Gi=Symbol.for;ji=Gi("selector.component"),Ui=Gi("selector.has_pseudo_class"),Vi=Gi("selector.role"),Hi=Gi("selector.test_id"),Wi=Gi("selector.text")}function qi(e){var t=$(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(s(364));return t}if(null===(e=ae(e)))throw Error(s(362));return e.stateNode.current}function Yi(e,t){switch(t.$$typeof){case ji:if(e.type===t.value)return!0;break;case Ui:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],o=t[i];if(5!==r.tag||!ue(r)){for(;null!=o&&Yi(r,o);)o=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Vi:if(5===e.tag&&ce(e.stateNode,t.value))return!0;break;case Wi:if((5===e.tag||6===e.tag)&&(null!==(e=le(e))&&0<=e.indexOf(t.value)))return!0;break;case Hi:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(s(365,t))}return!1}function Xi(e){switch(e.$$typeof){case ji:return"<"+(A(e.value)||"Unknown")+">";case Ui:return":has("+(Xi(e)||"")+")";case Vi:return'[role="'+e.value+'"]';case Wi:return'"'+e.value+'"';case Hi:return'[data-testname="'+e.value+'"]';default:throw Error(s(365,e))}}function Zi(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],o=e[r++],a=t[o];if(5!==i.tag||!ue(i)){for(;null!=a&&Yi(i,a);)a=t[++o];if(o===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,o),i=i.sibling}}return n}function Ki(e,t){if(!oe)throw Error(s(363));e=Zi(e=qi(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)ue(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Ji=null;var Qi=Math.ceil,$i=l.ReactCurrentDispatcher,eo=l.ReactCurrentOwner,to=l.IsSomeRendererActing,no=0,ro=null,io=null,oo=0,ao=0,so=Je(0),lo=0,uo=null,co=0,ho=0,po=0,fo=0,mo=null,vo=0,go=1/0;function yo(){go=Ht()+500}var _o,bo=null,xo=!1,wo=null,So=null,Eo=!1,Mo=null,ko=90,To=[],Ao=[],Co=null,Po=0,Oo=null,Ro=-1,Io=0,Lo=0,Do=null,zo=!1;function No(){return 0!==(48&no)?Ht():-1!==Ro?Ro:Ro=Ht()}function Bo(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wt()?1:2;if(0===Io&&(Io=co),0!==Kt.transition){0!==Lo&&(Lo=null!==mo?mo.pendingLanes:0),e=Io;var t=4186112&~Lo;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wt(),0!==(4&no)&&98===e?e=yt(12,Io):e=yt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Io),e}function Fo(e,t,n){if(50<Po)throw Po=0,Oo=null,Error(s(185));if(null===(e=jo(e,t)))return null;xt(e,t,n),e===ro&&(po|=t,4===lo&&Ho(e,oo));var r=Wt();1===t?0!==(8&no)&&0===(48&no)?Wo(e):(Uo(e,n),0===no&&(yo(),Xt())):(0===(4&no)||98!==r&&99!==r||(null===Co?Co=new Set([e]):Co.add(e)),Uo(e,n)),mo=e}function jo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Uo(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-wt(a),u=1<<l,c=o[l];if(-1===c){if(0===(u&r)||0!==(u&i)){c=t,mt(u);var h=dt;o[l]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);a&=~u}if(r=vt(e,e===ro?oo:0),t=dt,0===r)null!==n&&(n!==Nt&&Tt(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Nt&&Tt(n)}15===t?(n=Wo.bind(null,e),null===Ft?(Ft=[n],jt=kt(Rt,Zt)):Ft.push(n),n=Nt):14===t?n=Yt(99,Wo.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=Yt(n,Vo.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function Vo(e){if(Ro=-1,Lo=Io=0,0!==(48&no))throw Error(s(327));var t=e.callbackNode;if(aa()&&e.callbackNode!==t)return null;var n=vt(e,e===ro?oo:0);if(0===n)return null;var r=n,i=no;no|=16;var o=Jo();for(ro===e&&oo===r||(yo(),Zo(e,r));;)try{ea();break}catch(l){Ko(e,l)}if(sn(),$i.current=o,no=i,null!==io?r=0:(ro=null,oo=0,r=lo),0!==(co&po))Zo(e,0);else if(0!==r){if(2===r&&(no|=64,e.hydrate&&(e.hydrate=!1,Te(e.containerInfo)),0!==(n=gt(e))&&(r=Qo(e,n))),1===r)throw t=uo,Zo(e,0),Ho(e,n),Uo(e,Ht()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:ra(e);break;case 3:if(Ho(e,n),(62914560&n)===n&&10<(r=vo+500-Ht())){if(0!==vt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){No(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=q(ra.bind(null,e),r);break}ra(e);break;case 4:if(Ho(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-wt(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Ht()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Qi(n/1960))-n)){e.timeoutHandle=q(ra.bind(null,e),n);break}ra(e);break;default:throw Error(s(329))}}return Uo(e,Ht()),e.callbackNode===t?Vo.bind(null,e):null}function Ho(e,t){for(t&=~fo,t&=~po,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function Wo(e){if(0!==(48&no))throw Error(s(327));if(aa(),e===ro&&0!==(e.expiredLanes&oo)){var t=oo,n=Qo(e,t);0!==(co&po)&&(n=Qo(e,t=vt(e,t)))}else n=Qo(e,t=vt(e,0));if(0!==e.tag&&2===n&&(no|=64,e.hydrate&&(e.hydrate=!1,Te(e.containerInfo)),0!==(t=gt(e))&&(n=Qo(e,t))),1===n)throw n=uo,Zo(e,0),Ho(e,t),Uo(e,Ht()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,ra(e),Uo(e,Ht()),null}function Go(e,t){var n=no;no|=1;try{return e(t)}finally{0===(no=n)&&(yo(),Xt())}}function qo(e,t){var n=no;if(0!==(48&n))return e(t);no|=1;try{if(e)return qt(99,e.bind(null,t))}finally{no=n,Xt()}}function Yo(e,t){$e(so,ao),ao|=t,co|=t}function Xo(){ao=so.current,Qe(so)}function Zo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==X&&(e.timeoutHandle=X,Y(n)),null!==io)for(n=io.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&at();break;case 3:jn(),Qe(nt),Qe(tt),tr();break;case 5:Vn(r);break;case 4:jn();break;case 13:case 19:Qe(Hn);break;case 10:un(r);break;case 23:case 24:Xo()}n=n.return}ro=e,io=Ea(e.current,null),oo=ao=co=t,lo=0,uo=null,fo=po=ho=0}function Ko(e,t){for(;;){var n=io;try{if(sn(),nr.current=Nr,lr){for(var r=or.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lr=!1}if(ir=0,sr=ar=or=null,ur=!1,eo.current=null,null===n||null===n.return){lo=1,uo=t,io=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=oo,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&Hn.current),p=a;do{var f;if(f=13===p.tag){var d=p.memoizedState;if(null!==d)f=null!==d.dehydrated;else{var m=p.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(f){var v=p.updateQueue;if(null===v){var g=new Set;g.add(u),p.updateQueue=g}else v.add(u);if(0===(2&p.mode)){if(p.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=vn(-1,1);y.tag=2,gn(s,y)}s.lanes|=1;break e}l=void 0,s=t;var _=o.pingCache;if(null===_?(_=o.pingCache=new _i,l=new Set,_.set(u,l)):void 0===(l=_.get(u))&&(l=new Set,_.set(u,l)),!l.has(s)){l.add(s);var b=pa.bind(null,o,u,s);u.then(b,b)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);l=Error((A(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==lo&&(lo=2),l=gi(l,s),p=a;do{switch(p.tag){case 3:o=l,p.flags|=4096,t&=-t,p.lanes|=t,yn(p,bi(0,o,t));break e;case 1:o=l;var x=p.type,w=p.stateNode;if(0===(64&p.flags)&&("function"===typeof x.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===So||!So.has(w)))){p.flags|=4096,t&=-t,p.lanes|=t,yn(p,xi(p,o,t));break e}}p=p.return}while(null!==p)}na(n)}catch(S){t=S,io===n&&null!==n&&(io=n=n.return);continue}break}}function Jo(){var e=$i.current;return $i.current=Nr,null===e?Nr:e}function Qo(e,t){var n=no;no|=16;var r=Jo();for(ro===e&&oo===t||Zo(e,t);;)try{$o();break}catch(i){Ko(e,i)}if(sn(),no=n,$i.current=r,null!==io)throw Error(s(261));return ro=null,oo=0,lo}function $o(){for(;null!==io;)ta(io)}function ea(){for(;null!==io&&!At();)ta(io)}function ta(e){var t=_o(e.alternate,e,ao);e.memoizedProps=e.pendingProps,null===t?na(e):io=t,eo.current=null}function na(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=mi(n,t,ao)))return void(io=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&ao)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=vi(t)))return n.flags&=2047,void(io=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(io=t);io=t=e}while(null!==t);0===lo&&(lo=5)}function ra(e){var t=Wt();return qt(99,ia.bind(null,e,t)),null}function ia(e,t){do{aa()}while(null!==Mo);if(0!==(48&no))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<o;){var u=31-wt(o),c=1<<u;i[u]=0,a[u]=-1,l[u]=-1,o&=~c}if(null!==Co&&0===(24&r)&&Co.has(e)&&Co.delete(e),e===ro&&(io=ro=null,oo=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){i=no,no|=32,eo.current=null,Do=B(e.containerInfo),zo=!1,bo=r;do{try{oa()}catch(y){if(null===bo)throw Error(s(330));ha(bo,y),bo=bo.nextEffect}}while(null!==bo);Do=null,bo=r;do{try{for(a=e;null!==bo;){var h=bo.flags;if(16&h&&K&&we(bo.stateNode),128&h){var p=bo.alternate;if(null!==p){var f=p.ref;null!==f&&("function"===typeof f?f(null):f.current=null)}}switch(1038&h){case 2:Ri(bo),bo.flags&=-3;break;case 6:Ri(bo),bo.flags&=-3,zi(bo.alternate,bo);break;case 1024:bo.flags&=-1025;break;case 1028:bo.flags&=-1025,zi(bo.alternate,bo);break;case 4:zi(bo.alternate,bo);break;case 8:l=a,o=bo,K?Di(l,o):Ci(l,o);var d=o.alternate;Pi(o),null!==d&&Pi(d)}bo=bo.nextEffect}}catch(y){if(null===bo)throw Error(s(330));ha(bo,y),bo=bo.nextEffect}}while(null!==bo);zo&&re(),F(e.containerInfo),e.current=n,bo=r;do{try{for(h=e;null!==bo;){var m=bo.flags;if(36&m&&ki(h,bo.alternate,bo),128&m){p=void 0;var v=bo.ref;if(null!==v){var g=bo.stateNode;if(5===bo.tag)p=D(g);else p=g;"function"===typeof v?v(p):v.current=p}}bo=bo.nextEffect}}catch(y){if(null===bo)throw Error(s(330));ha(bo,y),bo=bo.nextEffect}}while(null!==bo);bo=null,Bt(),no=i}else e.current=n;if(Eo)Eo=!1,Mo=e,ko=t;else for(bo=r;null!==bo;)t=bo.nextEffect,bo.nextEffect=null,8&bo.flags&&((m=bo).sibling=null,m.stateNode=null),bo=t;if(0===(r=e.pendingLanes)&&(So=null),1===r?e===Oo?Po++:(Po=0,Oo=e):Po=0,n=n.stateNode,pt&&"function"===typeof pt.onCommitFiberRoot)try{pt.onCommitFiberRoot(ht,n,void 0,64===(64&n.current.flags))}catch(y){}if(Uo(e,Ht()),xo)throw xo=!1,e=wo,wo=null,e;return 0!==(8&no)||Xt(),null}function oa(){for(;null!==bo;){var e=bo.alternate;zo||null===Do||(0!==(8&bo.flags)?I(bo,Do)&&(zo=!0,ne()):13===bo.tag&&Fi(e,bo)&&I(bo,Do)&&(zo=!0,ne()));var t=bo.flags;0!==(256&t)&&Ei(e,bo),0===(512&t)||Eo||(Eo=!0,Yt(97,(function(){return aa(),null}))),bo=bo.nextEffect}}function aa(){if(90!==ko){var e=97<ko?97:ko;return ko=90,qt(e,ua)}return!1}function sa(e,t){To.push(t,e),Eo||(Eo=!0,Yt(97,(function(){return aa(),null})))}function la(e,t){Ao.push(t,e),Eo||(Eo=!0,Yt(97,(function(){return aa(),null})))}function ua(){if(null===Mo)return!1;var e=Mo;if(Mo=null,0!==(48&no))throw Error(s(331));var t=no;no|=32;var n=Ao;Ao=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"===typeof a)try{a()}catch(u){if(null===o)throw Error(s(330));ha(o,u)}}for(n=To,To=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(u){if(null===o)throw Error(s(330));ha(o,u)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return no=t,Xt(),!0}function ca(e,t,n){gn(e,t=bi(0,t=gi(n,t),1)),t=No(),null!==(e=jo(e,1))&&(xt(e,1,t),Uo(e,t))}function ha(e,t){if(3===e.tag)ca(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){ca(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===So||!So.has(r))){var i=xi(n,e=gi(t,e),1);if(gn(n,i),i=No(),null!==(n=jo(n,1)))xt(n,1,i),Uo(n,i);else if("function"===typeof r.componentDidCatch&&(null===So||!So.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function pa(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=No(),e.pingedLanes|=e.suspendedLanes&n,ro===e&&(oo&n)===n&&(4===lo||3===lo&&(62914560&oo)===oo&&500>Ht()-vo?Zo(e,0):fo|=n),Uo(e,t)}function fa(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wt()?1:2:(0===Io&&(Io=co),0===(t=_t(62914560&~Io))&&(t=4194304))),n=No(),null!==(e=jo(e,t))&&(xt(e,t,n),Uo(e,n))}_o=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||nt.current)Vr=!0;else{if(0===(n&r)){switch(Vr=!1,t.tag){case 3:Qr(t),$n();break;case 5:Un(t);break;case 1:ot(t.type)&&ut(t);break;case 4:Fn(t,t.stateNode.containerInfo);break;case 10:ln(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?ii(e,t,n):($e(Hn,1&Hn.current),null!==(t=hi(e,t,n))?t.sibling:null);$e(Hn,1&Hn.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ci(e,t,n);t.flags|=64}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(Hn,Hn.current),r)break;return null;case 23:case 24:return t.lanes=0,Yr(e,t,n)}return hi(e,t,n)}Vr=0!==(16384&e.flags)}else Vr=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=it(t,tt.current),hn(t,n),i=pr(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(r)){var o=!0;ut(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,dn(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&wn(t,r,a,e),i.updater=Sn,t.stateNode=i,i._reactInternals=t,Tn(t,r,e,n),t=Jr(null,t,r,!0,o,n)}else t.tag=0,Hr(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Sa(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===v)return 11;if(e===_)return 14}return 2}(i),e=tn(i,e),o){case 0:t=Zr(null,t,i,e,n);break e;case 1:t=Kr(null,t,i,e,n);break e;case 11:t=Wr(null,t,i,e,n);break e;case 14:t=Gr(null,t,i,tn(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Zr(e,t,r,i=t.elementType===r?i:tn(r,i),n);case 1:return r=t.type,i=t.pendingProps,Kr(e,t,r,i=t.elementType===r?i:tn(r,i),n);case 3:if(Qr(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,mn(e,t),_n(t,r,null,n),(r=t.memoizedState.element)===i)$n(),t=hi(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Q?(qn=je(t.stateNode.containerInfo),Gn=t,o=Yn=!0):o=!1),o){if(Q&&null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)o=e[i],a=e[i+1],Z?o._workInProgressVersionPrimary=a:o._workInProgressVersionSecondary=a,er.push(o);for(n=In(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Hr(e,t,r,n),$n();t=t.child}return t;case 5:return Un(t),null===e&&Kn(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,W(r,i)?a=null:null!==o&&W(r,o)&&(t.flags|=16),Xr(e,t),Hr(e,t,a,n),t.child;case 6:return null===e&&Kn(t),null;case 13:return ii(e,t,n);case 4:return Fn(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Rn(t,null,r,n):Hr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Wr(e,t,r,i=t.elementType===r?i:tn(r,i),n);case 7:return Hr(e,t,t.pendingProps,n),t.child;case 8:case 12:return Hr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,ln(t,o=i.value),null!==a){var l=a.value;if(0===(o=Jt(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!nt.current){t=hi(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===l.tag&&((c=vn(-1,n&-n)).tag=2,gn(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),cn(l.return,n),u.lanes|=n;break}c=c.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}}Hr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,hn(t,n),r=r(i=pn(i,o.unstable_observedBits)),t.flags|=1,Hr(e,t,r,n),t.child;case 14:return o=tn(i=t.type,t.pendingProps),Gr(e,t,i,o=tn(i.type,o),r,n);case 15:return qr(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ot(r)?(e=!0,ut(t)):e=!1,hn(t,n),Mn(t,r,i),Tn(t,r,i,n),Jr(null,t,r,!0,e,n);case 19:return ci(e,t,n);case 23:case 24:return Yr(e,t,n)}throw Error(s(156,t.tag))};var da={current:!1},ma=a.unstable_flushAllWithoutAsserting,va="function"===typeof ma;function ga(){if(void 0!==ma)return ma();for(var e=!1;aa();)e=!0;return e}function ya(t){try{ga(),function(t){if(null===Ji)try{var n=("require"+Math.random()).slice(0,7);Ji=(e&&e[n]).call(e,"timers").setImmediate}catch(r){Ji=function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}Ji(t)}((function(){ga()?ya(t):t()}))}catch(n){t(n)}}var _a=0,ba=!1;function xa(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function wa(e,t,n,r){return new xa(e,t,n,r)}function Sa(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ea(e,t){var n=e.alternate;return null===n?((n=wa(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ma(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Sa(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case h:return ka(n.children,i,o,t);case w:a=8,i|=16;break;case p:a=8,i|=1;break;case f:return(e=wa(12,n,t,8|i)).elementType=f,e.type=f,e.lanes=o,e;case g:return(e=wa(13,n,t,i)).type=g,e.elementType=g,e.lanes=o,e;case y:return(e=wa(19,n,t,i)).elementType=y,e.lanes=o,e;case S:return Ta(n,i,o,t);case E:return(e=wa(24,n,t,i)).elementType=E,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case d:a=10;break e;case m:a=9;break e;case v:a=11;break e;case _:a=14;break e;case b:a=16,r=null;break e;case x:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=wa(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function ka(e,t,n,r){return(e=wa(7,e,r,t)).lanes=n,e}function Ta(e,t,n,r){return(e=wa(23,e,r,t)).elementType=S,e.lanes=n,e}function Aa(e,t,n){return(e=wa(6,e,null,t)).lanes=n,e}function Ca(e,t,n){return(t=wa(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pa(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=X,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=bt(0),this.expirationTimes=bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bt(0),Q&&(this.mutableSourceEagerHydrationData=null)}function Oa(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=R(t))?null:e.stateNode}function Ra(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ia(e,t){Ra(e,t),(e=e.alternate)&&Ra(e,t)}function La(e){return null===(e=R(e))?null:e.stateNode}function Da(){return null}return r.IsThisRendererActing=da,r.act=function(e){function t(){_a--,to.current=n,da.current=r}!1===ba&&(ba=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),_a++;var n=to.current,r=da.current;to.current=!0,da.current=!0;try{var i=Go(e)}catch(o){throw t(),o}if(null!==i&&"object"===typeof i&&"function"===typeof i.then)return{then:function(e,r){i.then((function(){1<_a||!0===va&&!0===n?(t(),e()):ya((function(n){t(),n?r(n):e()}))}),(function(e){t(),r(e)}))}};try{1!==_a||!1!==va&&!1!==n||ga(),t()}catch(o){throw t(),o}return{then:function(e){e()}}},r.attemptContinuousHydration=function(e){13===e.tag&&(Fo(e,67108864,No()),Ia(e,67108864))},r.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=No(),n=Bo(e);Fo(e,n,t),Ia(e,n)}},r.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.hydrate){var n=mt(t.pendingLanes);t.expiredLanes|=n&t.pendingLanes,Uo(t,Ht()),0===(48&no)&&(yo(),Xt())}break;case 13:var r=No();qo((function(){return Fo(e,1,r)})),Ia(e,4)}},r.attemptUserBlockingHydration=function(e){13===e.tag&&(Fo(e,4,No()),Ia(e,4))},r.batchedEventUpdates=function(e,t){var n=no;no|=2;try{return e(t)}finally{0===(no=n)&&(yo(),Xt())}},r.batchedUpdates=Go,r.createComponentSelector=function(e){return{$$typeof:ji,value:e}},r.createContainer=function(e,t,n){return e=new Pa(e,t,n),t=wa(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e,dn(t),e},r.createHasPsuedoClassSelector=function(e){return{$$typeof:Ui,value:e}},r.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:c,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},r.createRoleSelector=function(e){return{$$typeof:Vi,value:e}},r.createTestNameSelector=function(e){return{$$typeof:Hi,value:e}},r.createTextSelector=function(e){return{$$typeof:Wi,value:e}},r.deferredUpdates=function(e){return qt(97,e)},r.discreteUpdates=function(e,t,n,r,i){var o=no;no|=4;try{return qt(98,e.bind(null,t,n,r,i))}finally{0===(no=o)&&(yo(),Xt())}},r.findAllNodes=Ki,r.findBoundingRects=function(e,t){if(!oe)throw Error(s(363));t=Ki(e,t),e=[];for(var n=0;n<t.length;n++)e.push(se(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,o=n.y,a=o+n.height,l=t-1;0<=l;l--)if(t!==l){var u=e[l],c=u.x,h=c+u.width,p=u.y,f=p+u.height;if(r>=c&&o>=p&&i<=h&&a<=f){e.splice(t,1);break}if(!(r!==c||n.width!==u.width||f<o||p>a)){p>o&&(u.height+=p-o,u.y=o),f<a&&(u.height=a-p),e.splice(t,1);break}if(!(o!==p||n.height!==u.height||h<r||c>i)){c>r&&(u.width+=c-r,u.x=r),h<i&&(u.width=i-c),e.splice(t,1);break}}return e},r.findHostInstance=Oa,r.findHostInstanceWithNoPortals=function(e){return null===(e=function(e){if(!(e=O(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},r.findHostInstanceWithWarning=function(e){return Oa(e)},r.flushControlled=function(e){var t=no;no|=1;try{qt(99,e)}finally{0===(no=t)&&(yo(),Xt())}},r.flushDiscreteUpdates=function(){0===(49&no)&&(function(){if(null!==Co){var e=Co;Co=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Uo(e,Ht())}))}Xt()}(),aa())},r.flushPassiveEffects=aa,r.flushSync=qo,r.focusWithin=function(e,t){if(!oe)throw Error(s(363));for(t=Zi(e=qi(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!ue(n)){if(5===n.tag&&he(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},r.getCurrentUpdateLanePriority=function(){return ft},r.getFindAllNodesFailureDescription=function(e,t){if(!oe)throw Error(s(363));var n=0,r=[];e=[qi(e),0];for(var i=0;i<e.length;){var o=e[i++],a=e[i++],l=t[a];if((5!==o.tag||!ue(o))&&(Yi(o,l)&&(r.push(Xi(l)),++a>n&&(n=a)),a<t.length))for(o=o.child;null!==o;)e.push(o,a),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Xi(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},r.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?D(e.child.stateNode):e.child.stateNode:null},r.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:La,findFiberByHostInstance:e.findFiberByHostInstance||Da,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.isDisabled&&t.supportsFiber)try{ht=t.inject(e),pt=t}catch(n){}e=!0}return e},r.observeVisibleRects=function(e,t,n,r){if(!oe)throw Error(s(363));e=Ki(e,t);var i=pe(e,n,r).disconnect;return{disconnect:function(){i()}}},r.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},r.runWithPriority=function(e,t){var n=ft;try{return ft=e,t()}finally{ft=n}},r.shouldSuspend=function(){return!1},r.unbatchedUpdates=function(e,t){var n=no;no&=-2,no|=8;try{return e(t)}finally{0===(no=n)&&(yo(),Xt())}},r.updateContainer=function(e,t,n,r){var i=t.current,o=No(),a=Bo(i);e:if(n){t:{if(C(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(ot(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var u=n.type;if(ot(u)){n=lt(n,u,l);break e}}n=l}else n=et;return null===t.context?t.context=n:t.pendingContext=n,(t=vn(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),gn(i,t),Fo(i,a,o),a},r}},258:function(e,t,n){"use strict";e.exports=n(3721)},7719:function(e,t,n){"use strict";var r=n(474),i=n(2791),o=n(4164);function a(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var l=a(r),u=s(i),c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},c(e,t)};function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p.apply(this,arguments)};function f(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var d="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};var m=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},v="object"==typeof d&&d&&d.Object===Object&&d,g="object"==typeof self&&self&&self.Object===Object&&self,y=v||g||Function("return this")(),_=y,b=function(){return _.Date.now()},x=/\s/;var w=function(e){for(var t=e.length;t--&&x.test(e.charAt(t)););return t},S=/^\s+/;var E=function(e){return e?e.slice(0,w(e)+1).replace(S,""):e},M=y.Symbol,k=M,T=Object.prototype,A=T.hasOwnProperty,C=T.toString,P=k?k.toStringTag:void 0;var O=function(e){var t=A.call(e,P),n=e[P];try{e[P]=void 0;var r=!0}catch(o){}var i=C.call(e);return r&&(t?e[P]=n:delete e[P]),i},R=Object.prototype.toString;var I=O,L=function(e){return R.call(e)},D=M?M.toStringTag:void 0;var z=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":D&&D in Object(e)?I(e):L(e)},N=function(e){return null!=e&&"object"==typeof e};var B=E,F=m,j=function(e){return"symbol"==typeof e||N(e)&&"[object Symbol]"==z(e)},U=/^[-+]0x[0-9a-f]+$/i,V=/^0b[01]+$/i,H=/^0o[0-7]+$/i,W=parseInt;var G=m,q=b,Y=function(e){if("number"==typeof e)return e;if(j(e))return NaN;if(F(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=F(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=B(e);var n=V.test(e);return n||H.test(e)?W(e.slice(2),n?2:8):U.test(e)?NaN:+e},X=Math.max,Z=Math.min;var K=function(e,t,n){var r,i,o,a,s,l,u=0,c=!1,h=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function d(e){return u=e,s=setTimeout(v,t),c?f(e):a}function m(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-u>=o}function v(){var e=q();if(m(e))return g(e);s=setTimeout(v,function(e){var n=t-(e-l);return h?Z(n,o-(e-u)):n}(e))}function g(e){return s=void 0,p&&r?f(e):(r=i=void 0,a)}function y(){var e=q(),n=m(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return d(l);if(h)return clearTimeout(s),s=setTimeout(v,t),f(l)}return void 0===s&&(s=setTimeout(v,t)),a}return t=Y(t)||0,G(n)&&(c=!!n.leading,o=(h="maxWait"in n)?X(Y(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},y.flush=function(){return void 0===s?a:g(q())},y},J=K,Q=m;var $=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Q(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),J(e,t,{leading:r,maxWait:t,trailing:i})},ee=function(e,t,n,r){switch(t){case"debounce":return K(e,n,r);case"throttle":return $(e,n,r);default:return e}},te=function(e){return"function"===typeof e},ne=function(){return"undefined"===typeof window},re=function(e){return e instanceof Element||e instanceof HTMLDocument},ie=function(e,t,n,r){return function(i){var o=i.width,a=i.height;t((function(t){return t.width===o&&t.height===a||t.width===o&&!r||t.height===a&&!n?t:(e&&te(e)&&e(o,a),{width:o,height:a})}))}},oe=function(e){function t(t){var n=e.call(this,t)||this;n.cancelHandler=function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)},n.attachObserver=function(){var e=n.props,t=e.targetRef,r=e.observerOptions;if(!ne()){t&&t.current&&(n.targetRef.current=t.current);var i=n.getElement();i&&(n.observableElement&&n.observableElement===i||(n.observableElement=i,n.resizeObserver.observe(i,r)))}},n.getElement=function(){var e=n.props,t=e.querySelector,r=e.targetDomEl;if(ne())return null;if(t)return document.querySelector(t);if(r&&re(r))return r;if(n.targetRef&&re(n.targetRef.current))return n.targetRef.current;var i=o.findDOMNode(n);if(!i)return null;switch(n.getRenderType()){case"renderProp":case"childFunction":case"child":case"childArray":return i;default:return i.parentElement}},n.createResizeHandler=function(e){var t=n.props,r=t.handleWidth,i=void 0===r||r,o=t.handleHeight,a=void 0===o||o,s=t.onResize;if(i||a){var l=ie(s,n.setState.bind(n),i,a);e.forEach((function(e){var t=e&&e.contentRect||{},r=t.width,i=t.height;!n.skipOnMount&&!ne()&&l({width:r,height:i}),n.skipOnMount=!1}))}},n.getRenderType=function(){var e=n.props,t=e.render,r=e.children;return te(t)?"renderProp":te(r)?"childFunction":i.isValidElement(r)?"child":Array.isArray(r)?"childArray":"parent"};var r=t.skipOnMount,a=t.refreshMode,s=t.refreshRate,u=void 0===s?1e3:s,c=t.refreshOptions;return n.state={width:void 0,height:void 0},n.skipOnMount=r,n.targetRef=i.createRef(),n.observableElement=null,ne()||(n.resizeHandler=ee(n.createResizeHandler,a,u,c),n.resizeObserver=new l.default(n.resizeHandler)),n}return h(t,e),t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){ne()||(this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var e,t=this.props,n=t.render,r=t.children,o=t.nodeType,a=void 0===o?"div":o,s=this.state,l={width:s.width,height:s.height,targetRef:this.targetRef};switch(this.getRenderType()){case"renderProp":return n&&n(l);case"childFunction":return(e=r)(l);case"child":if((e=r).type&&"string"===typeof e.type){var c=f(l,["targetRef"]);return i.cloneElement(e,c)}return i.cloneElement(e,l);case"childArray":return(e=r).map((function(e){return!!e&&i.cloneElement(e,l)}));default:return u.createElement(a,null)}},t}(i.PureComponent);var ae=ne()?i.useEffect:i.useLayoutEffect;t.ZP=oe},2690:function(e,t,n){"use strict";var r=n(5318);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n(19));e.exports=t.default},19:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},891:function(e){"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,n){e.classList?e.classList.remove(n):"string"===typeof e.className?e.className=t(e.className,n):e.setAttribute("class",t(e.className&&e.className.baseVal||"",n))}},9745:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2007));var r=s(n(2690)),i=s(n(891)),o=s(n(2791)),a=s(n(5580));n(4987);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,i.default)(e,t)}))},h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),u(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,i=t.getClassNames("enter").doneClassName,o=n?r+" "+i:i;t.removeClasses(e,n?"appear":"enter"),u(e,o),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),u(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),u(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?(r&&n?n+"-":"")+e:n[e];return{className:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&c(e,r),i&&c(e,i),o&&c(e,o)},i.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,u(e,t))},i.render=function(){var e=l({},this.props);return delete e.classNames,o.default.createElement(a.default,l({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(o.default.Component);h.defaultProps={classNames:""},h.propTypes={};var p=h;t.default=p,e.exports=t.default},6492:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;a(n(2007));var r=a(n(2791)),i=n(4164),o=a(n(2584));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=a.prototype;return s.handleLifecycle=function(e,t,n){var o,a=this.props.children,s=r.default.Children.toArray(a)[t];s.props[e]&&(o=s.props)[e].apply(o,n),this.props[e]&&this.props[e]((0,i.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,n=e.in,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","in"]),a=r.default.Children.toArray(t),s=a[0],l=a[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,r.default.createElement(o.default,i,n?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},a}(r.default.Component);s.propTypes={};var l=s;t.default=l,e.exports=t.default},5580:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2007)),i=s(n(2791)),o=s(n(4164)),a=n(3688);n(4987);function s(e){return e&&e.__esModule?e:{default:e}}var l="unmounted";t.UNMOUNTED=l;var u="exited";t.EXITED=u;var c="entering";t.ENTERING=c;var h="entered";t.ENTERED=h;var p="exiting";t.EXITING=p;var f=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,o=n.transitionGroup,a=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=u,r.appearStatus=c):i=h:i=t.unmountOnExit||t.mountOnEnter?l:u,r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:u}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==c&&n!==h&&(t=c):n!==c&&n!==h||(t=p)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);t===c?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:l})},a.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:c},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:h},(function(){n.props.onEntered(e,i)}))}))}))):this.safeSetState({status:h},(function(){n.props.onEntered(e)}))},a.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:p},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:u},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:u},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(e,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},r}(i.default.Component);function d(){}f.contextTypes={transitionGroup:r.object},f.childContextTypes={transitionGroup:function(){}},f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:d,onEntering:d,onEntered:d,onExit:d,onExiting:d,onExited:d},f.UNMOUNTED=0,f.EXITED=1,f.ENTERING=2,f.ENTERED=3,f.EXITING=4;var m=(0,a.polyfill)(f);t.default=m},2584:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(2007)),i=s(n(2791)),o=n(3688),a=n(6970);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},h=function(e){var t,n;function r(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(u(u(r)));return r.state={handleExited:i,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,r):(0,a.getNextChildMapping)(e,n,r),firstRender:!1}},o.handleExited=function(e,t){var n=(0,a.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=l({},t.children);return delete n[e.key],{children:n}})))},o.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["component","childFactory"]),o=c(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o:i.default.createElement(t,r,o)},r}(i.default.Component);h.childContextTypes={transitionGroup:r.default.object.isRequired},h.propTypes={},h.defaultProps={component:"div",childFactory:function(e){return e}};var p=(0,o.polyfill)(h);t.default=p,e.exports=t.default},5937:function(e,t,n){"use strict";var r=s(n(9745)),i=s(n(6492)),o=s(n(2584)),a=s(n(5580));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:a.default,TransitionGroup:o.default,ReplaceTransition:i.default,CSSTransition:r.default}},6970:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return i(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:a(n,"appear",e),enter:a(n,"enter",e),exit:a(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=i(e.children),l=o(t,s);return Object.keys(l).forEach((function(i){var o=l[i];if((0,r.isValidElement)(o)){var u=i in t,c=i in s,h=t[i],p=(0,r.isValidElement)(h)&&!h.props.in;!c||u&&!p?c||!u||p?c&&u&&(0,r.isValidElement)(h)&&(l[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:h.props.in,exit:a(o,"exit",e),enter:a(o,"enter",e)})):l[i]=(0,r.cloneElement)(o,{in:!1}):l[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:a(o,"exit",e),enter:a(o,"enter",e)})}})),l};var r=n(2791);function i(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}function a(e,t,n){return null!=n[t]?n[t]:e.props[t]}},4987:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(2007))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},4425:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(2791)),o=a(n(2007));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=[],c=!1,h=void 0;if("undefined"!==typeof window){var p=n(8697);(h=p.soundManager).onready((function(){u.slice().forEach((function(e){return e()}))}))}function f(){}var d={PLAYING:"PLAYING",STOPPED:"STOPPED",PAUSED:"PAUSED"},m=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this;this.createSound((function(t){return e.updateSound(t)}))}},{key:"componentWillUnmount",value:function(){this.removeSound()}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.url!==e.url?this.createSound((function(n){return t.updateSound(n,e)})):this.updateSound(this.sound)}},{key:"updateSound",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&(this.props.playStatus===d.PLAYING?(0===e.playState&&e.play(),e.paused&&e.resume()):this.props.playStatus===d.STOPPED?0!==e.playState&&e.stop():e.paused||e.pause(),null!=this.props.playFromPosition&&this.props.playFromPosition!==t.playFromPosition&&e.setPosition(this.props.playFromPosition),null!=this.props.position&&e.position!==this.props.position&&Math.round(e.position)!==Math.round(this.props.position)&&e.setPosition(this.props.position),this.props.volume!==t.volume&&e.setVolume(this.props.volume),this.props.playbackRate!==t.playbackRate&&e.setPlaybackRate(this.props.playbackRate))}},{key:"createSound",value:function(e){var t=this;this.removeSound();var n=this;this.props.url&&(this.stopCreatingSound=function(e,t){if(h.ok())return t(h.createSound(e)),function(){};c||(c=!0,h.beginDelayedInit());var n=function(){t(h.createSound(e))};return u.push(n),function(){u.splice(u.indexOf(n),1)}}({url:this.props.url,autoLoad:this.props.autoLoad,volume:this.props.volume,position:this.props.playFromPosition||this.props.position||0,playbackRate:this.props.playbackRate,whileloading:function(){n.props.onLoading(this)},whileplaying:function(){n.props.onPlaying(this)},onerror:function(e,t){n.props.onError(e,t,this)},onload:function(){n.props.onLoad(this)},onpause:function(){n.props.onPause(this)},onresume:function(){n.props.onResume(this)},onstop:function(){n.props.onStop(this)},onfinish:function(){n.props.loop&&n.props.playStatus===d.PLAYING?n.sound.play():n.props.onFinishedPlaying()},onbufferchange:function(){n.props.onBufferChange(this.isBuffering)}},(function(n){t.sound=n,e(n)})))}},{key:"removeSound",value:function(){if(this.stopCreatingSound&&(this.stopCreatingSound(),delete this.stopCreatingSound),this.sound){try{this.sound.destruct()}catch(e){}delete this.sound}}},{key:"render",value:function(){return null}}]),t}(i.default.Component);m.status=d,m.propTypes={url:o.default.string.isRequired,playStatus:o.default.oneOf(Object.keys(d)).isRequired,position:o.default.number,playFromPosition:o.default.number,volume:o.default.number,playbackRate:o.default.number,onError:o.default.func,onLoading:o.default.func,onLoad:o.default.func,onPlaying:o.default.func,onPause:o.default.func,onResume:o.default.func,onStop:o.default.func,onFinishedPlaying:o.default.func,onBufferChange:o.default.func,autoLoad:o.default.bool,loop:o.default.bool},m.defaultProps={volume:100,playbackRate:1,onError:f,onLoading:f,onPlaying:f,onLoad:f,onPause:f,onResume:f,onStop:f,onFinishedPlaying:f,onBufferChange:f,autoLoad:!1,loop:!1},t.Z=m},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:a.current}}t.jsx=u,t.jsxs=u},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),u=h("react.memo"),c=h("react.lazy")}var p="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||d}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||d}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var _=y.prototype=new g;_.constructor=y,r(_,v.prototype),_.isPureReactComponent=!0;var b={current:null},x=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,r)&&!w.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var M=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=e),e=""===r?"."+k(l,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(M,"$&/")+"/"),T(a,t,n,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(M,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+k(s=e[u],u);l+=T(s,t,n,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=T(s=s.value,t,n,c=r+k(s,u++),a);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var P={current:null};function O(){var e=P.current;if(null===e)throw Error(f(321));return e}var R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(f(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=b.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!w.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];o.children=u}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9609:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case u:case p:case v:case m:case l:return e;default:return t}}case i:return t}}}function w(e){return x(e)===h}t.isFragment=function(e){return x(e)===o}},8493:function(e,t,n){"use strict";e.exports=n(9609)},2692:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(82)),i=n(7905),o=s(n(4849)),a=s(n(4170));function s(e){return e&&e.__esModule?e:{default:e}}var l=/((?:\-[a-z]+\-)?calc)/;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return(0,r.default)(e).walk((function(e){if("function"===e.type&&l.test(e.value)){var n=r.default.stringify(e.nodes);if(!(n.indexOf("constant")>=0||n.indexOf("env")>=0)){var s=i.parser.parse(n),u=(0,o.default)(s,t);e.type="word",e.value=(0,a.default)(e.value,u,t)}}}),!0).toString()},e.exports=t.default},8334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(4890),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){switch(e.type){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":return function(e,t,n){t.type===e.type&&(t={type:e.type,value:(0,o.default)(t.value,t.unit,e.unit,n),unit:e.unit});return{left:e,right:t}}(e,t,n);default:return{left:e,right:t}}},e.exports=t.default},4849:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flip=u;var r,i=n(8334),o=(r=i)&&r.__esModule?r:{default:r};function a(e,t){return"MathExpression"===e.type?function(e,t){switch(e=function(e,t){var n=(0,o.default)(e.left,e.right,t),r=a(n.left,t),i=a(n.right,t);"MathExpression"===r.type&&"MathExpression"===i.type&&("/"===r.operator&&"*"===i.operator||"-"===r.operator&&"+"===i.operator||"*"===r.operator&&"/"===i.operator||"+"===r.operator&&"-"===i.operator)&&(s(r.right,i.right)?n=(0,o.default)(r.left,i.left,t):s(r.right,i.left)&&(n=(0,o.default)(r.left,i.right,t)),r=a(n.left,t),i=a(n.right,t));return e.left=r,e.right=i,e}(e,t),e.operator){case"+":case"-":return function(e,t){var n=e,r=n.left,i=n.right,o=n.operator;if("CssVariable"===r.type||"CssVariable"===i.type)return e;if(0===i.value)return r;if(0===r.value&&"+"===o)return i;if(0===r.value&&"-"===o)return c(i);r.type===i.type&&l(r.type)&&((e=Object.assign({},r)).value="+"===o?r.value+i.value:r.value-i.value);if(l(r.type)&&("+"===i.operator||"-"===i.operator)&&"MathExpression"===i.type){if(r.type===i.left.type)return(e=Object.assign({},e)).left=a({type:"MathExpression",operator:o,left:r,right:i.left},t),e.right=i.right,e.operator="-"===o?u(i.operator):i.operator,a(e,t);if(r.type===i.right.type)return(e=Object.assign({},e)).left=a({type:"MathExpression",operator:"-"===o?u(i.operator):i.operator,left:r,right:i.right},t),e.right=i.left,a(e,t)}if("MathExpression"===r.type&&("+"===r.operator||"-"===r.operator)&&l(i.type)){if(i.type===r.left.type)return(e=Object.assign({},r)).left=a({type:"MathExpression",operator:o,left:r.left,right:i},t),a(e,t);if(i.type===r.right.type)return e=Object.assign({},r),"-"===r.operator?(e.right=a({type:"MathExpression",operator:"-"===o?"+":"-",left:i,right:r.right},t),e.operator="-"===o?"-":"+"):e.right=a({type:"MathExpression",operator:o,left:r.right,right:i},t),e.right.value<0&&(e.right.value*=-1,e.operator="-"===e.operator?"+":"-"),a(e,t)}return e}(e,t);case"/":return function(e,t){if(!l(e.right.type))return e;if("Value"!==e.right.type)throw new Error('Cannot divide by "'+e.right.unit+'", number expected');if(0===e.right.value)throw new Error("Cannot divide by zero");if("MathExpression"===e.left.type)return l(e.left.left.type)&&l(e.left.right.type)?(e.left.left.value/=e.right.value,e.left.right.value/=e.right.value,a(e.left,t)):e;if(l(e.left.type))return e.left.value/=e.right.value,e.left;return e}(e,t);case"*":return function(e){if("MathExpression"===e.left.type&&"Value"===e.right.type){if(l(e.left.left.type)&&l(e.left.right.type))return e.left.left.value*=e.right.value,e.left.right.value*=e.right.value,e.left}else{if(l(e.left.type)&&"Value"===e.right.type)return e.left.value*=e.right.value,e.left;if("Value"===e.left.type&&"MathExpression"===e.right.type){if(l(e.right.left.type)&&l(e.right.right.type))return e.right.left.value*=e.left.value,e.right.right.value*=e.left.value,e.right}else if("Value"===e.left.type&&l(e.right.type))return e.right.value*=e.left.value,e.right}return e}(e)}return e}(e,t):"Calc"===e.type?a(e.value,t):e}function s(e,t){return e.type===t.type&&e.value===t.value}function l(e){switch(e){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":case"EmValue":case"ExValue":case"ChValue":case"RemValue":case"VhValue":case"VwValue":case"VminValue":case"VmaxValue":case"PercentageValue":case"Value":return!0}return!1}function u(e){return"+"===e?"-":"+"}function c(e){return l(e.type)?e.value=-e.value:"MathExpression"==e.type&&(e.left=c(e.left),e.right=c(e.right)),e}t.default=a},4170:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=a(t,n);return"MathExpression"===t.type&&(r=e+"("+r+")"),r};var r=n(4849),i={"*":0,"/":0,"+":1,"-":1};function o(e,t){if(!1!==t){var n=Math.pow(10,t);return Math.round(e*n)/n}return e}function a(e,t){switch(e.type){case"MathExpression":var n=e.left,s=e.right,l=e.operator,u="";return"MathExpression"===n.type&&i[l]<i[n.operator]?u+="("+a(n,t)+")":u+=a(n,t),u+=" "+e.operator+" ","MathExpression"===s.type&&i[l]<i[s.operator]?u+="("+a(s,t)+")":"MathExpression"===s.type&&"-"===l&&["+","-"].includes(s.operator)?(s.operator=(0,r.flip)(s.operator),u+=a(s,t)):u+=a(s,t),u;case"Value":return o(e.value,t);case"CssVariable":return e.fallback?"var("+e.value+", "+a(e.fallback,t)+")":"var("+e.value+")";case"Calc":return e.prefix?"-"+e.prefix+"-calc("+a(e.value,t)+")":"calc("+a(e.value,t)+")";default:return o(e.value,t)+e.unit}}e.exports=t.default},7905:function(e,t){var n=function(){function e(e,t){var n;if(Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonParserError"}),null==e&&(e="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:e}),this.hash=t,t&&t.exception instanceof Error){var r=t.exception;this.message=r.message||e,n=r.stack}n||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):n=new Error(e).stack),n&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:n})}function t(e,t,n){n=n||0;for(var r=0;r<t;r++)this.push(e),e+=n}function n(e,t){for(t+=e=this.length-e;e<t;e++)this.push(this[e])}function r(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];"function"===typeof i?(n++,i.apply(t,e[n])):t.push(i)}return t}"function"===typeof Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,Error.prototype):e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.prototype.name="JisonParserError";var i={trace:function(){},JisonParserError:e,yy:{},options:{type:"lalr",hasPartialLrUpgradeOnConflict:!0,errorRecoveryTokenDiscardCount:3},symbols_:{$accept:0,$end:1,ADD:3,ANGLE:16,CHS:22,COMMA:14,CSS_CPROP:13,CSS_VAR:12,DIV:6,EMS:20,EOF:1,EXS:21,FREQ:18,LENGTH:15,LPAREN:7,MUL:5,NESTED_CALC:9,NUMBER:11,PERCENTAGE:28,PREFIX:10,REMS:23,RES:19,RPAREN:8,SUB:4,TIME:17,VHS:24,VMAXS:27,VMINS:26,VWS:25,css_value:33,css_variable:32,error:2,expression:29,math_expression:30,value:31},terminals_:{1:"EOF",2:"error",3:"ADD",4:"SUB",5:"MUL",6:"DIV",7:"LPAREN",8:"RPAREN",9:"NESTED_CALC",10:"PREFIX",11:"NUMBER",12:"CSS_VAR",13:"CSS_CPROP",14:"COMMA",15:"LENGTH",16:"ANGLE",17:"TIME",18:"FREQ",19:"RES",20:"EMS",21:"EXS",22:"CHS",23:"REMS",24:"VHS",25:"VWS",26:"VMINS",27:"VMAXS",28:"PERCENTAGE"},TERROR:2,EOF:1,originalQuoteName:null,originalParseError:null,cleanupAfterParse:null,constructParseErrorInfo:null,yyMergeLocationInfo:null,__reentrant_call_depth:0,__error_infos:[],__error_recovery_infos:[],quoteName:function(e){return'"'+e+'"'},getSymbolName:function(e){if(this.terminals_[e])return this.terminals_[e];var t=this.symbols_;for(var n in t)if(t[n]===e)return n;return null},describeSymbol:function(e){if(e!==this.EOF&&this.terminal_descriptions_&&this.terminal_descriptions_[e])return this.terminal_descriptions_[e];if(e===this.EOF)return"end of input";var t=this.getSymbolName(e);return t?this.quoteName(t):null},collect_expected_token_set:function(e,t){var n=this.TERROR,r=[],i={};if(!t&&this.state_descriptions_&&this.state_descriptions_[e])return[this.state_descriptions_[e]];for(var o in this.table[e])if((o=+o)!==n){var a=t?o:this.describeSymbol(o);a&&!i[a]&&(r.push(a),i[a]=!0)}return r},productions_:function(e){for(var t=[],n=e.pop,r=e.rule,i=0,o=n.length;i<o;i++)t.push([n[i],r[i]]);return t}({pop:r([29,t,[30,10],31,31,32,32,t,[33,15]]),rule:r([2,t,[3,5],4,7,t,[1,4],2,4,6,t,[1,14],2])}),performAction:function(e,t,n){var r=this.yy;r.parser,r.lexer;switch(e){case 0:case 6:this.$=n[t-1];break;case 1:return this.$=n[t-1],n[t-1];case 2:case 3:case 4:case 5:this.$={type:"MathExpression",operator:n[t-1],left:n[t-2],right:n[t]};break;case 7:this.$={type:"Calc",value:n[t-1]};break;case 8:this.$={type:"Calc",value:n[t-1],prefix:n[t-5]};break;case 9:case 10:case 11:this.$=n[t];break;case 12:this.$={type:"Value",value:parseFloat(n[t])};break;case 13:this.$={type:"Value",value:-1*parseFloat(n[t])};break;case 14:this.$={type:"CssVariable",value:n[t-1]};break;case 15:this.$={type:"CssVariable",value:n[t-3],fallback:n[t-1]};break;case 16:this.$={type:"LengthValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 17:this.$={type:"AngleValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 18:this.$={type:"TimeValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 19:this.$={type:"FrequencyValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 20:this.$={type:"ResolutionValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 21:this.$={type:"EmValue",value:parseFloat(n[t]),unit:"em"};break;case 22:this.$={type:"ExValue",value:parseFloat(n[t]),unit:"ex"};break;case 23:this.$={type:"ChValue",value:parseFloat(n[t]),unit:"ch"};break;case 24:this.$={type:"RemValue",value:parseFloat(n[t]),unit:"rem"};break;case 25:this.$={type:"VhValue",value:parseFloat(n[t]),unit:"vh"};break;case 26:this.$={type:"VwValue",value:parseFloat(n[t]),unit:"vw"};break;case 27:this.$={type:"VminValue",value:parseFloat(n[t]),unit:"vmin"};break;case 28:this.$={type:"VmaxValue",value:parseFloat(n[t]),unit:"vmax"};break;case 29:this.$={type:"PercentageValue",value:parseFloat(n[t]),unit:"%"};break;case 30:var i=n[t];i.value*=-1,this.$=i}},table:function(e){for(var t=[],n=e.len,r=e.symbol,i=e.type,o=e.state,a=e.mode,s=e.goto,l=0,u=n.length;l<u;l++){for(var c=n[l],h={},p=0;p<c;p++){var f=r.shift();switch(i.shift()){case 2:h[f]=[a.shift(),s.shift()];break;case 0:h[f]=o.shift();break;default:h[f]=[3]}}t.push(h)}return t}({len:r([24,1,5,23,1,18,t,[0,3],1,t,[0,16],t,[23,4],n,[28,3],0,0,16,1,6,6,t,[0,3],5,1,2,n,[37,3],n,[20,3],5,0,0]),symbol:r([4,7,9,11,12,t,[15,19,1],1,1,t,[3,4,1],n,[30,19],n,[29,4],7,4,10,11,n,[22,14],n,[19,3],n,[43,22],n,[23,69],n,[139,4],8,n,[51,24],4,n,[138,15],13,n,[186,5],8,n,[6,6],n,[5,5],9,8,14,n,[159,47],n,[60,10]]),type:r([t,[2,19],t,[0,5],1,t,[2,24],t,[0,4],n,[22,19],n,[43,42],n,[23,70],n,[28,25],n,[45,25],n,[113,54]]),state:r([1,2,8,6,7,30,n,[4,3],33,37,n,[5,3],38,n,[4,3],39,n,[4,3],40,n,[4,3],42,n,[21,4],50,n,[5,3],51,n,[4,3]]),mode:r([t,[1,179],t,[2,3],n,[5,5],n,[6,4],t,[1,57]]),goto:r([5,3,4,24,t,[9,15,1],t,[25,5,1],n,[24,19],31,35,32,34,n,[18,14],36,n,[38,19],n,[19,57],n,[118,4],41,n,[24,19],43,35,n,[16,14],44,t,[2,3],28,29,2,t,[3,3],28,29,3,n,[53,4],t,[45,5,1],n,[100,42],52,n,[5,4],53])}),defaultActions:function(e){for(var t={},n=e.idx,r=e.goto,i=0,o=n.length;i<o;i++){t[n[i]]=r[i]}return t}({idx:r([6,7,8,t,[10,16,1],33,34,39,40,41,45,47,52,53]),goto:r([9,10,11,t,[16,14,1],12,1,30,13,t,[4,4,1],14,15,8])}),parseError:function(e,t,n){if(!t.recoverable)throw"function"===typeof this.trace&&this.trace(e),n||(n=this.JisonParserError),new n(e,t);"function"===typeof this.trace&&this.trace(e),t.destroy()},parse:function(e){var t,n=this,r=new Array(128),i=new Array(128),o=new Array(128),a=this.table,s=0,l=0,u=(this.TERROR,this.EOF),c=(this.options.errorRecoveryTokenDiscardCount,[0,54]);t=this.__lexer__?this.__lexer__:this.__lexer__=Object.create(this.lexer);var h={parseError:void 0,quoteName:void 0,lexer:void 0,parser:void 0,pre_parse:void 0,post_parse:void 0,pre_lex:void 0,post_lex:void 0};function p(){var e=t.fastLex();return"number"!==typeof e&&(e=n.symbols_[e]||e),e||u}"function"!==typeof assert||assert,this.yyGetSharedState=function(){return h},function(e,t){for(var n in t)"undefined"===typeof e[n]&&Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}(h,this.yy),h.lexer=t,h.parser=this,"function"===typeof h.parseError?this.parseError=function(e,t,n){return n||(n=this.JisonParserError),h.parseError.call(this,e,t,n)}:this.parseError=this.originalParseError,"function"===typeof h.quoteName?this.quoteName=function(e){return h.quoteName.call(this,e)}:this.quoteName=this.originalQuoteName,this.cleanupAfterParse=function(e,n,a){var l,u;n&&((h.post_parse||this.post_parse)&&(u=this.constructParseErrorInfo(null,null,null,!1)),h.post_parse&&"undefined"!==typeof(l=h.post_parse.call(this,h,e,u))&&(e=l),this.post_parse&&"undefined"!==typeof(l=this.post_parse.call(this,h,e,u))&&(e=l),u&&u.destroy&&u.destroy());if(this.__reentrant_call_depth>1)return e;if(t.cleanupAfterLex&&t.cleanupAfterLex(a),h&&(h.lexer=void 0,h.parser=void 0,t.yy===h&&(t.yy=void 0)),h=void 0,this.parseError=this.originalParseError,this.quoteName=this.originalQuoteName,r.length=0,i.length=0,o.length=0,s=0,!a){for(var c=this.__error_infos.length-1;c>=0;c--){var p=this.__error_infos[c];p&&"function"===typeof p.destroy&&p.destroy()}this.__error_infos.length=0}return e},this.constructParseErrorInfo=function(e,n,a,u){var c={errStr:e,exception:n,text:t.match,value:t.yytext,token:this.describeSymbol(l)||l,token_id:l,line:t.yylineno,expected:a,recoverable:u,state:f,action:d,new_state:b,symbol_stack:r,state_stack:i,value_stack:o,stack_pointer:s,yy:h,lexer:t,parser:this,destroy:function(){var e=!!this.recoverable;for(var t in this)this.hasOwnProperty(t)&&"object"===typeof t&&(this[t]=void 0);this.recoverable=e}};return this.__error_infos.push(c),c};var f,d,m,v,g,y,_,b,x=function(){var e=t.lex();return"number"!==typeof e&&(e=n.symbols_[e]||e),e||u},w={$:!0,_$:void 0,yy:h},S=!1;try{if(this.__reentrant_call_depth++,t.setInput(e,h),"function"===typeof t.canIUse)t.canIUse().fastLex&&(x=p);for(o[s]=null,i[s]=0,r[s]=0,++s,this.pre_parse&&this.pre_parse.call(this,h),h.pre_parse&&h.pre_parse.call(this,h),b=i[s-1];;){if(f=b,this.defaultActions[f])d=2,b=this.defaultActions[f];else if(l||(l=x()),v=a[f]&&a[f][l]||c,b=v[1],!(d=v[0])){var E,M=this.describeSymbol(l)||l,k=this.collect_expected_token_set(f);E="number"===typeof t.yylineno?"Parse error on line "+(t.yylineno+1)+": ":"Parse error: ","function"===typeof t.showPosition&&(E+="\n"+t.showPosition(69,10)+"\n"),k.length?E+="Expecting "+k.join(", ")+", got unexpected "+M:E+="Unexpected "+M,g=this.constructParseErrorInfo(E,null,k,!1),"undefined"!==typeof(m=this.parseError(g.errStr,g,this.JisonParserError))&&(S=m);break}switch(d){default:if(d instanceof Array){g=this.constructParseErrorInfo("Parse Error: multiple actions possible at state: "+f+", token: "+l,null,null,!1),"undefined"!==typeof(m=this.parseError(g.errStr,g,this.JisonParserError))&&(S=m);break}g=this.constructParseErrorInfo("Parsing halted. No viable error recovery approach available due to internal system failure.",null,null,!1),"undefined"!==typeof(m=this.parseError(g.errStr,g,this.JisonParserError))&&(S=m);break;case 1:r[s]=l,o[s]=t.yytext,i[s]=b,++s,l=0;continue;case 2:if(y=(_=this.productions_[b-1])[1],"undefined"!==typeof(m=this.performAction.call(w,b,s-1,o))){S=m;break}s-=y;var T=_[0];r[s]=T,o[s]=w.$,b=a[i[s-1]][T],i[s]=b,++s;continue;case 3:-2!==s&&(S=!0,s--,"undefined"!==typeof o[s]&&(S=o[s]))}break}}catch(A){if(A instanceof this.JisonParserError)throw A;if(t&&"function"===typeof t.JisonLexerError&&A instanceof t.JisonLexerError)throw A;g=this.constructParseErrorInfo("Parsing aborted due to exception.",A,null,!1),S=!1,"undefined"!==typeof(m=this.parseError(g.errStr,g,this.JisonParserError))&&(S=m)}finally{S=this.cleanupAfterParse(S,!0,!0),this.__reentrant_call_depth--}return S}};i.originalParseError=i.parseError,i.originalQuoteName=i.quoteName;var o=function(){function e(e,t){var n;if(Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonLexerError"}),null==e&&(e="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:e}),this.hash=t,t&&t.exception instanceof Error){var r=t.exception;this.message=r.message||e,n=r.stack}n||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):n=new Error(e).stack),n&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:n})}"function"===typeof Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,Error.prototype):e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.prototype.name="JisonLexerError";var t={EOF:1,ERROR:2,__currentRuleSet__:null,__error_infos:[],__decompressed:!1,done:!1,_backtrack:!1,_input:"",_more:!1,_signaled_error_token:!1,conditionStack:[],match:"",matched:"",matches:!1,yytext:"",offset:0,yyleng:0,yylineno:0,yylloc:null,constructLexErrorInfo:function(e,t,n){if(e=""+e,void 0==n&&(n=!(e.indexOf("\n")>0&&e.indexOf("^")>0)),this.yylloc&&n)if("function"===typeof this.prettyPrintRange){this.prettyPrintRange(this.yylloc);/\n\s*$/.test(e)||(e+="\n"),e+="\n  Erroneous area:\n"+this.prettyPrintRange(this.yylloc)}else if("function"===typeof this.showPosition){var r=this.showPosition();r&&(e.length&&"\n"!==e[e.length-1]&&"\n"!==r[0]?e+="\n"+r:e+=r)}var i={errStr:e,recoverable:!!t,text:this.match,token:null,line:this.yylineno,loc:this.yylloc,yy:this.yy,lexer:this,destroy:function(){var e=!!this.recoverable;for(var t in this)this.hasOwnProperty(t)&&"object"===typeof t&&(this[t]=void 0);this.recoverable=e}};return this.__error_infos.push(i),i},parseError:function(e,t,n){if(n||(n=this.JisonLexerError),this.yy){if(this.yy.parser&&"function"===typeof this.yy.parser.parseError)return this.yy.parser.parseError.call(this,e,t,n)||this.ERROR;if("function"===typeof this.yy.parseError)return this.yy.parseError.call(this,e,t,n)||this.ERROR}throw new n(e,t)},yyerror:function(e){var t="";this.yylloc&&(t=" on line "+(this.yylineno+1));var n=this.constructLexErrorInfo("Lexical error"+t+": "+e,this.options.lexerErrorsAreRecoverable),r=Array.prototype.slice.call(arguments,1);return r.length&&(n.extra_error_attributes=r),this.parseError(n.errStr,n,this.JisonLexerError)||this.ERROR},cleanupAfterLex:function(e){if(this.setInput("",{}),!e){for(var t=this.__error_infos.length-1;t>=0;t--){var n=this.__error_infos[t];n&&"function"===typeof n.destroy&&n.destroy()}this.__error_infos.length=0}return this},clear:function(){this.yytext="",this.yyleng=0,this.match="",this.matches=!1,this._more=!1,this._backtrack=!1;var e=this.yylloc?this.yylloc.last_column:0;this.yylloc={first_line:this.yylineno+1,first_column:e,last_line:this.yylineno+1,last_column:e,range:[this.offset,this.offset]}},setInput:function(e,t){if(this.yy=t||this.yy||{},!this.__decompressed){for(var n=this.rules,r=0,i=n.length;r<i;r++){"number"===typeof(p=n[r])&&(n[r]=n[p])}var o=this.conditions;for(var a in o){var s=o[a],l=s.rules,u=(i=l.length,new Array(i+1)),c=new Array(i+1);for(r=0;r<i;r++){var h=l[r],p=n[h];u[r+1]=p,c[r+1]=h}s.rules=c,s.__rule_regexes=u,s.__rule_count=i}this.__decompressed=!0}return this._input=e||"",this.clear(),this._signaled_error_token=!1,this.done=!1,this.yylineno=0,this.matched="",this.conditionStack=["INITIAL"],this.__currentRuleSet__=null,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]},this.offset=0,this},editRemainingInput:function(e,t){var n=e.call(this,this._input,t);return"string"!==typeof n?n&&(this._input=""+n):this._input=n,this},input:function(){if(!this._input)return null;var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=1,n=!1;if("\n"===e)n=!0;else if("\r"===e){n=!0;var r=this._input[1];"\n"===r&&(t++,e+=r,this.yytext+=r,this.yyleng++,this.offset++,this.match+=r,this.matched+=r,this.yylloc.range[1]++)}return n?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(t),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);if(this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.yyleng=this.yytext.length,this.offset-=t,this.match=this.match.substr(0,this.match.length-t),this.matched=this.matched.substr(0,this.matched.length-t),n.length>1){this.yylineno-=n.length-1,this.yylloc.last_line=this.yylineno+1;var r=this.match,i=r.split(/(?:\r\n?|\n)/g);1===i.length&&(i=(r=this.matched).split(/(?:\r\n?|\n)/g)),this.yylloc.last_column=i[i.length-1].length}else this.yylloc.last_column-=t;return this.yylloc.range[1]=this.yylloc.range[0]+this.yyleng,this.done=!1,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else{var e="";this.yylloc&&(e=" on line "+(this.yylineno+1));var t=this.constructLexErrorInfo("Lexical error"+e+": You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).",!1);this._signaled_error_token=this.parseError(t.errStr,t,this.JisonLexerError)||this.ERROR}return this},less:function(e){return this.unput(this.match.slice(e))},pastInput:function(e,t){var n=this.matched.substring(0,this.matched.length-this.match.length);e<0?e=n.length:e||(e=20),t<0?t=n.length:t||(t=1);var r=(n=n.substr(2*-e-2)).replace(/\r\n|\r/g,"\n").split("\n");return(n=(r=r.slice(-t)).join("\n")).length>e&&(n="..."+n.substr(-e)),n},upcomingInput:function(e,t){var n=this.match;e<0?e=n.length+this._input.length:e||(e=20),t<0?t=e:t||(t=1),n.length<2*e+2&&(n+=this._input.substring(0,2*e+2));var r=n.replace(/\r\n|\r/g,"\n").split("\n");return(n=(r=r.slice(0,t)).join("\n")).length>e&&(n=n.substring(0,e)+"..."),n},showPosition:function(e,t){var n=this.pastInput(e).replace(/\s/g," "),r=new Array(n.length+1).join("-");return n+this.upcomingInput(t).replace(/\s/g," ")+"\n"+r+"^"},deriveLocationInfo:function(e,t,n,r){var i={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]};return e&&(i.first_line=0|e.first_line,i.last_line=0|e.last_line,i.first_column=0|e.first_column,i.last_column=0|e.last_column,e.range&&(i.range[0]=0|e.range[0],i.range[1]=0|e.range[1])),(i.first_line<=0||i.last_line<i.first_line)&&(i.first_line<=0&&t&&(i.first_line=0|t.last_line,i.first_column=0|t.last_column,t.range&&(i.range[0]=0|e.range[1])),(i.last_line<=0||i.last_line<i.first_line)&&n&&(i.last_line=0|n.first_line,i.last_column=0|n.first_column,n.range&&(i.range[1]=0|e.range[0])),i.first_line<=0&&r&&(i.last_line<=0||r.last_line<=i.last_line)&&(i.first_line=0|r.first_line,i.first_column=0|r.first_column,r.range&&(i.range[0]=0|r.range[0])),i.last_line<=0&&r&&(i.first_line<=0||r.first_line>=i.first_line)&&(i.last_line=0|r.last_line,i.last_column=0|r.last_column,r.range&&(i.range[1]=0|r.range[1]))),i.last_line<=0&&(i.first_line<=0?(i.first_line=this.yylloc.first_line,i.last_line=this.yylloc.last_line,i.first_column=this.yylloc.first_column,i.last_column=this.yylloc.last_column,i.range[0]=this.yylloc.range[0],i.range[1]=this.yylloc.range[1]):(i.last_line=this.yylloc.last_line,i.last_column=this.yylloc.last_column,i.range[1]=this.yylloc.range[1])),i.first_line<=0&&(i.first_line=i.last_line,i.first_column=0,i.range[1]=i.range[0]),i.first_column<0&&(i.first_column=0),i.last_column<0&&(i.last_column=i.first_column>0?i.first_column:80),i},prettyPrintRange:function(e,t,n){e=this.deriveLocationInfo(e,t,n);var r=(this.matched+this._input).split("\n"),i=Math.max(1,t?t.first_line:e.first_line-3),o=Math.max(1,n?n.last_line:e.last_line+1),a=1+Math.log10(1|o)|0,s=new Array(a).join(" "),l=[],u=r.slice(i-1,o+1).map((function(t,n){var r=n+i,o=(s+r).substr(-a)+": "+t,u=new Array(a+1).join("^"),c=3,h=0;(r===e.first_line?(c+=e.first_column,h=Math.max(2,(r===e.last_line?e.last_column:t.length)-e.first_column+1)):r===e.last_line?h=Math.max(2,e.last_column+1):r>e.first_line&&r<e.last_line&&(h=Math.max(2,t.length+1)),h)&&(o+="\n"+u+new Array(c).join(".")+new Array(h).join("^"),t.trim().length>0&&l.push(n));return o=o.replace(/\t/g," ")}));if(l.length>4){var c=l[1]+1,h=l[l.length-2]-1,p=new Array(a+1).join(" ")+"  (...continued...)";p+="\n"+new Array(a+1).join("-")+"  (---------------)",u.splice(c,h-c+1,p)}return u.join("\n")},describeYYLLOC:function(e,t){var n,r=e.first_line,i=e.last_line,o=e.first_column,a=e.last_column;if(0===i-r?(n="line "+r+", ",n+=a-o<=1?"column "+o:"columns "+o+" .. "+a):n="lines "+r+"(column "+o+") .. "+i+"(column "+a+")",e.range&&t){var s=e.range[0],l=e.range[1]-1;n+=l<=s?" {String Offset: "+s+"}":" {String Offset range: "+s+" .. "+l+"}"}return n},test_match:function(e,t){var n,r,i,o,a;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column,range:this.yylloc.range.slice(0)},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done}),a=(o=e[0]).length,(r=o.split(/(?:\r\n?|\n)/g)).length>1?(this.yylineno+=r.length-1,this.yylloc.last_line=this.yylineno+1,this.yylloc.last_column=r[r.length-1].length):this.yylloc.last_column+=a,this.yytext+=o,this.match+=o,this.matched+=o,this.matches=e,this.yyleng=this.yytext.length,this.yylloc.range[1]+=a,this.offset+=a,this._more=!1,this._backtrack=!1,this._input=this._input.slice(a),n=this.performAction.call(this,this.yy,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var s in i)this[s]=i[s];return this.__currentRuleSet__=null,!1}return!!this._signaled_error_token&&(n=this._signaled_error_token,this._signaled_error_token=!1,n)},next:function(){if(this.done)return this.clear(),this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||this.clear();var i=this.__currentRuleSet__;if(!i&&(!(i=this.__currentRuleSet__=this._currentRules())||!i.rules)){var o="";this.options.trackPosition&&(o=" on line "+(this.yylineno+1));var a=this.constructLexErrorInfo("Internal lexer engine error"+o+': The lex grammar programmer pushed a non-existing condition name "'+this.topState()+'"; this is a fatal error and should be reported to the application programmer team!',!1);return this.parseError(a.errStr,a,this.JisonLexerError)||this.ERROR}for(var s=i.rules,l=i.__rule_regexes,u=i.__rule_count,c=1;c<=u;c++)if((n=this._input.match(l[c]))&&(!t||n[0].length>t[0].length)){if(t=n,r=c,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,s[c])))return e;if(this._backtrack){t=void 0;continue}return!1}if(!this.options.flex)break}if(t)return!1!==(e=this.test_match(t,s[r]))&&e;if(this._input){o="";this.options.trackPosition&&(o=" on line "+(this.yylineno+1));a=this.constructLexErrorInfo("Lexical error"+o+": Unrecognized text.",this.options.lexerErrorsAreRecoverable);var h=this._input,p=this.topState(),f=this.conditionStack.length;return(e=this.parseError(a.errStr,a,this.JisonLexerError)||this.ERROR)===this.ERROR&&(this.matches||h!==this._input||p!==this.topState()||f!==this.conditionStack.length||this.input()),e}return this.done=!0,this.clear(),this.EOF},lex:function(){var e;for("function"===typeof this.pre_lex&&(e=this.pre_lex.call(this,0)),"function"===typeof this.options.pre_lex&&(e=this.options.pre_lex.call(this,e)||e),this.yy&&"function"===typeof this.yy.pre_lex&&(e=this.yy.pre_lex.call(this,e)||e);!e;)e=this.next();return this.yy&&"function"===typeof this.yy.post_lex&&(e=this.yy.post_lex.call(this,e)||e),"function"===typeof this.options.post_lex&&(e=this.options.post_lex.call(this,e)||e),"function"===typeof this.post_lex&&(e=this.post_lex.call(this,e)||e),e},fastLex:function(){for(var e;!e;)e=this.next();return e},canIUse:function(){return{fastLex:!("function"===typeof this.pre_lex||"function"===typeof this.options.pre_lex||this.yy&&"function"===typeof this.yy.pre_lex||this.yy&&"function"===typeof this.yy.post_lex||"function"===typeof this.options.post_lex||"function"===typeof this.post_lex)&&"function"===typeof this.fastLex}},begin:function(e){return this.pushState(e)},pushState:function(e){return this.conditionStack.push(e),this.__currentRuleSet__=null,this},popState:function(){return this.conditionStack.length-1>0?(this.__currentRuleSet__=null,this.conditionStack.pop()):this.conditionStack[0]},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL},stateStackSize:function(){return this.conditionStack.length},options:{trackPosition:!0},JisonLexerError:e,performAction:function(e,t,n){if(1!==t)return this.simpleCaseActionClusters[t]},simpleCaseActionClusters:{0:13,2:5,3:6,4:3,5:4,6:15,7:15,8:15,9:15,10:15,11:15,12:16,13:16,14:16,15:16,16:17,17:17,18:18,19:18,20:19,21:19,22:19,23:20,24:21,25:22,26:23,27:25,28:24,29:26,30:27,31:28,32:11,33:9,34:12,35:10,36:7,37:8,38:14,39:1},rules:[/^(?:(--[\d\-A-Za-z]*))/,/^(?:\s+)/,/^(?:\*)/,/^(?:\/)/,/^(?:\+)/,/^(?:-)/,/^(?:(\d+(\.\d*)?|\.\d+)px\b)/,/^(?:(\d+(\.\d*)?|\.\d+)cm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)mm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)in\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pt\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pc\b)/,/^(?:(\d+(\.\d*)?|\.\d+)deg\b)/,/^(?:(\d+(\.\d*)?|\.\d+)grad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)turn\b)/,/^(?:(\d+(\.\d*)?|\.\d+)s\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ms\b)/,/^(?:(\d+(\.\d*)?|\.\d+)Hz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)kHz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpi\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpcm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dppx\b)/,/^(?:(\d+(\.\d*)?|\.\d+)em\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ex\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ch\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rem\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vw\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vh\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmin\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmax\b)/,/^(?:(\d+(\.\d*)?|\.\d+)%)/,/^(?:(\d+(\.\d*)?|\.\d+)\b)/,/^(?:(calc))/,/^(?:(var))/,/^(?:([a-z]+))/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:!0}}};return t}();function a(){this.yy={}}return i.lexer=o,a.prototype=i,i.Parser=a,new a}();t.parser=n,t.Parser=n.Parser,t.parse=function(){return n.parse.apply(n,arguments)}},82:function(e,t,n){var r=n(3257),i=n(2993),o=n(9581);function a(e){return this instanceof a?(this.nodes=r(e),this):new a(e)}a.prototype.toString=function(){return Array.isArray(this.nodes)?o(this.nodes):""},a.prototype.walk=function(e,t){return i(this.nodes,e,t),this},a.unit=n(4119),a.walk=i,a.stringify=o,e.exports=a},3257:function(e){var t="(".charCodeAt(0),n=")".charCodeAt(0),r="'".charCodeAt(0),i='"'.charCodeAt(0),o="\\".charCodeAt(0),a="/".charCodeAt(0),s=",".charCodeAt(0),l=":".charCodeAt(0),u="*".charCodeAt(0);e.exports=function(e){for(var c,h,p,f,d,m,v,g,y=[],_=e,b=0,x=_.charCodeAt(b),w=_.length,S=[{nodes:y}],E=0,M="",k="",T="";b<w;)if(x<=32){c=b;do{c+=1,x=_.charCodeAt(c)}while(x<=32);f=_.slice(b,c),p=y[y.length-1],x===n&&E?T=f:p&&"div"===p.type?p.after=f:x===s||x===l||x===a&&_.charCodeAt(c+1)!==u?k=f:y.push({type:"space",sourceIndex:b,value:f}),b=c}else if(x===r||x===i){c=b,f={type:"string",sourceIndex:b,quote:h=x===r?"'":'"'};do{if(d=!1,~(c=_.indexOf(h,c+1)))for(m=c;_.charCodeAt(m-1)===o;)m-=1,d=!d;else c=(_+=h).length-1,f.unclosed=!0}while(d);f.value=_.slice(b+1,c),y.push(f),b=c+1,x=_.charCodeAt(b)}else if(x===a&&_.charCodeAt(b+1)===u)f={type:"comment",sourceIndex:b},-1===(c=_.indexOf("*/",b))&&(f.unclosed=!0,c=_.length),f.value=_.slice(b+2,c),y.push(f),b=c+2,x=_.charCodeAt(b);else if(x===a||x===s||x===l)f=_[b],y.push({type:"div",sourceIndex:b-k.length,value:f,before:k,after:""}),k="",b+=1,x=_.charCodeAt(b);else if(t===x){c=b;do{c+=1,x=_.charCodeAt(c)}while(x<=32);if(f={type:"function",sourceIndex:b-M.length,value:M,before:_.slice(b+1,c)},b=c,"url"===M&&x!==r&&x!==i){c-=1;do{if(d=!1,~(c=_.indexOf(")",c+1)))for(m=c;_.charCodeAt(m-1)===o;)m-=1,d=!d;else c=(_+=")").length-1,f.unclosed=!0}while(d);v=c;do{v-=1,x=_.charCodeAt(v)}while(x<=32);f.nodes=b!==v+1?[{type:"word",sourceIndex:b,value:_.slice(b,v+1)}]:[],f.unclosed&&v+1!==c?(f.after="",f.nodes.push({type:"space",sourceIndex:v+1,value:_.slice(v+1,c)})):f.after=_.slice(v+1,c),b=c+1,x=_.charCodeAt(b),y.push(f)}else E+=1,f.after="",y.push(f),S.push(f),y=f.nodes=[],g=f;M=""}else if(n===x&&E)b+=1,x=_.charCodeAt(b),g.after=T,T="",E-=1,S.pop(),y=(g=S[E]).nodes;else{c=b;do{x===o&&(c+=1),c+=1,x=_.charCodeAt(c)}while(c<w&&!(x<=32||x===r||x===i||x===s||x===l||x===a||x===t||x===n&&E));f=_.slice(b,c),t===x?M=f:y.push({type:"word",sourceIndex:b,value:f}),b=c}for(b=S.length-1;b;b-=1)S[b].unclosed=!0;return S[0].nodes}},9581:function(e){function t(e,t){var r,i,o=e.type,a=e.value;return t&&void 0!==(i=t(e))?i:"word"===o||"space"===o?a:"string"===o?(r=e.quote||"")+a+(e.unclosed?"":r):"comment"===o?"/*"+a+(e.unclosed?"":"*/"):"div"===o?(e.before||"")+a+(e.after||""):Array.isArray(e.nodes)?(r=n(e.nodes),"function"!==o?r:a+"("+(e.before||"")+r+(e.after||"")+(e.unclosed?"":")")):a}function n(e,n){var r,i;if(Array.isArray(e)){for(r="",i=e.length-1;~i;i-=1)r=t(e[i],n)+r;return r}return t(e,n)}e.exports=n},4119:function(e){var t="-".charCodeAt(0),n="+".charCodeAt(0),r=".".charCodeAt(0),i="e".charCodeAt(0),o="E".charCodeAt(0);e.exports=function(e){for(var a,s=0,l=e.length,u=!1,c=-1,h=!1;s<l;){if((a=e.charCodeAt(s))>=48&&a<=57)h=!0;else if(a===i||a===o){if(c>-1)break;c=s}else if(a===r){if(u)break;u=!0}else{if(a!==n&&a!==t)break;if(0!==s)break}s+=1}return c+1===s&&s--,!!h&&{number:e.slice(0,s),unit:e.slice(s)}}},2993:function(e){e.exports=function e(t,n,r){var i,o,a,s;for(i=0,o=t.length;i<o;i+=1)a=t[i],r||(s=n(a,i,t)),!1!==s&&"function"===a.type&&Array.isArray(a.nodes)&&e(a.nodes,n,r),r&&n(a,i,t)}},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(O){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new A(r||[]);return o._invoke=function(e,t,n){var r=h;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=M(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var l=c(e,t,n);if("normal"===l.type){if(r=n.done?d:p,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=d,n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=u;var h="suspendedStart",p="suspendedYield",f="executing",d="completed",m={};function v(){}function g(){}function y(){}var _={};l(_,o,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(C([])));x&&x!==n&&r.call(x,o)&&(_=x);var w=y.prototype=v.prototype=Object.create(_);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,o,a,s){var l=c(e[i],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"===typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(h).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function M(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function C(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:P}}function P(){return{value:t,done:!0}}return g.prototype=y,l(w,"constructor",y),l(y,"constructor",g),g.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(E.prototype),l(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(w),l(w,s,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},474:function(e,t,n){"use strict";n.r(t);var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,o="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),a="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],l="undefined"!==typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&l()}function s(){a(o)}function l(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},h=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},p=y(0,0,0,0);function f(e){return parseFloat(e)||0}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function m(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=h(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=f(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=f(r.width),l=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=d(r,"left","right")+o),Math.round(l+a)!==n&&(l-=d(r,"top","bottom")+a)),!function(e){return e===h(e).document.documentElement}(e)){var u=Math.round(s+o)-t,c=Math.round(l+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return y(i.left,i.top,s,l)}var v="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof h(e).SVGGraphicsElement}:function(e){return e instanceof h(e).SVGElement&&"function"===typeof e.getBBox};function g(e){return i?v(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):m(e):p}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var _=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return c(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);c(this,{target:e,contentRect:n})},x=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new _(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),w="undefined"!==typeof WeakMap?new WeakMap:new r,S=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new x(t,n,this);w.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){S.prototype[e]=function(){var t;return(t=w.get(this))[e].apply(t,arguments)}}));var E="undefined"!==typeof o.ResizeObserver?o.ResizeObserver:S;t.default=E},2682:function(e,t,n){var r=this.ROSLIB||{REVISION:"1.0.1"},i=n(1725);i(r,n(831)),i(r,n(7522)),i(r,n(985)),i(r,n(7155)),i(r,n(9375)),e.exports=r},499:function(e,t,n){var r=n(9623),i=n(4836),o=n(7371).EventEmitter2;function a(e){var t=this;e=e||{},this.ros=e.ros,this.serverName=e.serverName,this.actionName=e.actionName,this.timeout=e.timeout,this.omitFeedback=e.omitFeedback,this.omitStatus=e.omitStatus,this.omitResult=e.omitResult,this.goals={};var n=!1;this.feedbackListener=new r({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),this.statusListener=new r({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"}),this.resultListener=new r({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"}),this.goalTopic=new r({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),this.cancelTopic=new r({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"}),this.goalTopic.advertise(),this.cancelTopic.advertise(),this.omitStatus||this.statusListener.subscribe((function(e){n=!0,e.status_list.forEach((function(e){var n=t.goals[e.goal_id.id];n&&n.emit("status",e)}))})),this.omitFeedback||this.feedbackListener.subscribe((function(e){var n=t.goals[e.status.goal_id.id];n&&(n.emit("status",e.status),n.emit("feedback",e.feedback))})),this.omitResult||this.resultListener.subscribe((function(e){var n=t.goals[e.status.goal_id.id];n&&(n.emit("status",e.status),n.emit("result",e.result))})),this.timeout&&setTimeout((function(){n||t.emit("timeout")}),this.timeout)}a.prototype.__proto__=o.prototype,a.prototype.cancel=function(){var e=new i;this.cancelTopic.publish(e)},a.prototype.dispose=function(){this.goalTopic.unadvertise(),this.cancelTopic.unadvertise(),this.omitStatus||this.statusListener.unsubscribe(),this.omitFeedback||this.feedbackListener.unsubscribe(),this.omitResult||this.resultListener.unsubscribe()},e.exports=a},7743:function(e,t,n){var r=n(9623),i=(n(4836),n(7371).EventEmitter2);function o(e){var t=this;e=e||{},this.ros=e.ros,this.serverName=e.serverName,this.actionName=e.actionName,this.timeout=e.timeout,this.omitFeedback=e.omitFeedback,this.omitStatus=e.omitStatus,this.omitResult=e.omitResult;var n=new r({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),i=new r({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),o=new r({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"}),a=new r({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"});n.subscribe((function(e){t.emit("goal",e)})),o.subscribe((function(e){e.status_list.forEach((function(e){t.emit("status",e)}))})),i.subscribe((function(e){t.emit("status",e.status),t.emit("feedback",e.feedback)})),a.subscribe((function(e){t.emit("status",e.status),t.emit("result",e.result)}))}o.prototype.__proto__=i.prototype,e.exports=o},5044:function(e,t,n){var r=n(4836),i=n(7371).EventEmitter2;function o(e){var t=this;this.actionClient=e.actionClient,this.goalMessage=e.goalMessage,this.isFinished=!1;var n=new Date;this.goalID="goal_"+Math.random()+"_"+n.getTime(),this.goalMessage=new r({goal_id:{stamp:{secs:0,nsecs:0},id:this.goalID},goal:this.goalMessage}),this.on("status",(function(e){t.status=e})),this.on("result",(function(e){t.isFinished=!0,t.result=e})),this.on("feedback",(function(e){t.feedback=e})),this.actionClient.goals[this.goalID]=this}o.prototype.__proto__=i.prototype,o.prototype.send=function(e){var t=this;t.actionClient.goalTopic.publish(t.goalMessage),e&&setTimeout((function(){t.isFinished||t.emit("timeout")}),e)},o.prototype.cancel=function(){var e=new r({id:this.goalID});this.actionClient.cancelTopic.publish(e)},e.exports=o},5212:function(e,t,n){var r=n(9623),i=n(4836),o=n(7371).EventEmitter2;function a(e){var t=this;e=e||{},this.ros=e.ros,this.serverName=e.serverName,this.actionName=e.actionName,this.feedbackPublisher=new r({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),this.feedbackPublisher.advertise();var n=new r({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"});n.advertise(),this.resultPublisher=new r({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"}),this.resultPublisher.advertise();var o=new r({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),a=new r({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"});this.statusMessage=new i({header:{stamp:{secs:0,nsecs:100},frame_id:""},status_list:[]}),this.currentGoal=null,this.nextGoal=null,o.subscribe((function(e){t.currentGoal?(t.nextGoal=e,t.emit("cancel")):(t.statusMessage.status_list=[{goal_id:e.goal_id,status:1}],t.currentGoal=e,t.emit("goal",e.goal))}));var s=function(e,t){return!(e.secs>t.secs)&&(e.secs<t.secs||e.nsecs<t.nsecs)};a.subscribe((function(e){0===e.stamp.secs&&0===e.stamp.secs&&""===e.id?(t.nextGoal=null,t.currentGoal&&t.emit("cancel")):(t.currentGoal&&e.id===t.currentGoal.goal_id.id?t.emit("cancel"):t.nextGoal&&e.id===t.nextGoal.goal_id.id&&(t.nextGoal=null),t.nextGoal&&s(t.nextGoal.goal_id.stamp,e.stamp)&&(t.nextGoal=null),t.currentGoal&&s(t.currentGoal.goal_id.stamp,e.stamp)&&t.emit("cancel"))}));setInterval((function(){var e=new Date,r=Math.floor(e.getTime()/1e3),i=Math.round(1e9*(e.getTime()/1e3-r));t.statusMessage.header.stamp.secs=r,t.statusMessage.header.stamp.nsecs=i,n.publish(t.statusMessage)}),500)}a.prototype.__proto__=o.prototype,a.prototype.setSucceeded=function(e){var t=new i({status:{goal_id:this.currentGoal.goal_id,status:3},result:e});this.resultPublisher.publish(t),this.statusMessage.status_list=[],this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},a.prototype.sendFeedback=function(e){var t=new i({status:{goal_id:this.currentGoal.goal_id,status:1},feedback:e});this.feedbackPublisher.publish(t)},a.prototype.setPreempted=function(){this.statusMessage.status_list=[];var e=new i({status:{goal_id:this.currentGoal.goal_id,status:2}});this.resultPublisher.publish(e),this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},e.exports=a},7522:function(e,t,n){var r=n(3758);n(3320)(r,["ActionClient","SimpleActionServer"],e.exports={ActionClient:n(499),ActionListener:n(7743),Goal:n(5044),SimpleActionServer:n(5212)})},4836:function(e,t,n){var r=n(1725);e.exports=function(e){r(this,e)}},5799:function(e,t,n){var r=n(2089),i=n(6353);function o(e){e=e||{},this.ros=e.ros,this.name=e.name}o.prototype.get=function(e){var t=new r({ros:this.ros,name:"/rosapi/get_param",serviceType:"rosapi/GetParam"}),n=new i({name:this.name});t.callService(n,(function(t){var n=JSON.parse(t.value);e(n)}))},o.prototype.set=function(e,t){var n=new r({ros:this.ros,name:"/rosapi/set_param",serviceType:"rosapi/SetParam"}),o=new i({name:this.name,value:JSON.stringify(e)});n.callService(o,t)},o.prototype.delete=function(e){var t=new r({ros:this.ros,name:"/rosapi/delete_param",serviceType:"rosapi/DeleteParam"}),n=new i({name:this.name});t.callService(n,e)},e.exports=o},3758:function(e,t,n){var r=n(4007),i=n(9938),o=n(2089),a=n(6353),s=n(1725),l=n(7371).EventEmitter2;function u(e){e=e||{},this.socket=null,this.idCounter=0,this.isConnected=!1,this.transportLibrary=e.transportLibrary||"websocket",this.transportOptions=e.transportOptions||{},"undefined"===typeof e.groovyCompatibility?this.groovyCompatibility=!0:this.groovyCompatibility=e.groovyCompatibility,this.setMaxListeners(0),e.url&&this.connect(e.url)}u.prototype.__proto__=l.prototype,u.prototype.connect=function(e){if("socket.io"===this.transportLibrary)this.socket=s(io(e,{"force new connection":!0}),i(this)),this.socket.on("connect",this.socket.onopen),this.socket.on("data",this.socket.onmessage),this.socket.on("close",this.socket.onclose),this.socket.on("error",this.socket.onerror);else if("RTCPeerConnection"===this.transportLibrary.constructor.name)this.socket=s(this.transportLibrary.createDataChannel(e,this.transportOptions),i(this));else if(!this.socket||this.socket.readyState===r.CLOSED){var t=new r(e);t.binaryType="arraybuffer",this.socket=s(t,i(this))}},u.prototype.close=function(){this.socket&&this.socket.close()},u.prototype.authenticate=function(e,t,n,r,i,o,a){var s={op:"auth",mac:e,client:t,dest:n,rand:r,t:i,level:o,end:a};this.callOnConnection(s)},u.prototype.callOnConnection=function(e){var t=this,n=JSON.stringify(e),r=null;r="socket.io"===this.transportLibrary?function(e){t.socket.emit("operation",e)}:function(e){t.socket.send(e)},this.isConnected?r(n):t.once("connection",(function(){r(n)}))},u.prototype.setStatusLevel=function(e,t){var n={op:"set_level",level:e,id:t};this.callOnConnection(n)},u.prototype.getActionServers=function(e,t){var n=new o({ros:this,name:"/rosapi/action_servers",serviceType:"rosapi/GetActionServers"}),r=new a({});"function"===typeof t?n.callService(r,(function(t){e(t.action_servers)}),(function(e){t(e)})):n.callService(r,(function(t){e(t.action_servers)}))},u.prototype.getTopics=function(e,t){var n=new o({ros:this,name:"/rosapi/topics",serviceType:"rosapi/Topics"}),r=new a;"function"===typeof t?n.callService(r,(function(t){e(t)}),(function(e){t(e)})):n.callService(r,(function(t){e(t)}))},u.prototype.getTopicsForType=function(e,t,n){var r=new o({ros:this,name:"/rosapi/topics_for_type",serviceType:"rosapi/TopicsForType"}),i=new a({type:e});"function"===typeof n?r.callService(i,(function(e){t(e.topics)}),(function(e){n(e)})):r.callService(i,(function(e){t(e.topics)}))},u.prototype.getServices=function(e,t){var n=new o({ros:this,name:"/rosapi/services",serviceType:"rosapi/Services"}),r=new a;"function"===typeof t?n.callService(r,(function(t){e(t.services)}),(function(e){t(e)})):n.callService(r,(function(t){e(t.services)}))},u.prototype.getServicesForType=function(e,t,n){var r=new o({ros:this,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"}),i=new a({type:e});"function"===typeof n?r.callService(i,(function(e){t(e.services)}),(function(e){n(e)})):r.callService(i,(function(e){t(e.services)}))},u.prototype.getServiceRequestDetails=function(e,t,n){var r=new o({ros:this,name:"/rosapi/service_request_details",serviceType:"rosapi/ServiceRequestDetails"}),i=new a({type:e});"function"===typeof n?r.callService(i,(function(e){t(e)}),(function(e){n(e)})):r.callService(i,(function(e){t(e)}))},u.prototype.getServiceResponseDetails=function(e,t,n){var r=new o({ros:this,name:"/rosapi/service_response_details",serviceType:"rosapi/ServiceResponseDetails"}),i=new a({type:e});"function"===typeof n?r.callService(i,(function(e){t(e)}),(function(e){n(e)})):r.callService(i,(function(e){t(e)}))},u.prototype.getNodes=function(e,t){var n=new o({ros:this,name:"/rosapi/nodes",serviceType:"rosapi/Nodes"}),r=new a;"function"===typeof t?n.callService(r,(function(t){e(t.nodes)}),(function(e){t(e)})):n.callService(r,(function(t){e(t.nodes)}))},u.prototype.getNodeDetails=function(e,t,n){var r=new o({ros:this,name:"/rosapi/node_details",serviceType:"rosapi/NodeDetails"}),i=new a({node:e});"function"===typeof n?r.callService(i,(function(e){t(e.subscribing,e.publishing,e.services)}),(function(e){n(e)})):r.callService(i,(function(e){t(e)}))},u.prototype.getParams=function(e,t){var n=new o({ros:this,name:"/rosapi/get_param_names",serviceType:"rosapi/GetParamNames"}),r=new a;"function"===typeof t?n.callService(r,(function(t){e(t.names)}),(function(e){t(e)})):n.callService(r,(function(t){e(t.names)}))},u.prototype.getTopicType=function(e,t,n){var r=new o({ros:this,name:"/rosapi/topic_type",serviceType:"rosapi/TopicType"}),i=new a({topic:e});"function"===typeof n?r.callService(i,(function(e){t(e.type)}),(function(e){n(e)})):r.callService(i,(function(e){t(e.type)}))},u.prototype.getServiceType=function(e,t,n){var r=new o({ros:this,name:"/rosapi/service_type",serviceType:"rosapi/ServiceType"}),i=new a({service:e});"function"===typeof n?r.callService(i,(function(e){t(e.type)}),(function(e){n(e)})):r.callService(i,(function(e){t(e.type)}))},u.prototype.getMessageDetails=function(e,t,n){var r=new o({ros:this,name:"/rosapi/message_details",serviceType:"rosapi/MessageDetails"}),i=new a({type:e});"function"===typeof n?r.callService(i,(function(e){t(e.typedefs)}),(function(e){n(e)})):r.callService(i,(function(e){t(e.typedefs)}))},u.prototype.decodeTypeDefs=function(e){var t=this;return function e(n,r){for(var i={},o=0;o<n.fieldnames.length;o++){var a=n.fieldarraylen[o],s=n.fieldnames[o],l=n.fieldtypes[o];if(-1===l.indexOf("/"))i[s]=-1===a?l:[l];else{for(var u=!1,c=0;c<r.length;c++)if(r[c].type.toString()===l.toString()){u=r[c];break}if(u){var h=e(u,r);-1===a||(i[s]=[h])}else t.emit("error","Cannot find "+l+" in decodeTypeDefs")}}return i}(e[0],e)},e.exports=u},2089:function(e,t,n){var r=n(4764),i=(n(6353),n(7371).EventEmitter2);function o(e){e=e||{},this.ros=e.ros,this.name=e.name,this.serviceType=e.serviceType,this.isAdvertised=!1,this._serviceCallback=null}o.prototype.__proto__=i.prototype,o.prototype.callService=function(e,t,n){if(!this.isAdvertised){var i="call_service:"+this.name+":"+ ++this.ros.idCounter;(t||n)&&this.ros.once(i,(function(e){void 0!==e.result&&!1===e.result?"function"===typeof n&&n(e.values):"function"===typeof t&&t(new r(e.values))}));var o={op:"call_service",id:i,service:this.name,type:this.serviceType,args:e};this.ros.callOnConnection(o)}},o.prototype.advertise=function(e){this.isAdvertised||"function"!==typeof e||(this._serviceCallback=e,this.ros.on(this.name,this._serviceResponse.bind(this)),this.ros.callOnConnection({op:"advertise_service",type:this.serviceType,service:this.name}),this.isAdvertised=!0)},o.prototype.unadvertise=function(){this.isAdvertised&&(this.ros.callOnConnection({op:"unadvertise_service",service:this.name}),this.isAdvertised=!1)},o.prototype._serviceResponse=function(e){var t={},n=this._serviceCallback(e.args,t),i={op:"service_response",service:this.name,values:new r(t),result:n};e.id&&(i.id=e.id),this.ros.callOnConnection(i)},e.exports=o},6353:function(e,t,n){var r=n(1725);e.exports=function(e){r(this,e)}},4764:function(e,t,n){var r=n(1725);e.exports=function(e){r(this,e)}},9938:function(e,t,n){"use strict";var r=n(2230),i=n(7293),o=n(4529),a=(n(4007),null);"undefined"!==typeof bson&&(a=bson().BSON),e.exports=function(e){function t(t){"publish"===t.op?e.emit(t.topic,t.msg):"service_response"===t.op?e.emit(t.id,t):"call_service"===t.op?e.emit(t.service,t):"status"===t.op&&(t.id?e.emit("status:"+t.id,t):e.emit("status",t))}function n(e,t){"png"===e.op?r(e.data,t):t(e)}return{onopen:function(t){e.isConnected=!0,e.emit("connection",t)},onclose:function(t){e.isConnected=!1,e.emit("close",t)},onerror:function(t){e.emit("error",t)},onmessage:function(e){if("undefined"!==typeof Blob&&e.data instanceof Blob)!function(e,t){if(!a)throw"Cannot process BSON encoded message without BSON header.";var n=new FileReader;n.onload=function(){var e=new Uint8Array(this.result),n=a.deserialize(e);t(n)},n.readAsArrayBuffer(e)}(e.data,(function(e){n(e,t)}));else if(e.data instanceof ArrayBuffer){t(i.decode(e.data,o))}else{n(JSON.parse("string"===typeof e?e:e.data),t)}}}}},9623:function(e,t,n){var r=n(7371).EventEmitter2,i=n(4836);function o(e){e=e||{},this.ros=e.ros,this.name=e.name,this.messageType=e.messageType,this.isAdvertised=!1,this.compression=e.compression||"none",this.throttle_rate=e.throttle_rate||0,this.latch=e.latch||!1,this.queue_size=e.queue_size||100,this.queue_length=e.queue_length||0,this.reconnect_on_close=e.reconnect_on_close||!0,this.compression&&"png"!==this.compression&&"cbor"!==this.compression&&"none"!==this.compression&&(this.emit("warning",this.compression+" compression is not supported. No compression will be used."),this.compression="none"),this.throttle_rate<0&&(this.emit("warning",this.throttle_rate+" is not allowed. Set to 0"),this.throttle_rate=0);var t=this;this.reconnect_on_close?this.callForSubscribeAndAdvertise=function(e){t.ros.callOnConnection(e),t.waitForReconnect=!1,t.reconnectFunc=function(){t.waitForReconnect||(t.waitForReconnect=!0,t.ros.callOnConnection(e),t.ros.once("connection",(function(){t.waitForReconnect=!1})))},t.ros.on("close",t.reconnectFunc)}:this.callForSubscribeAndAdvertise=this.ros.callOnConnection,this._messageCallback=function(e){t.emit("message",new i(e))}}o.prototype.__proto__=r.prototype,o.prototype.subscribe=function(e){"function"===typeof e&&this.on("message",e),this.subscribeId||(this.ros.on(this.name,this._messageCallback),this.subscribeId="subscribe:"+this.name+":"+ ++this.ros.idCounter,this.callForSubscribeAndAdvertise({op:"subscribe",id:this.subscribeId,type:this.messageType,topic:this.name,compression:this.compression,throttle_rate:this.throttle_rate,queue_length:this.queue_length}))},o.prototype.unsubscribe=function(e){e&&(this.off("message",e),this.listeners("message").length)||this.subscribeId&&(this.ros.off(this.name,this._messageCallback),this.reconnect_on_close&&this.ros.off("close",this.reconnectFunc),this.emit("unsubscribe"),this.ros.callOnConnection({op:"unsubscribe",id:this.subscribeId,topic:this.name}),this.subscribeId=null)},o.prototype.advertise=function(){if(!this.isAdvertised&&(this.advertiseId="advertise:"+this.name+":"+ ++this.ros.idCounter,this.callForSubscribeAndAdvertise({op:"advertise",id:this.advertiseId,type:this.messageType,topic:this.name,latch:this.latch,queue_size:this.queue_size}),this.isAdvertised=!0,!this.reconnect_on_close)){var e=this;this.ros.on("close",(function(){e.isAdvertised=!1}))}},o.prototype.unadvertise=function(){this.isAdvertised&&(this.reconnect_on_close&&this.ros.off("close",this.reconnectFunc),this.emit("unadvertise"),this.ros.callOnConnection({op:"unadvertise",id:this.advertiseId,topic:this.name}),this.isAdvertised=!1)},o.prototype.publish=function(e){this.isAdvertised||this.advertise(),this.ros.idCounter++;var t={op:"publish",id:"publish:"+this.name+":"+this.ros.idCounter,topic:this.name,msg:e,latch:this.latch};this.ros.callOnConnection(t)},e.exports=o},831:function(e,t,n){var r=n(3320),i=e.exports={Ros:n(3758),Topic:n(9623),Message:n(4836),Param:n(5799),Service:n(2089),ServiceRequest:n(6353),ServiceResponse:n(4764)};r(i.Ros,["Param","Service","Topic"],i)},6172:function(e,t,n){var r=n(3346),i=n(754);function o(e){e=e||{},this.position=new r(e.position),this.orientation=new i(e.orientation)}o.prototype.applyTransform=function(e){this.position.multiplyQuaternion(e.rotation),this.position.add(e.translation);var t=e.rotation.clone();t.multiply(this.orientation),this.orientation=t},o.prototype.clone=function(){return new o(this)},o.prototype.multiply=function(e){var t=e.clone();return t.applyTransform({rotation:this.orientation,translation:this.position}),t},o.prototype.getInverse=function(){var e=this.clone();return e.orientation.invert(),e.position.multiplyQuaternion(e.orientation),e.position.x*=-1,e.position.y*=-1,e.position.z*=-1,e},e.exports=o},754:function(e){function t(e){e=e||{},this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.w="number"===typeof e.w?e.w:1}t.prototype.conjugate=function(){this.x*=-1,this.y*=-1,this.z*=-1},t.prototype.norm=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},t.prototype.normalize=function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e)},t.prototype.invert=function(){this.conjugate(),this.normalize()},t.prototype.multiply=function(e){var t=this.x*e.w+this.y*e.z-this.z*e.y+this.w*e.x,n=-this.x*e.z+this.y*e.w+this.z*e.x+this.w*e.y,r=this.x*e.y-this.y*e.x+this.z*e.w+this.w*e.z,i=-this.x*e.x-this.y*e.y-this.z*e.z+this.w*e.w;this.x=t,this.y=n,this.z=r,this.w=i},t.prototype.clone=function(){return new t(this)},e.exports=t},9461:function(e,t,n){var r=n(3346),i=n(754);function o(e){e=e||{},this.translation=new r(e.translation),this.rotation=new i(e.rotation)}o.prototype.clone=function(){return new o(this)},e.exports=o},3346:function(e){function t(e){e=e||{},this.x=e.x||0,this.y=e.y||0,this.z=e.z||0}t.prototype.add=function(e){this.x+=e.x,this.y+=e.y,this.z+=e.z},t.prototype.subtract=function(e){this.x-=e.x,this.y-=e.y,this.z-=e.z},t.prototype.multiplyQuaternion=function(e){var t=e.w*this.x+e.y*this.z-e.z*this.y,n=e.w*this.y+e.z*this.x-e.x*this.z,r=e.w*this.z+e.x*this.y-e.y*this.x,i=-e.x*this.x-e.y*this.y-e.z*this.z;this.x=t*e.w+i*-e.x+n*-e.z-r*-e.y,this.y=n*e.w+i*-e.y+r*-e.x-t*-e.z,this.z=r*e.w+i*-e.z+t*-e.y-n*-e.x},t.prototype.clone=function(){return new t(this)},e.exports=t},985:function(e,t,n){e.exports={Pose:n(6172),Quaternion:n(754),Transform:n(9461),Vector3:n(3346)}},3320:function(e){e.exports=function(e,t,n){t.forEach((function(t){var r=n[t];e.prototype[t]=function(e){return e.ros=this,new r(e)}}))}},8459:function(e,t,n){n(499);var r=n(5044),i=(n(2089),n(6353)),o=n(9461);function a(e){e=e||{},this.ros=e.ros,this.fixedFrame=e.fixedFrame||"/base_link",this.angularThres=e.angularThres||2,this.transThres=e.transThres||.01,this.rate=e.rate||10,this.updateDelay=e.updateDelay||50;var t=e.topicTimeout||2,n=Math.floor(t),r=Math.floor(1e9*(t-n));this.topicTimeout={secs:n,nsecs:r},this.serverName=e.serverName||"/tf2_web_republisher",this.repubServiceName=e.repubServiceName||"/republish_tfs",this.currentGoal=!1,this.currentTopic=!1,this.frameInfos={},this.republisherUpdateRequested=!1,this.actionClient=this.ros.ActionClient({serverName:this.serverName,actionName:"tf2_web_republisher/TFSubscriptionAction",omitStatus:!0,omitResult:!0}),this.serviceClient=this.ros.Service({name:this.repubServiceName,serviceType:"tf2_web_republisher/RepublishTFs"})}a.prototype.processTFArray=function(e){e.transforms.forEach((function(e){var t=e.child_frame_id;"/"===t[0]&&(t=t.substring(1));var n=this.frameInfos[t];n&&(n.transform=new o({translation:e.transform.translation,rotation:e.transform.rotation}),n.cbs.forEach((function(e){e(n.transform)})))}),this)},a.prototype.updateGoal=function(){var e={source_frames:Object.keys(this.frameInfos),target_frame:this.fixedFrame,angular_thres:this.angularThres,trans_thres:this.transThres,rate:this.rate};if(this.ros.groovyCompatibility)this.currentGoal&&this.currentGoal.cancel(),this.currentGoal=new r({actionClient:this.actionClient,goalMessage:e}),this.currentGoal.on("feedback",this.processTFArray.bind(this)),this.currentGoal.send();else{e.timeout=this.topicTimeout;var t=new i(e);this.serviceClient.callService(t,this.processResponse.bind(this))}this.republisherUpdateRequested=!1},a.prototype.processResponse=function(e){this.currentTopic&&this.currentTopic.unsubscribe(),this.currentTopic=this.ros.Topic({name:e.topic_name,messageType:"tf2_web_republisher/TFArray"}),this.currentTopic.subscribe(this.processTFArray.bind(this))},a.prototype.subscribe=function(e,t){"/"===e[0]&&(e=e.substring(1)),this.frameInfos[e]?this.frameInfos[e].transform&&t(this.frameInfos[e].transform):(this.frameInfos[e]={cbs:[]},this.republisherUpdateRequested||(setTimeout(this.updateGoal.bind(this),this.updateDelay),this.republisherUpdateRequested=!0)),this.frameInfos[e].cbs.push(t)},a.prototype.unsubscribe=function(e,t){"/"===e[0]&&(e=e.substring(1));for(var n=this.frameInfos[e],r=n&&n.cbs||[],i=r.length;i--;)r[i]===t&&r.splice(i,1);t&&0!==r.length||delete this.frameInfos[e]},a.prototype.dispose=function(){this.actionClient.dispose(),this.currentTopic&&this.currentTopic.unsubscribe()},e.exports=a},7155:function(e,t,n){var r=n(3758);n(3320)(r,["TFClient"],e.exports={TFClient:n(8459)})},4058:function(e,t,n){var r=n(3346),i=n(649);e.exports=function(e){this.dimension=null,this.type=i.URDF_BOX;var t=e.xml.getAttribute("size").split(" ");this.dimension=new r({x:parseFloat(t[0]),y:parseFloat(t[1]),z:parseFloat(t[2])})}},7991:function(e){e.exports=function(e){var t=e.xml.getAttribute("rgba").split(" ");this.r=parseFloat(t[0]),this.g=parseFloat(t[1]),this.b=parseFloat(t[2]),this.a=parseFloat(t[3])}},3326:function(e,t,n){var r=n(649);e.exports=function(e){this.type=r.URDF_CYLINDER,this.length=parseFloat(e.xml.getAttribute("length")),this.radius=parseFloat(e.xml.getAttribute("radius"))}},3005:function(e,t,n){var r=n(6172),i=n(3346),o=n(754);e.exports=function(e){this.name=e.xml.getAttribute("name"),this.type=e.xml.getAttribute("type");var t=e.xml.getElementsByTagName("parent");t.length>0&&(this.parent=t[0].getAttribute("link"));var n=e.xml.getElementsByTagName("child");n.length>0&&(this.child=n[0].getAttribute("link"));var a=e.xml.getElementsByTagName("limit");a.length>0&&(this.minval=parseFloat(a[0].getAttribute("lower")),this.maxval=parseFloat(a[0].getAttribute("upper")));var s=e.xml.getElementsByTagName("origin");if(0===s.length)this.origin=new r;else{var l=s[0].getAttribute("xyz"),u=new i;l&&(l=l.split(" "),u=new i({x:parseFloat(l[0]),y:parseFloat(l[1]),z:parseFloat(l[2])}));var c=s[0].getAttribute("rpy"),h=new o;if(c){c=c.split(" ");var p=parseFloat(c[0])/2,f=parseFloat(c[1])/2,d=parseFloat(c[2])/2,m=Math.sin(p)*Math.cos(f)*Math.cos(d)-Math.cos(p)*Math.sin(f)*Math.sin(d),v=Math.cos(p)*Math.sin(f)*Math.cos(d)+Math.sin(p)*Math.cos(f)*Math.sin(d),g=Math.cos(p)*Math.cos(f)*Math.sin(d)-Math.sin(p)*Math.sin(f)*Math.cos(d),y=Math.cos(p)*Math.cos(f)*Math.cos(d)+Math.sin(p)*Math.sin(f)*Math.sin(d);(h=new o({x:m,y:v,z:g,w:y})).normalize()}this.origin=new r({position:u,orientation:h})}}},477:function(e,t,n){var r=n(3027);e.exports=function(e){this.name=e.xml.getAttribute("name"),this.visuals=[];for(var t=e.xml.getElementsByTagName("visual"),n=0;n<t.length;n++)this.visuals.push(new r({xml:t[n]}))}},2583:function(e,t,n){var r=n(7991);function i(e){this.textureFilename=null,this.color=null,this.name=e.xml.getAttribute("name");var t=e.xml.getElementsByTagName("texture");t.length>0&&(this.textureFilename=t[0].getAttribute("filename"));var n=e.xml.getElementsByTagName("color");n.length>0&&(this.color=new r({xml:n[0]}))}i.prototype.isLink=function(){return null===this.color&&null===this.textureFilename};var o=n(1725);i.prototype.assign=function(e){return o(this,e)},e.exports=i},3781:function(e,t,n){var r=n(3346),i=n(649);e.exports=function(e){this.scale=null,this.type=i.URDF_MESH,this.filename=e.xml.getAttribute("filename");var t=e.xml.getAttribute("scale");if(t){var n=t.split(" ");this.scale=new r({x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])})}}},7734:function(e,t,n){var r=n(2583),i=n(477),o=n(3005),a=n(8968).aw;e.exports=function(e){var t=(e=e||{}).xml,n=e.string;this.materials={},this.links={},this.joints={},n&&(t=(new a).parseFromString(n,"text/xml"));var s=t.documentElement;this.name=s.getAttribute("name");for(var l=s.childNodes,u=0;u<l.length;u++){var c=l[u];if("material"===c.tagName){var h=new r({xml:c});void 0!==this.materials[h.name]?this.materials[h.name].isLink()?this.materials[h.name].assign(h):console.warn("Material "+h.name+"is not unique."):this.materials[h.name]=h}else if("link"===c.tagName){var p=new i({xml:c});if(void 0!==this.links[p.name])console.warn("Link "+p.name+" is not unique.");else{for(var f=0;f<p.visuals.length;f++){var d=p.visuals[f].material;null!==d&&(void 0!==this.materials[d.name]?p.visuals[f].material=this.materials[d.name]:this.materials[d.name]=d)}this.links[p.name]=p}}else if("joint"===c.tagName){var m=new o({xml:c});this.joints[m.name]=m}}}},5289:function(e,t,n){var r=n(649);e.exports=function(e){this.type=r.URDF_SPHERE,this.radius=parseFloat(e.xml.getAttribute("radius"))}},649:function(e){e.exports={URDF_SPHERE:0,URDF_BOX:1,URDF_CYLINDER:2,URDF_MESH:3}},3027:function(e,t,n){var r=n(6172),i=n(3346),o=n(754),a=n(3326),s=n(4058),l=n(2583),u=n(3781),c=n(5289);e.exports=function(e){var t=e.xml;this.origin=null,this.geometry=null,this.material=null;var n=t.getElementsByTagName("origin");if(0===n.length)this.origin=new r;else{var h=n[0].getAttribute("xyz"),p=new i;h&&(h=h.split(" "),p=new i({x:parseFloat(h[0]),y:parseFloat(h[1]),z:parseFloat(h[2])}));var f=n[0].getAttribute("rpy"),d=new o;if(f){f=f.split(" ");var m=parseFloat(f[0])/2,v=parseFloat(f[1])/2,g=parseFloat(f[2])/2,y=Math.sin(m)*Math.cos(v)*Math.cos(g)-Math.cos(m)*Math.sin(v)*Math.sin(g),_=Math.cos(m)*Math.sin(v)*Math.cos(g)+Math.sin(m)*Math.cos(v)*Math.sin(g),b=Math.cos(m)*Math.cos(v)*Math.sin(g)-Math.sin(m)*Math.sin(v)*Math.cos(g),x=Math.cos(m)*Math.cos(v)*Math.cos(g)+Math.sin(m)*Math.sin(v)*Math.sin(g);(d=new o({x:y,y:_,z:b,w:x})).normalize()}this.origin=new r({position:p,orientation:d})}var w=t.getElementsByTagName("geometry");if(w.length>0){for(var S=w[0],E=null,M=0;M<S.childNodes.length;M++){var k=S.childNodes[M];if(1===k.nodeType){E=k;break}}var T=E.nodeName;"sphere"===T?this.geometry=new c({xml:E}):"box"===T?this.geometry=new s({xml:E}):"cylinder"===T?this.geometry=new a({xml:E}):"mesh"===T?this.geometry=new u({xml:E}):console.warn("Unknown geometry type "+T)}var A=t.getElementsByTagName("material");A.length>0&&(this.material=new l({xml:A[0]}))}},9375:function(e,t,n){e.exports=n(1725)({UrdfBox:n(4058),UrdfColor:n(7991),UrdfCylinder:n(3326),UrdfLink:n(477),UrdfMaterial:n(2583),UrdfMesh:n(3781),UrdfModel:n(7734),UrdfSphere:n(5289),UrdfVisual:n(3027)},n(649))},4529:function(e){"use strict";var t=Math.pow(2,32),n=!1;function r(){n||(n=!0,console.warn("CBOR 64-bit integer array values may lose precision. No further warnings."))}var i={64:Uint8Array,69:Uint16Array,70:Uint32Array,72:Int8Array,77:Int16Array,78:Int32Array,85:Float32Array,86:Float64Array},o={71:function(e){r();for(var n=e.byteLength,i=e.byteOffset,o=n/8,a=e.buffer.slice(i,i+n),s=new Uint32Array(a),l=new Array(o),u=0;u<o;u++){var c=2*u,h=s[c],p=s[c+1];l[u]=h+t*p}return l},79:function(e){r();for(var n=e.byteLength,i=e.byteOffset,o=n/8,a=e.buffer.slice(i,i+n),s=new Uint32Array(a),l=new Int32Array(a),u=new Array(o),c=0;c<o;c++){var h=2*c,p=s[h],f=l[h+1];u[c]=p+t*f}return u}};e.exports&&(e.exports=function(e,t){return t in i?function(e,t){var n=e.byteLength,r=e.byteOffset;return new t(e.buffer.slice(r,r+n))}(e,i[t]):t in o?o[t](e):e})},4007:function(e){e.exports=window.WebSocket},9184:function(e){e.exports=function(){return document.createElement("canvas")}},2230:function(e,t,n){"use strict";var r=n(9184),i=r.Image||window.Image;e.exports=function(e,t){var n=new i;n.onload=function(){var e=new r,i=e.getContext("2d");e.width=n.width,e.height=n.height,i.imageSmoothingEnabled=!1,i.webkitImageSmoothingEnabled=!1,i.mozImageSmoothingEnabled=!1,i.drawImage(n,0,0);for(var o=i.getImageData(0,0,n.width,n.height).data,a="",s=0;s<o.length;s+=4)a+=String.fromCharCode(o[s],o[s+1],o[s+2]);t(JSON.parse(a))},n.src="data:image/png;base64,"+e}},8968:function(e,t){window.DOMImplementation,window.XMLSerializer,t.aw=window.DOMParser},6813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,h=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(h,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var d=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof d&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,v=null,g=-1,y=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,x=b.port2;b.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();_=e+y;try{v(!0,e)?x.postMessage(null):(m=!1,v=null)}catch(n){throw x.postMessage(null),n}}else m=!1},n=function(e){v=e,m||(m=!0,x.postMessage(null))},r=function(e,n){g=p((function(){e(t.unstable_now())}),n)},i=function(){f(g),g=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<M(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>M(a,n))void 0!==l&&0>M(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>M(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function M(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],T=[],A=1,C=null,P=3,O=!1,R=!1,I=!1;function L(e){for(var t=S(T);null!==t;){if(null===t.callback)E(T);else{if(!(t.startTime<=e))break;E(T),t.sortIndex=t.expirationTime,w(k,t)}t=S(T)}}function D(e){if(I=!1,L(e),!R)if(null!==S(k))R=!0,n(z);else{var t=S(T);null!==t&&r(D,t.startTime-e)}}function z(e,n){R=!1,I&&(I=!1,i()),O=!0;var o=P;try{for(L(n),C=S(k);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=C.callback;if("function"===typeof a){C.callback=null,P=C.priorityLevel;var s=a(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?C.callback=s:C===S(k)&&E(k),L(n)}else E(k);C=S(k)}if(null!==C)var l=!0;else{var u=S(T);null!==u&&r(D,u.startTime-n),l=!1}return l}finally{C=null,P=o,O=!1}}var N=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||O||(R=!0,n(z))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return S(k)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=N,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:A++,callback:o,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,w(T,e),null===S(k)&&e===S(T)&&(I?i():I=!0,r(D,a-s))):(e.sortIndex=l,w(k,e),R||O||(R=!0,n(z))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var u=o[l];if(!s(u))return!1;var c=e[u],h=t[u];if(!1===(i=n?n.call(r,c,h,u):void 0)||void 0===i&&c!==h)return!1}return!0}},8697:function(e,t,n){var r;e=n.nmd(e),function(i,o){"use strict";if(!i||!i.document)throw new Error("SoundManager requires a browser with window and document objects.");var a=null;function s(e,t){this.setupOptions={url:e||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1},flac:{type:["audio/flac"],required:!1}},this.movieID="sm2-container",this.id=t||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20170601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var n,r,a,s,l,u,c,h,p,f,d,m,v,g,y,_,b,x,w,S,E,M,k,T,A,C,P,O,R,I,L,D,z,N,B,F,j,U,V,H,W,G,q,Y,X,Z,K,J,Q,$,ee,te,ne,re,ie,oe,ae,se,le=this,ue=null,ce=null,he=navigator.userAgent,pe=i.location.href.toString(),fe=document,de=[],me=!1,ve=!1,ge=!1,ye=!1,_e=!1,be=null,xe=null,we=!1,Se=!1,Ee=0,Me=null,ke=[],Te=null,Ae=Array.prototype.slice,Ce=!1,Pe=0,Oe=1e3,Re=he.match(/(ipad|iphone|ipod)/i),Ie=he.match(/android/i),Le=he.match(/msie|trident/i),De=he.match(/webkit/i),ze=he.match(/safari/i)&&!he.match(/chrome/i),Ne=he.match(/opera/i),Be=he.match(/(mobile|pre\/|xoom)/i)||Re||Ie,Fe=!pe.match(/usehtml5audio/i)&&!pe.match(/sm2-ignorebadua/i)&&ze&&!he.match(/silk/i)&&he.match(/OS\sX\s10_6_([3-7])/i),je=(i.console!==o&&console.log,fe.hasFocus!==o?fe.hasFocus():null),Ue=ze&&(fe.hasFocus===o||!fe.hasFocus()),Ve=!Ue,He=/(mp3|mp4|mpa|m4a|m4b)/i,We="about:blank",Ge=fe.location?fe.location.protocol.match(/http/i):null,qe=Ge?"":"//",Ye=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Xe=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],Ze=new RegExp("\\.("+Xe.join("|")+")(\\?.*)?$","i");function Ke(e){return le.preferFlash&&ne&&!le.ignoreFlash&&le.flash[e]!==o&&le.flash[e]}function Je(e){return function(t){var n=this._s;return n&&n._a?e.call(this,t):null}}this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!Ge,N={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},Z=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"],this.hasHTML5=function(){try{return Audio!==o&&(Ne&&opera!==o&&opera.version()<10?new Audio(null):new Audio).canPlayType!==o}catch(e){return!1}}(),this.setup=function(e){var t=!le.url;return e!==o&&ge&&Te&&le.ok()&&(e.flashVersion!==o||e.url!==o||e.html5Test),p(e),Ce||(Be?le.setupOptions.ignoreMobileRestrictions&&!le.setupOptions.forceUseGlobalHTML5Audio||(ke.push(w.globalHTML5),Ce=!0):le.setupOptions.forceUseGlobalHTML5Audio&&(ke.push(w.globalHTML5),Ce=!0)),!se&&Be&&(le.setupOptions.ignoreMobileRestrictions?ke.push(w.ignoreMobile):(le.setupOptions.useHTML5Audio=!0,le.setupOptions.preferFlash=!1,Re?le.ignoreFlash=!0:(Ie&&!he.match(/android\s2\.3/i)||!Ie)&&(Ce=!0))),e&&(t&&k&&e.url!==o&&le.beginDelayedInit(),k||e.url===o||"complete"!==fe.readyState||setTimeout(E,1)),se=!0,le},this.ok=function(){return Te?ge&&!ye:le.useHTML5Audio&&le.hasHTML5},this.supported=this.ok,this.getMovie=function(e){return r(e)||fe[e]||i[e]},this.createSound=function(e,t){var r,i=null;if(!ge||!le.ok())return!1;if(t!==o&&(e={id:e,url:t}),(r=h(e)).url=W(r.url),r.id===o&&(r.id=le.setupOptions.idPrefix+Pe++),j(r.id,!0))return le.sounds[r.id];function a(){return r=B(r),le.sounds[r.id]=new n(r),le.soundIDs.push(r.id),le.sounds[r.id]}if(Y(r))(i=a())._setup_html5(r);else{if(le.html5Only)return a();if(le.html5.usingFlash&&r.url&&r.url.match(/data:/i))return a();u>8&&null===r.isMovieStar&&(r.isMovieStar=!!(r.serverURL||r.type&&r.type.match(Ye)||r.url&&r.url.match(Ze))),r=F(r,undefined),i=a(),8===u?ce._createSound(r.id,r.loops||1,r.usePolicyFile):(ce._createSound(r.id,r.url,r.usePeakData,r.useWaveformData,r.useEQData,r.isMovieStar,!!r.isMovieStar&&r.bufferTime,r.loops||1,r.serverURL,r.duration||null,r.autoPlay,!0,r.autoLoad,r.usePolicyFile),r.serverURL||(i.connected=!0,r.onconnect&&r.onconnect.apply(i))),r.serverURL||!r.autoLoad&&!r.autoPlay||i.load(r)}return!r.serverURL&&r.autoPlay&&i.play(),i},this.destroySound=function(e,t){if(!j(e))return!1;var n,r=le.sounds[e];for(r.stop(),r._iO={},r.unload(),n=0;n<le.soundIDs.length;n++)if(le.soundIDs[n]===e){le.soundIDs.splice(n,1);break}return t||r.destruct(!0),r=null,delete le.sounds[e],!0},this.load=function(e,t){return!!j(e)&&le.sounds[e].load(t)},this.unload=function(e){return!!j(e)&&le.sounds[e].unload()},this.onPosition=function(e,t,n,r){return!!j(e)&&le.sounds[e].onposition(t,n,r)},this.onposition=this.onPosition,this.clearOnPosition=function(e,t,n){return!!j(e)&&le.sounds[e].clearOnPosition(t,n)},this.play=function(e,t){var n=null,r=t&&!(t instanceof Object);if(!ge||!le.ok())return!1;if(j(e,r))r&&(t={url:t});else{if(!r)return!1;r&&(t={url:t}),t&&t.url&&(t.id=e,n=le.createSound(t).play())}return null===n&&(n=le.sounds[e].play(t)),n},this.start=this.play,this.setPlaybackRate=function(e,t,n){return!!j(e)&&le.sounds[e].setPlaybackRate(t,n)},this.setPosition=function(e,t){return!!j(e)&&le.sounds[e].setPosition(t)},this.stop=function(e){return!!j(e)&&le.sounds[e].stop()},this.stopAll=function(){var e;for(e in le.sounds)le.sounds.hasOwnProperty(e)&&le.sounds[e].stop()},this.pause=function(e){return!!j(e)&&le.sounds[e].pause()},this.pauseAll=function(){var e;for(e=le.soundIDs.length-1;e>=0;e--)le.sounds[le.soundIDs[e]].pause()},this.resume=function(e){return!!j(e)&&le.sounds[e].resume()},this.resumeAll=function(){var e;for(e=le.soundIDs.length-1;e>=0;e--)le.sounds[le.soundIDs[e]].resume()},this.togglePause=function(e){return!!j(e)&&le.sounds[e].togglePause()},this.setPan=function(e,t){return!!j(e)&&le.sounds[e].setPan(t)},this.setVolume=function(e,t){var n,r;if(e!==o&&!isNaN(e)&&t===o){for(n=0,r=le.soundIDs.length;n<r;n++)le.sounds[le.soundIDs[n]].setVolume(e);return!1}return!!j(e)&&le.sounds[e].setVolume(t)},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return!!j(e)&&le.sounds[e].mute();for(t=le.soundIDs.length-1;t>=0;t--)le.sounds[le.soundIDs[t]].mute();return le.muted=!0,!0},this.muteAll=function(){le.mute()},this.unmute=function(e){var t;if(e instanceof String&&(e=null),e)return!!j(e)&&le.sounds[e].unmute();for(t=le.soundIDs.length-1;t>=0;t--)le.sounds[le.soundIDs[t]].unmute();return le.muted=!1,!0},this.unmuteAll=function(){le.unmute()},this.toggleMute=function(e){return!!j(e)&&le.sounds[e].toggleMute()},this.getMemoryUse=function(){var e=0;return ce&&8!==u&&(e=parseInt(ce._getMemoryUse(),10)),e},this.disable=function(e){var t;if(e===o&&(e=!1),ye)return!1;for(ye=!0,t=le.soundIDs.length-1;t>=0;t--)O(le.sounds[le.soundIDs[t]]);return O(le),c(e),ee.remove(i,"load",v),!0},this.canPlayMIME=function(e){var t;return le.hasHTML5&&(t=X({type:e})),!t&&Te&&(t=e&&le.ok()?!!(u>8&&e.match(Ye)||e.match(le.mimePattern)):null),t},this.canPlayURL=function(e){var t;return le.hasHTML5&&(t=X({url:e})),!t&&Te&&(t=e&&le.ok()?!!e.match(le.filePattern):null),t},this.canPlayLink=function(e){return!(e.type===o||!e.type||!le.canPlayMIME(e.type))||le.canPlayURL(e.href)},this.getSoundById=function(e,t){return e?le.sounds[e]:null},this.onready=function(e,t){var n="onready";if("function"!==typeof e)throw L("needFunction",n);return t||(t=i),d(n,e,t),m(),!0},this.ontimeout=function(e,t){var n="ontimeout";if("function"!==typeof e)throw L("needFunction",n);return t||(t=i),d(n,e,t),m({type:n}),!0},this._writeDebug=function(e,t){return!0},this._wD=this._writeDebug,this._debug=function(){},this.reboot=function(e,t){var n,r,o;for(n=le.soundIDs.length-1;n>=0;n--)le.sounds[le.soundIDs[n]].destruct();if(ce)try{Le&&(xe=ce.innerHTML),be=ce.parentNode.removeChild(ce)}catch(a){}if(xe=be=Te=ce=null,le.enabled=k=ge=we=Se=me=ve=ye=Ce=le.swfLoaded=!1,le.soundIDs=[],le.sounds={},Pe=0,se=!1,e)de=[];else for(n in de)if(de.hasOwnProperty(n))for(r=0,o=de[n].length;r<o;r++)de[n][r].fired=!1;return le.html5={usingFlash:null},le.flash={},le.html5Only=!1,le.ignoreFlash=!1,i.setTimeout((function(){t||le.beginDelayedInit()}),20),le},this.reset=function(){return le.reboot(!0,!0)},this.getMoviePercent=function(){return ce&&"PercentLoaded"in ce?ce.PercentLoaded():null},this.beginDelayedInit=function(){_e=!0,E(),setTimeout((function(){return!Se&&(A(),S(),Se=!0,!0)}),20),g()},this.destruct=function(){le.disable(!0)},n=function(e){var t,n,r,i,a,s,l,c,p,f,d=this,m=!1,v=[],g=0,y=null;p={duration:null,time:null},this.id=e.id,this.sID=this.id,this.url=e.url,this.options=h(e),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,f=!this.url,this.id3={},this._debug=function(){},this.load=function(e){var t;if(e!==o?d._iO=h(e,d.options):(e=d.options,d._iO=e,y&&y!==d.url&&(d._iO.url=d.url,d.url=null)),d._iO.url||(d._iO.url=d.url),d._iO.url=W(d._iO.url),d.instanceOptions=d._iO,!(t=d._iO).url&&!d.url)return d;if(t.url===d.url&&0!==d.readyState&&2!==d.readyState)return 3===d.readyState&&t.onload&&ae(d,(function(){t.onload.apply(d,[!!d.duration])})),d;if(d.loaded=!1,d.readyState=1,d.playState=0,d.id3={},Y(t))d._setup_html5(t)._called_load||(d._html5_canplay=!1,d.url!==t.url&&(d._a.src=t.url,d.setPosition(0)),d._a.autobuffer="auto",d._a.preload="auto",d._a._called_load=!0);else{if(le.html5Only)return d;if(d._iO.url&&d._iO.url.match(/data:/i))return d;try{d.isHTML5=!1,d._iO=F(B(t)),d._iO.autoPlay&&(d._iO.position||d._iO.from)&&(d._iO.autoPlay=!1),t=d._iO,8===u?ce._load(d.id,t.url,t.stream,t.autoPlay,t.usePolicyFile):ce._load(d.id,t.url,!!t.stream,!!t.autoPlay,t.loops||1,!!t.autoLoad,t.usePolicyFile)}catch(n){C({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return d.url=t.url,d},this.unload=function(){return 0!==d.readyState&&(d.isHTML5?(i(),d._a&&(d._a.pause(),y=J(d._a))):8===u?ce._unload(d.id,We):ce._unload(d.id),t()),d},this.destruct=function(e){d.isHTML5?(i(),d._a&&(d._a.pause(),J(d._a),Ce||r(),d._a._s=null,d._a=null)):(d._iO.onfailure=null,ce._destroySound(d.id)),e||le.destroySound(d.id,!0)},this.play=function(e,t){var n,r,i,l,p,v=!0;if(t=t===o||t,e||(e={}),d.url&&(d._iO.url=d.url),d._iO=h(d._iO,d.options),d._iO=h(e,d._iO),d._iO.url=W(d._iO.url),d.instanceOptions=d._iO,!d.isHTML5&&d._iO.serverURL&&!d.connected)return d.getAutoPlay()||d.setAutoPlay(!0),d;if(Y(d._iO)&&(d._setup_html5(d._iO),a()),1===d.playState&&!d.paused&&!d._iO.multiShot)return d.isHTML5&&d.setPosition(d._iO.position),d;if(e.url&&e.url!==d.url&&(d.readyState||d.isHTML5||8!==u||!f?d.load(d._iO):f=!1),!d.loaded)if(0===d.readyState){if(d.isHTML5||le.html5Only){if(!d.isHTML5)return d;d.load(d._iO)}else d._iO.autoPlay=!0,d.load(d._iO);d.instanceOptions=d._iO}else if(2===d.readyState)return d;return!d.isHTML5&&9===u&&d.position>0&&d.position===d.duration&&(e.position=0),d.paused&&d.position>=0&&(!d._iO.serverURL||d.position>0)?d.resume():(d._iO=h(e,d._iO),(!d.isHTML5&&null!==d._iO.position&&d._iO.position>0||null!==d._iO.from&&d._iO.from>0||null!==d._iO.to)&&0===d.instanceCount&&0===d.playState&&!d._iO.serverURL&&(r=function(){d._iO=h(e,d._iO),d.play(d._iO)},d.isHTML5&&!d._html5_canplay?d.load({_oncanplay:r}):d.isHTML5||d.loaded||d.readyState&&2===d.readyState||d.load({onload:r}),d._iO=c()),(!d.instanceCount||d._iO.multiShotEvents||d.isHTML5&&d._iO.multiShot&&!Ce||!d.isHTML5&&u>8&&!d.getAutoPlay())&&d.instanceCount++,d._iO.onposition&&0===d.playState&&s(d),d.playState=1,d.paused=!1,d.position=d._iO.position===o||isNaN(d._iO.position)?0:d._iO.position,d.isHTML5||(d._iO=F(B(d._iO))),d._iO.onplay&&t&&(d._iO.onplay.apply(d),m=!0),d.setVolume(d._iO.volume,!0),d.setPan(d._iO.pan,!0),1!==d._iO.playbackRate&&d.setPlaybackRate(d._iO.playbackRate),d.isHTML5?d.instanceCount<2?(a(),n=d._setup_html5(),d.setPosition(d._iO.position),n.play()):(i=new Audio(d._iO.url),l=function(){ee.remove(i,"ended",l),d._onfinish(d),J(i),i=null},p=function(){ee.remove(i,"canplay",p);try{i.currentTime=d._iO.position/Oe}catch(e){}i.play()},ee.add(i,"ended",l),d._iO.volume!==o&&(i.volume=Math.max(0,Math.min(1,d._iO.volume/100))),d.muted&&(i.muted=!0),d._iO.position?ee.add(i,"canplay",p):i.play()):(v=ce._start(d.id,d._iO.loops||1,9===u?d.position:d.position/Oe,d._iO.multiShot||!1),9!==u||v||d._iO.onplayerror&&d._iO.onplayerror.apply(d))),d},this.start=this.play,this.stop=function(e){var t,n=d._iO;return 1===d.playState&&(d._onbufferchange(0),d._resetOnPosition(0),d.paused=!1,d.isHTML5||(d.playState=0),l(),n.to&&d.clearOnPosition(n.to),d.isHTML5?d._a&&(t=d.position,d.setPosition(0),d.position=t,d._a.pause(),d.playState=0,d._onTimer(),i()):(ce._stop(d.id,e),n.serverURL&&d.unload()),d.instanceCount=0,d._iO={},n.onstop&&n.onstop.apply(d)),d},this.setAutoPlay=function(e){d._iO.autoPlay=e,d.isHTML5||(ce._setAutoPlay(d.id,e),e&&(d.instanceCount||1!==d.readyState||d.instanceCount++))},this.getAutoPlay=function(){return d._iO.autoPlay},this.setPlaybackRate=function(e){var t=Math.max(.5,Math.min(4,e));if(d.isHTML5)try{d._iO.playbackRate=t,d._a.playbackRate=t}catch(n){}return d},this.setPosition=function(e){e===o&&(e=0);var t,n,r=d.isHTML5?Math.max(e,0):Math.min(d.duration||d._iO.duration,Math.max(e,0));if(d.position=r,n=d.position/Oe,d._resetOnPosition(d.position),d._iO.position=r,d.isHTML5){if(d._a){if(d._html5_canplay){if(d._a.currentTime.toFixed(3)!==n.toFixed(3))try{d._a.currentTime=n,(0===d.playState||d.paused)&&d._a.pause()}catch(i){}}else if(n)return d;d.paused&&d._onTimer(!0)}}else t=9===u?d.position:n,d.readyState&&2!==d.readyState&&ce._setPosition(d.id,t,d.paused||!d.playState,d._iO.multiShot);return d},this.pause=function(e){return d.paused||0===d.playState&&1!==d.readyState||(d.paused=!0,d.isHTML5?(d._setup_html5().pause(),i()):(e||e===o)&&ce._pause(d.id,d._iO.multiShot),d._iO.onpause&&d._iO.onpause.apply(d)),d},this.resume=function(){var e=d._iO;return d.paused?(d.paused=!1,d.playState=1,d.isHTML5?(d._setup_html5().play(),a()):(e.isMovieStar&&!e.serverURL&&d.setPosition(d.position),ce._pause(d.id,e.multiShot)),!m&&e.onplay?(e.onplay.apply(d),m=!0):e.onresume&&e.onresume.apply(d),d):d},this.togglePause=function(){return 0===d.playState?(d.play({position:9!==u||d.isHTML5?d.position/Oe:d.position}),d):(d.paused?d.resume():d.pause(),d)},this.setPan=function(e,t){return e===o&&(e=0),t===o&&(t=!1),d.isHTML5||ce._setPan(d.id,e),d._iO.pan=e,t||(d.pan=e,d.options.pan=e),d},this.setVolume=function(e,t){return e===o&&(e=100),t===o&&(t=!1),d.isHTML5?d._a&&(le.muted&&!d.muted&&(d.muted=!0,d._a.muted=!0),d._a.volume=Math.max(0,Math.min(1,e/100))):ce._setVolume(d.id,le.muted&&!d.muted||d.muted?0:e),d._iO.volume=e,t||(d.volume=e,d.options.volume=e),d},this.mute=function(){return d.muted=!0,d.isHTML5?d._a&&(d._a.muted=!0):ce._setVolume(d.id,0),d},this.unmute=function(){d.muted=!1;var e=d._iO.volume!==o;return d.isHTML5?d._a&&(d._a.muted=!1):ce._setVolume(d.id,e?d._iO.volume:d.options.volume),d},this.toggleMute=function(){return d.muted?d.unmute():d.mute()},this.onPosition=function(e,t,n){return v.push({position:parseInt(e,10),method:t,scope:n!==o?n:d,fired:!1}),d},this.onposition=this.onPosition,this.clearOnPosition=function(e,t){var n;if(e=parseInt(e,10),!isNaN(e))for(n=0;n<v.length;n++)e===v[n].position&&(t&&t!==v[n].method||(v[n].fired&&g--,v.splice(n,1)))},this._processOnPosition=function(){var e,t,n=v.length;if(!n||!d.playState||g>=n)return!1;for(e=n-1;e>=0;e--)!(t=v[e]).fired&&d.position>=t.position&&(t.fired=!0,g++,t.method.apply(t.scope,[t.position]),n=v.length);return!0},this._resetOnPosition=function(e){var t,n,r=v.length;if(!r)return!1;for(t=r-1;t>=0;t--)(n=v[t]).fired&&e<=n.position&&(n.fired=!1,g--);return!0},c=function(){var e,t,n=d._iO,r=n.from,i=n.to;return t=function(){d.clearOnPosition(i,t),d.stop()},e=function(){null===i||isNaN(i)||d.onPosition(i,t)},null===r||isNaN(r)||(n.position=r,n.multiShot=!1,e()),n},s=function(){var e,t=d._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&d.onPosition(parseInt(e,10),t[e])},l=function(){var e,t=d._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&d.clearOnPosition(parseInt(e,10))},a=function(){d.isHTML5&&U(d)},i=function(){d.isHTML5&&V(d)},(t=function(e){e||(v=[],g=0),m=!1,d._hasTimer=null,d._a=null,d._html5_canplay=!1,d.bytesLoaded=null,d.bytesTotal=null,d.duration=d._iO&&d._iO.duration?d._iO.duration:null,d.durationEstimate=null,d.buffered=[],d.eqData=[],d.eqData.left=[],d.eqData.right=[],d.failures=0,d.isBuffering=!1,d.instanceOptions={},d.instanceCount=0,d.loaded=!1,d.metadata={},d.readyState=0,d.muted=!1,d.paused=!1,d.peakData={left:0,right:0},d.waveformData={left:[],right:[]},d.playState=0,d.position=null,d.id3={}})(),this._onTimer=function(e){var t,n,r=!1,i={};return(d._hasTimer||e)&&d._a&&(e||(d.playState>0||1===d.readyState)&&!d.paused)&&((t=d._get_html5_duration())!==p.duration&&(p.duration=t,d.duration=t,r=!0),d.durationEstimate=d.duration,(n=d._a.currentTime*Oe||0)!==p.time&&(p.time=n,r=!0),(r||e)&&d._whileplaying(n,i,i,i,i)),r},this._get_html5_duration=function(){var e=d._iO,t=d._a&&d._a.duration?d._a.duration*Oe:e&&e.duration?e.duration:null;return t&&!isNaN(t)&&t!==1/0?t:null},this._apply_loop=function(e,t){e.loop=t>1?"loop":""},this._setup_html5=function(e){var r,i=h(d._iO,e),o=Ce?ue:d._a,a=decodeURI(i.url);if(Ce?a===decodeURI(te)&&(r=!0):a===decodeURI(y)&&(r=!0),o){if(o._s)if(Ce)o._s&&o._s.playState&&!r&&o._s.stop();else if(!Ce&&a===decodeURI(y))return d._apply_loop(o,i.loops),o;r||(y&&t(!1),o.src=i.url,d.url=i.url,y=i.url,te=i.url,o._called_load=!1)}else i.autoLoad||i.autoPlay?(d._a=new Audio(i.url),d._a.load()):d._a=Ne&&opera.version()<10?new Audio(null):new Audio,(o=d._a)._called_load=!1,Ce&&(ue=o);return d.isHTML5=!0,d._a=o,o._s=d,n(),d._apply_loop(o,i.loops),i.autoLoad||i.autoPlay?d.load():(o.autobuffer=!1,o.preload="auto"),o},n=function(){if(d._a._added_events)return!1;var e,t,n,r;for(e in d._a._added_events=!0,oe)oe.hasOwnProperty(e)&&(t=e,n=oe[e],r=void 0,d._a&&d._a.addEventListener(t,n,r||!1));return!0},r=function(){var e,t,n,r;for(e in d._a._added_events=!1,oe)oe.hasOwnProperty(e)&&(t=e,n=oe[e],r=void 0,d._a&&d._a.removeEventListener(t,n,r||!1))},this._onload=function(e){var t=!!e||!d.isHTML5&&8===u&&d.duration;return d.loaded=t,d.readyState=t?3:2,d._onbufferchange(0),t||d.isHTML5||d._onerror(),d._iO.onload&&ae(d,(function(){d._iO.onload.apply(d,[t])})),!0},this._onerror=function(e,t){d._iO.onerror&&ae(d,(function(){d._iO.onerror.apply(d,[e,t])}))},this._onbufferchange=function(e){return 0!==d.playState&&(!(e&&d.isBuffering||!e&&!d.isBuffering)&&(d.isBuffering=1===e,d._iO.onbufferchange&&d._iO.onbufferchange.apply(d,[e]),!0))},this._onsuspend=function(){return d._iO.onsuspend&&d._iO.onsuspend.apply(d),!0},this._onfailure=function(e,t,n){d.failures++,d._iO.onfailure&&1===d.failures&&d._iO.onfailure(e,t,n)},this._onwarning=function(e,t,n){d._iO.onwarning&&d._iO.onwarning(e,t,n)},this._onfinish=function(){var e=d._iO.onfinish;d._onbufferchange(0),d._resetOnPosition(0),d.instanceCount&&(d.instanceCount--,d.instanceCount||(l(),d.playState=0,d.paused=!1,d.instanceCount=0,d.instanceOptions={},d._iO={},i(),d.isHTML5&&(d.position=0)),d.instanceCount&&!d._iO.multiShotEvents||e&&ae(d,(function(){e.apply(d)})))},this._whileloading=function(e,t,n,r){var i=d._iO;d.bytesLoaded=e,d.bytesTotal=t,d.duration=Math.floor(n),d.bufferLength=r,d.isHTML5||i.isMovieStar?d.durationEstimate=d.duration:i.duration?d.durationEstimate=d.duration>i.duration?d.duration:i.duration:d.durationEstimate=parseInt(d.bytesTotal/d.bytesLoaded*d.duration,10),d.isHTML5||(d.buffered=[{start:0,end:d.duration}]),(3!==d.readyState||d.isHTML5)&&i.whileloading&&i.whileloading.apply(d)},this._whileplaying=function(e,t,n,r,i){var a,s=d._iO;return!isNaN(e)&&null!==e&&(d.position=Math.max(0,e),d._processOnPosition(),!d.isHTML5&&u>8&&(s.usePeakData&&t!==o&&t&&(d.peakData={left:t.leftPeak,right:t.rightPeak}),s.useWaveformData&&n!==o&&n&&(d.waveformData={left:n.split(","),right:r.split(",")}),s.useEQData&&i!==o&&i&&i.leftEQ&&(a=i.leftEQ.split(","),d.eqData=a,d.eqData.left=a,i.rightEQ!==o&&i.rightEQ&&(d.eqData.right=i.rightEQ.split(",")))),1===d.playState&&(d.isHTML5||8!==u||d.position||!d.isBuffering||d._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(d)),!0)},this._oncaptiondata=function(e){d.captiondata=e,d._iO.oncaptiondata&&d._iO.oncaptiondata.apply(d,[e])},this._onmetadata=function(e,t){var n,r,i={};for(n=0,r=e.length;n<r;n++)i[e[n]]=t[n];d.metadata=i,d._iO.onmetadata&&d._iO.onmetadata.call(d,d.metadata)},this._onid3=function(e,t){var n,r,i=[];for(n=0,r=e.length;n<r;n++)i[e[n]]=t[n];d.id3=h(d.id3,i),d._iO.onid3&&d._iO.onid3.apply(d)},this._onconnect=function(e){e=1===e,d.connected=e,e&&(d.failures=0,j(d.id)&&(d.getAutoPlay()?d.play(o,d.getAutoPlay()):d._iO.autoLoad&&d.load()),d._iO.onconnect&&d._iO.onconnect.apply(d,[e]))},this._ondataerror=function(e){d.playState>0&&d._iO.ondataerror&&d._iO.ondataerror.apply(d)}},T=function(){return fe.body||fe.getElementsByTagName("div")[0]},r=function(e){return fe.getElementById(e)},h=function(e,t){var n,r,i=e||{};for(r in n=t===o?le.defaultOptions:t)n.hasOwnProperty(r)&&i[r]===o&&("object"!==typeof n[r]||null===n[r]?i[r]=n[r]:i[r]=h(i[r],n[r]));return i},ae=function(e,t){e.isHTML5||8!==u?t():i.setTimeout(t,0)},f={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},p=function(e,t){var n,r=!0,i=t!==o,a=le.setupOptions,s=f;for(n in e)if(e.hasOwnProperty(n))if("object"!==typeof e[n]||null===e[n]||e[n]instanceof Array||e[n]instanceof RegExp)i&&s[t]!==o?le[t][n]=e[n]:a[n]!==o?(le.setupOptions[n]=e[n],le[n]=e[n]):s[n]===o?r=!1:le[n]instanceof Function?le[n].apply(le,e[n]instanceof Array?e[n]:[e[n]]):le[n]=e[n];else{if(s[n]!==o)return p(e[n],n);r=!1}return r},ee=function(){var e=i.attachEvent,t={add:e?"attachEvent":"addEventListener",remove:e?"detachEvent":"removeEventListener"};function n(t){var n=Ae.call(t),r=n.length;return e?(n[1]="on"+n[1],r>3&&n.pop()):3===r&&n.push(!1),n}function r(n,r){var i=n.shift(),o=[t[r]];e?i[o](n[0],n[1]):i[o].apply(i,n)}return{add:function(){r(n(arguments),"add")},remove:function(){r(n(arguments),"remove")}}}(),oe={abort:Je((function(){})),canplay:Je((function(){var e,t=this._s;if(!t._html5_canplay){if(t._html5_canplay=!0,t._onbufferchange(0),e=t._iO.position===o||isNaN(t._iO.position)?null:t._iO.position/Oe,this.currentTime!==e)try{this.currentTime=e}catch(n){}t._iO._oncanplay&&t._iO._oncanplay()}})),canplaythrough:Je((function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))})),durationchange:Je((function(){var e,t=this._s;e=t._get_html5_duration(),isNaN(e)||e===t.duration||(t.durationEstimate=t.duration=e)})),ended:Je((function(){this._s._onfinish()})),error:Je((function(){var e=Z[this.error.code]||null;this._s._onload(!1),this._s._onerror(this.error.code,e)})),loadeddata:Je((function(){var e=this._s;e._loaded||ze||(e.duration=e._get_html5_duration())})),loadedmetadata:Je((function(){})),loadstart:Je((function(){this._s._onbufferchange(1)})),play:Je((function(){this._s._onbufferchange(0)})),playing:Je((function(){this._s._onbufferchange(0)})),progress:Je((function(e){var t,n,r=this._s,i=0,o=(e.type,e.target.buffered),a=e.loaded||0,s=e.total||1;if(r.buffered=[],o&&o.length){for(t=0,n=o.length;t<n;t++)r.buffered.push({start:o.start(t)*Oe,end:o.end(t)*Oe});i=(o.end(0)-o.start(0))*Oe,a=Math.min(1,i/(e.target.duration*Oe))}isNaN(a)||(r._whileloading(a,s,r._get_html5_duration()),a&&s&&a===s&&oe.canplaythrough.call(this,e))})),ratechange:Je((function(){})),suspend:Je((function(e){var t=this._s;oe.progress.call(this,e),t._onsuspend()})),stalled:Je((function(){})),timeupdate:Je((function(){this._s._onTimer()})),waiting:Je((function(){this._s._onbufferchange(1)}))},Y=function(e){return!(!e||!(e.type||e.url||e.serverURL))&&(!(e.serverURL||e.type&&Ke(e.type))&&(e.type?X({type:e.type}):X({url:e.url})||le.html5Only||e.url.match(/data:/i)))},J=function(e){var t;return e&&(t=ze?We:le.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":We,e.src=t,e._called_unload!==o&&(e._called_load=!1)),Ce&&(te=null),t},X=function(e){if(!le.useHTML5Audio||!le.hasHTML5)return!1;var t,n,r,i,a=e.url||null,s=e.type||null,l=le.audioFormats;if(s&&le.html5[s]!==o)return le.html5[s]&&!Ke(s);if(!K){for(i in K=[],l)l.hasOwnProperty(i)&&(K.push(i),l[i].related&&(K=K.concat(l[i].related)));K=new RegExp("\\.("+K.join("|")+")(\\?.*)?$","i")}return(r=a?a.toLowerCase().match(K):null)&&r.length?r=r[1]:s?r=(-1!==(n=s.indexOf(";"))?s.substr(0,n):s).substr(6):t=!1,r&&le.html5[r]!==o?t=le.html5[r]&&!Ke(r):(s="audio/"+r,t=le.html5.canPlayType({type:s}),le.html5[r]=t,t=t&&le.html5[s]&&!Ke(s)),t},$=function(){if(!le.useHTML5Audio||!le.hasHTML5)return le.html5.usingFlash=!0,Te=!0,!1;var e,t,n,r,i=Audio!==o?Ne&&opera.version()<10?new Audio(null):new Audio:null,a={};function s(e){var t,n,o=!1,a=!1;if(!i||"function"!==typeof i.canPlayType)return o;if(e instanceof Array){for(r=0,n=e.length;r<n;r++)(le.html5[e[r]]||i.canPlayType(e[r]).match(le.html5Test))&&(a=!0,le.html5[e[r]]=!0,le.flash[e[r]]=!!e[r].match(He));o=a}else o=!(!(t=!(!i||"function"!==typeof i.canPlayType)&&i.canPlayType(e))||!t.match(le.html5Test));return o}for(e in n=le.audioFormats)if(n.hasOwnProperty(e)&&(t="audio/"+e,a[e]=s(n[e].type),a[t]=a[e],e.match(He)?(le.flash[e]=!0,le.flash[t]=!0):(le.flash[e]=!1,le.flash[t]=!1),n[e]&&n[e].related))for(r=n[e].related.length-1;r>=0;r--)a["audio/"+n[e].related[r]]=a[e],le.html5[n[e].related[r]]=a[e],le.flash[n[e].related[r]]=a[e];return a.canPlayType=i?s:null,le.html5=h(le.html5,a),le.html5.usingFlash=q(),Te=le.html5.usingFlash,!0},w={},L=function(){},B=function(e){return 8===u&&e.loops>1&&e.stream&&(e.stream=!1),e},F=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0),e},a=function(){return!1},O=function(e){var t;for(t in e)e.hasOwnProperty(t)&&"function"===typeof e[t]&&(e[t]=a);t=null},R=function(e){e===o&&(e=!1),(ye||e)&&le.disable(e)},I=function(e){var t;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return t=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+le.movieURL,le.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},b=function(){8!==(u=parseInt(le.flashVersion,10))&&9!==u&&(le.flashVersion=u=8);var e=le.debugMode||le.debugFlash?"_debug.swf":".swf";le.useHTML5Audio&&!le.html5Only&&le.audioFormats.mp4.required&&u<9&&(le.flashVersion=u=9),le.version=le.versionNumber+(le.html5Only?" (HTML5-only mode)":9===u?" (AS3/Flash 9)":" (AS2/Flash 8)"),u>8?(le.defaultOptions=h(le.defaultOptions,le.flash9Options),le.features.buffering=!0,le.defaultOptions=h(le.defaultOptions,le.movieStarOptions),le.filePatterns.flash9=new RegExp("\\.(mp3|"+Xe.join("|")+")(\\?.*)?$","i"),le.features.movieStar=!0):le.features.movieStar=!1,le.filePattern=le.filePatterns[8!==u?"flash9":"flash8"],le.movieURL=(8===u?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),le.features.peakData=le.features.waveformData=le.features.eqData=u>8},P=function(e,t){ce&&ce._setPolling(e,t)},j=this.getSoundById,z=function(){var e=[];return le.debugMode&&e.push(N.sm2Debug),le.debugFlash&&e.push(N.flashDebug),le.useHighPerformance&&e.push(N.highPerf),e.join(" ")},D=function(){L("fbHandler");var e=le.getMoviePercent(),t=N,n={type:"FLASHBLOCK"};le.html5Only||(le.ok()?le.oMC&&(le.oMC.className=[z(),t.swfDefault,t.swfLoaded+(le.didFlashBlock?" "+t.swfUnblocked:"")].join(" ")):(Te&&(le.oMC.className=z()+" "+t.swfDefault+" "+(null===e?t.swfTimedout:t.swfError)),le.didFlashBlock=!0,m({type:"ontimeout",ignoreInit:!0,error:n}),C(n)))},d=function(e,t,n){de[e]===o&&(de[e]=[]),de[e].push({method:t,scope:n||null,fired:!1})},m=function(e){if(e||(e={type:le.ok()?"onready":"ontimeout"}),!ge&&e&&!e.ignoreInit)return!1;if("ontimeout"===e.type&&(le.ok()||ye&&!e.ignoreInit))return!1;var t,n,r={success:e&&e.ignoreInit?le.ok():!ye},i=e&&e.type&&de[e.type]||[],o=[],a=[r],s=Te&&!le.ok();for(e.error&&(a[0].error=e.error),t=0,n=i.length;t<n;t++)!0!==i[t].fired&&o.push(i[t]);if(o.length)for(t=0,n=o.length;t<n;t++)o[t].scope?o[t].method.apply(o[t].scope,a):o[t].method.apply(this,a),s||(o[t].fired=!0);return!0},v=function(){i.setTimeout((function(){le.useFlashBlock&&D(),m(),"function"===typeof le.onload&&le.onload.apply(i),le.waitForWindowLoad&&ee.add(i,"load",v)}),1)},re=function(){if(ne!==o)return ne;var e,t,n,r,a=!1,s=navigator,l=i.ActiveXObject;try{r=s.plugins}catch(u){r=void 0}if(r&&r.length)t="application/x-shockwave-flash",(n=s.mimeTypes)&&n[t]&&n[t].enabledPlugin&&n[t].enabledPlugin.description&&(a=!0);else if(l!==o&&!he.match(/MSAppHost/i)){try{e=new l("ShockwaveFlash.ShockwaveFlash")}catch(u){e=null}a=!!e,e=null}return ne=a,a},q=function(){var e,t,n=le.audioFormats;if(Re&&!!he.match(/os (1|2|3_0|3_1)\s/i)?(le.hasHTML5=!1,le.html5Only=!0,le.oMC&&(le.oMC.style.display="none")):le.useHTML5Audio&&(le.html5&&le.html5.canPlayType||(le.hasHTML5=!1)),le.useHTML5Audio&&le.hasHTML5)for(t in G=!0,n)n.hasOwnProperty(t)&&n[t].required&&(le.html5.canPlayType(n[t].type)?le.preferFlash&&(le.flash[t]||le.flash[n[t].type])&&(e=!0):(G=!1,e=!0));return le.ignoreFlash&&(e=!1,G=!0),le.html5Only=le.hasHTML5&&le.useHTML5Audio&&!e,!le.html5Only},W=function(e){var t,n,r,i=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(le.canPlayMIME(e[t].type)){i=t;break}}else if(le.canPlayURL(e[t])){i=t;break}e[i].url&&(e[i]=e[i].url),r=e[i]}else r=e;return r},U=function(e){e._hasTimer||(e._hasTimer=!0,!Be&&le.html5PollingInterval&&(null===Me&&0===Ee&&(Me=setInterval(H,le.html5PollingInterval)),Ee++))},V=function(e){e._hasTimer&&(e._hasTimer=!1,!Be&&le.html5PollingInterval&&Ee--)},H=function(){var e;if(null!==Me&&!Ee)return clearInterval(Me),void(Me=null);for(e=le.soundIDs.length-1;e>=0;e--)le.sounds[le.soundIDs[e]].isHTML5&&le.sounds[le.soundIDs[e]]._hasTimer&&le.sounds[le.soundIDs[e]]._onTimer()},C=function(e){e=e!==o?e:{},"function"===typeof le.onerror&&le.onerror.apply(i,[{type:e.type!==o?e.type:null}]),e.fatal!==o&&e.fatal&&le.disable()},ie=function(){if(Fe&&re()){var e,t,n=le.audioFormats;for(t in n)if(n.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(le.html5[t]=!1,n[t]&&n[t].related))for(e=n[t].related.length-1;e>=0;e--)le.html5[n[t].related[e]]=!1}},this._setSandboxType=function(e){},this._externalInterfaceOK=function(e){le.swfLoaded||(le.swfLoaded=!0,Ue=!1,Fe&&ie(),setTimeout(l,Le?100:1))},A=function(e,t){if(me&&ve)return!1;if(le.html5Only)return b(),le.oMC=r(le.movieID),l(),me=!0,ve=!0,!1;var n,i,a,s,u,c,h,p,f,d=t||le.url,m=le.altURL||d,v=T(),g=z(),y=fe.getElementsByTagName("html")[0];function _(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(n=y&&y.dir&&y.dir.match(/rtl/i),e=e===o?le.id:e,b(),le.url=I(Ge?d:m),t=le.url,le.wmode=!le.wmode&&le.useHighPerformance?"transparent":le.wmode,null!==le.wmode&&(he.match(/msie 8/i)||!Le&&!le.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(ke.push(w.spcWmode),le.wmode=null),i={name:e,id:e,src:t,quality:"high",allowScriptAccess:le.allowScriptAccess,bgcolor:le.bgColor,pluginspage:qe+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:le.wmode,hasPriority:"true"},le.debugFlash&&(i.FlashVars="debug=1"),le.wmode||delete i.wmode,Le)a=fe.createElement("div"),u=['<object id="'+e+'" data="'+t+'" type="'+i.type+'" title="'+i.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',_("movie",t),_("AllowScriptAccess",le.allowScriptAccess),_("quality",i.quality),le.wmode?_("wmode",le.wmode):"",_("bgcolor",le.bgColor),_("hasPriority","true"),le.debugFlash?_("FlashVars",i.FlashVars):"","</object>"].join("");else for(s in a=fe.createElement("embed"),i)i.hasOwnProperty(s)&&a.setAttribute(s,i[s]);if(g=z(),v=T())if(le.oMC=r(le.movieID)||fe.createElement("div"),le.oMC.id)f=le.oMC.className,le.oMC.className=(f?f+" ":N.swfDefault)+(g?" "+g:""),le.oMC.appendChild(a),Le&&((c=le.oMC.appendChild(fe.createElement("div"))).className=N.swfBox,c.innerHTML=u),ve=!0;else{if(le.oMC.id=le.movieID,le.oMC.className=N.swfDefault+" "+g,h=null,c=null,le.useFlashBlock||(le.useHighPerformance?h={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(h={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},n&&(h.left=Math.abs(parseInt(h.left,10))+"px"))),De&&(le.oMC.style.zIndex=1e4),!le.debugFlash)for(p in h)h.hasOwnProperty(p)&&(le.oMC.style[p]=h[p]);try{Le||le.oMC.appendChild(a),v.appendChild(le.oMC),Le&&((c=le.oMC.appendChild(fe.createElement("div"))).className=N.swfBox,c.innerHTML=u),ve=!0}catch(x){throw new Error(L("domError")+" \n"+x.toString())}}return me=!0,!0},S=function(){return le.html5Only?(A(),!1):!ce&&(!!le.url&&((ce=le.getMovie(le.id))||(be?(Le?le.oMC.innerHTML=xe:le.oMC.appendChild(be),be=null,me=!0):A(le.id,le.url),ce=le.getMovie(le.id)),"function"===typeof le.oninitmovie&&setTimeout(le.oninitmovie,1),!0))},g=function(){setTimeout(y,1e3)},_=function(){i.setTimeout((function(){le.setup({preferFlash:!1}).reboot(),le.didFlashBlock=!0,le.beginDelayedInit()}),1)},y=function(){var e,t=!1;le.url&&(we||(we=!0,ee.remove(i,"load",g),ne&&Ue&&!je||(ge||(e=le.getMoviePercent())>0&&e<100&&(t=!0),setTimeout((function(){if(e=le.getMoviePercent(),t)return we=!1,void i.setTimeout(g,1);!ge&&Ve&&(null===e?le.useFlashBlock||0===le.flashLoadTimeout?le.useFlashBlock&&D():!le.useFlashBlock&&G?_():m({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):0===le.flashLoadTimeout||(!le.useFlashBlock&&G?_():R(!0)))}),le.flashLoadTimeout))))},x=function(){function e(){ee.remove(i,"focus",x)}return je||!Ue?(e(),!0):(Ve=!0,je=!0,we=!1,g(),e(),!0)},c=function(e){if(ge)return!1;if(le.html5Only)return ge=!0,v(),!0;var t,n=!0;return le.useFlashBlock&&le.flashLoadTimeout&&!le.getMoviePercent()||(ge=!0),t={type:!ne&&Te?"NO_FLASH":"INIT_TIMEOUT"},(ye||e)&&(le.useFlashBlock&&le.oMC&&(le.oMC.className=z()+" "+(null===le.getMoviePercent()?N.swfTimedout:N.swfError)),m({type:"ontimeout",error:t,ignoreInit:!0}),C(t),n=!1),ye||(le.waitForWindowLoad&&!_e?ee.add(i,"load",v):v()),n},s=function(){var e,t=le.setupOptions;for(e in t)t.hasOwnProperty(e)&&(le[e]===o?le[e]=t[e]:le[e]!==t[e]&&(le.setupOptions[e]=le[e]))},l=function(){if(ge)return!1;function e(){ee.remove(i,"load",le.beginDelayedInit)}if(le.html5Only)return ge||(e(),le.enabled=!0,c()),!0;S();try{ce._externalInterfaceTest(!1),P(!0,le.flashPollingInterval||(le.useHighPerformance?10:50)),le.debugMode||ce._disableDebug(),le.enabled=!0,le.html5Only||ee.add(i,"unload",a)}catch(t){return C({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),R(!0),c(),!1}return c(),e(),!0},E=function(){return!k&&(k=!0,s(),!ne&&le.hasHTML5&&le.setup({useHTML5Audio:!0,preferFlash:!1}),$(),!ne&&Te&&(ke.push(w.needFlash),le.setup({flashLoadTimeout:1})),fe.removeEventListener&&fe.removeEventListener("DOMContentLoaded",E,!1),S(),!0)},Q=function(){return"complete"===fe.readyState&&(E(),fe.detachEvent("onreadystatechange",Q)),!0},M=function(){_e=!0,E(),ee.remove(i,"load",M)},re(),ee.add(i,"focus",x),ee.add(i,"load",g),ee.add(i,"load",M),fe.addEventListener?fe.addEventListener("DOMContentLoaded",E,!1):fe.attachEvent?fe.attachEvent("onreadystatechange",Q):C({type:"NO_DOM2_EVENTS",fatal:!0})}i.SM2_DEFER!==o&&SM2_DEFER||(a=new s),e&&"object"===typeof e.exports?(e.exports.SoundManager=s,e.exports.soundManager=a):void 0===(r=function(){return{constructor:s,getInstance:function(e){if(!i.soundManager&&e instanceof Function){var t=e(s);t instanceof s&&(i.soundManager=t)}return i.soundManager}}}.call(t,n,t,e))||(e.exports=r),i.SoundManager=s,i.soundManager=a}(window)},1854:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAPNQTFRFcYmzqd7sgKbR1eHvYY/F9Pj7qsPgoLDM4vT46vD3Tmug8/X50NfmuMTZa5fJv9Loxeny+Pz9k9bnlIC2XkCRytrs9/f7iIG/lrXYoJvMiZzA1O719PL4vrLTt+Tvtcvk5+vyoLzcWnWn6ff62+Hsdp7Nmtnoi63UfmansKvV393uz83lv7zdyb/a5+byaU2ZqZnElabGZn+t3+nz7+7239npsOHtqKPQxM3ffZO6mJLI8fn8v+bw19Xq2/H3n429c1mgotvqzOz06eXwkIrEx8Th1MzirLrTiXOvuLTZs6XMUzOKgHm7QmGaVojBjNPl////gphWdAAAAFF0Uk5T//////////////////////////////////////////////////////////////////////////////////////////////////////////8AaOyowQAAFsVJREFUeNrs3WlbG7nSBuCObWyMN4gXDJhgs4Qt7GsgLBMCWexp9///NYclMydnzhBVd5dKUut5vrzvh3MFGt0jlUpqO4gQrxPgTwAACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAICYATCRfzX4q2cZwEQuVEXxL1y+GafIm595N/2UhcnHYJQFAUzUw7QAJsca8kji0/T0NTToBqD+798MgF/y/s3p9OfJFYy9DgBLof0A/srbx2XiegUAWBeAgkMA/p4QHisFAOBJN3QPwEv+eDc9OQMAKXMUOgvgZTI4nZ4EAM0VoM0AXuaCTwuXAJAo7TALAF6mgs8rABA79cwAeN4knHoxEzACKIaZAvA8E7y7ngEA1i2gWwCee4jZXg34AHRDJgALY9vy/tM1AKhSDrkATI8tzNt3CzMAwLAFdBXAU06zaIALQD7MPoBMGuACsOYHgKe14BoA/j+N0BcATwY+rQBAwh5QJgA89Ys/zwDAL1kKPQPwmIwsBSwA6D2gDAEYj99PXwJAvCZwtgA8TQOTABB7AnCsFayaBhzfGAbyE0C2ADxtCi79BlAu+A3A7ZWAAUA39B7AePxm0lsA5RAAXooBTwF0AcBlAoH8BJBZAE+dgRnvAHQB4H+2BK4RCOQngEwDeCTw2SsAXX4Al2PH41QtEMhPACoA0XgMAq4A6ALAK+fFk14ASDQBhGUPAIzHb1Y8AJBoAgjzXgAYj99dZh1A3GNAIoA3WRHgwp4wFYBiCACuV4OB/ATgEwD7S4FAfgIIi4p/9904U/k0k1UABU0AprMFYPx2IZsAGiEAuL8OpABQTwqgq/iHr8fZi7XrQCA/AYS5bJ8GvbIfmMwagJw2ACvjTOZ0JlMA8onHPyz4cBjwb8XgdZYAdJMDUJ4Gvc2ogPHpZWYAlFOMfzjhUyfI8tsiSQEM0gBQtQJPx9mNbZVAQgBJu8A0ANMZBmBbJZAQwFKa8Vd2gq7HmY5Vk0BCAHWtACazDcCqnkAyAO1U469sBETjrOeT4wBy6QCsqf7995kX8MeKywDKYcqofsBp5gFYc0SYCMAgLQDVtdDpsQexoxZMAiDdHpCyD7z2AcD4/YqjABppx1+5Dbgc+5HPbgJYSw1AdSPAgyrwJe9mHASQTz3+6m3AqScAzO8GEgDopgeg3AZ89gWA8d1AfAATDOMfHnneC7SnKRQfwBIHgIb3vcBf8mbGKQB1DgADFAG/LgMrDgE44hh/9WnA57FXAhbcAdBlAaCsAlfGfuWTKwDSdwFpvUBvOgGmG8NxATR4xl/ZC8zaC4KEjsClEwByTADWVT/o2jcAhkrBmADKTOOvfjcgu3fDX8+C/QAGXACUrSC/NoI/M209gDobgCXVj1rwEMD4neUA2mzjr+4E+LgGPJaCM1YD6PIBUHYC/NsHGBEQCwBXE+A5bewDbNgMxALQYBx/9XGAd70gIwJiAVjnBFBX/rhPY0+zYCmAiZA1yo3g5RgCrAKwxAtA2Q3O8Gvi9giIA2CNF4DyYqCfrQDhhkAMAOWQOWXlj3wLARYBWOIGoF4DpscQYA+ANW4A6n3A5RgCrAHAvgIQ9gGedgMlBQTmVgDCC0J+TwEiAgJzKwDlUoDHO0EhAYHBFYDweoBXb4gYERAYXAEoZ8KeTwH6BQQGVwBSK8DzKUC7gMDkCkA5EvR9CtAtIDC5AjyWgROYAswKCIyuAJQy0PspQO/niBABTGgaf0I3EFOA1rNBIoCGLgCYAgwLIAJY1waAsBNc8R7AeNI0gFBf8uqf/s57APruCdIAtDUCIEwBl28h4NIogG5odgqYxiKg630BGoB6aHYKmMEUoEsACcBRGBqeAhYAQFNDiASgqBcAYQrAVnCs6WNkSADW9AKg9AKwFdTUDqAAmNA8/pR2oL+vCf2aFTMAGroBUKYA1IF6NoMUAF3tAAiHgqgD9WwFKAAK2gEQXhFAHficUwMAjvSPP2kKuMTwj/k/Rigwvgmk3hBHP/Al1+IAchIACC+JRNEfGH72cyECAJHxJ3WD0AzgLwTVANoyANSfGYRmgI5CUA1gIASgTqgDZ95j+Me8lwTVANaEAJC2grgf+JxJQQATUuMfFspYBKiF4IwcgLYYAPUniGMR+Ctv5AAM5ABQLgZgJ8DcDwqsKQGIdSDaQbxlQGBNCUCtA9EOes77GRkAbVEAYRmLgHA3ILCoBCD2Az37SjnN3YDAohKA2g/EwTDjoUBgUwlAPBfG7aCfhwICANrSACgfGeHtVwno2AsGFtwFiN8MwNuCbHvBwIa7ALGvCKMhyLYXDGy4C5CgGYC94HM+aQaQNwGA1AxAQ5BpEfg9gCUjAEjNAOwFeRaB3wNYNwJA/aWS2AuyLQK/B1A3A4B0MwB7QZZFILCqDRTnZgDeFfq5CGgE0DYFgNYRhgCGM4HAsjZQnI7w42YQlWDa+2GBZW2gOG8KPRP4fPrG9yxoA1AwB4DWEUa0NoLKBsefdj0M0QqgbRIA7VgQ0QmgaBQA6XVRRCeAnFkAaxgdwwAKZgHQjgURbQDKoelgETAKoG0cQA7jYxJA0TgA2rEgoglAzjwA2rEgogdA3TwALAIGAUyENqSNITIFIG8FgAI6wqYALFkBgHg3BOEHMLADABYBUwBylgDAsaAhAAVLAOBY0AyAidCa4G6ICQB5ewBgETABYMkeAFgETAAYWAQAi4ABADmbAGARkAdQsAkAFgF5AKFdwSIgDCBvGQCcCQgDaFgGAGcCwgCKtgHAmYAsgHXrAGAREAWQsw4AFgFRAKGFwSLgOQAsAnIA8jYCoC4C/cDnHNQqDADaVgKgfM38Uz7+6XWmSukBFO0EQHxPoDLlt4A/51MDGNgJgPqeQM1zAH/W0gLIWQqA+rJY4DmAqUpKAGu2AiAuAqu+TwFfUwIIrQ1xETjwHMByOgAT9gIgLgLe14HnqQDkLQZAXAR8rwM/ZhYAdRE49FxAPw2Aos0AiItA1XMApewCIC4Cnm8Fl9MAWLcaAHER6KMMTAwgZzcA4iIwjzIwKYC65QBoi4DvU0A/OYDQ9tAWgRK6gVkFQFsEPO8GLScGkLcfAO12kOdTwGqGAdBuB3k+BcwnBdBwAADtiqjfU8BUUgBFFwCQFgHPp4DzLAOgvTHs97Hwx4QA1p0AQHpj2PNeQCUZgJwbAOpoB6pSyzQA0leK9LEGxAdQcAQAqSMcYA2IDSB0JZSOcBVrQHYBkJoBy1gDYgIouwOA8vFhNawBMQHk3QFAqQP9bgbVMg4gLGMnmGoNcB4AoQ70+jWhqQQAii4BoNSBXt8QP886gDrKwN/mIOsACJ8a4XUZuBwfwMAtAIRzYa/LwNXYAHJuASBsBb3uBn7NPADCFOBzNzDIPABCFeD1vZBK5gHU0QpIvBEMjL8XVMitF4uN/GPKUVR++r+NYnE9F+tIuu1EK2A5CILS3/kYBEK/1EFcAHJD/zjwr/5mE/mlAXUuUrcDv5psxgUHpWr1lampWjoINO9SD20EsDZok97vyy+tU+YC5b/VNzX2pSrhA7v65yWd91b6lgGod9uxPvU3P1B+aNnAwjVg6uPX1TiPufpVF4KaTQDWikcJPtK4vPR7AwXbXhFZPqgmeMzK+byO5WDeGgD1pXKUNOVBPU0ZuCo6+quJHzM6529bLscDoOs0uDA4itKl/foLC+pXBcV6QfPnKR+zUjuUKwLEAOQaEUPKg9dKQmVVIdMLWi5VOJ6zOi9VBMgAKHTLEVMmivVk3cBzgeE/rHE9ZtQvTYkUARIACkXer/po1BOtAfqb7lXWx6zwETg0CaDe4P+ml6VCgjVA89dIHFbZH5OPQMUYgEIj0pGJYiH2GqC1Gbhc0/KcFaZaoGoIAPfk/2s52I27BmhsBsb6kpZ4WWXpDpXiAOC7EdbV+jVf+bWYa4C2jeDHvs7nrDGsA4EJALmjSHP+txRQrgGaLoZNnWt+TIZ1YEoegKbF/x/rQC7OGlDT859/Rf9zVlNPXn1pAOtCX/LYLtDPA/ou/uf/cxJIu4WpyQIoyH3L60SOfh7AXwQEFannTFkJHIgCyIl+x+vflYDyTJi9CCgJPmb/UEsVqANAMZLN0RrxaiBzETBVlX3OVH7lABTykXQmfvYEVNsO3iPhw770c9Y0VIHsANaMfMV343kZUH6CNOdti/mK/GOuJn+AcyEAXUNf8X70dEC0pvpfMd65OjDymMkLgZIMgGJkKs+7AZU+vnthNUOPWQmYq0BeAI3IYLrqn3/u+vgnLwWX6QBybo7/04ecq5qBfTfLfxYB+gEYKP//eTyk3AiyVIFTq2YfM5mAqm4AhaPIeI5UN8+CDIx/QgE13QAsGH91SlkY/2QCSpoBNFwYf45e4KoNzzHPtg3gAuDG+DP0Amt2PEh8AYdaARQjR5KR8U9yxVUngG6KJ3nY2W9ubLSGL9nb2LjZ3znR9ndL+c5Nqv5fZ+vqw4cPc885e/z/rrY6KTpCsZ+krw/AWsKHuFts3g7/Pbc3i3c6AKTbBswn/bG795tzo3/L3Pft44QCplj2gRwACon6/zs3e8PfZ+/mwa5twGEl2eCfjX6bL5tXSaaCuCdDX7UBSNAAOmm2hpS0msyrQZptwFSC89/d719GlJxdaX+Wki4AsQvA3o+9IT17iz1GAGk+MTB2A7hzfzEiZ/Z77LVgnmEfmB5ALuZvfXfTGsZLa5+vHKjI3f863hzFzOaWzpJWE4CYBcBdc5gkTbZZQMO7Ff+arbNRgsztxvoh/anU+8DUAGLd/+3tDxOmtc9EIOk+cCpWAXicaPifZ4FjbWWAFgDrcX7dxdYwefZ2jO4D49z/73wfJc/sB139oKoGAHEWgLuNYbp84ygFEn5QyMcYP2J7dpQqFzHWgTjdAB0Alui/6o/WMG1aDJNASfcCcDw3Sp0PWhaBr/wA6C3A3rchR9IXg8luhdGPAK5mRwy5ONawppX4AZBbQCetIU9u0zaGqnp3AN9HPJklN4bo19wO2AGQz4AWh2xJuwwkOhCmtgA7FyO23LMvagE7AOpHf90MObMo3gigngHuzo4Ys8ldB7IDoPaAm0PeNIUBUCvAK9bxH43OiEdE1DpwihkAcQvY4x7/lAIOdfWAt0fcuSAKWE7RCUoBgDYB9G6HQ6sExO4ELZsaf7KAmhEAxAmgORzaJSDQswXUMf5kAcRnWmUFMDA4/sPhvlgrkDYBXI30ZJNzCqiyAiBtAW6GupJ4L1DSMQHszo6MCliWB0DqASwO9eVEBgBpC9DRNv6j0TbfFFDjBEBpAp5oHP9hqycCgLQFuBhpzBbbFFBiBEA5Bei1dAIY3or0gikTwKbO8R/NdrhYcwKgvAm0MdSbfQEA8wYLwL+vCXFddWMEQNkD/hjqzoN+AISLoMezmgGQTofnE2pOCIBQAt61tAPY6+kGQNkDzo20h3BD5DzhYUBCAG3zC8BTbnQfB3411QH6Rz+IpwzkA6D+tmatO8B0e0Hec+DOrAAAytnwgSQAdRew1xIBsKEXAOEiyKbE+FN2AquSANSfBnIzlMmOVgDqLuDxSCabHGvAMhcA9QpwJzT+wz2tACo2VIAvOeZYA7gAqPcATSkACc4EUn+oxi/Zkhp/whSwKgegbc0EkGQK4NwDiE0AlClgWQyARRNAgimA8fOgduXGnzAFzEsBUL4O1hMc//hHAoxdoE1BAOop4FwKgPJ1oH1JALF7AXznAB3J8Vc3hCtSAJSbwD1RAE1dAJSbwHtRALPp77vyAFB+O9eO6PjHvhjA1wb8IgpAfTXkQAbAuk0lYIIykK0E2JUd/9FZ6iKAB0DRphLw+bVxPQCUb4R/FwYw6qQtAvosAFSXwRalAQx7WgCULFsBCGuAqhNQZQFg2woQ90CA6y6I9ApAWAM+SgBQ3gZsiQNoagFQsWoPQNoHlCQAqA4CTsTHP2Y7OM2rlIbawNQLwlUJAKo20A95AMM7DQCUdwHkx1/ZC+pLAFDVgN8MAFjUAED1oQBbBgDMpXy2VQ4AE9aVADHvBjJtAu4NAFAWAYH+PoCqD9gzMP7xboYxbQI2DQBQHgjN6weg+mjgBxMAWhoAqM6CL0wAuEq3DeAAoNoE7JsAEKcVRL0WbmENqK4Ca/oBFK0EEOMdoSoPgGMjADbTPRwHANV1sA0jAHbYAQQWbgLU24A+B4BBql2gGQD74gCujAC4SFXgTNEAFJ3bBZoA8MEIgFEqAMQXQ9LFyPin/OjAJLEUQOxkBMAGAACAbDbNADgGAEsAzJkBsAUAAAAAAAAAvtYAAIBdAAAwfVgQAGgBsGcEwD4A2AJgwxMA20bGf9Z+AN+MAHgQB2DnaaAFAPY9AWDmPsCZ/QAWjQCI5GPljSALABi5E7hnAICRO4Hb9gOI/GgDRNGZCQBbDgC49WITYGgfGDkAoGkAwI4BACa2ARcuADBRBfYMADBRBX53AcCd/Pjfmhh/E+eBVy4AMNAMvjECwEAR0HECwI0XJYCJTwjRUALoALAjPf6tyEzEPyPo3g0A4q8GNA0BEL8TsusIgKYXK4D8GvAlcgTAiR8rgPgacO8KAOF9wI0xAML7gGNnAMj2gu6MAZA9Ej6LnAHQkywDNyJzES0Dt9wBIHor5MEggC3XS0BdAASngL3IZATbwdsuARCcAhaNAthyfQLQBUBsCriNIj+mgG23AIhNAQ+GAUg1gy4ixwD09jK/BRDdCGy5BkDoSOjOOACZbw8/i5wDIPKGyH5kPhKfGTzbcRCAQB14G9kQgTrwPnIQgMAicGIFgGPti8Bc5CQA7cfCPyI7su3uAqAXQE/vKwLfIluieSdwFTkKIDrRWQbs9awB0NH6mtiHyFkAOsuA1klkT3SWAWeRwwA03gzYiWyKvobgRcdpANoKwcXIrmy7WABKANAkwLbx1yVgdjdyHYAWAfaNvx4B+sdfAIAGATaOvw4BAuMvAYBdgJ3jzy/gi8D4iwDg3Qu0diJbczXrUv0vCCDa4esI7Z1E9maXUcCZyPgLAYhOuLrCG73I5nTm3Oj/iQOIejyFwH5ke77zlH9bUcYAsCwDtyeR/dn64sz0Lwsg6n3L/H/+L8tA2klg9krwtw0k/zQPaSqBjZPIlWylqgQ2O1FWATxuCJNeFt7biVzKduJ1YG5L9jcNpP80iQjsLUauJRkB6eE3AOCRQNyvFLh1b/ifCczZP/xGAETR3U2MHUHzIXI1u5sxGkOzm7smfsfA0N9mp0ky8G2xF7mczjbxM6XntjtmfsPA3B9np/n7cqDl+uiTDZxtHxv79QKjf5yTH6/UA7fNHydRZtK52nytJJw9+7Bl9HcLjP91Hvb/gaB1k6Gx/289cH/2fwXB5lXH+O8VRIjXAQAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEAJDf5D8CDAAJqfObUfjSzAAAAABJRU5ErkJggg=="}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){"use strict";var e={};n.r(e),n.d(e,{ACESFilmicToneMapping:function(){return cy},AddEquation:function(){return Ig},AddOperation:function(){return oy},AdditiveAnimationBlendMode:function(){return N_},AdditiveBlending:function(){return Cg},AlphaFormat:function(){return Hy},AlwaysDepth:function(){return Kg},AlwaysStencilFunc:function(){return lb},AmbientLight:function(){return VC},AmbientLightProbe:function(){return oP},AnimationClip:function(){return fC},AnimationLoader:function(){return xC},AnimationMixer:function(){return FP},AnimationObjectGroup:function(){return NP},AnimationUtils:function(){return eC},ArcCurve:function(){return RT},ArrayCamera:function(){return ek},ArrowHelper:function(){return AO},Audio:function(){return gP},AudioAnalyser:function(){return SP},AudioContext:function(){return nP},AudioListener:function(){return vP},AudioLoader:function(){return rP},AxesHelper:function(){return CO},AxisHelper:function(){return iR},BackSide:function(){return Sg},BasicDepthPacking:function(){return H_},BasicShadowMap:function(){return yg},BinaryTextureLoader:function(){return uR},Bone:function(){return Uk},BooleanKeyframeTrack:function(){return aC},BoundingBoxHelper:function(){return oR},Box2:function(){return ZP},Box3:function(){return hx},Box3Helper:function(){return MO},BoxBufferGeometry:function(){return hS},BoxGeometry:function(){return hS},BoxHelper:function(){return EO},BufferAttribute:function(){return Tw},BufferGeometry:function(){return Gw},BufferGeometryLoader:function(){return KC},ByteType:function(){return Iy},Cache:function(){return mC},Camera:function(){return vS},CameraHelper:function(){return _O},CanvasRenderer:function(){return hR},CanvasTexture:function(){return _T},CatmullRomCurve3:function(){return BT},CineonToneMapping:function(){return uy},CircleBufferGeometry:function(){return bT},CircleGeometry:function(){return bT},ClampToEdgeWrapping:function(){return by},Clock:function(){return cP},Color:function(){return Xb},ColorKeyframeTrack:function(){return sC},CompressedTexture:function(){return yT},CompressedTextureLoader:function(){return wC},ConeBufferGeometry:function(){return wT},ConeGeometry:function(){return wT},CubeCamera:function(){return _S},CubeReflectionMapping:function(){return fy},CubeRefractionMapping:function(){return dy},CubeTexture:function(){return bS},CubeTextureLoader:function(){return EC},CubeUVReflectionMapping:function(){return gy},CubeUVRefractionMapping:function(){return yy},CubicBezierCurve:function(){return VT},CubicBezierCurve3:function(){return HT},CubicInterpolant:function(){return nC},CullFaceBack:function(){return mg},CullFaceFront:function(){return vg},CullFaceFrontBack:function(){return gg},CullFaceNone:function(){return dg},Curve:function(){return PT},CurvePath:function(){return KT},CustomBlending:function(){return Rg},CustomToneMapping:function(){return hy},CylinderBufferGeometry:function(){return xT},CylinderGeometry:function(){return xT},Cylindrical:function(){return YP},Data3DTexture:function(){return ix},DataArrayTexture:function(){return nx},DataTexture:function(){return Vk},DataTexture2DArray:function(){return xR},DataTexture3D:function(){return wR},DataTextureLoader:function(){return MC},DataUtils:function(){return IO},DecrementStencilOp:function(){return J_},DecrementWrapStencilOp:function(){return $_},DefaultLoadingManager:function(){return gC},DepthFormat:function(){return Xy},DepthStencilFormat:function(){return Zy},DepthTexture:function(){return ik},DirectionalLight:function(){return UC},DirectionalLightHelper:function(){return vO},DiscreteInterpolant:function(){return iC},DodecahedronBufferGeometry:function(){return ET},DodecahedronGeometry:function(){return ET},DoubleSide:function(){return Eg},DstAlphaFactor:function(){return Wg},DstColorFactor:function(){return qg},DynamicBufferAttribute:function(){return XO},DynamicCopyUsage:function(){return vb},DynamicDrawUsage:function(){return cb},DynamicReadUsage:function(){return fb},EdgesGeometry:function(){return CT},EdgesHelper:function(){return aR},EllipseCurve:function(){return OT},EqualDepth:function(){return $g},EqualStencilFunc:function(){return rb},EquirectangularReflectionMapping:function(){return my},EquirectangularRefractionMapping:function(){return vy},Euler:function(){return Zx},EventDispatcher:function(){return xb},ExtrudeBufferGeometry:function(){return AA},ExtrudeGeometry:function(){return AA},FaceColors:function(){return NO},FileLoader:function(){return bC},FlatShading:function(){return Mg},Float16BufferAttribute:function(){return Dw},Float32Attribute:function(){return nR},Float32BufferAttribute:function(){return zw},Float64Attribute:function(){return rR},Float64BufferAttribute:function(){return Nw},FloatType:function(){return By},Fog:function(){return hk},FogExp2:function(){return ck},Font:function(){return yR},FontLoader:function(){return gR},FramebufferTexture:function(){return gT},FrontSide:function(){return wg},Frustum:function(){return AS},GLBufferAttribute:function(){return VP},GLSL1:function(){return yb},GLSL3:function(){return _b},GreaterDepth:function(){return ty},GreaterEqualDepth:function(){return ey},GreaterEqualStencilFunc:function(){return sb},GreaterStencilFunc:function(){return ob},GridHelper:function(){return hO},Group:function(){return tk},HalfFloatType:function(){return Fy},HemisphereLight:function(){return AC},HemisphereLightHelper:function(){return cO},HemisphereLightProbe:function(){return iP},IcosahedronBufferGeometry:function(){return PA},IcosahedronGeometry:function(){return PA},ImageBitmapLoader:function(){return tP},ImageLoader:function(){return SC},ImageUtils:function(){return Zb},ImmediateRenderObject:function(){return _R},IncrementStencilOp:function(){return K_},IncrementWrapStencilOp:function(){return Q_},InstancedBufferAttribute:function(){return qk},InstancedBufferGeometry:function(){return XC},InstancedInterleavedBuffer:function(){return UP},InstancedMesh:function(){return Jk},Int16Attribute:function(){return QO},Int16BufferAttribute:function(){return Ow},Int32Attribute:function(){return eR},Int32BufferAttribute:function(){return Iw},Int8Attribute:function(){return ZO},Int8BufferAttribute:function(){return Aw},IntType:function(){return zy},InterleavedBuffer:function(){return fk},InterleavedBufferAttribute:function(){return mk},Interpolant:function(){return tC},InterpolateDiscrete:function(){return P_},InterpolateLinear:function(){return O_},InterpolateSmooth:function(){return R_},InvertStencilOp:function(){return eb},JSONLoader:function(){return pR},KeepStencilOp:function(){return X_},KeyframeTrack:function(){return oC},LOD:function(){return Lk},LatheBufferGeometry:function(){return OA},LatheGeometry:function(){return OA},Layers:function(){return Kx},LensFlare:function(){return dR},LessDepth:function(){return Jg},LessEqualDepth:function(){return Qg},LessEqualStencilFunc:function(){return ib},LessStencilFunc:function(){return nb},Light:function(){return TC},LightProbe:function(){return GC},Line:function(){return iT},Line3:function(){return QP},LineBasicMaterial:function(){return Qk},LineCurve:function(){return WT},LineCurve3:function(){return GT},LineDashedMaterial:function(){return QA},LineLoop:function(){return lT},LinePieces:function(){return DO},LineSegments:function(){return sT},LineStrip:function(){return LO},LinearEncoding:function(){return U_},LinearFilter:function(){return Ty},LinearInterpolant:function(){return rC},LinearMipMapLinearFilter:function(){return Oy},LinearMipMapNearestFilter:function(){return Cy},LinearMipmapLinearFilter:function(){return Py},LinearMipmapNearestFilter:function(){return Ay},LinearToneMapping:function(){return sy},Loader:function(){return yC},LoaderUtils:function(){return YC},LoadingManager:function(){return vC},LoopOnce:function(){return T_},LoopPingPong:function(){return C_},LoopRepeat:function(){return A_},LuminanceAlphaFormat:function(){return Yy},LuminanceFormat:function(){return qy},MOUSE:function(){return pg},Material:function(){return Sw},MaterialLoader:function(){return qC},Math:function(){return Lb},MathUtils:function(){return Lb},Matrix3:function(){return zb},Matrix4:function(){return Fx},MaxEquation:function(){return Ng},Mesh:function(){return uS},MeshBasicMaterial:function(){return Ew},MeshDepthMaterial:function(){return XM},MeshDistanceMaterial:function(){return ZM},MeshFaceMaterial:function(){return FO},MeshLambertMaterial:function(){return KA},MeshMatcapMaterial:function(){return JA},MeshNormalMaterial:function(){return ZA},MeshPhongMaterial:function(){return YA},MeshPhysicalMaterial:function(){return qA},MeshStandardMaterial:function(){return GA},MeshToonMaterial:function(){return XA},MinEquation:function(){return zg},MirroredRepeatWrapping:function(){return xy},MixOperation:function(){return iy},MultiMaterial:function(){return jO},MultiplyBlending:function(){return Og},MultiplyOperation:function(){return ry},NearestFilter:function(){return wy},NearestMipMapLinearFilter:function(){return ky},NearestMipMapNearestFilter:function(){return Ey},NearestMipmapLinearFilter:function(){return My},NearestMipmapNearestFilter:function(){return Sy},NeverDepth:function(){return Zg},NeverStencilFunc:function(){return tb},NoBlending:function(){return Tg},NoColors:function(){return zO},NoToneMapping:function(){return ay},NormalAnimationBlendMode:function(){return z_},NormalBlending:function(){return Ag},NotEqualDepth:function(){return ny},NotEqualStencilFunc:function(){return ab},NumberKeyframeTrack:function(){return lC},Object3D:function(){return cw},ObjectLoader:function(){return JC},ObjectSpaceNormalMap:function(){return q_},OctahedronBufferGeometry:function(){return RA},OctahedronGeometry:function(){return RA},OneFactor:function(){return Fg},OneMinusDstAlphaFactor:function(){return Gg},OneMinusDstColorFactor:function(){return Yg},OneMinusSrcAlphaFactor:function(){return Hg},OneMinusSrcColorFactor:function(){return Ug},OrthographicCamera:function(){return US},PCFShadowMap:function(){return _g},PCFSoftShadowMap:function(){return bg},PMREMGenerator:function(){return KS},ParametricGeometry:function(){return mR},Particle:function(){return VO},ParticleBasicMaterial:function(){return GO},ParticleSystem:function(){return HO},ParticleSystemMaterial:function(){return qO},Path:function(){return JT},PerspectiveCamera:function(){return gS},Plane:function(){return MS},PlaneBufferGeometry:function(){return OS},PlaneGeometry:function(){return OS},PlaneHelper:function(){return kO},PointCloud:function(){return UO},PointCloudMaterial:function(){return WO},PointLight:function(){return FC},PointLightHelper:function(){return aO},Points:function(){return dT},PointsMaterial:function(){return uT},PolarGridHelper:function(){return pO},PolyhedronBufferGeometry:function(){return ST},PolyhedronGeometry:function(){return ST},PositionalAudio:function(){return wP},PropertyBinding:function(){return zP},PropertyMixer:function(){return EP},QuadraticBezierCurve:function(){return qT},QuadraticBezierCurve3:function(){return YT},Quaternion:function(){return sx},QuaternionKeyframeTrack:function(){return cC},QuaternionLinearInterpolant:function(){return uC},REVISION:function(){return hg},RGBADepthPacking:function(){return W_},RGBAFormat:function(){return Gy},RGBAIntegerFormat:function(){return e_},RGBA_ASTC_10x10_Format:function(){return S_},RGBA_ASTC_10x5_Format:function(){return b_},RGBA_ASTC_10x6_Format:function(){return x_},RGBA_ASTC_10x8_Format:function(){return w_},RGBA_ASTC_12x10_Format:function(){return E_},RGBA_ASTC_12x12_Format:function(){return M_},RGBA_ASTC_4x4_Format:function(){return p_},RGBA_ASTC_5x4_Format:function(){return f_},RGBA_ASTC_5x5_Format:function(){return d_},RGBA_ASTC_6x5_Format:function(){return m_},RGBA_ASTC_6x6_Format:function(){return v_},RGBA_ASTC_8x5_Format:function(){return g_},RGBA_ASTC_8x6_Format:function(){return y_},RGBA_ASTC_8x8_Format:function(){return __},RGBA_BPTC_Format:function(){return k_},RGBA_ETC2_EAC_Format:function(){return h_},RGBA_PVRTC_2BPPV1_Format:function(){return l_},RGBA_PVRTC_4BPPV1_Format:function(){return s_},RGBA_S3TC_DXT1_Format:function(){return n_},RGBA_S3TC_DXT3_Format:function(){return r_},RGBA_S3TC_DXT5_Format:function(){return i_},RGBFormat:function(){return Wy},RGB_ETC1_Format:function(){return u_},RGB_ETC2_Format:function(){return c_},RGB_PVRTC_2BPPV1_Format:function(){return a_},RGB_PVRTC_4BPPV1_Format:function(){return o_},RGB_S3TC_DXT1_Format:function(){return t_},RGFormat:function(){return Qy},RGIntegerFormat:function(){return $y},RawShaderMaterial:function(){return WA},Ray:function(){return Bx},Raycaster:function(){return HP},RectAreaLight:function(){return HC},RedFormat:function(){return Ky},RedIntegerFormat:function(){return Jy},ReinhardToneMapping:function(){return ly},RepeatWrapping:function(){return _y},ReplaceStencilOp:function(){return Z_},ReverseSubtractEquation:function(){return Dg},RingBufferGeometry:function(){return IA},RingGeometry:function(){return IA},Scene:function(){return pk},SceneUtils:function(){return fR},ShaderChunk:function(){return RS},ShaderLib:function(){return LS},ShaderMaterial:function(){return mS},ShadowMaterial:function(){return HA},Shape:function(){return QT},ShapeBufferGeometry:function(){return LA},ShapeGeometry:function(){return LA},ShapePath:function(){return PO},ShapeUtils:function(){return MA},ShortType:function(){return Ly},Skeleton:function(){return Gk},SkeletonHelper:function(){return iO},SkinnedMesh:function(){return jk},SmoothShading:function(){return kg},Sphere:function(){return Px},SphereBufferGeometry:function(){return DA},SphereGeometry:function(){return DA},Spherical:function(){return qP},SphericalHarmonics3:function(){return WC},SplineCurve:function(){return XT},SpotLight:function(){return LC},SpotLightHelper:function(){return eO},Sprite:function(){return Pk},SpriteMaterial:function(){return gk},SrcAlphaFactor:function(){return Vg},SrcAlphaSaturateFactor:function(){return Xg},SrcColorFactor:function(){return jg},StaticCopyUsage:function(){return mb},StaticDrawUsage:function(){return ub},StaticReadUsage:function(){return pb},StereoCamera:function(){return uP},StreamCopyUsage:function(){return gb},StreamDrawUsage:function(){return hb},StreamReadUsage:function(){return db},StringKeyframeTrack:function(){return hC},SubtractEquation:function(){return Lg},SubtractiveBlending:function(){return Pg},TOUCH:function(){return fg},TangentSpaceNormalMap:function(){return G_},TetrahedronBufferGeometry:function(){return zA},TetrahedronGeometry:function(){return zA},TextGeometry:function(){return vR},Texture:function(){return $b},TextureLoader:function(){return kC},TorusBufferGeometry:function(){return NA},TorusGeometry:function(){return NA},TorusKnotBufferGeometry:function(){return BA},TorusKnotGeometry:function(){return BA},Triangle:function(){return xw},TriangleFanDrawMode:function(){return j_},TriangleStripDrawMode:function(){return F_},TrianglesDrawMode:function(){return B_},TubeBufferGeometry:function(){return FA},TubeGeometry:function(){return FA},UVMapping:function(){return py},Uint16Attribute:function(){return $O},Uint16BufferAttribute:function(){return Rw},Uint32Attribute:function(){return tR},Uint32BufferAttribute:function(){return Lw},Uint8Attribute:function(){return KO},Uint8BufferAttribute:function(){return Cw},Uint8ClampedAttribute:function(){return JO},Uint8ClampedBufferAttribute:function(){return Pw},Uniform:function(){return jP},UniformsLib:function(){return IS},UniformsUtils:function(){return dS},UnsignedByteType:function(){return Ry},UnsignedInt248Type:function(){return Vy},UnsignedIntType:function(){return Ny},UnsignedShort4444Type:function(){return jy},UnsignedShort5551Type:function(){return Uy},UnsignedShortType:function(){return Dy},VSMShadowMap:function(){return xg},Vector2:function(){return Db},Vector3:function(){return lx},Vector4:function(){return ex},VectorKeyframeTrack:function(){return pC},Vertex:function(){return YO},VertexColors:function(){return BO},VideoTexture:function(){return vT},WebGL1Renderer:function(){return uk},WebGL3DRenderTarget:function(){return ox},WebGLArrayRenderTarget:function(){return rx},WebGLCubeRenderTarget:function(){return xS},WebGLMultipleRenderTargets:function(){return ax},WebGLMultisampleRenderTarget:function(){return bR},WebGLRenderTarget:function(){return tx},WebGLRenderTargetCube:function(){return cR},WebGLRenderer:function(){return lk},WebGLUtils:function(){return $M},WireframeGeometry:function(){return jA},WireframeHelper:function(){return sR},WrapAroundEnding:function(){return D_},XHRLoader:function(){return lR},ZeroCurvatureEnding:function(){return I_},ZeroFactor:function(){return Bg},ZeroSlopeEnding:function(){return L_},ZeroStencilOp:function(){return Y_},_SRGBAFormat:function(){return bb},sRGBEncoding:function(){return V_}});var t={};n.r(t),n.d(t,{scaleBand:function(){return sY},scaleDiverging:function(){return YQ},scaleDivergingLog:function(){return XQ},scaleDivergingPow:function(){return KQ},scaleDivergingSqrt:function(){return JQ},scaleDivergingSymlog:function(){return ZQ},scaleIdentity:function(){return AZ},scaleImplicit:function(){return oY},scaleLinear:function(){return TZ},scaleLog:function(){return NZ},scaleOrdinal:function(){return aY},scalePoint:function(){return uY},scalePow:function(){return qZ},scaleQuantile:function(){return rK},scaleQuantize:function(){return iK},scaleRadial:function(){return KZ},scaleSequential:function(){return FQ},scaleSequentialLog:function(){return jQ},scaleSequentialPow:function(){return VQ},scaleSequentialQuantile:function(){return WQ},scaleSequentialSqrt:function(){return HQ},scaleSequentialSymlog:function(){return UQ},scaleSqrt:function(){return YZ},scaleSymlog:function(){return UZ},scaleThreshold:function(){return oK},scaleTime:function(){return DQ},scaleUtc:function(){return zQ},tickFormat:function(){return MZ}});var r,i=n(2791),o=n.t(i,2),a=n(4164);function s(e){if(Array.isArray(e))return e}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){return s(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||u(e,t)||c()}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));var f=function(e){return e};var d="beforeunload",m="popstate";function v(e){e.preventDefault(),e.returnValue=""}function g(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function y(){return Math.random().toString(36).substr(2,8)}function _(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function b(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function x(e,t){if(!e)throw new Error(t)}var w=(0,i.createContext)(null);var S=(0,i.createContext)(null);var E=(0,i.createContext)({outlet:null,matches:[]});function M(e){x(!1)}function k(e){var t=e.basename,n=void 0===t?"/":t,o=e.children,a=void 0===o?null:o,s=e.location,l=e.navigationType,u=void 0===l?r.Pop:l,c=e.navigator,h=e.static,p=void 0!==h&&h;C()&&x(!1);var f=W(n),d=(0,i.useMemo)((function(){return{basename:f,navigator:c,static:p}}),[f,c,p]);"string"===typeof s&&(s=b(s));var m=s,v=m.pathname,g=void 0===v?"/":v,y=m.search,_=void 0===y?"":y,E=m.hash,M=void 0===E?"":E,k=m.state,T=void 0===k?null:k,A=m.key,P=void 0===A?"default":A,O=(0,i.useMemo)((function(){var e=V(g,f);return null==e?null:{pathname:e,search:_,hash:M,state:T,key:P}}),[f,g,_,M,T,P]);return null==O?null:(0,i.createElement)(w.Provider,{value:d},(0,i.createElement)(S.Provider,{children:a,value:{location:O,navigationType:u}}))}function T(e){var t=e.children,n=e.location;return function(e,t){C()||x(!1);var n=(0,i.useContext)(E).matches,r=n[n.length-1],o=r?r.params:{},a=(r&&r.pathname,r?r.pathnameBase:"/");r&&r.route;0;var s,l=P();if(t){var u,c="string"===typeof t?b(t):t;"/"===a||(null==(u=c.pathname)?void 0:u.startsWith(a))||x(!1),s=c}else s=l;var h=s.pathname||"/",p="/"===a?h:h.slice(a.length)||"/",f=function(e,t,n){void 0===n&&(n="/");var r=V(("string"===typeof t?b(t):t).pathname||"/",n);if(null==r)return null;var i=L(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=B(i[a],r);return o}(e,{pathname:p});0;return F(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:H([a,e.pathname]),pathnameBase:"/"===e.pathnameBase?a:H([a,e.pathnameBase])})})),n)}(I(t),n)}function A(e){C()||x(!1);var t=(0,i.useContext)(w),n=t.basename,r=t.navigator,o=R(e),a=o.hash,s=o.pathname,l=o.search,u=s;if("/"!==n){var c=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?b(e).pathname:e.pathname}(e),h=null!=c&&c.endsWith("/");u="/"===s?n+(h?"/":""):H([n,s])}return r.createHref({pathname:u,search:l,hash:a})}function C(){return null!=(0,i.useContext)(S)}function P(){return C()||x(!1),(0,i.useContext)(S).location}function O(){C()||x(!1);var e=(0,i.useContext)(w),t=e.basename,n=e.navigator,r=(0,i.useContext)(E).matches,o=P().pathname,a=JSON.stringify(r.map((function(e){return e.pathnameBase}))),s=(0,i.useRef)(!1);(0,i.useEffect)((function(){s.current=!0}));var l=(0,i.useCallback)((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=U(e,JSON.parse(a),o);"/"!==t&&(i.pathname=H([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,a,o]);return l}function R(e){var t=(0,i.useContext)(E).matches,n=P().pathname,r=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,i.useMemo)((function(){return U(e,JSON.parse(r),n)}),[e,r,n])}function I(e){var t=[];return i.Children.forEach(e,(function(e){if((0,i.isValidElement)(e))if(e.type!==i.Fragment){e.type!==M&&x(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=I(e.props.children)),t.push(n)}else t.push.apply(t,I(e.props.children))})),t}function L(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||x(!1),o.relativePath=o.relativePath.slice(r.length));var a=H([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&x(!1),L(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:N(a,e.index),routesMeta:s})})),t}var D=/^:\w+$/,z=function(e){return"*"===e};function N(e,t){var n=e.split("/"),r=n.length;return n.some(z)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!z(e)})).reduce((function(e,t){return e+(D.test(t)?3:""===t?1:10)}),r)}function B(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],l=a===n.length-1,u="/"===i?t:t.slice(i.length)||"/",c=j({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);var h=s.route;o.push({params:r,pathname:H([i,c.pathname]),pathnameBase:W(H([i,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(i=H([i,c.pathnameBase]))}return o}function F(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,o){return(0,i.createElement)(E.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,o+1))}})}),null)}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=h(n,2),i=r[0],o=r[1],a=t.match(i);if(!a)return null;var s=a[0],l=s.replace(/(.)\/+$/,"$1"),u=a.slice(1),c=o.reduce((function(e,t,n){if("*"===t){var r=u[n]||"";l=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(u[n]||""),e}),{});return{params:c,pathname:s,pathnameBase:l,pattern:e}}function U(e,t,n){var r,i="string"===typeof e?b(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var a=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;i.pathname=s.join("/")}r=a>=0?t[a]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?b(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,l=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:l,search:G(o),hash:q(s)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!l.pathname.endsWith("/")&&(l.pathname+="/"),l}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var H=function(e){return e.join("/").replace(/\/\/+/g,"/")},W=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},G=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},q=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function Y(){return Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}function X(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Z=["onClick","reloadDocument","replace","state","target","to"],K=["aria-current","caseSensitive","className","end","style","to","children"];function J(e){var t=e.basename,n=e.children,o=e.window,a=(0,i.useRef)();null==a.current&&(a.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,i=n.history;function o(){var e=n.location,t=e.pathname,r=e.search,o=e.hash,a=i.state||{};return[a.idx,f({pathname:t,search:r,hash:o,state:a.usr||null,key:a.key||"default"})]}var a=null;n.addEventListener(m,(function(){if(a)x.call(a),a=null;else{var e=r.Pop,t=o(),n=t[0],i=t[1];if(x.length){if(null!=n){var s=u-n;s&&(a={action:e,location:i,retry:function(){T(-1*s)}},T(s))}}else k(e)}}));var s=r.Pop,l=o(),u=l[0],c=l[1],h=g(),x=g();function w(e){return"string"===typeof e?e:_(e)}function S(e,t){return void 0===t&&(t=null),f(p({pathname:c.pathname,hash:"",search:""},"string"===typeof e?b(e):e,{state:t,key:y()}))}function E(e,t){return[{usr:e.state,key:e.key,idx:t},w(e)]}function M(e,t,n){return!x.length||(x.call({action:e,location:t,retry:n}),!1)}function k(e){s=e;var t=o();u=t[0],c=t[1],h.call({action:s,location:c})}function T(e){i.go(e)}null==u&&(u=0,i.replaceState(p({},i.state,{idx:u}),""));var A={get action(){return s},get location(){return c},createHref:w,push:function e(t,o){var a=r.Push,s=S(t,o);if(M(a,s,(function(){e(t,o)}))){var l=E(s,u+1),c=l[0],h=l[1];try{i.pushState(c,"",h)}catch(p){n.location.assign(h)}k(a)}},replace:function e(t,n){var o=r.Replace,a=S(t,n);if(M(o,a,(function(){e(t,n)}))){var s=E(a,u),l=s[0],c=s[1];i.replaceState(l,"",c),k(o)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return h.push(e)},block:function(e){var t=x.push(e);return 1===x.length&&n.addEventListener(d,v),function(){t(),x.length||n.removeEventListener(d,v)}}};return A}({window:o}));var s=a.current,l=h((0,i.useState)({action:s.action,location:s.location}),2),u=l[0],c=l[1];return(0,i.useLayoutEffect)((function(){return s.listen(c)}),[s]),(0,i.createElement)(k,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:s})}var Q=(0,i.forwardRef)((function(e,t){var n=e.onClick,r=e.reloadDocument,o=e.replace,a=void 0!==o&&o,s=e.state,l=e.target,u=e.to,c=X(e,Z),h=A(u),p=function(e,t){var n=void 0===t?{}:t,r=n.target,o=n.replace,a=n.state,s=O(),l=P(),u=R(e);return(0,i.useCallback)((function(t){if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!o||_(l)===_(u);s(e,{replace:n,state:a})}}),[l,s,u,o,a,r,e])}(u,{replace:a,state:s,target:l});return(0,i.createElement)("a",Y({},c,{href:h,onClick:function(e){n&&n(e),e.defaultPrevented||r||p(e)},ref:t,target:l}))}));var $=(0,i.forwardRef)((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,o=e.caseSensitive,a=void 0!==o&&o,s=e.className,l=void 0===s?"":s,u=e.end,c=void 0!==u&&u,h=e.style,p=e.to,f=e.children,d=X(e,K),m=P(),v=R(p),g=m.pathname,y=v.pathname;a||(g=g.toLowerCase(),y=y.toLowerCase());var _,b=g===y||!c&&g.startsWith(y)&&"/"===g.charAt(y.length),x=b?r:void 0;_="function"===typeof l?l({isActive:b}):[l,b?"active":null].filter(Boolean).join(" ");var w="function"===typeof h?h({isActive:b}):h;return(0,i.createElement)(Q,Y({},d,{"aria-current":x,className:_,ref:t,style:w,to:p}),"function"===typeof f?f({isActive:b}):f)}));var ee=i.createContext(null);function te(){return i.useContext(ee)}var ne="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var re=function(e){var t=e.children,n=e.theme,r=te(),o=i.useMemo((function(){var e=null===r?n:function(e,t){return"function"===typeof t?t(e):p({},e,t)}(r,n);return null!=e&&(e[ne]=null!==r),e}),[n,r]);return i.createElement(ee.Provider,{value:o},t)},ie=n(1854);function oe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ae=n(7441),se=n(9613),le=n.n(se);var ue=function(e){function t(e,r,l,u,p){for(var f,d,m,v,b,w=0,S=0,E=0,M=0,k=0,R=0,L=m=f=0,z=0,N=0,B=0,F=0,j=l.length,U=j-1,V="",H="",W="",G="";z<j;){if(d=l.charCodeAt(z),z===U&&0!==S+M+E+w&&(0!==S&&(d=47===S?10:47),M=E=w=0,j++,U++),0===S+M+E+w){if(z===U&&(0<N&&(V=V.replace(h,"")),0<V.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:V+=l.charAt(z)}d=59}switch(d){case 123:for(f=(V=V.trim()).charCodeAt(0),m=1,F=++z;z<j;){switch(d=l.charCodeAt(z)){case 123:m++;break;case 125:m--;break;case 47:switch(d=l.charCodeAt(z+1)){case 42:case 47:e:{for(L=z+1;L<U;++L)switch(l.charCodeAt(L)){case 47:if(42===d&&42===l.charCodeAt(L-1)&&z+2!==L){z=L+1;break e}break;case 10:if(47===d){z=L+1;break e}}z=L}}break;case 91:d++;case 40:d++;case 34:case 39:for(;z++<U&&l.charCodeAt(z)!==d;);}if(0===m)break;z++}if(m=l.substring(F,z),0===f&&(f=(V=V.replace(c,"").trim()).charCodeAt(0)),64===f){switch(0<N&&(V=V.replace(h,"")),d=V.charCodeAt(1)){case 100:case 109:case 115:case 45:N=r;break;default:N=O}if(F=(m=t(r,N,m,d,p+1)).length,0<I&&(b=s(3,m,N=n(O,V,B),r,A,T,F,d,p,u),V=N.join(""),void 0!==b&&0===(F=(m=b.trim()).length)&&(d=0,m="")),0<F)switch(d){case 115:V=V.replace(x,a);case 100:case 109:case 45:m=V+"{"+m+"}";break;case 107:m=(V=V.replace(g,"$1 $2"))+"{"+m+"}",m=1===P||2===P&&o("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=V+m,112===u&&(H+=m,m="")}else m=""}else m=t(r,n(r,V,B),m,u,p+1);W+=m,m=B=N=L=f=0,V="",d=l.charCodeAt(++z);break;case 125:case 59:if(1<(F=(V=(0<N?V.replace(h,""):V).trim()).length))switch(0===L&&(f=V.charCodeAt(0),45===f||96<f&&123>f)&&(F=(V=V.replace(" ",":")).length),0<I&&void 0!==(b=s(1,V,r,e,A,T,H.length,u,p,u))&&0===(F=(V=b.trim()).length)&&(V="\0\0"),f=V.charCodeAt(0),d=V.charCodeAt(1),f){case 0:break;case 64:if(105===d||99===d){G+=V+l.charAt(z);break}default:58!==V.charCodeAt(F-1)&&(H+=i(V,f,d,V.charCodeAt(2)))}B=N=L=f=0,V="",d=l.charCodeAt(++z)}}switch(d){case 13:case 10:47===S?S=0:0===1+f&&107!==u&&0<V.length&&(N=1,V+="\0"),0<I*D&&s(0,V,r,e,A,T,H.length,u,p,u),T=1,A++;break;case 59:case 125:if(0===S+M+E+w){T++;break}default:switch(T++,v=l.charAt(z),d){case 9:case 32:if(0===M+w+S)switch(k){case 44:case 58:case 9:case 32:v="";break;default:32!==d&&(v=" ")}break;case 0:v="\\0";break;case 12:v="\\f";break;case 11:v="\\v";break;case 38:0===M+S+w&&(N=B=1,v="\f"+v);break;case 108:if(0===M+S+w+C&&0<L)switch(z-L){case 2:112===k&&58===l.charCodeAt(z-3)&&(C=k);case 8:111===R&&(C=R)}break;case 58:0===M+S+w&&(L=z);break;case 44:0===S+E+M+w&&(N=1,v+="\r");break;case 34:case 39:0===S&&(M=M===d?0:0===M?d:M);break;case 91:0===M+S+E&&w++;break;case 93:0===M+S+E&&w--;break;case 41:0===M+S+w&&E--;break;case 40:if(0===M+S+w){if(0===f)if(2*k+3*R===533);else f=1;E++}break;case 64:0===S+E+M+w+L+m&&(m=1);break;case 42:case 47:if(!(0<M+w+E))switch(S){case 0:switch(2*d+3*l.charCodeAt(z+1)){case 235:S=47;break;case 220:F=z,S=42}break;case 42:47===d&&42===k&&F+2!==z&&(33===l.charCodeAt(F+2)&&(H+=l.substring(F,z+1)),v="",S=0)}}0===S&&(V+=v)}R=k,k=d,z++}if(0<(F=H.length)){if(N=r,0<I&&(void 0!==(b=s(2,H,N,e,A,T,F,u,p,u))&&0===(H=b).length))return G+H+W;if(H=N.join(",")+"{"+H+"}",0!==P*C){switch(2!==P||o(H,2)||(C=0),C){case 111:H=H.replace(_,":-moz-$1")+H;break;case 112:H=H.replace(y,"::-webkit-input-$1")+H.replace(y,"::-moz-$1")+H.replace(y,":-ms-input-$1")+H}C=0}}return G+H+W}function n(e,t,n){var i=t.trim().split(m);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<o;++s)for(var u=0;u<a;++u)t[l++]=r(e[u]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===P||2===P&&o(l,1)?"-webkit-"+l+l:l}if(0===P||2===P&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(k,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return f.test(a)?a.replace(p,":-webkit-")+a.replace(p,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(b,"tb");break;case 232:l=a.replace(b,"tb-rl");break;case 220:l=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(S,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(S,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===M.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),L(2!==t?r:r.replace(E,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,l,c){for(var h,p=0,f=t;p<I;++p)switch(h=R[p].call(u,e,f,n,r,i,o,a,s,l,c)){case void 0:case!1:case!0:case null:break;default:f=h}if(f!==t)return f}function l(e){return void 0!==(e=e.prefix)&&(L=null,e?"function"!==typeof e?P=1:(P=2,L=e):P=0),l}function u(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<I){var i=s(-1,n,r,r,A,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(O,r,n,0,0);return 0<I&&(void 0!==(i=s(-2,o,r,r,A,T,o.length,0,0,0))&&(o=i)),"",C=0,T=A=1,o}var c=/^\0+/g,h=/[\0\r\f]/g,p=/: */g,f=/zoo|gra/,d=/([,: ])(transform)/g,m=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,_=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,S=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,M=/stretch|:\s*\w+\-(?:conte|avail)/,k=/([^-])(image-set\()/,T=1,A=1,C=0,P=1,O=[],R=[],I=0,L=null,D=0;return u.use=function e(t){switch(t){case void 0:case null:I=R.length=0;break;default:if("function"===typeof t)R[I++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else D=0|!!t}return e},u.set=l,void 0!==e&&l(e),u},ce={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var he=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},pe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,fe=he((function(e){return pe.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),de=n(2110),me=n.n(de);function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ge=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},ye=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,ae.typeOf)(e)},_e=Object.freeze([]),be=Object.freeze({});function xe(e){return"function"==typeof e}function we(e){return e.displayName||e.name||"Component"}function Se(e){return e&&"string"==typeof e.styledComponentId}var Ee="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_KAKAOMAP_KEY:"8cb64e55145d76a66e9726f912694f86",REACT_APP_OPENWEATHER_KEY:"bb3de0e0ab8e5cf7b04cf794a64f2118",REACT_APP_MAPBOX_KEY:"eyJ1Ijoia2thLW5hIiwiYSI6ImNrcmJ2dGR0NDR3cWkzMHJ1d3R5eW1uOXoifQ.pDGlZ7BuCc1qd4cCHqnu0w"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_KAKAOMAP_KEY:"8cb64e55145d76a66e9726f912694f86",REACT_APP_OPENWEATHER_KEY:"bb3de0e0ab8e5cf7b04cf794a64f2118",REACT_APP_MAPBOX_KEY:"eyJ1Ijoia2thLW5hIiwiYSI6ImNrcmJ2dGR0NDR3cWkzMHJ1d3R5eW1uOXoifQ.pDGlZ7BuCc1qd4cCHqnu0w"}.SC_ATTR)||"data-styled",Me="undefined"!=typeof window&&"HTMLElement"in window,ke=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_KAKAOMAP_KEY:"8cb64e55145d76a66e9726f912694f86",REACT_APP_OPENWEATHER_KEY:"bb3de0e0ab8e5cf7b04cf794a64f2118",REACT_APP_MAPBOX_KEY:"eyJ1Ijoia2thLW5hIiwiYSI6ImNrcmJ2dGR0NDR3cWkzMHJ1d3R5eW1uOXoifQ.pDGlZ7BuCc1qd4cCHqnu0w"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_KAKAOMAP_KEY:"8cb64e55145d76a66e9726f912694f86",REACT_APP_OPENWEATHER_KEY:"bb3de0e0ab8e5cf7b04cf794a64f2118",REACT_APP_MAPBOX_KEY:"eyJ1Ijoia2thLW5hIiwiYSI6ImNrcmJ2dGR0NDR3cWkzMHJ1d3R5eW1uOXoifQ.pDGlZ7BuCc1qd4cCHqnu0w"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_KAKAOMAP_KEY:"8cb64e55145d76a66e9726f912694f86",REACT_APP_OPENWEATHER_KEY:"bb3de0e0ab8e5cf7b04cf794a64f2118",REACT_APP_MAPBOX_KEY:"eyJ1Ijoia2thLW5hIiwiYSI6ImNrcmJ2dGR0NDR3cWkzMHJ1d3R5eW1uOXoifQ.pDGlZ7BuCc1qd4cCHqnu0w"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_KAKAOMAP_KEY:"8cb64e55145d76a66e9726f912694f86",REACT_APP_OPENWEATHER_KEY:"bb3de0e0ab8e5cf7b04cf794a64f2118",REACT_APP_MAPBOX_KEY:"eyJ1Ijoia2thLW5hIiwiYSI6ImNrcmJ2dGR0NDR3cWkzMHJ1d3R5eW1uOXoifQ.pDGlZ7BuCc1qd4cCHqnu0w"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_KAKAOMAP_KEY:"8cb64e55145d76a66e9726f912694f86",REACT_APP_OPENWEATHER_KEY:"bb3de0e0ab8e5cf7b04cf794a64f2118",REACT_APP_MAPBOX_KEY:"eyJ1Ijoia2thLW5hIiwiYSI6ImNrcmJ2dGR0NDR3cWkzMHJ1d3R5eW1uOXoifQ.pDGlZ7BuCc1qd4cCHqnu0w"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_KAKAOMAP_KEY:"8cb64e55145d76a66e9726f912694f86",REACT_APP_OPENWEATHER_KEY:"bb3de0e0ab8e5cf7b04cf794a64f2118",REACT_APP_MAPBOX_KEY:"eyJ1Ijoia2thLW5hIiwiYSI6ImNrcmJ2dGR0NDR3cWkzMHJ1d3R5eW1uOXoifQ.pDGlZ7BuCc1qd4cCHqnu0w"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_KAKAOMAP_KEY:"8cb64e55145d76a66e9726f912694f86",REACT_APP_OPENWEATHER_KEY:"bb3de0e0ab8e5cf7b04cf794a64f2118",REACT_APP_MAPBOX_KEY:"eyJ1Ijoia2thLW5hIiwiYSI6ImNrcmJ2dGR0NDR3cWkzMHJ1d3R5eW1uOXoifQ.pDGlZ7BuCc1qd4cCHqnu0w"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_KAKAOMAP_KEY:"8cb64e55145d76a66e9726f912694f86",REACT_APP_OPENWEATHER_KEY:"bb3de0e0ab8e5cf7b04cf794a64f2118",REACT_APP_MAPBOX_KEY:"eyJ1Ijoia2thLW5hIiwiYSI6ImNrcmJ2dGR0NDR3cWkzMHJ1d3R5eW1uOXoifQ.pDGlZ7BuCc1qd4cCHqnu0w"}.SC_DISABLE_SPEEDY));function Te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Ae=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Te(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),Ce=new Map,Pe=new Map,Oe=1,Re=function(e){if(Ce.has(e))return Ce.get(e);for(;Pe.has(Oe);)Oe++;var t=Oe++;return Ce.set(e,t),Pe.set(t,e),t},Ie=function(e){return Pe.get(e)},Le=function(e,t){t>=Oe&&(Oe=t+1),Ce.set(e,t),Pe.set(t,e)},De="style["+Ee+'][data-styled-version="5.3.3"]',ze=new RegExp("^"+Ee+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Ne=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},Be=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(ze);if(s){var l=0|parseInt(s[1],10),u=s[2];0!==l&&(Le(u,l),Ne(e,u,s[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(a)}}},Fe=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},je=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Ee))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(Ee,"active"),r.setAttribute("data-styled-version","5.3.3");var a=Fe();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},Ue=function(){function e(e){var t=this.element=je(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Te(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Ve=function(){function e(e){var t=this.element=je(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),He=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),We=Me,Ge={isServer:!Me,useCSSOMInjection:!ke},qe=function(){function e(e,t,n){void 0===e&&(e=be),void 0===t&&(t={}),this.options=ve({},Ge,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Me&&We&&(We=!1,function(e){for(var t=document.querySelectorAll(De),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Ee)&&(Be(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return Re(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(ve({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new He(i):r?new Ue(i):new Ve(i),new Ae(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(Re(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Re(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(Re(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=Ie(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(a&&s&&a.size){var l=Ee+".g"+i+'[id="'+o+'"]',u="";void 0!==a&&a.forEach((function(e){e.length>0&&(u+=e+",")})),r+=""+s+l+'{content:"'+u+'"}/*!sc*/\n'}}}return r}(this)},e}(),Ye=/(a)(d)/gi,Xe=function(e){return String.fromCharCode(e+(e>25?39:97))};function Ze(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Xe(t%52)+n;return(Xe(t%52)+n).replace(Ye,"$1-$2")}var Ke=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Je=function(e){return Ke(5381,e)};function Qe(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(xe(n)&&!Se(n))return!1}return!0}var $e=Je("5.3.3"),et=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Qe(e),this.componentId=t,this.baseHash=Ke($e,t),this.baseStyle=n,qe.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=yt(this.rules,e,t,n).join(""),a=Ze(Ke(this.baseHash,o)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var l=this.rules.length,u=Ke(this.baseHash,n.hash),c="",h=0;h<l;h++){var p=this.rules[h];if("string"==typeof p)c+=p;else if(p){var f=yt(p,e,t,n),d=Array.isArray(f)?f.join(""):f;u=Ke(u,d+h),c+=d}}if(c){var m=Ze(u>>>0);if(!t.hasNameForId(r,m)){var v=n(c,"."+m,void 0,r);t.insertRules(r,m,v)}i.push(m)}}return i.join(" ")},e}(),tt=/^\s*\/\/.*$/gm,nt=[":","[",".","#"];function rt(e){var t,n,r,i,o=void 0===e?be:e,a=o.options,s=void 0===a?be:a,l=o.plugins,u=void 0===l?_e:l,c=new ue(s),h=[],p=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,l,u,c,h){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===u)return r+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),f=function(e,r,o){return 0===r&&-1!==nt.indexOf(o[n.length])||o.match(i)?e:"."+t};function d(e,o,a,s){void 0===s&&(s="&");var l=e.replace(tt,""),u=o&&a?a+" "+o+" { "+l+" }":l;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(a||!o?"":o,u)}return c.use([].concat(u,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,f))},p,function(e){if(-2===e){var t=h;return h=[],t}}])),d.hash=u.length?u.reduce((function(e,t){return t.name||Te(15),Ke(e,t.name)}),5381).toString():"",d}var it=i.createContext(),ot=(it.Consumer,i.createContext()),at=(ot.Consumer,new qe),st=rt();function lt(){return(0,i.useContext)(it)||at}function ut(){return(0,i.useContext)(ot)||st}function ct(e){var t=(0,i.useState)(e.stylisPlugins),n=t[0],r=t[1],o=lt(),a=(0,i.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,i.useMemo)((function(){return rt({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,i.useEffect)((function(){le()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),i.createElement(it.Provider,{value:a},i.createElement(ot.Provider,{value:s},e.children))}var ht=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=st);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Te(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=st),this.name+e.hash},e}(),pt=/([A-Z])/,ft=/([A-Z])/g,dt=/^ms-/,mt=function(e){return"-"+e.toLowerCase()};function vt(e){return pt.test(e)?e.replace(ft,mt).replace(dt,"-ms-"):e}var gt=function(e){return null==e||!1===e||""===e};function yt(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=yt(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return gt(e)?"":Se(e)?"."+e.styledComponentId:xe(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:yt(e(t),t,n,r):e instanceof ht?n?(e.inject(n,r),e.getName(r)):e:ye(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!gt(t[a])&&(Array.isArray(t[a])&&t[a].isCss||xe(t[a])?o.push(vt(a)+":",t[a],";"):ye(t[a])?o.push.apply(o,e(t[a],a)):o.push(vt(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in ce?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var l}var _t=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function bt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return xe(e)||ye(e)?_t(yt(ge(_e,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:_t(yt(ge(e,n)))}new Set;var xt=function(e,t,n){return void 0===n&&(n=be),e.theme!==n.theme&&e.theme||t||n.theme},wt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,St=/(^-|-$)/g;function Et(e){return e.replace(wt,"-").replace(St,"")}var Mt=function(e){return Ze(Je(e)>>>0)};function kt(e){return"string"==typeof e&&!0}var Tt=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},At=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ct(e,t,n){var r=e[n];Tt(t)&&Tt(r)?Pt(r,t):e[n]=t}function Pt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(Tt(a))for(var s in a)At(s)&&Ct(e,a[s],s)}return e}var Ot=i.createContext();Ot.Consumer;var Rt={};function It(e,t,n){var r=Se(e),o=!kt(e),a=t.attrs,s=void 0===a?_e:a,l=t.componentId,u=void 0===l?function(e,t){var n="string"!=typeof e?"sc":Et(e);Rt[n]=(Rt[n]||0)+1;var r=n+"-"+Mt("5.3.3"+n+Rt[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):l,c=t.displayName,h=void 0===c?function(e){return kt(e)?"styled."+e:"Styled("+we(e)+")"}(e):c,p=t.displayName&&t.componentId?Et(t.displayName)+"-"+t.componentId:t.componentId||u,f=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,d=t.shouldForwardProp;r&&e.shouldForwardProp&&(d=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var m,v=new et(n,p,r?e.componentStyle:void 0),g=v.isStatic&&0===s.length,y=function(e,t){return function(e,t,n,r){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,l=e.foldedComponentIds,u=e.shouldForwardProp,c=e.styledComponentId,h=e.target,p=function(e,t,n){void 0===e&&(e=be);var r=ve({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in xe(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(xt(t,(0,i.useContext)(Ot),s)||be,t,o),f=p[0],d=p[1],m=function(e,t,n,r){var i=lt(),o=ut();return t?e.generateAndInjectStyles(be,i,o):e.generateAndInjectStyles(n,i,o)}(a,r,f),v=n,g=d.$as||t.$as||d.as||t.as||h,y=kt(g),_=d!==t?ve({},t,{},d):t,b={};for(var x in _)"$"!==x[0]&&"as"!==x&&("forwardedAs"===x?b.as=_[x]:(u?u(x,fe,g):!y||fe(x))&&(b[x]=_[x]));return t.style&&d.style!==t.style&&(b.style=ve({},t.style,{},d.style)),b.className=Array.prototype.concat(l,c,m!==c?m:null,t.className,d.className).filter(Boolean).join(" "),b.ref=v,(0,i.createElement)(g,b)}(m,e,t,g)};return y.displayName=h,(m=i.forwardRef(y)).attrs=f,m.componentStyle=v,m.displayName=h,m.shouldForwardProp=d,m.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):_e,m.styledComponentId=p,m.target=r?e.target:e,m.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),o=r&&r+"-"+(kt(e)?e:Et(we(e)));return It(e,ve({},i,{attrs:f,componentId:o}),n)},Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Pt({},e.defaultProps,t):t}}),m.toString=function(){return"."+m.styledComponentId},o&&me()(m,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),m}var Lt=function(e){return function e(t,n,r){if(void 0===r&&(r=be),!(0,ae.isValidElementType)(n))return Te(1,String(n));var i=function(){return t(n,r,bt.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,ve({},r,{},i))},i.attrs=function(i){return e(t,n,ve({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(It,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Lt[e]=Lt(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Qe(e),qe.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(yt(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&qe.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Fe();return"<style "+[n&&'nonce="'+n+'"',Ee+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Te(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return Te(2);var n=((t={})[Ee]="",t["data-styled-version"]="5.3.3",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=Fe();return r&&(n.nonce=r),[i.createElement("style",ve({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new qe({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?Te(2):i.createElement(ct,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return Te(3)}}();var Dt,zt,Nt,Bt,Ft,jt,Ut,Vt=Lt,Ht={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Wt=i.createContext&&i.createContext(Ht),Gt=function(){return Gt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Gt.apply(this,arguments)},qt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Yt(e){return e&&e.map((function(e,t){return i.createElement(e.tag,Gt({key:t},e.attr),Yt(e.child))}))}function Xt(e){return function(t){return i.createElement(Zt,Gt({attr:Gt({},e.attr)},t),Yt(e.child))}}function Zt(e){var t=function(t){var n,r=e.attr,o=e.size,a=e.title,s=qt(e,["attr","size","title"]),l=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",Gt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:Gt(Gt({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&i.createElement("title",null,a),e.children)};return void 0!==Wt?i.createElement(Wt.Consumer,null,(function(e){return t(e)})):t(Ht)}var Kt=Vt.nav(Dt||(Dt=oe(["\n    margin-top: 0;\n    background: linear-gradient(135deg, #362577, #85dcf5, #274f8a);\n    padding-bottom: 4px;\n"]))),Jt=Vt.nav(zt||(zt=oe(["\n    margin-top: 0;\n    background: #0c1024;\n    height: 80px;\n    display: flex;\n    justify-content: space-between;\n    padding: 0.5rem ;\n    z-index: 10;   \n"]))),Qt=Vt($)(Nt||(Nt=oe(["\nmargin-top: 0;\n    color: #fff;\n    display: flex;\n    align-items: center;\n    font-size: 25px;\n    text-decoration: none;\n    padding: 0 1rem;\n    height: 100%;\n    cursor: pointer;    \n    &.active{\n        color: #85dcf5;\n    }\n    &:hover{\n        transition: all 0.2s ease-in-out;\n        color: #85dcf5;\n    }\n"]))),$t=Vt((function(e){return Xt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}))(Bt||(Bt=oe(["\nmargin-top: 0;\n    display: flex;\n    align-items: center;\n    text-decoration: none;\n    cursor: pointer;\n    display: none;\n    color: #fff;\n    padding: 0 0.3rem;\n    @media screen and (max-width: 768px){\n        display: block;\n        position: absolute;\n        align-itmes:center;\n        top: 20;\n        right: 0;\n        transform: translate(-100%, 75%);\n        font-size: 1.8rem;\n        cursor: pointer;\n    }\n    \n"]))),en=Vt.div(Ft||(Ft=oe(["\n    display: flex;\n    align-items: center;\n    margin-right: -24px;\n    @media screen and (max-width: 768px){\n        display: none;\n    }\n   \n"]))),tn=Vt.nav(jt||(jt=oe(["\n    display: flex;\n    align-items: center;\n    margin-right: 24px;\n    @media screen and (max-width: 768px){\n        display: none;\n    }\n"]))),nn=Vt($)(Ut||(Ut=oe(["\n    border-radius: 4px;\n    padding: 10px 22px;\n    color: #fff;\n    font-size: 22px;\n    border: none;\n    outline: none;\n    cursor: pointer;\n    transition: all 0.2s ease-in-out;\n    text-decoration: none;\n    &:hover{\n        transition: all 0.2s ease-in-out;\n        background: #85dcf5;\n        color: #0c1024;\n    }\n"]))),rn=n(184),on=function(){return(0,rn.jsx)(rn.Fragment,{children:(0,rn.jsx)(Kt,{children:(0,rn.jsxs)(Jt,{children:[(0,rn.jsx)(Qt,{to:"/",children:(0,rn.jsx)("img",{src:ie,className:"logo",alt:"logo"})}),(0,rn.jsx)($t,{}),(0,rn.jsxs)(en,{children:[(0,rn.jsx)(Qt,{to:"/visualize",activeStyle:!0,children:"Visualize"}),(0,rn.jsx)(Qt,{to:"/alert",activeStyle:!0,children:"Alert"}),(0,rn.jsx)(Qt,{to:"/control",activeStyle:!0,children:"Control"}),(0,rn.jsx)(Qt,{to:"/manual",activeStyle:!0,children:"Manual"})]}),(0,rn.jsx)(tn,{children:(0,rn.jsx)(nn,{to:"/signin",children:"Sign In"})})]})})})};function an(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function sn(e,t){if(null==e)return{};var n,r,i=an(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ln(e){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(e)}function un(e){return e&&"object"===ln(e)&&e.constructor===Object}function cn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?p({},e):e;return un(e)&&un(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(un(t[i])&&i in e?r[i]=cn(e[i],t[i],n):r[i]=t[i])})),r}var hn=["xs","sm","md","lg","xl"];function pn(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,o=e.step,a=void 0===o?5:o,s=sn(e,["values","unit","step"]);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function u(e,t){var r=hn.indexOf(t);return r===hn.length-1?l(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[hn[r+1]]?n[hn[r+1]]:t)-a/100).concat(i,")")}return p({keys:hn,values:n,up:l,down:function(e){var t=hn.indexOf(e)+1,r=n[hn[t]];return t===hn.length?l("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-a/100).concat(i,")")},between:u,only:function(e){return u(e,e)},width:function(e){return n[e]}},s)}function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dn(e,t,n){var r;return p({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),p({paddingLeft:t(2),paddingRight:t(2)},n,fn({},e.up("sm"),p({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},fn(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),fn(r,e.up("sm"),{minHeight:64}),r)},n)}function mn(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}var vn={black:"#000",white:"#fff"},gn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},yn={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},_n={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},bn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},xn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},wn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Sn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function En(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Mn(e){if(e.type)return e;if("#"===e.charAt(0))return Mn(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(mn(3,e));var r=e.substring(t+1,e.length-1).split(",");return r=r.map((function(e){return parseFloat(e)})),{type:n,values:r}}function kn(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function Tn(e){var t="hsl"===(e=Mn(e)).type?Mn(function(e){var t=(e=Mn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",l=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",l.push(t[3])),kn({type:s,values:l})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function An(e,t){return e=Mn(e),t=En(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,kn(e)}function Cn(e,t){if(e=Mn(e),t=En(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return kn(e)}function Pn(e,t){if(e=Mn(e),t=En(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return kn(e)}var On={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:vn.white,default:gn[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Rn={text:{primary:vn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:gn[800],default:"#303030"},action:{active:vn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function In(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Pn(e.main,i):"dark"===t&&(e.dark=Cn(e.main,o)))}function Ln(e){var t=e.primary,n=void 0===t?{light:yn[300],main:yn[500],dark:yn[700]}:t,r=e.secondary,i=void 0===r?{light:_n.A200,main:_n.A400,dark:_n.A700}:r,o=e.error,a=void 0===o?{light:bn[300],main:bn[500],dark:bn[700]}:o,s=e.warning,l=void 0===s?{light:xn[300],main:xn[500],dark:xn[700]}:s,u=e.info,c=void 0===u?{light:wn[300],main:wn[500],dark:wn[700]}:u,h=e.success,f=void 0===h?{light:Sn[300],main:Sn[500],dark:Sn[700]}:h,d=e.type,m=void 0===d?"light":d,v=e.contrastThreshold,g=void 0===v?3:v,y=e.tonalOffset,_=void 0===y?.2:y,b=sn(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function x(e){var t=function(e,t){var n=Tn(e),r=Tn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Rn.text.primary)>=g?Rn.text.primary:On.text.primary;return t}var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=p({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(mn(4,t));if("string"!==typeof e.main)throw new Error(mn(5,JSON.stringify(e.main)));return In(e,"light",n,_),In(e,"dark",r,_),e.contrastText||(e.contrastText=x(e.main)),e},S={dark:Rn,light:On};return cn(p({common:vn,type:m,primary:w(n),secondary:w(i,"A400","A200","A700"),error:w(a),warning:w(l),info:w(c),success:w(f),grey:gn,contrastThreshold:g,getContrastText:x,augmentColor:w,tonalOffset:_},S[m]),b)}function Dn(e){return Math.round(1e5*e)/1e5}function zn(e){return Dn(e)}var Nn={textTransform:"uppercase"},Bn='"Roboto", "Helvetica", "Arial", sans-serif';function Fn(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?Bn:r,o=n.fontSize,a=void 0===o?14:o,s=n.fontWeightLight,l=void 0===s?300:s,u=n.fontWeightRegular,c=void 0===u?400:u,h=n.fontWeightMedium,f=void 0===h?500:h,d=n.fontWeightBold,m=void 0===d?700:d,v=n.htmlFontSize,g=void 0===v?16:v,y=n.allVariants,_=n.pxToRem,b=sn(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var x=a/14,w=_||function(e){return"".concat(e/g*x,"rem")},S=function(e,t,n,r,o){return p({fontFamily:i,fontWeight:e,fontSize:w(t),lineHeight:n},i===Bn?{letterSpacing:"".concat(Dn(r/t),"em")}:{},o,y)},E={h1:S(l,96,1.167,-1.5),h2:S(l,60,1.2,-.5),h3:S(c,48,1.167,0),h4:S(c,34,1.235,.25),h5:S(c,24,1.334,0),h6:S(f,20,1.6,.15),subtitle1:S(c,16,1.75,.15),subtitle2:S(f,14,1.57,.1),body1:S(c,16,1.5,.15),body2:S(c,14,1.43,.15),button:S(f,14,1.75,.4,Nn),caption:S(c,12,1.66,.4),overline:S(c,12,2.66,1,Nn)};return cn(p({htmlFontSize:g,pxToRem:w,round:zn,fontFamily:i,fontSize:a,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:f,fontWeightBold:m},E),b,{clone:!1})}function jn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Un=["none",jn(0,2,1,-1,0,1,1,0,0,1,3,0),jn(0,3,1,-2,0,2,2,0,0,1,5,0),jn(0,3,3,-2,0,3,4,0,0,1,8,0),jn(0,2,4,-1,0,4,5,0,0,1,10,0),jn(0,3,5,-1,0,5,8,0,0,1,14,0),jn(0,3,5,-1,0,6,10,0,0,1,18,0),jn(0,4,5,-2,0,7,10,1,0,2,16,1),jn(0,5,5,-3,0,8,10,1,0,3,14,2),jn(0,5,6,-3,0,9,12,1,0,3,16,2),jn(0,6,6,-3,0,10,14,1,0,4,18,3),jn(0,6,7,-4,0,11,15,1,0,4,20,3),jn(0,7,8,-4,0,12,17,2,0,5,22,4),jn(0,7,8,-4,0,13,19,2,0,5,24,4),jn(0,7,9,-4,0,14,21,2,0,5,26,4),jn(0,8,9,-5,0,15,22,2,0,6,28,5),jn(0,8,10,-5,0,16,24,2,0,6,30,5),jn(0,8,11,-5,0,17,26,2,0,6,32,5),jn(0,9,11,-5,0,18,28,2,0,7,34,6),jn(0,9,12,-6,0,19,29,2,0,7,36,6),jn(0,10,13,-6,0,20,31,3,0,8,38,7),jn(0,10,13,-6,0,21,33,3,0,8,40,7),jn(0,10,14,-6,0,22,35,3,0,8,42,7),jn(0,11,14,-7,0,23,36,3,0,9,44,8),jn(0,11,15,-7,0,24,38,3,0,9,46,8)],Vn={borderRadius:4},Hn={xs:0,sm:600,md:960,lg:1280,xl:1920},Wn={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Hn[e],"px)")}};function Gn(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||Wn;return t.reduce((function(e,i,o){return e[r.up(r.keys[o])]=n(t[o]),e}),{})}if("object"===ln(t)){var i=e.theme.breakpoints||Wn;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}var qn=function(e,t){return t?cn(e,t,{clone:!1}):e};var Yn={m:"margin",p:"padding"},Xn={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Zn={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Kn=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!Zn[e])return[e];e=Zn[e]}var t=h(e.split(""),2),n=t[0],r=t[1],i=Yn[n],o=Xn[r]||"";return Array.isArray(o)?o.map((function(e){return i+e})):[i+o]})),Jn=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function Qn(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function $n(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function er(e){var t=Qn(e.theme);return Object.keys(e).map((function(n){if(-1===Jn.indexOf(n))return null;var r=$n(Kn(n),t),i=e[n];return Gn(e,i,r)})).reduce(qn,{})}er.propTypes={},er.filterProps=Jn;var tr=er;function nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Qn({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var rr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ir={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function or(e){return"".concat(Math.round(e),"ms")}var ar={easing:rr,duration:ir,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?ir.standard:n,i=t.easing,o=void 0===i?rr.easeInOut:i,a=t.delay,s=void 0===a?0:a;sn(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:or(r)," ").concat(o," ").concat("string"===typeof s?s:or(s))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},sr={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function lr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,o=e.palette,a=void 0===o?{}:o,s=e.spacing,l=e.typography,u=void 0===l?{}:l,c=sn(e,["breakpoints","mixins","palette","spacing","typography"]),h=Ln(a),p=pn(n),f=nr(s),d=cn({breakpoints:p,direction:"ltr",mixins:dn(p,f,i),overrides:{},palette:h,props:{},shadows:Un,typography:Fn(h,u),spacing:f,shape:Vn,transitions:ar,zIndex:sr},c),m=arguments.length,v=new Array(m>1?m-1:0),g=1;g<m;g++)v[g-1]=arguments[g];return d=v.reduce((function(e,t){return cn(e,t)}),d)}var ur=lr,cr=ur({palette:{primary:{main:"#3b7bea"},secondary:{main:"#0c1024"},error:{main:"#ff2659"},warning:{main:"#fe86e3"},info:{main:"#ffff80"},success:{main:"#42f5ba"}}});var hr=n.p+"static/media/vacs.47a4fb2c9135a427dccb7bf163835fb3.svg",pr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr="object"===("undefined"===typeof window?"undefined":pr(window))&&"object"===("undefined"===typeof document?"undefined":pr(document))&&9===document.nodeType;function dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mr(e,t,n){return t&&dr(e.prototype,t),n&&dr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vr(e,t){return vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vr(e,t)}function gr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,vr(e,t)}function yr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _r={}.constructor;function br(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(br);if(e.constructor!==_r)return e;var t={};for(var n in e)t[n]=br(e[n]);return t}function xr(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=br(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var wr=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},Sr=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=wr(e[r]," ");else n=wr(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function Er(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function Mr(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function kr(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;!1===n.format&&(o=-1/0);var s=Er(n),l=s.linebreak,u=s.space;if(e&&o++,a)if(Array.isArray(a))for(var c=0;c<a.length;c++){var h=a[c];for(var p in h){var f=h[p];null!=f&&(r&&(r+=l),r+=Mr(p+":"+u+Sr(f)+";",o))}}else for(var d in a){var m=a[d];null!=m&&(r&&(r+=l),r+=Mr(d+":"+u+Sr(m)+";",o))}for(var v in t){var g=t[v];null!=g&&"fallbacks"!==v&&(r&&(r+=l),r+=Mr(v+":"+u+Sr(g)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r=""+l+r+l),Mr(""+e+u+"{"+r,--o)+Mr("}",o)):r}var Tr=/([[\].#*$><+~=|^:(),"'`\s])/g,Ar="undefined"!==typeof CSS&&CSS.escape,Cr=function(e){return Ar?Ar(e):e.replace(Tr,"\\$1")},Pr=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var l=this.options.sheet;return l&&l.attached,this},e}(),Or=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=r.selector,a=r.scoped,s=r.sheet,l=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=l(yr(yr(i)),s),i.selectorText="."+Cr(i.id)),i}gr(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=Sr(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?p({},e,{allowEmpty:!0}):e;return kr(this.selectorText,this.style,n)},mr(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(Pr),Rr={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new Or(e,t,n)}},Ir={indent:1,children:!0},Lr=/@([\w-]+)/,Dr=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(Lr);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new oi(p({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=Ir);var t=Er(e).linebreak;if(null==e.indent&&(e.indent=Ir.indent),null==e.children&&(e.children=Ir.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),zr=/@media|@supports\s+/,Nr={onCreateRule:function(e,t,n){return zr.test(e)?new Dr(e,t,n):null}},Br={indent:1,children:!0},Fr=/@keyframes\s+([\w-]+)/,jr=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(Fr);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,o=n.sheet,a=n.generateId;for(var s in this.id=!1===i?this.name:Cr(a(this,o)),this.rules=new oi(p({},n,{parent:this})),t)this.rules.add(s,t[s],p({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=Br);var t=Er(e).linebreak;if(null==e.indent&&(e.indent=Br.indent),null==e.children&&(e.children=Br.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),Ur=/@keyframes\s+/,Vr=/\$([\w-]+)/g,Hr=function(e,t){return"string"===typeof e?e.replace(Vr,(function(e,n){return n in t?t[n]:e})):e},Wr=function(e,t,n){var r=e[t],i=Hr(r,n);i!==r&&(e[t]=i)},Gr={onCreateRule:function(e,t,n){return"string"===typeof e&&Ur.test(e)?new jr(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&Wr(e,"animation-name",n.keyframes),"animation"in e&&Wr(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return Hr(e,r.keyframes);default:return e}}},qr=function(e){function t(){return e.apply(this,arguments)||this}return gr(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?p({},e,{allowEmpty:!0}):e;return kr(this.key,this.style,n)},t}(Pr),Yr={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new qr(e,t,n):null}},Xr=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=Er(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=kr(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return kr(this.at,this.style,e)},e}(),Zr=/@font-face/,Kr={onCreateRule:function(e,t,n){return Zr.test(e)?new Xr(e,t,n):null}},Jr=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return kr(this.key,this.style,e)},e}(),Qr={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new Jr(e,t,n):null}},$r=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),ei={"@charset":!0,"@import":!0,"@namespace":!0},ti={onCreateRule:function(e,t,n){return e in ei?new $r(e,t,n):null}},ni=[Rr,Nr,Gr,Yr,Kr,Qr,ti],ri={process:!0},ii={force:!0,process:!0},oi=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,o=r.sheet,a=r.jss,s=r.Renderer,l=r.generateId,u=r.scoped,c=p({classes:this.classes,parent:i,sheet:o,jss:a,Renderer:s,generateId:l,scoped:u,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(c.selector="."+Cr(this.classes[h]));var f=xr(h,t,c);if(!f)return null;this.register(f);var d=void 0===c.index?this.index.length:c.index;return this.index.splice(d,0,f),f},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var o=n;return-1!==i&&(o=p({},n,{index:i})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof Or?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof jr&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof Or?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof jr&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=ri);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(o.onUpdate(n,t,a,r),r.process&&s&&s!==t.style){for(var l in o.onProcessStyle(t.style,t,a),t.style){var u=t.style[l];u!==s[l]&&t.prop(l,u,ii)}for(var c in s){var h=t.style[c],p=s[c];null==h&&h!==p&&t.prop(c,null,ii)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=Er(e).linebreak,o=0;o<this.index.length;o++){var a=this.index[o].toString(e);(a||r)&&(t&&(t+=i),t+=a)}return t},e}(),ai=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=p({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new oi(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),si=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),li=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=an(t,["attached"]),i=Er(r).linebreak,o="",a=0;a<this.registry.length;a++){var s=this.registry[a];null!=n&&s.attached!==n||(o&&(o+=i),o+=s.toString(r))}return o},mr(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ui=new li,ci="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),hi="2f1acc6c3a606b082e5eef5e54414ffb";null==ci[hi]&&(ci[hi]=0);var pi=ci[hi]++,fi=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+pi+i+t:o+n.key+"-"+pi+(i?"-"+i:"")+"-"+t}},di=function(e){var t;return function(){return t||(t=e()),t}},mi=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},vi=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=Sr(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},gi=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},yi=function(e,t){return e.selectorText=t,e.selectorText===t},_i=di((function(){return document.querySelector("head")}));function bi(e){var t=ui.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=_i(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var xi=di((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),wi=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},Si=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},Ei=function(){function e(e){this.getPropertyValue=mi,this.setProperty=vi,this.removeProperty=gi,this.setSelector=yi,this.hasInsertedRules=!1,this.cssRules=[],e&&ui.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=xi();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=bi(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else _i().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=Si(n,t);if(!1===(i=wi(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=Si(n,t),l=wi(n,a,s);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,s,l),l)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof ai&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Mi=0,ki=function(){function e(e){this.id=Mi++,this.version="10.9.0",this.plugins=new si,this.options={id:{minify:!1},createGenerateId:fi,Renderer:fr?Ei:null,plugins:[]},this.generateId=fi({minify:!1});for(var t=0;t<ni.length;t++)this.plugins.use(ni[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=p({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ui.index?0:ui.index+1);var r=new ai(e,p({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ui.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=p({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=xr(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),Ti=function(e){return new ki(e)},Ai="object"===typeof CSS&&null!=CSS&&"number"in CSS;function Ci(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=Ci(r);o&&(t||(t={}),t[n]=o)}}return t}Ti();function Pi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=p({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var Oi={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Ri=Oi,Ii=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Li=Date.now(),Di="fnValues"+Li,zi="fnStyle"+ ++Li,Ni=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=xr(e,{},n);return r[zi]=t,r},onProcessStyle:function(e,t){if(Di in t||zi in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Di]=n,e},onUpdate:function(e,t,n,r){var i=t,o=i[zi];o&&(i.style=o(e)||{});var a=i[Di];if(a)for(var s in a)i.prop(s,a[s](e),r)}}},Bi="@global",Fi="@global ",ji=function(){function e(e,t,n){for(var r in this.type="global",this.at=Bi,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new oi(p({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Ui=function(){function e(e,t,n){this.type="global",this.at=Bi,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(Fi.length);this.rule=n.jss.createRule(r,t,p({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Vi=/\s*,\s*/g;function Hi(e,t){for(var n=e.split(Vi),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Wi=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Bi)return new ji(e,t,n);if("@"===e[0]&&e.substr(0,Fi.length)===Fi)return new Ui(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[Bi]:null;if(i){for(var o in i)t.addRule(o,i[o],p({},n,{selector:Hi(o,e.selector)}));delete r[Bi]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,Bi.length)===Bi){var o=Hi(i.substr(Bi.length),e.selector);t.addRule(o,r[i],p({},n,{selector:o})),delete r[i]}}(e,t))}}},Gi=/\s*,\s*/g,qi=/&/g,Yi=/\$([\w-]+)/g;var Xi=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Gi),r=e.split(Gi),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var l=r[s];i&&(i+=", "),i+=-1!==l.indexOf("&")?l.replace(qi,a):a+" "+l}return i}function n(e,t,n){if(n)return p({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=p({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,o){if("style"!==i.type)return r;var a,s,l=i,u=l.options.parent;for(var c in r){var h=-1!==c.indexOf("&"),f="@"===c[0];if(h||f){if(a=n(l,u,a),h){var d=t(c,l.selector);s||(s=e(u,o)),d=d.replace(Yi,s);var m=l.key+"-"+c;"replaceRule"in u?u.replaceRule(m,r[c],p({},a,{selector:d})):u.addRule(m,r[c],p({},a,{selector:d}))}else f&&u.addRule(c,{},a).addRule(l.key,r[c],{selector:l.selector});delete r[c]}}return r}}},Zi=/[A-Z]/g,Ki=/^ms-/,Ji={};function Qi(e){return"-"+e.toLowerCase()}var $i=function(e){if(Ji.hasOwnProperty(e))return Ji[e];var t=e.replace(Zi,Qi);return Ji[e]=Ki.test(t)?"-"+t:t};function eo(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:$i(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(eo):t.fallbacks=eo(e.fallbacks)),t}var to=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=eo(e[t]);return e}return eo(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=$i(t);return t===r?e:(n.prop(r,e),null)}}},no=Ai&&CSS?CSS.px:"px",ro=Ai&&CSS?CSS.ms:"ms",io=Ai&&CSS?CSS.percent:"%";function oo(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var ao=oo({"animation-delay":ro,"animation-duration":ro,"background-position":no,"background-position-x":no,"background-position-y":no,"background-size":no,border:no,"border-bottom":no,"border-bottom-left-radius":no,"border-bottom-right-radius":no,"border-bottom-width":no,"border-left":no,"border-left-width":no,"border-radius":no,"border-right":no,"border-right-width":no,"border-top":no,"border-top-left-radius":no,"border-top-right-radius":no,"border-top-width":no,"border-width":no,"border-block":no,"border-block-end":no,"border-block-end-width":no,"border-block-start":no,"border-block-start-width":no,"border-block-width":no,"border-inline":no,"border-inline-end":no,"border-inline-end-width":no,"border-inline-start":no,"border-inline-start-width":no,"border-inline-width":no,"border-start-start-radius":no,"border-start-end-radius":no,"border-end-start-radius":no,"border-end-end-radius":no,margin:no,"margin-bottom":no,"margin-left":no,"margin-right":no,"margin-top":no,"margin-block":no,"margin-block-end":no,"margin-block-start":no,"margin-inline":no,"margin-inline-end":no,"margin-inline-start":no,padding:no,"padding-bottom":no,"padding-left":no,"padding-right":no,"padding-top":no,"padding-block":no,"padding-block-end":no,"padding-block-start":no,"padding-inline":no,"padding-inline-end":no,"padding-inline-start":no,"mask-position-x":no,"mask-position-y":no,"mask-size":no,height:no,width:no,"min-height":no,"max-height":no,"min-width":no,"max-width":no,bottom:no,left:no,top:no,right:no,inset:no,"inset-block":no,"inset-block-end":no,"inset-block-start":no,"inset-inline":no,"inset-inline-end":no,"inset-inline-start":no,"box-shadow":no,"text-shadow":no,"column-gap":no,"column-rule":no,"column-rule-width":no,"column-width":no,"font-size":no,"font-size-delta":no,"letter-spacing":no,"text-decoration-thickness":no,"text-indent":no,"text-stroke":no,"text-stroke-width":no,"word-spacing":no,motion:no,"motion-offset":no,outline:no,"outline-offset":no,"outline-width":no,perspective:no,"perspective-origin-x":io,"perspective-origin-y":io,"transform-origin":io,"transform-origin-x":io,"transform-origin-y":io,"transform-origin-z":io,"transition-delay":ro,"transition-duration":ro,"vertical-align":no,"flex-basis":no,"shape-margin":no,size:no,gap:no,grid:no,"grid-gap":no,"row-gap":no,"grid-row-gap":no,"grid-column-gap":no,"grid-template-rows":no,"grid-template-columns":no,"grid-auto-rows":no,"grid-auto-columns":no,"box-shadow-x":no,"box-shadow-y":no,"box-shadow-blur":no,"box-shadow-spread":no,"font-line-height":no,"text-shadow-x":no,"text-shadow-y":no,"text-shadow-blur":no});function so(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=so(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=so(i,t[i],n);else for(var o in t)t[o]=so(e+"-"+o,t[o],n);else if("number"===typeof t&&!1===isNaN(t)){var a=n[e]||ao[e];return!a||0===t&&a===no?t.toString():"function"===typeof a?a(t).toString():""+t+a}return t}var lo=function(e){void 0===e&&(e={});var t=oo(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=so(r,e[r],t);return e},onChangeValue:function(e,n){return so(n,e,t)}}};function uo(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function co(e){return function(e){if(Array.isArray(e))return l(e)}(e)||uo(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ho="",po="",fo="",mo="",vo=fr&&"ontouchstart"in document.documentElement;if(fr){var go={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},yo=document.createElement("p").style;for(var _o in go)if(_o+"Transform"in yo){ho=_o,po=go[_o];break}"Webkit"===ho&&"msHyphens"in yo&&(ho="ms",po=go.ms,mo="edge"),"Webkit"===ho&&"-apple-trailing-word"in yo&&(fo="apple")}var bo=ho,xo=po,wo=fo,So=mo,Eo=vo;var Mo={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===bo?"-webkit-"+e:xo+e)}},ko={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===bo?xo+"print-"+e:e)}},To=/[-\s]+(.)?/g;function Ao(e,t){return t?t.toUpperCase():""}function Co(e){return e.replace(To,Ao)}function Po(e){return Co("-"+e)}var Oo,Ro={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===bo){var n="mask-image";if(Co(n)in t)return e;if(bo+Po(n)in t)return xo+e}return e}},Io={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==wo||Eo?e:xo+e)}},Lo={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:xo+e)}},Do={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:xo+e)}},zo={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===bo||"ms"===bo&&"edge"!==So?xo+e:e)}},No={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===bo||"ms"===bo||"apple"===wo?xo+e:e)}},Bo={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===bo?"WebkitColumn"+Po(e)in t&&xo+"column-"+e:"Moz"===bo&&("page"+Po(e)in t&&"page-"+e))}},Fo={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===bo)return e;var n=e.replace("-inline","");return bo+Po(n)in t&&xo+n}},jo={supportedProperty:function(e,t){return Co(e)in t&&e}},Uo={supportedProperty:function(e,t){var n=Po(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:bo+n in t?xo+e:"Webkit"!==bo&&"Webkit"+n in t&&"-webkit-"+e}},Vo={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===bo?""+xo+e:e)}},Ho={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===bo?xo+"scroll-chaining":e)}},Wo={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Go={supportedProperty:function(e,t){var n=Wo[e];return!!n&&(bo+Po(n)in t&&xo+n)}},qo={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Yo=Object.keys(qo),Xo=function(e){return xo+e},Zo={supportedProperty:function(e,t,n){var r=n.multiple;if(Yo.indexOf(e)>-1){var i=qo[e];if(!Array.isArray(i))return bo+Po(i)in t&&xo+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(bo+Po(i[0])in t))return!1;return i.map(Xo)}return!1}},Ko=[Mo,ko,Ro,Io,Lo,Do,zo,No,Bo,Fo,jo,Uo,Vo,Ho,Go,Zo],Jo=Ko.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Qo=Ko.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,co(t.noPrefill)),e}),[]),$o={};if(fr){Oo=document.createElement("p");var ea=window.getComputedStyle(document.documentElement,"");for(var ta in ea)isNaN(ta)||($o[ea[ta]]=ea[ta]);Qo.forEach((function(e){return delete $o[e]}))}function na(e,t){if(void 0===t&&(t={}),!Oo)return e;if(null!=$o[e])return $o[e];"transition"!==e&&"transform"!==e||(t[e]=e in Oo.style);for(var n=0;n<Jo.length&&($o[e]=Jo[n](e,Oo.style,t),!$o[e]);n++);try{Oo.style[e]=""}catch(r){return!1}return $o[e]}var ra,ia={},oa={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},aa=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function sa(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?na(t):", "+na(n);return r||(t||n)}function la(e,t){var n=t;if(!ra||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=ia[r])return ia[r];try{ra.style[e]=n}catch(i){return ia[r]=!1,!1}if(oa[e])n=n.replace(aa,sa);else if(""===ra.style[e]&&("-ms-flex"===(n=xo+n)&&(ra.style[e]="-ms-flexbox"),ra.style[e]=n,""===ra.style[e]))return ia[r]=!1,!1;return ra.style[e]="",ia[r]=n,ia[r]}fr&&(ra=document.createElement("p"));var ua=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,o=na(n);o&&o!==n&&(i=!0);var a=!1,s=la(o,Sr(r));s&&s!==r&&(a=!0),(i||a)&&(i&&delete t[n],t[o||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===bo?e:"@"+xo+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return la(t,Sr(e))||e}}};var ca=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}};var ha=Ti({plugins:[Ni(),Wi(),Xi(),to(),lo(),"undefined"===typeof window?null:ua(),ca()]}),pa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,o=e.seed,a=void 0===o?"":o,s=""===a?"":"".concat(a,"-"),l=0,u=function(){return l+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Ii.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[ne]&&""===a?"".concat(o,"-").concat(u()):o}return"".concat(s).concat(i).concat(u())}}(),fa={disableGeneration:!1,generateClassName:pa,jss:ha,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},da=i.createContext(fa);var ma=-1e9;function va(){return ma+=1}function ga(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(s){throw s}if(!r||!n.overrides||!n.overrides[r])return i;var o=n.overrides[r],a=p({},i);return Object.keys(o).forEach((function(e){a[e]=cn(a[e],o[e])})),a},options:{}}}var ya={};function _a(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Pi({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function ba(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,o=e.stylesCreator,a=e.name;if(!i.disableGeneration){var s=Ri.get(i.sheetsManager,o,r);s||(s={refs:0,staticSheet:null,dynamicStyles:null},Ri.set(i.sheetsManager,o,r,s));var l=p({},o.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});l.generateId=l.serverGenerateClassName||l.generateClassName;var u=i.sheetsRegistry;if(0===s.refs){var c;i.sheetsCache&&(c=Ri.get(i.sheetsCache,o,r));var h=o.create(r,a);c||((c=i.jss.createStyleSheet(h,p({link:!1},l))).attach(),i.sheetsCache&&Ri.set(i.sheetsCache,o,r,c)),u&&u.add(c),s.staticSheet=c,s.dynamicStyles=Ci(h)}if(s.dynamicStyles){var f=i.jss.createStyleSheet(s.dynamicStyles,p({link:!0},l));f.update(t),f.attach(),n.dynamicSheet=f,n.classes=Pi({baseClasses:s.staticSheet.classes,newClasses:f.classes}),u&&u.add(f)}else n.classes=s.staticSheet.classes;s.refs+=1}}function xa(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function wa(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=Ri.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;0===o.refs&&(Ri.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}function Sa(e,t){var n,r=i.useRef([]),o=i.useMemo((function(){return{}}),t);r.current!==o&&(r.current=o,n=e()),i.useEffect((function(){return function(){n&&n()}}),[o])}function Ea(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=t.classNamePrefix,o=t.Component,a=t.defaultTheme,s=void 0===a?ya:a,l=sn(t,["name","classNamePrefix","Component","defaultTheme"]),u=ga(e),c=n||r||"makeStyles";u.options={index:va(),name:n,meta:c,classNamePrefix:c};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=te()||s,r=p({},i.useContext(da),l),a=i.useRef(),c=i.useRef();Sa((function(){var i={name:n,state:{},stylesCreator:u,stylesOptions:r,theme:t};return ba(i,e),c.current=!1,a.current=i,function(){wa(i)}}),[t,u]),i.useEffect((function(){c.current&&xa(a.current,e),c.current=!0}));var h=_a(a.current,e.classes,o);return h};return h}var Ma=ur();var ka=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ea(e,p({defaultTheme:Ma},t))},Ta=ka((function(e){return{grid:{display:"flex",marginTop:"0.5rem",justifyContent:"center",alignItems:"center",color:"#fff",fontSize:"1.5rem"},card:{color:"#fffff3",alignItems:"center",boxShadow:"none"},media:{width:"95%"},name:{backgroundColor:"#0c1024",color:"#fffff3",fontSize:"1.5rem"}}}));function Aa(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Aa(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ca(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Aa(e))&&(r&&(r+=" "),r+=t);return r}function Pa(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,o=t.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r}var Oa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=t.defaultTheme,o=t.withTheme,a=void 0!==o&&o,s=t.name,l=sn(t,["defaultTheme","withTheme","name"]);var u=s,c=Ea(e,p({defaultTheme:r,Component:n,name:s||n.displayName,classNamePrefix:u},l)),h=i.forwardRef((function(e,t){e.classes;var o,l=e.innerRef,u=sn(e,["classes","innerRef"]),h=c(p({},n.defaultProps,e)),f=u;return("string"===typeof s||a)&&(o=te()||r,s&&(f=Pa({theme:o,name:s,props:u})),a&&!f.theme&&(f.theme=o)),i.createElement(n,p({ref:l||t,classes:h},f))}));return me()(h,n),h}};var Ra=function(e,t){return Oa(e,p({defaultTheme:Ma},t))},Ia=[0,1,2,3,4,5,6,7,8,9,10],La=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function Da(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var za=i.forwardRef((function(e,t){var n=e.alignContent,r=void 0===n?"stretch":n,o=e.alignItems,a=void 0===o?"stretch":o,s=e.classes,l=e.className,u=e.component,c=void 0===u?"div":u,h=e.container,f=void 0!==h&&h,d=e.direction,m=void 0===d?"row":d,v=e.item,g=void 0!==v&&v,y=e.justify,_=e.justifyContent,b=void 0===_?"flex-start":_,x=e.lg,w=void 0!==x&&x,S=e.md,E=void 0!==S&&S,M=e.sm,k=void 0!==M&&M,T=e.spacing,A=void 0===T?0:T,C=e.wrap,P=void 0===C?"wrap":C,O=e.xl,R=void 0!==O&&O,I=e.xs,L=void 0!==I&&I,D=e.zeroMinWidth,z=void 0!==D&&D,N=sn(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),B=Ca(s.root,l,f&&[s.container,0!==A&&s["spacing-xs-".concat(String(A))]],g&&s.item,z&&s.zeroMinWidth,"row"!==m&&s["direction-xs-".concat(String(m))],"wrap"!==P&&s["wrap-xs-".concat(String(P))],"stretch"!==a&&s["align-items-xs-".concat(String(a))],"stretch"!==r&&s["align-content-xs-".concat(String(r))],"flex-start"!==(y||b)&&s["justify-content-xs-".concat(String(y||b))],!1!==L&&s["grid-xs-".concat(String(L))],!1!==k&&s["grid-sm-".concat(String(k))],!1!==E&&s["grid-md-".concat(String(E))],!1!==w&&s["grid-lg-".concat(String(w))],!1!==R&&s["grid-xl-".concat(String(R))]);return i.createElement(c,p({className:B,ref:t},N))})),Na=Ra((function(e){return p({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return Ia.forEach((function(r){var i=e.spacing(r);0!==i&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(Da(i,2)),width:"calc(100% + ".concat(Da(i),")"),"& > $item":{padding:Da(i,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};La.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?p(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(za),Ba=Na;function Fa(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function ja(e){var t=function(t){var n=e(t);return t.css?p({},qn(n,e(p({theme:t.theme},t.css))),Fa(t.css,[e.filterProps])):t.sx?p({},qn(n,e(p({theme:t.theme},t.sx))),Fa(t.sx,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css","sx"].concat(co(e.filterProps)),t}var Ua=ja;var Va=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?qn(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r};function Ha(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var Wa=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,o=e.transform,a=function(e){if(null==e[t])return null;var n=e[t],a=Ha(e.theme,i)||{};return Gn(e,n,(function(e){var t;return"function"===typeof a?t=a(e):Array.isArray(a)?t=a[e]||e:(t=Ha(a,e)||e,o&&(t=o(t))),!1===r?t:fn({},r,t)}))};return a.propTypes={},a.filterProps=[t],a};function Ga(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var qa=Va(Wa({prop:"border",themeKey:"borders",transform:Ga}),Wa({prop:"borderTop",themeKey:"borders",transform:Ga}),Wa({prop:"borderRight",themeKey:"borders",transform:Ga}),Wa({prop:"borderBottom",themeKey:"borders",transform:Ga}),Wa({prop:"borderLeft",themeKey:"borders",transform:Ga}),Wa({prop:"borderColor",themeKey:"palette"}),Wa({prop:"borderRadius",themeKey:"shape"})),Ya=Wa({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),Xa=Va(Ya,Wa({prop:"display"}),Wa({prop:"overflow"}),Wa({prop:"textOverflow"}),Wa({prop:"visibility"}),Wa({prop:"whiteSpace"})),Za=Va(Wa({prop:"flexBasis"}),Wa({prop:"flexDirection"}),Wa({prop:"flexWrap"}),Wa({prop:"justifyContent"}),Wa({prop:"alignItems"}),Wa({prop:"alignContent"}),Wa({prop:"order"}),Wa({prop:"flex"}),Wa({prop:"flexGrow"}),Wa({prop:"flexShrink"}),Wa({prop:"alignSelf"}),Wa({prop:"justifyItems"}),Wa({prop:"justifySelf"})),Ka=Va(Wa({prop:"gridGap"}),Wa({prop:"gridColumnGap"}),Wa({prop:"gridRowGap"}),Wa({prop:"gridColumn"}),Wa({prop:"gridRow"}),Wa({prop:"gridAutoFlow"}),Wa({prop:"gridAutoColumns"}),Wa({prop:"gridAutoRows"}),Wa({prop:"gridTemplateColumns"}),Wa({prop:"gridTemplateRows"}),Wa({prop:"gridTemplateAreas"}),Wa({prop:"gridArea"})),Ja=Va(Wa({prop:"position"}),Wa({prop:"zIndex",themeKey:"zIndex"}),Wa({prop:"top"}),Wa({prop:"right"}),Wa({prop:"bottom"}),Wa({prop:"left"})),Qa=Va(Wa({prop:"color",themeKey:"palette"}),Wa({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),$a=Wa({prop:"boxShadow",themeKey:"shadows"});function es(e){return e<=1?"".concat(100*e,"%"):e}var ts=Wa({prop:"width",transform:es}),ns=Wa({prop:"maxWidth",transform:es}),rs=Wa({prop:"minWidth",transform:es}),is=Wa({prop:"height",transform:es}),os=Wa({prop:"maxHeight",transform:es}),as=Wa({prop:"minHeight",transform:es}),ss=(Wa({prop:"size",cssProperty:"width",transform:es}),Wa({prop:"size",cssProperty:"height",transform:es}),Va(ts,ns,rs,is,os,as,Wa({prop:"boxSizing"}))),ls=Va(Wa({prop:"fontFamily",themeKey:"typography"}),Wa({prop:"fontSize",themeKey:"typography"}),Wa({prop:"fontStyle",themeKey:"typography"}),Wa({prop:"fontWeight",themeKey:"typography"}),Wa({prop:"letterSpacing"}),Wa({prop:"lineHeight"}),Wa({prop:"textAlign"}));function us(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}var cs=function(e){var t=function(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.name,a=sn(r,["name"]),s=o,l=Ea("function"===typeof t?function(e){return{root:function(n){return t(p({theme:e},n))}}}:{root:t},p({Component:e,name:o||e.displayName,classNamePrefix:s},a));t.filterProps&&(n=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var u=i.forwardRef((function(t,r){var o=t.children,a=t.className,s=t.clone,u=t.component,c=sn(t,["children","className","clone","component"]),h=Ca(l(t).root,a),f=c;if(n&&(f=us(f,n)),s)return i.cloneElement(o,p({className:Ca(o.props.className,h)},f));if("function"===typeof o)return o(p({className:h},f));var d=u||e;return i.createElement(d,p({ref:r,className:h},f),o)}));return me()(u,e),u}}(e);return function(e,n){return t(e,p({defaultTheme:Ma},n))}},hs=Ua(Va(qa,Xa,Za,Ka,Ja,Qa,$a,ss,tr,ls)),ps=cs("div")(hs,{name:"MuiBox"}),fs=function(){var e=Ta();return(0,rn.jsxs)(Ba,{item:!0,xs:!0,container:!0,children:[(0,rn.jsxs)(Ba,{item:!0,xs:6,className:e.grid,children:[(0,rn.jsx)(ps,{sx:{ml:"1rem"}}),(0,rn.jsxs)(ps,{children:[(0,rn.jsx)("p",{children:"Visualize Mode"}),(0,rn.jsx)("img",{className:e.media,src:"/pngs/visualization.png"})]})]}),(0,rn.jsxs)(Ba,{item:!0,xs:6,className:e.grid,children:[(0,rn.jsx)(ps,{sx:{ml:"1rem"}}),(0,rn.jsxs)(ps,{children:[(0,rn.jsx)("p",{children:"Alert Mode"}),(0,rn.jsx)("img",{className:e.media,src:"/pngs/alert.png"})]})]}),(0,rn.jsxs)(Ba,{item:!0,xs:6,className:e.grid,children:[(0,rn.jsx)(ps,{sx:{ml:"1rem"}}),(0,rn.jsxs)(ps,{children:[(0,rn.jsx)("p",{children:"Control Mode"}),(0,rn.jsx)("img",{className:e.media,src:"/pngs/control.png"})]})]}),(0,rn.jsx)(Ba,{item:!0,xs:1})]})},ds=function(){return(0,rn.jsxs)("div",{className:"Home",children:[(0,rn.jsxs)("header",{className:"Home-header",children:[(0,rn.jsx)("img",{src:hr,className:"Home-logo",alt:"logo"}),(0,rn.jsx)("p",{children:" Visualize, Alert and Control System "}),(0,rn.jsx)(Q,{to:"/manual",children:(0,rn.jsx)("button",{className:"Start-btn",children:(0,rn.jsx)("span",{children:"GET STARTED"})})})]}),(0,rn.jsx)(T,{children:(0,rn.jsx)(M,{path:"/manual",element:(0,rn.jsx)(fs,{})})})]})},ms={xs:0,sm:600,md:900,lg:1200,xl:1536},vs={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(ms[e],"px)")}};function gs(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||vs;return t.reduce((function(e,r,o){return e[i.up(i.keys[o])]=n(t[o]),e}),{})}if("object"===typeof t){var o=r.breakpoints||vs;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(o.values||ms).indexOf(r)){e[o.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function ys(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function _s(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function bs(e){var t,n=e.values,r=e.breakpoints,i=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),o=Object.keys(i);return 0===o.length?n:o.reduce((function(e,r,i){return Array.isArray(n)?(e[r]=null!=n[i]?n[i]:n[t],t=i):(e[r]=null!=n[r]?n[r]:n[t]||n,t=r),e}),{})}function xs(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function ws(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?p({},e):e;return xs(e)&&xs(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(xs(t[i])&&i in e&&xs(e[i])?r[i]=ws(e[i],t[i],n):r[i]=t[i])})),r}function Ss(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function Es(e){if("string"!==typeof e)throw new Error(Ss(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Ms(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function ks(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:Ms(e,n)||i,t&&(r=t(r)),r}var Ts=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,o=e.transform,a=function(e){if(null==e[t])return null;var n=e[t],a=Ms(e.theme,i)||{};return gs(e,n,(function(e){var n=ks(a,o,e);return e===n&&"string"===typeof e&&(n=ks(a,o,"".concat(t).concat("default"===e?"":Es(e)),e)),!1===r?n:fn({},r,n)}))};return a.propTypes={},a.filterProps=[t],a};var As=function(e,t){return t?ws(e,t,{clone:!1}):e};var Cs=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?As(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};var Ps={m:"margin",p:"padding"},Os={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Rs={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Is=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!Rs[e])return[e];e=Rs[e]}var t=h(e.split(""),2),n=t[0],r=t[1],i=Ps[n],o=Os[r]||"";return Array.isArray(o)?o.map((function(e){return i+e})):[i+o]})),Ls=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Ds=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],zs=[].concat(Ls,Ds);function Ns(e,t,n,r){var i=Ms(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function Bs(e){return Ns(e,"spacing",8)}function Fs(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function js(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=Fs(t,n),e}),{})}}(Is(n),r);return gs(e,e[n],i)}function Us(e,t){var n=Bs(e.theme);return Object.keys(e).map((function(r){return js(e,t,r,n)})).reduce(As,{})}function Vs(e){return Us(e,Ls)}function Hs(e){return Us(e,Ds)}function Ws(e){return Us(e,zs)}Vs.propTypes={},Vs.filterProps=Ls,Hs.propTypes={},Hs.filterProps=Ds,Ws.propTypes={},Ws.filterProps=zs;var Gs=Ws;function qs(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Ys=Ts({prop:"border",themeKey:"borders",transform:qs}),Xs=Ts({prop:"borderTop",themeKey:"borders",transform:qs}),Zs=Ts({prop:"borderRight",themeKey:"borders",transform:qs}),Ks=Ts({prop:"borderBottom",themeKey:"borders",transform:qs}),Js=Ts({prop:"borderLeft",themeKey:"borders",transform:qs}),Qs=Ts({prop:"borderColor",themeKey:"palette"}),$s=Ts({prop:"borderTopColor",themeKey:"palette"}),el=Ts({prop:"borderRightColor",themeKey:"palette"}),tl=Ts({prop:"borderBottomColor",themeKey:"palette"}),nl=Ts({prop:"borderLeftColor",themeKey:"palette"}),rl=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=Ns(e.theme,"shape.borderRadius",4);return gs(e,e.borderRadius,(function(e){return{borderRadius:Fs(t,e)}}))}return null};rl.propTypes={},rl.filterProps=["borderRadius"];var il=Cs(Ys,Xs,Zs,Ks,Js,Qs,$s,el,tl,nl,rl),ol=Ts({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),al=Cs(ol,Ts({prop:"display"}),Ts({prop:"overflow"}),Ts({prop:"textOverflow"}),Ts({prop:"visibility"}),Ts({prop:"whiteSpace"})),sl=Cs(Ts({prop:"flexBasis"}),Ts({prop:"flexDirection"}),Ts({prop:"flexWrap"}),Ts({prop:"justifyContent"}),Ts({prop:"alignItems"}),Ts({prop:"alignContent"}),Ts({prop:"order"}),Ts({prop:"flex"}),Ts({prop:"flexGrow"}),Ts({prop:"flexShrink"}),Ts({prop:"alignSelf"}),Ts({prop:"justifyItems"}),Ts({prop:"justifySelf"})),ll=function(e){if(void 0!==e.gap&&null!==e.gap){var t=Ns(e.theme,"spacing",8);return gs(e,e.gap,(function(e){return{gap:Fs(t,e)}}))}return null};ll.propTypes={},ll.filterProps=["gap"];var ul=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=Ns(e.theme,"spacing",8);return gs(e,e.columnGap,(function(e){return{columnGap:Fs(t,e)}}))}return null};ul.propTypes={},ul.filterProps=["columnGap"];var cl=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=Ns(e.theme,"spacing",8);return gs(e,e.rowGap,(function(e){return{rowGap:Fs(t,e)}}))}return null};cl.propTypes={},cl.filterProps=["rowGap"];var hl=Cs(ll,ul,cl,Ts({prop:"gridColumn"}),Ts({prop:"gridRow"}),Ts({prop:"gridAutoFlow"}),Ts({prop:"gridAutoColumns"}),Ts({prop:"gridAutoRows"}),Ts({prop:"gridTemplateColumns"}),Ts({prop:"gridTemplateRows"}),Ts({prop:"gridTemplateAreas"}),Ts({prop:"gridArea"})),pl=Cs(Ts({prop:"position"}),Ts({prop:"zIndex",themeKey:"zIndex"}),Ts({prop:"top"}),Ts({prop:"right"}),Ts({prop:"bottom"}),Ts({prop:"left"})),fl=Cs(Ts({prop:"color",themeKey:"palette"}),Ts({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),Ts({prop:"backgroundColor",themeKey:"palette"})),dl=Ts({prop:"boxShadow",themeKey:"shadows"});function ml(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var vl=Ts({prop:"width",transform:ml}),gl=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return gs(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||ms[t]||ml(t)}}))}return null};gl.filterProps=["maxWidth"];var yl=Ts({prop:"minWidth",transform:ml}),_l=Ts({prop:"height",transform:ml}),bl=Ts({prop:"maxHeight",transform:ml}),xl=Ts({prop:"minHeight",transform:ml}),wl=(Ts({prop:"size",cssProperty:"width",transform:ml}),Ts({prop:"size",cssProperty:"height",transform:ml}),Cs(vl,gl,yl,_l,bl,xl,Ts({prop:"boxSizing"}))),Sl=Ts({prop:"fontFamily",themeKey:"typography"}),El=Ts({prop:"fontSize",themeKey:"typography"}),Ml=Ts({prop:"fontStyle",themeKey:"typography"}),kl=Ts({prop:"fontWeight",themeKey:"typography"}),Tl=Ts({prop:"letterSpacing"}),Al=Ts({prop:"textTransform"}),Cl=Ts({prop:"lineHeight"}),Pl=Ts({prop:"textAlign"}),Ol=Cs(Ts({prop:"typography",cssProperty:!1,themeKey:"typography"}),Sl,El,Ml,kl,Tl,Cl,Pl,Al),Rl={borders:il.filterProps,display:al.filterProps,flexbox:sl.filterProps,grid:hl.filterProps,positions:pl.filterProps,palette:fl.filterProps,shadows:dl.filterProps,sizing:wl.filterProps,spacing:Gs.filterProps,typography:Ol.filterProps},Il={borders:il,display:al,flexbox:sl,grid:hl,positions:pl,palette:fl,shadows:dl,sizing:wl,spacing:Gs,typography:Ol},Ll=Object.keys(Rl).reduce((function(e,t){return Rl[t].forEach((function(n){e[n]=Il[t]})),e}),{});var Dl=["sx"];function zl(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){Ll[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}(an(e,Dl)),i=r.systemProps,o=r.otherProps;return t=Array.isArray(n)?[i].concat(co(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return xs(e)?p({},i,e):i}:p({},i,n),p({},o,{sx:t})}function Nl(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}var Bl=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Fl=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,jl=Bl((function(e){return Fl.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var Ul=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Vl=Math.abs,Hl=String.fromCharCode,Wl=Object.assign;function Gl(e){return e.trim()}function ql(e,t,n){return e.replace(t,n)}function Yl(e,t){return e.indexOf(t)}function Xl(e,t){return 0|e.charCodeAt(t)}function Zl(e,t,n){return e.slice(t,n)}function Kl(e){return e.length}function Jl(e){return e.length}function Ql(e,t){return t.push(e),e}var $l=1,eu=1,tu=0,nu=0,ru=0,iu="";function ou(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:$l,column:eu,length:a,return:""}}function au(e,t){return Wl(ou("",null,null,"",null,null,0),e,{length:-e.length},t)}function su(){return ru=nu>0?Xl(iu,--nu):0,eu--,10===ru&&(eu=1,$l--),ru}function lu(){return ru=nu<tu?Xl(iu,nu++):0,eu++,10===ru&&(eu=1,$l++),ru}function uu(){return Xl(iu,nu)}function cu(){return nu}function hu(e,t){return Zl(iu,e,t)}function pu(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fu(e){return $l=eu=1,tu=Kl(iu=e),nu=0,[]}function du(e){return iu="",e}function mu(e){return Gl(hu(nu-1,yu(91===e?e+2:40===e?e+1:e)))}function vu(e){for(;(ru=uu())&&ru<33;)lu();return pu(e)>2||pu(ru)>3?"":" "}function gu(e,t){for(;--t&&lu()&&!(ru<48||ru>102||ru>57&&ru<65||ru>70&&ru<97););return hu(e,cu()+(t<6&&32==uu()&&32==lu()))}function yu(e){for(;lu();)switch(ru){case e:return nu;case 34:case 39:34!==e&&39!==e&&yu(ru);break;case 40:41===e&&yu(e);break;case 92:lu()}return nu}function _u(e,t){for(;lu()&&e+ru!==57&&(e+ru!==84||47!==uu()););return"/*"+hu(t,nu-1)+"*"+Hl(47===e?e:lu())}function bu(e){for(;!pu(uu());)lu();return hu(e,nu)}var xu="-ms-",wu="-moz-",Su="-webkit-",Eu="comm",Mu="rule",ku="decl",Tu="@keyframes";function Au(e,t){for(var n="",r=Jl(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Cu(e,t,n,r){switch(e.type){case"@import":case ku:return e.return=e.return||e.value;case Eu:return"";case Tu:return e.return=e.value+"{"+Au(e.children,r)+"}";case Mu:e.value=e.props.join(",")}return Kl(n=Au(e.children,r))?e.return=e.value+"{"+n+"}":""}function Pu(e,t){switch(function(e,t){return(((t<<2^Xl(e,0))<<2^Xl(e,1))<<2^Xl(e,2))<<2^Xl(e,3)}(e,t)){case 5103:return Su+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Su+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Su+e+wu+e+xu+e+e;case 6828:case 4268:return Su+e+xu+e+e;case 6165:return Su+e+xu+"flex-"+e+e;case 5187:return Su+e+ql(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return Su+e+xu+"flex-item-"+ql(e,/flex-|-self/,"")+e;case 4675:return Su+e+xu+"flex-line-pack"+ql(e,/align-content|flex-|-self/,"")+e;case 5548:return Su+e+xu+ql(e,"shrink","negative")+e;case 5292:return Su+e+xu+ql(e,"basis","preferred-size")+e;case 6060:return Su+"box-"+ql(e,"-grow","")+Su+e+xu+ql(e,"grow","positive")+e;case 4554:return Su+ql(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return ql(ql(ql(e,/(zoom-|grab)/,Su+"$1"),/(image-set)/,Su+"$1"),e,"")+e;case 5495:case 3959:return ql(e,/(image-set\([^]*)/,Su+"$1$`$1");case 4968:return ql(ql(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Su+e+e;case 4095:case 3583:case 4068:case 2532:return ql(e,/(.+)-inline(.+)/,Su+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Kl(e)-1-t>6)switch(Xl(e,t+1)){case 109:if(45!==Xl(e,t+4))break;case 102:return ql(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+wu+(108==Xl(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Yl(e,"stretch")?Pu(ql(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Xl(e,t+1))break;case 6444:switch(Xl(e,Kl(e)-3-(~Yl(e,"!important")&&10))){case 107:return ql(e,":",":"+Su)+e;case 101:return ql(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Su+(45===Xl(e,14)?"inline-":"")+"box$3$1"+Su+"$2$3$1"+xu+"$2box$3")+e}break;case 5936:switch(Xl(e,t+11)){case 114:return Su+e+xu+ql(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Su+e+xu+ql(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Su+e+xu+ql(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Su+e+xu+e+e}return e}function Ou(e){return du(Ru("",null,null,null,[""],e=fu(e),0,[0],e))}function Ru(e,t,n,r,i,o,a,s,l){for(var u=0,c=0,h=a,p=0,f=0,d=0,m=1,v=1,g=1,y=0,_="",b=i,x=o,w=r,S=_;v;)switch(d=y,y=lu()){case 40:if(108!=d&&58==S.charCodeAt(h-1)){-1!=Yl(S+=ql(mu(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:S+=mu(y);break;case 9:case 10:case 13:case 32:S+=vu(d);break;case 92:S+=gu(cu()-1,7);continue;case 47:switch(uu()){case 42:case 47:Ql(Lu(_u(lu(),cu()),t,n),l);break;default:S+="/"}break;case 123*m:s[u++]=Kl(S)*g;case 125*m:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+c:f>0&&Kl(S)-h&&Ql(f>32?Du(S+";",r,n,h-1):Du(ql(S," ","")+";",r,n,h-2),l);break;case 59:S+=";";default:if(Ql(w=Iu(S,t,n,u,c,i,s,_,b=[],x=[],h),o),123===y)if(0===c)Ru(S,t,w,w,b,o,h,s,x);else switch(p){case 100:case 109:case 115:Ru(e,w,w,r&&Ql(Iu(e,w,w,0,0,i,s,_,i,b=[],h),x),i,x,h,s,r?b:x);break;default:Ru(S,w,w,w,[""],x,0,s,x)}}u=c=f=0,m=g=1,_=S="",h=a;break;case 58:h=1+Kl(S),f=d;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==su())continue;switch(S+=Hl(y),y*m){case 38:g=c>0?1:(S+="\f",-1);break;case 44:s[u++]=(Kl(S)-1)*g,g=1;break;case 64:45===uu()&&(S+=mu(lu())),p=uu(),c=h=Kl(_=S+=bu(cu())),y++;break;case 45:45===d&&2==Kl(S)&&(m=0)}}return o}function Iu(e,t,n,r,i,o,a,s,l,u,c){for(var h=i-1,p=0===i?o:[""],f=Jl(p),d=0,m=0,v=0;d<r;++d)for(var g=0,y=Zl(e,h+1,h=Vl(m=a[d])),_=e;g<f;++g)(_=Gl(m>0?p[g]+" "+y:ql(y,/&\f/g,p[g])))&&(l[v++]=_);return ou(e,t,n,0===i?Mu:s,l,u,c)}function Lu(e,t,n){return ou(e,t,n,Eu,Hl(ru),Zl(e,2,-2),0)}function Du(e,t,n,r){return ou(e,t,n,ku,Zl(e,0,r),Zl(e,r+1,-1),r)}var zu=function(e,t,n){for(var r=0,i=0;r=i,i=uu(),38===r&&12===i&&(t[n]=1),!pu(i);)lu();return hu(e,nu)},Nu=function(e,t){return du(function(e,t){var n=-1,r=44;do{switch(pu(r)){case 0:38===r&&12===uu()&&(t[n]=1),e[n]+=zu(nu-1,t,n);break;case 2:e[n]+=mu(r);break;case 4:if(44===r){e[++n]=58===uu()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Hl(r)}}while(r=lu());return e}(fu(e),t))},Bu=new WeakMap,Fu=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Bu.get(n))&&!r){Bu.set(e,!0);for(var i=[],o=Nu(t,i),a=n.props,s=0,l=0;s<o.length;s++)for(var u=0;u<a.length;u++,l++)e.props[l]=i[s]?o[s].replace(/&\f/g,a[u]):a[u]+" "+o[s]}}},ju=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Uu=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ku:e.return=Pu(e.value,e.length);break;case Tu:return Au([au(e,{value:ql(e.value,"@","@"+Su)})],r);case Mu:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Au([au(e,{props:[ql(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Au([au(e,{props:[ql(t,/:(plac\w+)/,":-webkit-input-$1")]}),au(e,{props:[ql(t,/:(plac\w+)/,":-moz-$1")]}),au(e,{props:[ql(t,/:(plac\w+)/,xu+"input-$1")]})],r)}return""}))}}],Vu=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Uu;var i,o,a={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var l,u,c=[Cu,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=Jl(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}([Fu,ju].concat(r,c));o=function(e,t,n,r){l=n,function(e){Au(Ou(e),h)}(e?e+"{"+t.styles+"}":t.styles),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new Ul({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return p.sheet.hydrate(s),p},Hu=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}};var Wu=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Gu=/[A-Z]|^ms/g,qu=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Yu=function(e){return 45===e.charCodeAt(1)},Xu=function(e){return null!=e&&"boolean"!==typeof e},Zu=Bl((function(e){return Yu(e)?e:e.replace(Gu,"-$&").toLowerCase()})),Ku=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(qu,(function(e,t,n){return Qu={name:t,styles:n,next:Qu},t}))}return 1===ce[e]||Yu(e)||"number"!==typeof t||0===t?t:t+"px"};function Ju(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Qu={name:n.name,styles:n.styles,next:Qu},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Qu={name:r.name,styles:r.styles,next:Qu},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ju(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":Xu(a)&&(r+=Zu(o)+":"+Ku(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=Ju(e,t,a);switch(o){case"animation":case"animationName":r+=Zu(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)Xu(a[l])&&(r+=Zu(o)+":"+Ku(o,a[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Qu,o=n(e);return Qu=i,Ju(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var Qu,$u=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var ec=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Qu=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=Ju(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=Ju(n,t,e[a]),r&&(i+=o[a]);$u.lastIndex=0;for(var s,l="";null!==(s=$u.exec(i));)l+="-"+s[1];return{name:Wu(i)+l,styles:i,next:Qu}},tc=(0,i.createContext)("undefined"!==typeof HTMLElement?Vu({key:"css"}):null);tc.Provider;var nc=function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(tc);return e(t,r,n)}))},rc=(0,i.createContext)({});var ic=Hu((function(e){return Hu((function(t){return function(e,t){return"function"===typeof t?t(e):p({},e,t)}(e,t)}))})),oc=function(e){var t=(0,i.useContext)(rc);return e.theme!==t&&(t=ic(t)(e.theme)),(0,i.createElement)(rc.Provider,{value:t},e.children)};o.useInsertionEffect&&o.useInsertionEffect;function ac(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var sc=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},lc=jl,uc=function(e){return"theme"!==e},cc=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?lc:uc},hc=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},pc=o.useInsertionEffect?o.useInsertionEffect:function(e){e()};var fc=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;sc(t,n,r);!function(e){pc(e)}((function(){return function(e,t,n){sc(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)}));return null},dc=function e(t,n){var r,o,a=t.__emotion_real===t,s=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,o=n.target);var l=hc(t,n,a),u=l||cc(s),c=!u("as");return function(){var h=arguments,f=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&f.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)f.push.apply(f,h);else{0,f.push(h[0][0]);for(var d=h.length,m=1;m<d;m++)f.push(h[m],h[0][m])}var v=nc((function(e,t,n){var r=c&&e.as||s,a="",h=[],p=e;if(null==e.theme){for(var d in p={},e)p[d]=e[d];p.theme=(0,i.useContext)(rc)}"string"===typeof e.className?a=ac(t.registered,h,e.className):null!=e.className&&(a=e.className+" ");var m=ec(f.concat(h),t.registered,p);a+=t.key+"-"+m.name,void 0!==o&&(a+=" "+o);var v=c&&void 0===l?cc(r):u,g={};for(var y in e)c&&"as"===y||v(y)&&(g[y]=e[y]);return g.className=a,g.ref=n,(0,i.createElement)(i.Fragment,null,(0,i.createElement)(fc,{cache:t,serialized:m,isStringTag:"string"===typeof r}),(0,i.createElement)(r,g))}));return v.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",v.defaultProps=t.defaultProps,v.__emotion_real=v,v.__emotion_base=s,v.__emotion_styles=f,v.__emotion_forwardProp=l,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(t,r){return e(t,p({},n,r,{shouldForwardProp:hc(v,r,!0)})).apply(void 0,f)},v}},mc=dc.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){mc[e]=mc(e)}));var vc=mc;function gc(e,t){return vc(e,t)}var yc=["values","unit","step"];function _c(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,o=e.step,a=void 0===o?5:o,s=an(e,yc),l=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return p({},e,fn({},t.key,t.val))}),{})}(n),u=Object.keys(l);function c(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-a/100).concat(i,")")}function f(e,t){var r=u.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[u[r]]?n[u[r]]:t)-a/100).concat(i,")")}return p({keys:u,values:l,up:c,down:h,between:f,only:function(e){return u.indexOf(e)+1<u.length?f(e,u[u.indexOf(e)+1]):c(e)},not:function(e){var t=u.indexOf(e);return 0===t?c(u[1]):t===u.length-1?h(u[t]):f(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},s)}var bc={borderRadius:4};function xc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Bs({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var wc=["breakpoints","palette","spacing","shape"];var Sc=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,o=e.spacing,a=e.shape,s=void 0===a?{}:a,l=an(e,wc),u=_c(n),c=xc(o),h=ws({breakpoints:u,direction:"ltr",components:{},palette:p({mode:"light"},i),spacing:c,shape:p({},bc,s)},l),f=arguments.length,d=new Array(f>1?f-1:0),m=1;m<f;m++)d[m-1]=arguments[m];return h=d.reduce((function(e,t){return ws(e,t)}),h)},Ec=["variant"];function Mc(e){return 0===e.length}function kc(e){var t=e.variant,n=an(e,Ec),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Mc(r)?e[t]:Es(e[t]):"".concat(Mc(r)?t:Es(t)).concat(Es(e[t].toString()))})),r}function Tc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function Ac(e,t){return"function"===typeof e?e(t):e}var Cc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Il,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,o=(fn(i={},e,n),fn(i,"theme",r),i),a=t[e];return a?a(o):fn({},e,n)}function r(e){var i=e||{},o=i.sx,a=i.theme,s=void 0===a?{}:a;if(!o)return null;function l(e){var i=e;if("function"===typeof e)i=e(s);else if("object"!==typeof e)return e;if(!i)return null;var o=ys(s.breakpoints),a=Object.keys(o),l=o;return Object.keys(i).forEach((function(e){var o=Ac(i[e],s);if(null!==o&&void 0!==o)if("object"===typeof o)if(t[e])l=As(l,n(e,o,s));else{var a=gs({theme:s},o,(function(t){return fn({},e,t)}));Tc(a,o)?l[e]=r({sx:o,theme:s}):l=As(l,a)}else l=As(l,n(e,o,s))})),_s(a,l)}return Array.isArray(o)?o.map(l):l(o)}return r}();Cc.filterProps=["sx"];var Pc=Cc,Oc=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Rc=["theme"],Ic=["theme"];function Lc(e){return 0===Object.keys(e).length}var Dc=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},zc=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=kc(e.props);r[t]=e.style})),r},Nc=function(e,t,n,r){var i,o,a=e.ownerState,s=void 0===a?{}:a,l=[],u=null==n||null==(i=n.components)||null==(o=i[r])?void 0:o.variants;return u&&u.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&l.push(t[kc(n.props)])})),l};function Bc(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Fc=Sc();function jc(e,t,n){var r;return p({toolbar:(r={minHeight:56},fn(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),fn(r,e.up("sm"),{minHeight:64}),r)},n)}function Uc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Vc(e){if(e.type)return e;if("#"===e.charAt(0))return Vc(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Ss(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(Ss(10,r))}else i=i.split(",");return i=i.map((function(e){return parseFloat(e)})),{type:n,values:i,colorSpace:r}}function Hc(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Wc(e){var t="hsl"===(e=Vc(e)).type?Vc(function(e){var t=(e=Vc(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",l=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",l.push(t[3])),Hc({type:s,values:l})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Gc(e,t){return e=Vc(e),t=Uc(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,Hc(e)}function qc(e,t){if(e=Vc(e),t=Uc(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Hc(e)}function Yc(e,t){if(e=Vc(e),t=Uc(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Hc(e)}var Xc={black:"#000",white:"#fff"},Zc={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Kc={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Jc={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Qc={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},$c={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},eh={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},th={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},nh=["mode","contrastThreshold","tonalOffset"],rh={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Xc.white,default:Xc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ih={text:{primary:Xc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Xc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function oh(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Yc(e.main,i):"dark"===t&&(e.dark=qc(e.main,o)))}function ah(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,o=e.tonalOffset,a=void 0===o?.2:o,s=an(e,nh),l=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:$c[200],light:$c[50],dark:$c[400]}:{main:$c[700],light:$c[400],dark:$c[800]}}(n),u=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Kc[200],light:Kc[50],dark:Kc[400]}:{main:Kc[500],light:Kc[300],dark:Kc[700]}}(n),c=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Jc[500],light:Jc[300],dark:Jc[700]}:{main:Jc[700],light:Jc[400],dark:Jc[800]}}(n),h=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:eh[400],light:eh[300],dark:eh[700]}:{main:eh[700],light:eh[500],dark:eh[900]}}(n),f=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:th[400],light:th[300],dark:th[700]}:{main:th[800],light:th[500],dark:th[900]}}(n),d=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Qc[400],light:Qc[300],dark:Qc[700]}:{main:"#ed6c02",light:Qc[500],dark:Qc[900]}}(n);function m(e){var t=function(e,t){var n=Wc(e),r=Wc(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,ih.text.primary)>=i?ih.text.primary:rh.text.primary;return t}var v=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,o=e.lightShade,s=void 0===o?300:o,l=e.darkShade,u=void 0===l?700:l;if(!(t=p({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Ss(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(Ss(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return oh(t,"light",s,a),oh(t,"dark",u,a),t.contrastText||(t.contrastText=m(t.main)),t},g={dark:ih,light:rh};return ws(p({common:Xc,mode:n,primary:v({color:l,name:"primary"}),secondary:v({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:c,name:"error"}),warning:v({color:d,name:"warning"}),info:v({color:h,name:"info"}),success:v({color:f,name:"success"}),grey:Zc,contrastThreshold:i,getContrastText:m,augmentColor:v,tonalOffset:a},g[n]),s)}var sh=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function lh(e){return Math.round(1e5*e)/1e5}var uh={textTransform:"uppercase"},ch='"Roboto", "Helvetica", "Arial", sans-serif';function hh(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?ch:r,o=n.fontSize,a=void 0===o?14:o,s=n.fontWeightLight,l=void 0===s?300:s,u=n.fontWeightRegular,c=void 0===u?400:u,h=n.fontWeightMedium,f=void 0===h?500:h,d=n.fontWeightBold,m=void 0===d?700:d,v=n.htmlFontSize,g=void 0===v?16:v,y=n.allVariants,_=n.pxToRem,b=an(n,sh);var x=a/14,w=_||function(e){return"".concat(e/g*x,"rem")},S=function(e,t,n,r,o){return p({fontFamily:i,fontWeight:e,fontSize:w(t),lineHeight:n},i===ch?{letterSpacing:"".concat(lh(r/t),"em")}:{},o,y)},E={h1:S(l,96,1.167,-1.5),h2:S(l,60,1.2,-.5),h3:S(c,48,1.167,0),h4:S(c,34,1.235,.25),h5:S(c,24,1.334,0),h6:S(f,20,1.6,.15),subtitle1:S(c,16,1.75,.15),subtitle2:S(f,14,1.57,.1),body1:S(c,16,1.5,.15),body2:S(c,14,1.43,.15),button:S(f,14,1.75,.4,uh),caption:S(c,12,1.66,.4),overline:S(c,12,2.66,1,uh)};return ws(p({htmlFontSize:g,pxToRem:w,fontFamily:i,fontSize:a,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:f,fontWeightBold:m},E),b,{clone:!1})}function ph(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var fh=["none",ph(0,2,1,-1,0,1,1,0,0,1,3,0),ph(0,3,1,-2,0,2,2,0,0,1,5,0),ph(0,3,3,-2,0,3,4,0,0,1,8,0),ph(0,2,4,-1,0,4,5,0,0,1,10,0),ph(0,3,5,-1,0,5,8,0,0,1,14,0),ph(0,3,5,-1,0,6,10,0,0,1,18,0),ph(0,4,5,-2,0,7,10,1,0,2,16,1),ph(0,5,5,-3,0,8,10,1,0,3,14,2),ph(0,5,6,-3,0,9,12,1,0,3,16,2),ph(0,6,6,-3,0,10,14,1,0,4,18,3),ph(0,6,7,-4,0,11,15,1,0,4,20,3),ph(0,7,8,-4,0,12,17,2,0,5,22,4),ph(0,7,8,-4,0,13,19,2,0,5,24,4),ph(0,7,9,-4,0,14,21,2,0,5,26,4),ph(0,8,9,-5,0,15,22,2,0,6,28,5),ph(0,8,10,-5,0,16,24,2,0,6,30,5),ph(0,8,11,-5,0,17,26,2,0,6,32,5),ph(0,9,11,-5,0,18,28,2,0,7,34,6),ph(0,9,12,-6,0,19,29,2,0,7,36,6),ph(0,10,13,-6,0,20,31,3,0,8,38,7),ph(0,10,13,-6,0,21,33,3,0,8,40,7),ph(0,10,14,-6,0,22,35,3,0,8,42,7),ph(0,11,14,-7,0,23,36,3,0,9,44,8),ph(0,11,15,-7,0,24,38,3,0,9,46,8)],dh=["duration","easing","delay"],mh={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},vh={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function gh(e){return"".concat(Math.round(e),"ms")}function yh(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function _h(e){var t=p({},mh,e.easing),n=p({},vh,e.duration);return p({getAutoHeightDuration:yh,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,o=void 0===i?n.standard:i,a=r.easing,s=void 0===a?t.easeInOut:a,l=r.delay,u=void 0===l?0:l;an(r,dh);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:gh(o)," ").concat(s," ").concat("string"===typeof u?u:gh(u))})).join(",")}},e,{easing:t,duration:n})}var bh={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},xh=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function wh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,o=e.transitions,a=void 0===o?{}:o,s=e.typography,l=void 0===s?{}:s,u=an(e,xh),c=ah(i),h=Sc(e),f=ws(h,{mixins:jc(h.breakpoints,h.spacing,n),palette:c,shadows:fh.slice(),typography:hh(c,l),transitions:_h(a),zIndex:p({},bh)});f=ws(f,u);for(var d=arguments.length,m=new Array(d>1?d-1:0),v=1;v<d;v++)m[v-1]=arguments[v];return f=m.reduce((function(e,t){return ws(e,t)}),f)}var Sh=wh(),Eh=function(e){return Bc(e)&&"classes"!==e},Mh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Fc:t,r=e.rootShouldForwardProp,i=void 0===r?Bc:r,o=e.slotShouldForwardProp,a=void 0===o?Bc:o,s=e.styleFunctionSx,l=void 0===s?Pc:s;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.name,s=r.slot,u=r.skipVariantsResolver,c=r.skipSx,f=r.overridesResolver,d=an(r,Oc),m=void 0!==u?u:s&&"Root"!==s||!1,v=c||!1;var g=Bc;"Root"===s?g=i:s&&(g=a);var y=gc(e,p({shouldForwardProp:g,label:t},d)),_=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var a=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=an(t,Rc);return e(p({theme:Lc(r)?n:r},i))}:e})):[],s=e;o&&f&&a.push((function(e){var t=Lc(e.theme)?n:e.theme,r=Dc(o,t);if(r){var i={};return Object.entries(r).forEach((function(t){var n=h(t,2),r=n[0],o=n[1];i[r]="function"===typeof o?o(e):o})),f(e,i)}return null})),o&&!m&&a.push((function(e){var t=Lc(e.theme)?n:e.theme;return Nc(e,zc(o,t),t,o)})),v||a.push((function(e){var t=Lc(e.theme)?n:e.theme;return l(p({},e,{theme:t}))}));var u=a.length-r.length;if(Array.isArray(e)&&u>0){var c=new Array(u).fill("");(s=[].concat(co(e),co(c))).raw=[].concat(co(e.raw),co(c))}else"function"===typeof e&&e.__emotion_real!==e&&(s=function(t){var r=t.theme,i=an(t,Ic);return e(p({theme:Lc(r)?n:r},i))});var d=y.apply(void 0,[s].concat(co(a)));return d};return y.withConfig&&(_.withConfig=y.withConfig),_}}({defaultTheme:Sh,rootShouldForwardProp:Eh}),kh=Mh;function Th(e,t){var n=p({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}var Ah=i.createContext(null);function Ch(){return i.useContext(Ah)}function Ph(e){return 0===Object.keys(e).length}var Oh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Ch();return!t||Ph(t)?e:t},Rh=Sc();var Ih=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rh;return Oh(e)};function Lh(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Th(t.components[n].defaultProps,r):r}({theme:Ih(r),name:n,props:t});return i}function Dh(e){return Lh({props:e.props,name:e.name,defaultTheme:Sh})}var zh=i.createContext(),Nh=function(e){return e},Bh=function(){var e=Nh;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=Nh}}}(),Fh={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function jh(e,t){return Fh[t]||"".concat(Bh.generate(e),"-").concat(t)}function Uh(e,t){var n={};return t.forEach((function(t){n[t]=jh(e,t)})),n}function Vh(e){return jh("MuiGrid",e)}var Hh=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Wh=Uh("MuiGrid",["root","container","item","zeroMinWidth"].concat(co([0,1,2,3,4,5,6,7,8,9,10].map((function(e){return"spacing-xs-".concat(e)}))),co(["column-reverse","column","row-reverse","row"].map((function(e){return"direction-xs-".concat(e)}))),co(["nowrap","wrap-reverse","wrap"].map((function(e){return"wrap-xs-".concat(e)}))),co(Hh.map((function(e){return"grid-xs-".concat(e)}))),co(Hh.map((function(e){return"grid-sm-".concat(e)}))),co(Hh.map((function(e){return"grid-md-".concat(e)}))),co(Hh.map((function(e){return"grid-lg-".concat(e)}))),co(Hh.map((function(e){return"grid-xl-".concat(e)}))))),Gh=Wh,qh=["className","columns","columnSpacing","component","container","direction","item","lg","md","rowSpacing","sm","spacing","wrap","xl","xs","zeroMinWidth"];function Yh(e){var t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function Xh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]||"spacing-xs-".concat(String(e))];var r=e.xs,i=e.sm,o=e.md,a=e.lg,s=e.xl;return[Number(r)>0&&(n["spacing-xs-".concat(String(r))]||"spacing-xs-".concat(String(r))),Number(i)>0&&(n["spacing-sm-".concat(String(i))]||"spacing-sm-".concat(String(i))),Number(o)>0&&(n["spacing-md-".concat(String(o))]||"spacing-md-".concat(String(o))),Number(a)>0&&(n["spacing-lg-".concat(String(a))]||"spacing-lg-".concat(String(a))),Number(s)>0&&(n["spacing-xl-".concat(String(s))]||"spacing-xl-".concat(String(s)))]}var Zh=kh("div",{name:"MuiGrid",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.container,i=n.direction,o=n.item,a=n.lg,s=n.md,l=n.sm,u=n.spacing,c=n.wrap,h=n.xl,p=n.xs,f=n.zeroMinWidth;return[t.root,r&&t.container,o&&t.item,f&&t.zeroMinWidth].concat(co(Xh(u,r,t)),["row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==c&&t["wrap-xs-".concat(String(c))],!1!==p&&t["grid-xs-".concat(String(p))],!1!==l&&t["grid-sm-".concat(String(l))],!1!==s&&t["grid-md-".concat(String(s))],!1!==a&&t["grid-lg-".concat(String(a))],!1!==h&&t["grid-xl-".concat(String(h))]])}})((function(e){var t=e.ownerState;return p({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){var t=e.theme;return gs({theme:t},bs({values:e.ownerState.direction,breakpoints:t.breakpoints.values}),(function(e){var t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(Gh.item)]={maxWidth:"none"}),t}))}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.rowSpacing,o={};if(r&&0!==i){var a=bs({values:i,breakpoints:t.breakpoints.values});o=gs({theme:t},a,(function(e){var n=t.spacing(e);return"0px"!==n?fn({marginTop:"-".concat(Yh(n))},"& > .".concat(Gh.item),{paddingTop:Yh(n)}):{}}))}return o}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.columnSpacing,o={};if(r&&0!==i){var a=bs({values:i,breakpoints:t.breakpoints.values});o=gs({theme:t},a,(function(e){var n=t.spacing(e);return"0px"!==n?fn({width:"calc(100% + ".concat(Yh(n),")"),marginLeft:"-".concat(Yh(n))},"& > .".concat(Gh.item),{paddingLeft:Yh(n)}):{}}))}return o}),(function(e){var t,n=e.theme,r=e.ownerState;return n.breakpoints.keys.reduce((function(e,i){var o={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{var a=bs({values:r.columns,breakpoints:n.breakpoints.values}),s="object"===typeof a?a[i]:a;if(void 0===s||null===s)return e;var l="".concat(Math.round(t/s*1e8)/1e6,"%"),u={};if(r.container&&r.item&&0!==r.columnSpacing){var c=n.spacing(r.columnSpacing);if("0px"!==c){var h="calc(".concat(l," + ").concat(Yh(c),")");u={flexBasis:h,maxWidth:h}}}o=p({flexBasis:l,flexGrow:0,maxWidth:l},u)}return 0===n.breakpoints.values[i]?Object.assign(e,o):e[n.breakpoints.up(i)]=o,e}),{})})),Kh=i.forwardRef((function(e,t){var n,r=zl(Dh({props:e,name:"MuiGrid"})),o=r.className,a=r.columns,s=r.columnSpacing,l=r.component,u=void 0===l?"div":l,c=r.container,h=void 0!==c&&c,f=r.direction,d=void 0===f?"row":f,m=r.item,v=void 0!==m&&m,g=r.lg,y=void 0!==g&&g,_=r.md,b=void 0!==_&&_,x=r.rowSpacing,w=r.sm,S=void 0!==w&&w,E=r.spacing,M=void 0===E?0:E,k=r.wrap,T=void 0===k?"wrap":k,A=r.xl,C=void 0!==A&&A,P=r.xs,O=void 0!==P&&P,R=r.zeroMinWidth,I=void 0!==R&&R,L=an(r,qh),D=x||M,z=s||M,N=i.useContext(zh),B=a||N||12,F=p({},r,{columns:B,container:h,direction:d,item:v,lg:y,md:b,sm:S,rowSpacing:D,columnSpacing:z,wrap:T,xl:C,xs:O,zeroMinWidth:I}),j=function(e){var t=e.classes,n=e.container,r=e.direction,i=e.item,o=e.lg,a=e.md,s=e.sm,l=e.spacing,u=e.wrap,c=e.xl,h=e.xs;return Nl({root:["root",n&&"container",i&&"item",e.zeroMinWidth&&"zeroMinWidth"].concat(co(Xh(l,n)),["row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==u&&"wrap-xs-".concat(String(u)),!1!==h&&"grid-xs-".concat(String(h)),!1!==s&&"grid-sm-".concat(String(s)),!1!==a&&"grid-md-".concat(String(a)),!1!==o&&"grid-lg-".concat(String(o)),!1!==c&&"grid-xl-".concat(String(c))])},Vh,t)}(F);return n=(0,rn.jsx)(Zh,p({ownerState:F,className:Ca(j.root,o),as:u,ref:t},L)),12!==B?(0,rn.jsx)(zh.Provider,{value:B,children:n}):n})),Jh=Kh;var Qh=i.createContext();function $h(){return i.useContext(Qh)}var ep=Es;function tp(e){return jh("MuiTypography",e)}Uh("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var np=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],rp=kh("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(ep(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return p({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),ip={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},op={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},ap=i.forwardRef((function(e,t){var n=Dh({props:e,name:"MuiTypography"}),r=function(e){return op[e]||e}(n.color),i=zl(p({},n,{color:r})),o=i.align,a=void 0===o?"inherit":o,s=i.className,l=i.component,u=i.gutterBottom,c=void 0!==u&&u,h=i.noWrap,f=void 0!==h&&h,d=i.paragraph,m=void 0!==d&&d,v=i.variant,g=void 0===v?"body1":v,y=i.variantMapping,_=void 0===y?ip:y,b=an(i,np),x=p({},i,{align:a,color:r,className:s,component:l,gutterBottom:c,noWrap:f,paragraph:m,variant:g,variantMapping:_}),w=l||(m?"p":_[g]||ip[g])||"span",S=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,o=e.variant,a=e.classes;return Nl({root:["root",o,"inherit"!==e.align&&"align".concat(ep(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},tp,a)}(x);return(0,rn.jsx)(rp,p({as:w,ref:t,ownerState:x,className:Ca(S.root,s)},b))})),sp=ap;function lp(e){return jh("MuiFormControlLabel",e)}var up=Uh("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]);var cp=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","value"],hp=kh("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[fn({},"& .".concat(up.label),t.label),t.root,t["labelPlacement".concat(ep(n.labelPlacement))]]}})((function(e){var t=e.theme,n=e.ownerState;return p(fn({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16},"&.".concat(up.disabled),{cursor:"default"}),"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},fn({},"& .".concat(up.label),fn({},"&.".concat(up.disabled),{color:t.palette.text.disabled})))})),pp=i.forwardRef((function(e,t){var n=Dh({props:e,name:"MuiFormControlLabel"}),r=n.className,o=n.componentsProps,a=void 0===o?{}:o,s=n.control,l=n.disabled,u=n.disableTypography,c=n.label,h=n.labelPlacement,f=void 0===h?"end":h,d=an(n,cp),m=$h(),v=l;"undefined"===typeof v&&"undefined"!==typeof s.props.disabled&&(v=s.props.disabled),"undefined"===typeof v&&m&&(v=m.disabled);var g={disabled:v};["checked","name","onChange","value","inputRef"].forEach((function(e){"undefined"===typeof s.props[e]&&"undefined"!==typeof n[e]&&(g[e]=n[e])}));var y=function(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}({props:n,muiFormControl:m,states:["error"]}),_=p({},n,{disabled:v,label:c,labelPlacement:f,error:y.error}),b=function(e){var t=e.classes,n=e.disabled,r=e.labelPlacement,i=e.error;return Nl({root:["root",n&&"disabled","labelPlacement".concat(ep(r)),i&&"error"],label:["label",n&&"disabled"]},lp,t)}(_);return(0,rn.jsxs)(hp,p({className:Ca(b.root,r),ownerState:_,ref:t},d,{children:[i.cloneElement(s,g),c.type===sp||u?c:(0,rn.jsx)(sp,p({component:"span",className:b.label},a.typography,{children:c}))]}))})),fp=pp;var dp=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,i.useRef(void 0!==t).current),o=h(i.useState(n),2),a=o[0],s=o[1];return[r?t:a,i.useCallback((function(e){r||s(e)}),[])]};function mp(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var vp=function(e,t){return i.useMemo((function(){return null==e&&null==t?null:function(n){mp(e,n),mp(t,n)}}),[e,t])},gp="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;var yp,_p=function(e){var t=i.useRef(e);return gp((function(){t.current=e})),i.useCallback((function(){return t.current.apply(void 0,arguments)}),[])},bp=!0,xp=!1,wp={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Sp(e){e.metaKey||e.altKey||e.ctrlKey||(bp=!0)}function Ep(){bp=!1}function Mp(){"hidden"===this.visibilityState&&xp&&(bp=!0)}function kp(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return bp||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!wp[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var Tp=function(){var e=i.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Sp,!0),t.addEventListener("mousedown",Ep,!0),t.addEventListener("pointerdown",Ep,!0),t.addEventListener("touchstart",Ep,!0),t.addEventListener("visibilitychange",Mp,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!kp(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(xp=!0,window.clearTimeout(yp),yp=window.setTimeout((function(){xp=!1}),100),t.current=!1,!0)},ref:e}},Ap=i.createContext(null);function Cp(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function Pp(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Op(e,t,n){var r=Cp(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(o).forEach((function(a){var s=o[a];if((0,i.isValidElement)(s)){var l=a in t,u=a in r,c=t[a],h=(0,i.isValidElement)(c)&&!c.props.in;!u||l&&!h?u||!l||h?u&&l&&(0,i.isValidElement)(c)&&(o[a]=(0,i.cloneElement)(s,{onExited:n.bind(null,s),in:c.props.in,exit:Pp(s,"exit",e),enter:Pp(s,"enter",e)})):o[a]=(0,i.cloneElement)(s,{in:!1}):o[a]=(0,i.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:Pp(s,"exit",e),enter:Pp(s,"enter",e)})}})),o}var Rp=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Ip=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(yr(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}gr(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,Cp(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:Pp(e,"appear",n),enter:Pp(e,"enter",n),exit:Pp(e,"exit",n)})}))):Op(e,o,a),firstRender:!1}},n.handleExited=function(e,t){var n=Cp(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=p({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=an(e,["component","childFactory"]),o=this.state.contextValue,a=Rp(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(Ap.Provider,{value:o},a):i.createElement(Ap.Provider,{value:o},i.createElement(t,r,a))},t}(i.Component);Ip.propTypes={},Ip.defaultProps={component:"div",childFactory:function(e){return e}};var Lp=Ip;o.useInsertionEffect?o.useInsertionEffect:i.useLayoutEffect;function Dp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ec(t)}var zp=function(){var e=Dp.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var Np=function(e){var t=e.className,n=e.classes,r=e.pulsate,o=void 0!==r&&r,a=e.rippleX,s=e.rippleY,l=e.rippleSize,u=e.in,c=e.onExited,p=e.timeout,f=h(i.useState(!1),2),d=f[0],m=f[1],v=Ca(t,n.ripple,n.rippleVisible,o&&n.ripplePulsate),g={width:l,height:l,top:-l/2+s,left:-l/2+a},y=Ca(n.child,d&&n.childLeaving,o&&n.childPulsate);return u||d||m(!0),i.useEffect((function(){if(!u&&null!=c){var e=setTimeout(c,p);return function(){clearTimeout(e)}}}),[c,u,p]),(0,rn.jsx)("span",{className:v,style:g,children:(0,rn.jsx)("span",{className:y})})};var Bp,Fp,jp,Up,Vp,Hp,Wp,Gp,qp=Uh("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Yp=["center","classes","className"],Xp=zp(Vp||(Vp=Bp||(Bp=oe(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Zp=zp(Hp||(Hp=Fp||(Fp=oe(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Kp=zp(Wp||(Wp=jp||(jp=oe(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Jp=kh("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Qp=kh(Np,{name:"MuiTouchRipple",slot:"Ripple"})(Gp||(Gp=Up||(Up=oe(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),qp.rippleVisible,Xp,550,(function(e){return e.theme.transitions.easing.easeInOut}),qp.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),qp.child,qp.childLeaving,Zp,550,(function(e){return e.theme.transitions.easing.easeInOut}),qp.childPulsate,Kp,(function(e){return e.theme.transitions.easing.easeInOut})),$p=i.forwardRef((function(e,t){var n=Dh({props:e,name:"MuiTouchRipple"}),r=n.center,o=void 0!==r&&r,a=n.classes,s=void 0===a?{}:a,l=n.className,u=an(n,Yp),c=h(i.useState([]),2),f=c[0],d=c[1],m=i.useRef(0),v=i.useRef(null);i.useEffect((function(){v.current&&(v.current(),v.current=null)}),[f]);var g=i.useRef(!1),y=i.useRef(null),_=i.useRef(null),b=i.useRef(null);i.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var x=i.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,o=e.cb;d((function(e){return[].concat(co(e),[(0,rn.jsx)(Qp,{classes:{ripple:Ca(s.ripple,qp.ripple),rippleVisible:Ca(s.rippleVisible,qp.rippleVisible),ripplePulsate:Ca(s.ripplePulsate,qp.ripplePulsate),child:Ca(s.child,qp.child),childLeaving:Ca(s.childLeaving,qp.childLeaving),childPulsate:Ca(s.childPulsate,qp.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},m.current)])})),m.current+=1,v.current=o}),[s]),w=i.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,a=t.center,s=void 0===a?o||t.pulsate:a,l=t.fakeElement,u=void 0!==l&&l;if("mousedown"===e.type&&g.current)g.current=!1;else{"touchstart"===e.type&&(g.current=!0);var c,h,p,f=u?null:b.current,d=f?f.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(d.width/2),h=Math.round(d.height/2);else{var m=e.touches?e.touches[0]:e,v=m.clientX,w=m.clientY;c=Math.round(v-d.left),h=Math.round(w-d.top)}if(s)(p=Math.sqrt((2*Math.pow(d.width,2)+Math.pow(d.height,2))/3))%2===0&&(p+=1);else{var S=2*Math.max(Math.abs((f?f.clientWidth:0)-c),c)+2,E=2*Math.max(Math.abs((f?f.clientHeight:0)-h),h)+2;p=Math.sqrt(Math.pow(S,2)+Math.pow(E,2))}e.touches?null===_.current&&(_.current=function(){x({pulsate:i,rippleX:c,rippleY:h,rippleSize:p,cb:n})},y.current=setTimeout((function(){_.current&&(_.current(),_.current=null)}),80)):x({pulsate:i,rippleX:c,rippleY:h,rippleSize:p,cb:n})}}),[o,x]),S=i.useCallback((function(){w({},{pulsate:!0})}),[w]),E=i.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===e.type&&_.current)return _.current(),_.current=null,void(y.current=setTimeout((function(){E(e,t)})));_.current=null,d((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return i.useImperativeHandle(t,(function(){return{pulsate:S,start:w,stop:E}}),[S,w,E]),(0,rn.jsx)(Jp,p({className:Ca(s.root,qp.root,l),ref:b},u,{children:(0,rn.jsx)(Lp,{component:null,exit:!0,children:f})}))})),ef=$p;function tf(e){return jh("MuiButtonBase",e)}var nf,rf=Uh("MuiButtonBase",["root","disabled","focusVisible"]),of=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],af=kh("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((fn(nf={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(rf.disabled),{pointerEvents:"none",cursor:"default"}),fn(nf,"@media print",{colorAdjust:"exact"}),nf)),sf=i.forwardRef((function(e,t){var n=Dh({props:e,name:"MuiButtonBase"}),r=n.action,o=n.centerRipple,a=void 0!==o&&o,s=n.children,l=n.className,u=n.component,c=void 0===u?"button":u,f=n.disabled,d=void 0!==f&&f,m=n.disableRipple,v=void 0!==m&&m,g=n.disableTouchRipple,y=void 0!==g&&g,_=n.focusRipple,b=void 0!==_&&_,x=n.LinkComponent,w=void 0===x?"a":x,S=n.onBlur,E=n.onClick,M=n.onContextMenu,k=n.onDragLeave,T=n.onFocus,A=n.onFocusVisible,C=n.onKeyDown,P=n.onKeyUp,O=n.onMouseDown,R=n.onMouseLeave,I=n.onMouseUp,L=n.onTouchEnd,D=n.onTouchMove,z=n.onTouchStart,N=n.tabIndex,B=void 0===N?0:N,F=n.TouchRippleProps,j=n.touchRippleRef,U=n.type,V=an(n,of),H=i.useRef(null),W=i.useRef(null),G=vp(W,j),q=Tp(),Y=q.isFocusVisibleRef,X=q.onFocus,Z=q.onBlur,K=q.ref,J=h(i.useState(!1),2),Q=J[0],$=J[1];function ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return _p((function(r){return t&&t(r),!n&&W.current&&W.current[e](r),!0}))}d&&Q&&$(!1),i.useImperativeHandle(r,(function(){return{focusVisible:function(){$(!0),H.current.focus()}}}),[]),i.useEffect((function(){Q&&b&&!v&&W.current.pulsate()}),[v,b,Q]);var te=ee("start",O),ne=ee("stop",M),re=ee("stop",k),ie=ee("stop",I),oe=ee("stop",(function(e){Q&&e.preventDefault(),R&&R(e)})),ae=ee("start",z),se=ee("stop",L),le=ee("stop",D),ue=ee("stop",(function(e){Z(e),!1===Y.current&&$(!1),S&&S(e)}),!1),ce=_p((function(e){H.current||(H.current=e.currentTarget),X(e),!0===Y.current&&($(!0),A&&A(e)),T&&T(e)})),he=function(){var e=H.current;return c&&"button"!==c&&!("A"===e.tagName&&e.href)},pe=i.useRef(!1),fe=_p((function(e){b&&!pe.current&&Q&&W.current&&" "===e.key&&(pe.current=!0,W.current.stop(e,(function(){W.current.start(e)}))),e.target===e.currentTarget&&he()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&he()&&"Enter"===e.key&&!d&&(e.preventDefault(),E&&E(e))})),de=_p((function(e){b&&" "===e.key&&W.current&&Q&&!e.defaultPrevented&&(pe.current=!1,W.current.stop(e,(function(){W.current.pulsate(e)}))),P&&P(e),E&&e.target===e.currentTarget&&he()&&" "===e.key&&!e.defaultPrevented&&E(e)})),me=c;"button"===me&&(V.href||V.to)&&(me=w);var ve={};"button"===me?(ve.type=void 0===U?"button":U,ve.disabled=d):(V.href||V.to||(ve.role="button"),d&&(ve["aria-disabled"]=d));var ge=vp(K,H),ye=vp(t,ge),_e=h(i.useState(!1),2),be=_e[0],xe=_e[1];i.useEffect((function(){xe(!0)}),[]);var we=be&&!v&&!d;var Se=p({},n,{centerRipple:a,component:c,disabled:d,disableRipple:v,disableTouchRipple:y,focusRipple:b,tabIndex:B,focusVisible:Q}),Ee=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=Nl({root:["root",t&&"disabled",n&&"focusVisible"]},tf,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(Se);return(0,rn.jsxs)(af,p({as:me,className:Ca(Ee.root,l),ownerState:Se,onBlur:ue,onClick:E,onContextMenu:ne,onFocus:ce,onKeyDown:fe,onKeyUp:de,onMouseDown:te,onMouseLeave:oe,onMouseUp:ie,onDragLeave:re,onTouchEnd:se,onTouchMove:le,onTouchStart:ae,ref:ye,tabIndex:d?-1:B,type:U},ve,V,{children:[s,we?(0,rn.jsx)(ef,p({ref:G,center:a},F)):null]}))})),lf=sf;function uf(e){return jh("PrivateSwitchBase",e)}Uh("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var cf=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],hf=kh(lf)((function(e){var t=e.ownerState;return p({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),pf=kh("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),ff=i.forwardRef((function(e,t){var n=e.autoFocus,r=e.checked,i=e.checkedIcon,o=e.className,a=e.defaultChecked,s=e.disabled,l=e.disableFocusRipple,u=void 0!==l&&l,c=e.edge,f=void 0!==c&&c,d=e.icon,m=e.id,v=e.inputProps,g=e.inputRef,y=e.name,_=e.onBlur,b=e.onChange,x=e.onFocus,w=e.readOnly,S=e.required,E=e.tabIndex,M=e.type,k=e.value,T=an(e,cf),A=h(dp({controlled:r,default:Boolean(a),name:"SwitchBase",state:"checked"}),2),C=A[0],P=A[1],O=$h(),R=s;O&&"undefined"===typeof R&&(R=O.disabled);var I="checkbox"===M||"radio"===M,L=p({},e,{checked:C,disabled:R,disableFocusRipple:u,edge:f}),D=function(e){var t=e.classes,n=e.checked,r=e.disabled,i=e.edge;return Nl({root:["root",n&&"checked",r&&"disabled",i&&"edge".concat(ep(i))],input:["input"]},uf,t)}(L);return(0,rn.jsxs)(hf,p({component:"span",className:Ca(D.root,o),centerRipple:!0,focusRipple:!u,disabled:R,tabIndex:null,role:void 0,onFocus:function(e){x&&x(e),O&&O.onFocus&&O.onFocus(e)},onBlur:function(e){_&&_(e),O&&O.onBlur&&O.onBlur(e)},ownerState:L,ref:t},T,{children:[(0,rn.jsx)(pf,p({autoFocus:n,checked:r,defaultChecked:a,className:D.input,disabled:R,id:I&&m,name:y,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var t=e.target.checked;P(t),b&&b(e,t)}},readOnly:w,ref:g,required:S,ownerState:L,tabIndex:E,type:M},"checkbox"===M&&void 0===k?{}:{value:k},v)),C?i:d]}))})),df=ff;function mf(e){return jh("MuiSvgIcon",e)}Uh("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var vf=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],gf=kh("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(ep(n.color))],t["fontSize".concat(ep(n.fontSize))]]}})((function(e){var t,n,r,i,o,a,s,l,u,c,h,p,f,d,m,v,g,y=e.theme,_=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=y.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=y.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(o=y.typography)||null==(a=o.pxToRem)?void 0:a.call(o,20))||"1.25rem",medium:(null==(s=y.typography)||null==(l=s.pxToRem)?void 0:l.call(s,24))||"1.5rem",large:(null==(u=y.typography)||null==(c=u.pxToRem)?void 0:c.call(u,35))||"2.1875"}[_.fontSize],color:null!=(h=null==(p=y.palette)||null==(f=p[_.color])?void 0:f.main)?h:{action:null==(d=y.palette)||null==(m=d.action)?void 0:m.active,disabled:null==(v=y.palette)||null==(g=v.action)?void 0:g.disabled,inherit:void 0}[_.color]}})),yf=i.forwardRef((function(e,t){var n=Dh({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,o=n.color,a=void 0===o?"inherit":o,s=n.component,l=void 0===s?"svg":s,u=n.fontSize,c=void 0===u?"medium":u,h=n.htmlColor,f=n.inheritViewBox,d=void 0!==f&&f,m=n.titleAccess,v=n.viewBox,g=void 0===v?"0 0 24 24":v,y=an(n,vf),_=p({},n,{color:a,component:l,fontSize:c,inheritViewBox:d,viewBox:g}),b={};d||(b.viewBox=g);var x=function(e){var t=e.color,n=e.fontSize,r=e.classes;return Nl({root:["root","inherit"!==t&&"color".concat(ep(t)),"fontSize".concat(ep(n))]},mf,r)}(_);return(0,rn.jsxs)(gf,p({as:l,className:Ca(x.root,i),ownerState:_,focusable:"false",color:h,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:t},b,y,{children:[r,m?(0,rn.jsx)("title",{children:m}):null]}))}));yf.muiName="SvgIcon";var _f=yf;function bf(e,t){var n=function(n,r){return(0,rn.jsx)(_f,p({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))};return n.muiName=_f.muiName,i.memo(i.forwardRef(n))}var xf=bf((0,rn.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),wf=bf((0,rn.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Sf=bf((0,rn.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Ef(e){return jh("MuiCheckbox",e)}var Mf=Uh("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),kf=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],Tf=kh(df,{shouldForwardProp:function(e){return Eh(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.indeterminate&&t.indeterminate,"default"!==n.color&&t["color".concat(ep(n.color))]]}})((function(e){var t,n=e.theme,r=e.ownerState;return p({color:n.palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:Gc("default"===r.color?n.palette.action.active:n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(fn(t={},"&.".concat(Mf.checked,", &.").concat(Mf.indeterminate),{color:n.palette[r.color].main}),fn(t,"&.".concat(Mf.disabled),{color:n.palette.action.disabled}),t))})),Af=(0,rn.jsx)(wf,{}),Cf=(0,rn.jsx)(xf,{}),Pf=(0,rn.jsx)(Sf,{}),Of=i.forwardRef((function(e,t){var n,r,o=Dh({props:e,name:"MuiCheckbox"}),a=o.checkedIcon,s=void 0===a?Af:a,l=o.color,u=void 0===l?"primary":l,c=o.icon,h=void 0===c?Cf:c,f=o.indeterminate,d=void 0!==f&&f,m=o.indeterminateIcon,v=void 0===m?Pf:m,g=o.inputProps,y=o.size,_=void 0===y?"medium":y,b=an(o,kf),x=d?v:h,w=d?v:s,S=p({},o,{color:u,indeterminate:d,size:_}),E=function(e){var t=e.classes,n=e.indeterminate,r=e.color;return p({},t,Nl({root:["root",n&&"indeterminate","color".concat(ep(r))]},Ef,t))}(S);return(0,rn.jsx)(Tf,p({type:"checkbox",inputProps:p({"data-indeterminate":d},g),icon:i.cloneElement(x,{fontSize:null!=(n=x.props.fontSize)?n:_}),checkedIcon:i.cloneElement(w,{fontSize:null!=(r=w.props.fontSize)?r:_}),ownerState:S,ref:t},b,{classes:E}))})),Rf=Of;function If(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}function Lf(e){return jh("MuiToggleButtonGroup",e)}var Df=Uh("MuiToggleButtonGroup",["root","selected","vertical","disabled","grouped","groupedHorizontal","groupedVertical"]),zf=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],Nf=kh("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[fn({},"& .".concat(Df.grouped),t.grouped),fn({},"& .".concat(Df.grouped),t["grouped".concat(ep(n.orientation))]),t.root,"vertical"===n.orientation&&t.vertical,n.fullWidth&&t.fullWidth]}})((function(e){var t=e.ownerState;return p({display:"inline-flex",borderRadius:e.theme.shape.borderRadius},"vertical"===t.orientation&&{flexDirection:"column"},t.fullWidth&&{width:"100%"},fn({},"& .".concat(Df.grouped),p({},"horizontal"===t.orientation?fn({"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0}},"&.".concat(Df.selected," + .").concat(Df.grouped,".").concat(Df.selected),{borderLeft:0,marginLeft:0}):fn({"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}},"&.".concat(Df.selected," + .").concat(Df.grouped,".").concat(Df.selected),{borderTop:0,marginTop:0}))))})),Bf=i.forwardRef((function(e,t){var n=Dh({props:e,name:"MuiToggleButtonGroup"}),r=n.children,o=n.className,a=n.color,s=void 0===a?"standard":a,l=n.disabled,u=void 0!==l&&l,c=n.exclusive,h=void 0!==c&&c,f=n.fullWidth,d=void 0!==f&&f,m=n.onChange,v=n.orientation,g=void 0===v?"horizontal":v,y=n.size,_=void 0===y?"medium":y,b=n.value,x=an(n,zf),w=p({},n,{disabled:u,fullWidth:d,orientation:g,size:_}),S=function(e){var t=e.classes,n=e.orientation,r=e.fullWidth,i=e.disabled;return Nl({root:["root","vertical"===n&&"vertical",r&&"fullWidth"],grouped:["grouped","grouped".concat(ep(n)),i&&"disabled"]},Lf,t)}(w),E=function(e,t){if(m){var n,r=b&&b.indexOf(t);b&&r>=0?(n=b.slice()).splice(r,1):n=b?b.concat(t):[t],m(e,n)}},M=function(e,t){m&&m(e,b===t?null:t)};return(0,rn.jsx)(Nf,p({role:"group",className:Ca(S.root,o),ref:t,ownerState:w},x,{children:i.Children.map(r,(function(e){return i.isValidElement(e)?i.cloneElement(e,{className:Ca(S.grouped,e.props.className),onChange:h?M:E,selected:void 0===e.props.selected?If(e.props.value,b):e.props.selected,size:e.props.size||_,fullWidth:d,color:e.props.color||s,disabled:e.props.disabled||u}):null}))}))})),Ff=Bf;function jf(e){return jh("MuiToggleButton",e)}var Uf=Uh("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge"]),Vf=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],Hf=kh(lf,{name:"MuiToggleButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["size".concat(ep(n.size))]]}})((function(e){var t,n=e.theme,r=e.ownerState,i="standard"===r.color?n.palette.text.primary:n.palette[r.color].main;return p({},n.typography.button,{borderRadius:n.shape.borderRadius,padding:11,border:"1px solid ".concat(n.palette.divider),color:n.palette.action.active},r.fullWidth&&{width:"100%"},(fn(t={},"&.".concat(Uf.disabled),{color:n.palette.action.disabled,border:"1px solid ".concat(n.palette.action.disabledBackground)}),fn(t,"&:hover",{textDecoration:"none",backgroundColor:Gc(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}),fn(t,"&.".concat(Uf.selected),{color:i,backgroundColor:Gc(i,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:Gc(i,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:Gc(i,n.palette.action.selectedOpacity)}}}),t),"small"===r.size&&{padding:7,fontSize:n.typography.pxToRem(13)},"large"===r.size&&{padding:15,fontSize:n.typography.pxToRem(15)})})),Wf=i.forwardRef((function(e,t){var n=Dh({props:e,name:"MuiToggleButton"}),r=n.children,i=n.className,o=n.color,a=void 0===o?"standard":o,s=n.disabled,l=void 0!==s&&s,u=n.disableFocusRipple,c=void 0!==u&&u,h=n.fullWidth,f=void 0!==h&&h,d=n.onChange,m=n.onClick,v=n.selected,g=n.size,y=void 0===g?"medium":g,_=n.value,b=an(n,Vf),x=p({},n,{color:a,disabled:l,disableFocusRipple:c,fullWidth:f,size:y}),w=function(e){var t=e.classes,n=e.fullWidth,r=e.selected,i=e.disabled,o=e.size,a=e.color;return Nl({root:["root",r&&"selected",i&&"disabled",n&&"fullWidth","size".concat(ep(o)),a]},jf,t)}(x);return(0,rn.jsx)(Hf,p({className:Ca(w.root,i),disabled:l,focusRipple:!c,ref:t,onClick:function(e){m&&(m(e,_),e.defaultPrevented)||d&&d(e,_)},onChange:d,value:_,ownerState:x,"aria-pressed":v},b,{children:r}))})),Gf=Wf,qf=ka((function(e){return{box:{float:"right",marginBottom:"5px"},grid:{display:"flex"},toggle_button_group:{"& .MuiToggleButtonGroup-grouped":{marginRight:"1rem",borderRadius:"4px !important"}},toggle_button:{"&.MuiToggleButton-root":{fontFamily:"Rajdhani, sans-serif",fontSize:"1.2rem",backgroundColor:"#0c1024",color:"#fff",height:"4rem",padding:"0.5rem",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a","&.Mui-selected":{backgroundColor:"#274f8a",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",color:"#fff","&:hover":{backgroundColor:"#274f8a",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",color:"#fff"}}}},text:{display:"flex",verticalAlign:"middle",alignItems:"center",fontSize:"20px",color:"#fff"},stopwatch_text:{display:"flex",verticalAlign:"middle",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",color:"#fff"},mode_text:{display:"flex",verticalAlign:"middle",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"1.8rem"},side:{display:"flex",verticalAlign:"middle",justifyContent:"center",alignItems:"center"},vel_default:{color:"#fff",fontSize:"2rem"},gear_default:{color:"#fff",fontSize:"2rem"},temp_text:{marginTop:"0.5rem"},empty:{paddingTop:"10em"}}}));function Yf(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function Xf(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Yf(o,r,i,a,s,"next",e)}function s(e){Yf(o,r,i,a,s,"throw",e)}a(void 0)}))}}var Zf=n(7757),Kf=n.n(Zf),Jf=n(2426),Qf=n.n(Jf),$f=ka((function(e){return{time:{color:"#fff",fontSize:"20px"}}})),ed="bb3de0e0ab8e5cf7b04cf794a64f2118",td="https://api.openweathermap.org/data/2.5/";function nd(){var e=$f(),t=h((0,i.useState)([]),2),n=t[0],r=t[1],o=h((0,i.useState)([]),2),a=o[0],s=o[1],l=h((0,i.useState)([]),2),u=l[0],c=l[1],p=null,f=h((0,i.useState)(Qf()()),2),d=f[0],m=f[1];return(0,i.useEffect)((function(){return p=setInterval((function(){m(Qf()())}),1e3),function(){clearInterval(p)}}),[]),(0,i.useEffect)((function(){var e=function(){var e=Xf(Kf().mark((function e(){return Kf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return navigator.geolocation.getCurrentPosition((function(e){r(e.coords.latitude),s(e.coords.longitude)})),e.next=3,fetch("".concat(td,"/weather/?lat=").concat(n,"&lon=").concat(a,"&units=metric&APPID=").concat(ed)).then((function(e){return e.json()})).then((function(e){c(e),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n,a]),(0,rn.jsx)("div",{className:e.time,children:"undefined"!=typeof u.main?(0,rn.jsxs)("div",{children:[d.format("YYYY.MM.DD HH:mm:ss ddd")," ",u.name," ",u.main.temp,"\xb0C ",u.weather[0].main]}):(0,rn.jsx)("div",{})})}function rd(e){return(0,rn.jsxs)("div",{children:[(0,rn.jsxs)("span",{children:[("0"+Math.floor(e.time/6e4%60)).slice(-2),":"]}),(0,rn.jsxs)("span",{children:[("0"+Math.floor(e.time/1e3%60)).slice(-2),"."]}),(0,rn.jsx)("span",{children:("0"+e.time/10%100).slice(-2)})]})}var id=function(e){var t=e.addSub,n=qf(),r=h((0,i.useState)(!1),2),o=r[0],a=r[1],s=h((0,i.useState)(0),2),l=s[0],u=s[1],c=h((0,i.useState)(!1),2),p=c[0],f=c[1];(0,i.useEffect)((function(){var e=null;return o&&p?e=setInterval((function(){u((function(e){return e+10}))}),10):clearInterval(e),function(){clearInterval(e)}}),[p]);return(0,rn.jsxs)(Jh,{container:!0,spacing:2,children:[(0,rn.jsx)(Jh,{item:!0,xs:3,className:n.text,children:(0,rn.jsx)(nd,{})}),(0,rn.jsx)(Jh,{item:!0,xs:5}),(0,rn.jsx)(Jh,{item:!0,xs:1,className:n.stopwatch_text,children:(0,rn.jsx)(rd,{time:l})}),(0,rn.jsx)(Jh,{item:!0,xs:1,className:n.text,children:(0,rn.jsx)(fp,{className:n.text,control:(0,rn.jsx)(Rf,{style:{color:"#fff"},onChange:function(e){a(!0)}}),label:"Logging"})}),(0,rn.jsx)(Jh,{item:!0,xs:2,className:n.grid,children:(0,rn.jsxs)(Ff,{className:n.toggle_button_group,value:p,exclusive:!0,onChange:function(e,n){var r;null===n?r=p:n?(r=n,u(0),t(!0)):n||(r=n,t(!1)),f(r)},fullWidth:!0,children:[(0,rn.jsx)(Gf,{className:n.toggle_button,value:!0,children:"Subscribe"}),(0,rn.jsx)(Gf,{className:n.toggle_button,value:!1,children:"Unsubscribe"})]})})]})},od=n(2682),ad=n.n(od),sd=ka((function(e){return{gear_text:{verticalAlign:"middle",justifyContent:"center",alignItems:"center",padding:"1rem 1.75rem 1rem 1.75rem",marginBottom:"2rem",borderRadius:"5rem",color:"#fff",fontSize:"2.5rem"},selected_gear_text:{padding:"1rem 1.75rem 1rem 1.75rem",marginBottom:"2rem",borderRadius:"4px",verticalAlign:"middle",justifyContent:"center",alignItems:"center",color:"#fffff3",fontSize:"2.5rem",backgroundColor:"#6569d7"}}}));function ld(e){var t=sd();return(0,rn.jsx)("div",{children:function(){switch(e.gear){case 0:return(0,rn.jsxs)("div",{children:[" ",(0,rn.jsx)(ps,{className:t.selected_gear_text,children:"P"}),(0,rn.jsx)(ps,{className:t.gear_text,children:"R"}),(0,rn.jsx)(ps,{className:t.gear_text,children:"N"}),(0,rn.jsx)(ps,{className:t.gear_text,children:"D"})," "]});case 1:return(0,rn.jsxs)("div",{children:[" ",(0,rn.jsx)(ps,{className:t.gear_text,children:"P"}),(0,rn.jsx)(ps,{className:t.selected_gear_text,children:"R"}),(0,rn.jsx)(ps,{className:t.gear_text,children:"N"}),(0,rn.jsx)(ps,{className:t.gear_text,children:"D"})," "]});case 2:return(0,rn.jsxs)("div",{children:[" ",(0,rn.jsx)(ps,{className:t.gear_text,children:"P"}),(0,rn.jsx)(ps,{className:t.gear_text,children:"R"}),(0,rn.jsx)(ps,{className:t.selected_gear_text,children:"N"}),(0,rn.jsx)(ps,{className:t.gear_text,children:"D"})," "]});case 3:return(0,rn.jsxs)("div",{children:[" ",(0,rn.jsx)(ps,{className:t.gear_text,children:"P"}),(0,rn.jsx)(ps,{className:t.gear_text,children:"R"}),(0,rn.jsx)(ps,{className:t.gear_text,children:"N"}),(0,rn.jsx)(ps,{className:t.selected_gear_text,children:"D"})," "]});default:return(0,rn.jsxs)("div",{children:[" ",(0,rn.jsx)(ps,{className:t.gear_text,children:"P"}),(0,rn.jsx)(ps,{className:t.gear_text,children:"R"}),(0,rn.jsx)(ps,{className:t.gear_text,children:"N"}),(0,rn.jsx)(ps,{className:t.gear_text,children:"D"})," "]})}}()})}ka((function(e){return{lights:{paddingRight:"15px"},left_on:{paddingRight:"15px",color:"#85dcf5"},right_on:{color:"#85dcf5"}}}));ka((function(e){return{battery:{paddingTop:"1rem",fontSize:"5em"},battery_text:{textAlign:"center",marginTop:"-0.2rem",fontSize:"0.8em"}}}));var ud=new(ad().Ros)({url:"ws://localhost:9090"}),cd=new(ad().Topic)({ros:ud,name:"/can_vel",messageType:"std_msgs/Int8"}),hd=new(ad().Topic)({ros:ud,name:"/can_gear",messageType:"std_msgs/Int8"}),pd=function(e){var t=qf(),n=h((0,i.useState)([]),2),r=n[0],o=n[1],a=h((0,i.useState)([]),2),s=a[0],l=a[1],u=h((0,i.useState)(!1),2),c=u[0],p=u[1],f=t.vel_default,d=t.gear_default;return!c&&e.sub&&(p(!0),cd.subscribe((function(e){o(e.data)})),hd.subscribe((function(e){l(e.data)}))),c&&!e.sub&&(p(!1),cd.unsubscribe(),hd.unsubscribe()),(0,rn.jsxs)(Ba,{item:!0,xs:!0,container:!0,direction:"column",className:t.side,children:[(0,rn.jsxs)(Ba,{item:!0,xs:!0,className:f,children:[r," km/h"]}),(0,rn.jsx)(ps,{sx:{mb:"2rem"}}),(0,rn.jsx)(Ba,{item:!0,xs:!0,className:d,children:(0,rn.jsx)(ld,{gear:s})})]})};function fd(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var dd=i.createContext();var md=dd;function vd(e){if("string"!==typeof e)throw new Error(mn(7));return e.charAt(0).toUpperCase()+e.slice(1)}function gd(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function yd(e,t){return i.useMemo((function(){return null==e&&null==t?null:function(n){gd(e,n),gd(t,n)}}),[e,t])}function _d(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=this,s=function(){e.apply(a,i)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}function bd(e,t){return parseInt(e[t],10)||0}var xd="undefined"!==typeof window?i.useLayoutEffect:i.useEffect,wd={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},Sd=i.forwardRef((function(e,t){var n=e.onChange,r=e.rows,o=e.rowsMax,a=e.rowsMin,s=e.maxRows,l=e.minRows,u=void 0===l?1:l,c=e.style,h=e.value,f=sn(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),d=s||o,m=r||a||u,v=i.useRef(null!=h).current,g=i.useRef(null),y=yd(t,g),_=i.useRef(null),b=i.useRef(0),x=i.useState({}),w=x[0],S=x[1],E=i.useCallback((function(){var t=g.current,n=window.getComputedStyle(t),r=_.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],o=bd(n,"padding-bottom")+bd(n,"padding-top"),a=bd(n,"border-bottom-width")+bd(n,"border-top-width"),s=r.scrollHeight-o;r.value="x";var l=r.scrollHeight-o,u=s;m&&(u=Math.max(Number(m)*l,u)),d&&(u=Math.min(Number(d)*l,u));var c=(u=Math.max(u,l))+("border-box"===i?o+a:0),h=Math.abs(u-s)<=1;S((function(e){return b.current<20&&(c>0&&Math.abs((e.outerHeightStyle||0)-c)>1||e.overflow!==h)?(b.current+=1,{overflow:h,outerHeightStyle:c}):e}))}),[d,m,e.placeholder]);i.useEffect((function(){var e=_d((function(){b.current=0,E()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[E]),xd((function(){E()})),i.useEffect((function(){b.current=0}),[h]);return i.createElement(i.Fragment,null,i.createElement("textarea",p({value:h,onChange:function(e){b.current=0,v||E(),n&&n(e)},ref:y,rows:m,style:p({height:w.outerHeightStyle,overflow:w.overflow?"hidden":null},c)},f)),i.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:_,tabIndex:-1,style:p({},wd,c)}))})),Ed=Sd;function Md(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function kd(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Md(e.value)&&""!==e.value||t&&Md(e.defaultValue)&&""!==e.defaultValue)}var Td="undefined"===typeof window?i.useEffect:i.useLayoutEffect,Ad=i.forwardRef((function(e,t){var n=e["aria-describedby"],r=e.autoComplete,o=e.autoFocus,a=e.classes,s=e.className,l=(e.color,e.defaultValue),u=e.disabled,c=e.endAdornment,h=(e.error,e.fullWidth),f=void 0!==h&&h,d=e.id,m=e.inputComponent,v=void 0===m?"input":m,g=e.inputProps,y=void 0===g?{}:g,_=e.inputRef,b=(e.margin,e.multiline),x=void 0!==b&&b,w=e.name,S=e.onBlur,E=e.onChange,M=e.onClick,k=e.onFocus,T=e.onKeyDown,A=e.onKeyUp,C=e.placeholder,P=e.readOnly,O=e.renderSuffix,R=e.rows,I=e.rowsMax,L=e.rowsMin,D=e.maxRows,z=e.minRows,N=e.startAdornment,B=e.type,F=void 0===B?"text":B,j=e.value,U=sn(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),V=null!=y.value?y.value:j,H=i.useRef(null!=V).current,W=i.useRef(),G=i.useCallback((function(e){0}),[]),q=yd(y.ref,G),Y=yd(_,q),X=yd(W,Y),Z=i.useState(!1),K=Z[0],J=Z[1],Q=i.useContext(dd);var $=fd({props:e,muiFormControl:Q,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});$.focused=Q?Q.focused:K,i.useEffect((function(){!Q&&u&&K&&(J(!1),S&&S())}),[Q,u,K,S]);var ee=Q&&Q.onFilled,te=Q&&Q.onEmpty,ne=i.useCallback((function(e){kd(e)?ee&&ee():te&&te()}),[ee,te]);Td((function(){H&&ne({value:V})}),[V,ne,H]);i.useEffect((function(){ne(W.current)}),[]);var re=v,ie=p({},y,{ref:X});"string"!==typeof re?ie=p({inputRef:X,type:F},ie,{ref:null}):x?!R||D||z||I||L?(ie=p({minRows:R||z,rowsMax:I,maxRows:D},ie),re=Ed):re="textarea":ie=p({type:F},ie);return i.useEffect((function(){Q&&Q.setAdornedStart(Boolean(N))}),[Q,N]),i.createElement("div",p({className:Ca(a.root,a["color".concat(vd($.color||"primary"))],s,$.disabled&&a.disabled,$.error&&a.error,f&&a.fullWidth,$.focused&&a.focused,Q&&a.formControl,x&&a.multiline,N&&a.adornedStart,c&&a.adornedEnd,"dense"===$.margin&&a.marginDense),onClick:function(e){W.current&&e.currentTarget===e.target&&W.current.focus(),M&&M(e)},ref:t},U),N,i.createElement(md.Provider,{value:null},i.createElement(re,p({"aria-invalid":$.error,"aria-describedby":n,autoComplete:r,autoFocus:o,defaultValue:l,disabled:$.disabled,id:d,onAnimationStart:function(e){ne("mui-auto-fill-cancel"===e.animationName?W.current:{value:"x"})},name:w,placeholder:C,readOnly:P,required:$.required,rows:R,value:V,onKeyDown:T,onKeyUp:A},ie,{className:Ca(a.input,y.className,$.disabled&&a.disabled,x&&a.inputMultiline,$.hiddenLabel&&a.inputHiddenLabel,N&&a.inputAdornedStart,c&&a.inputAdornedEnd,"search"===F&&a.inputTypeSearch,"dense"===$.margin&&a.inputMarginDense),onBlur:function(e){S&&S(e),y.onBlur&&y.onBlur(e),Q&&Q.onBlur?Q.onBlur(e):J(!1)},onChange:function(e){if(!H){var t=e.target||W.current;if(null==t)throw new Error(mn(1));ne({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];y.onChange&&y.onChange.apply(y,[e].concat(r)),E&&E.apply(void 0,[e].concat(r))},onFocus:function(e){$.disabled?e.stopPropagation():(k&&k(e),y.onFocus&&y.onFocus(e),Q&&Q.onFocus?Q.onFocus(e):J(!0))}}))),c,O?O(p({},$,{startAdornment:N})):null)})),Cd=Ra((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:p({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(Ad),Pd=i.forwardRef((function(e,t){var n=e.disableUnderline,r=e.classes,o=e.fullWidth,a=void 0!==o&&o,s=e.inputComponent,l=void 0===s?"input":s,u=e.multiline,c=void 0!==u&&u,h=e.type,f=void 0===h?"text":h,d=sn(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return i.createElement(Cd,p({classes:p({},r,{root:Ca(r.root,!n&&r.underline),underline:null}),fullWidth:a,inputComponent:l,multiline:c,ref:t,type:f},d))}));Pd.muiName="Input";var Od=Ra((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(Pd),Rd=i.forwardRef((function(e,t){var n=e.disableUnderline,r=e.classes,o=e.fullWidth,a=void 0!==o&&o,s=e.inputComponent,l=void 0===s?"input":s,u=e.multiline,c=void 0!==u&&u,h=e.type,f=void 0===h?"text":h,d=sn(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return i.createElement(Cd,p({classes:p({},r,{root:Ca(r.root,!n&&r.underline),underline:null}),fullWidth:a,inputComponent:l,multiline:c,ref:t,type:f},d))}));Rd.muiName="Input";var Id=Ra((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(Rd);function Ld(){return te()||Ma}var Dd=i.forwardRef((function(e,t){e.children;var n=e.classes,r=e.className,o=e.label,a=e.labelWidth,s=e.notched,l=e.style,u=sn(e,["children","classes","className","label","labelWidth","notched","style"]),c="rtl"===Ld().direction?"right":"left";if(void 0!==o)return i.createElement("fieldset",p({"aria-hidden":!0,className:Ca(n.root,r),ref:t,style:l},u),i.createElement("legend",{className:Ca(n.legendLabelled,s&&n.legendNotched)},o?i.createElement("span",null,o):i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var h=a>0?.75*a+8:.01;return i.createElement("fieldset",p({"aria-hidden":!0,style:p(fn({},"padding".concat(vd(c)),8),l),className:Ca(n.root,r),ref:t},u),i.createElement("legend",{className:n.legend,style:{width:s?h:.01}},i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),zd=Ra((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(Dd),Nd=i.forwardRef((function(e,t){var n=e.classes,r=e.fullWidth,o=void 0!==r&&r,a=e.inputComponent,s=void 0===a?"input":a,l=e.label,u=e.labelWidth,c=void 0===u?0:u,h=e.multiline,f=void 0!==h&&h,d=e.notched,m=e.type,v=void 0===m?"text":m,g=sn(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return i.createElement(Cd,p({renderSuffix:function(e){return i.createElement(zd,{className:n.notchedOutline,label:l,labelWidth:c,notched:"undefined"!==typeof d?d:Boolean(e.startAdornment||e.filled||e.focused)})},classes:p({},n,{root:Ca(n.root,n.underline),notchedOutline:null}),fullWidth:o,inputComponent:s,multiline:f,ref:t,type:v},g))}));Nd.muiName="Input";var Bd=Ra((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(Nd);function Fd(){return i.useContext(md)}var jd=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=(e.color,e.component),s=void 0===a?"label":a,l=(e.disabled,e.error,e.filled,e.focused,e.required,sn(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),u=fd({props:e,muiFormControl:Fd(),states:["color","required","focused","disabled","error","filled"]});return i.createElement(s,p({className:Ca(r.root,r["color".concat(vd(u.color||"primary"))],o,u.disabled&&r.disabled,u.error&&r.error,u.filled&&r.filled,u.focused&&r.focused,u.required&&r.required),ref:t},l),n,u.required&&i.createElement("span",{"aria-hidden":!0,className:Ca(r.asterisk,u.error&&r.error)},"\u2009","*"))})),Ud=Ra((function(e){return{root:p({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(jd),Vd=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.disableAnimation,a=void 0!==o&&o,s=(e.margin,e.shrink),l=(e.variant,sn(e,["classes","className","disableAnimation","margin","shrink","variant"])),u=Fd(),c=s;"undefined"===typeof c&&u&&(c=u.filled||u.focused||u.adornedStart);var h=fd({props:e,muiFormControl:u,states:["margin","variant"]});return i.createElement(Ud,p({"data-shrink":c,className:Ca(n.root,r,u&&n.formControl,!a&&n.animated,c&&n.shrink,"dense"===h.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[h.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:t},l))})),Hd=Ra((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(Vd);function Wd(e,t){return i.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}var Gd=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.color,s=void 0===a?"primary":a,l=e.component,u=void 0===l?"div":l,c=e.disabled,h=void 0!==c&&c,f=e.error,d=void 0!==f&&f,m=e.fullWidth,v=void 0!==m&&m,g=e.focused,y=e.hiddenLabel,_=void 0!==y&&y,b=e.margin,x=void 0===b?"none":b,w=e.required,S=void 0!==w&&w,E=e.size,M=e.variant,k=void 0===M?"standard":M,T=sn(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),A=i.useState((function(){var e=!1;return n&&i.Children.forEach(n,(function(t){if(Wd(t,["Input","Select"])){var n=Wd(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),C=A[0],P=A[1],O=i.useState((function(){var e=!1;return n&&i.Children.forEach(n,(function(t){Wd(t,["Input","Select"])&&kd(t.props,!0)&&(e=!0)})),e})),R=O[0],I=O[1],L=i.useState(!1),D=L[0],z=L[1],N=void 0!==g?g:D;h&&N&&z(!1);var B=i.useCallback((function(){I(!0)}),[]),F={adornedStart:C,setAdornedStart:P,color:s,disabled:h,error:d,filled:R,focused:N,fullWidth:v,hiddenLabel:_,margin:("small"===E?"dense":void 0)||x,onBlur:function(){z(!1)},onEmpty:i.useCallback((function(){I(!1)}),[]),onFilled:B,onFocus:function(){z(!0)},registerEffect:undefined,required:S,variant:k};return i.createElement(md.Provider,{value:F},i.createElement(u,p({className:Ca(r.root,o,"none"!==x&&r["margin".concat(vd(x))],v&&r.fullWidth),ref:t},T),n))})),qd=Ra({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(Gd),Yd=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.component,s=void 0===a?"p":a,l=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,sn(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),u=fd({props:e,muiFormControl:Fd(),states:["variant","margin","disabled","error","filled","focused","required"]});return i.createElement(s,p({className:Ca(r.root,("filled"===u.variant||"outlined"===u.variant)&&r.contained,o,u.disabled&&r.disabled,u.error&&r.error,u.filled&&r.filled,u.focused&&r.focused,u.required&&r.required,"dense"===u.margin&&r.marginDense),ref:t},l)," "===n?i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)})),Xd=Ra((function(e){return{root:p({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(Yd);function Zd(e){return e&&e.ownerDocument||document}function Kd(e){return Zd(e).defaultView||window}function Jd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var Qd="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;var $d=i.forwardRef((function(e,t){var n=e.children,r=e.container,o=e.disablePortal,s=void 0!==o&&o,l=e.onRendered,u=i.useState(null),c=u[0],h=u[1],p=yd(i.isValidElement(n)?n.ref:null,t);return Qd((function(){s||h(function(e){return e="function"===typeof e?e():e,a.findDOMNode(e)}(r)||document.body)}),[r,s]),Qd((function(){if(c&&!s)return gd(t,c),function(){gd(t,null)}}),[t,c,s]),Qd((function(){l&&(c||s)&&l()}),[l,c,s]),s?i.isValidElement(n)?i.cloneElement(n,{ref:p}):n:c?a.createPortal(n,c):c})),em="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;function tm(e){var t=i.useRef(e);return em((function(){t.current=e})),i.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}function nm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rm(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function im(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function om(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function am(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[t,n].concat(co(r)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===o.indexOf(e)&&-1===a.indexOf(e.tagName)&&im(e,i)}))}function sm(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function lm(e,t){var n,r=[],i=[],o=e.container;if(!t.disableScrollLock){if(function(e){var t=Zd(e);return t.body===e?Kd(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(o)){var a=rm();r.push({value:o.style.paddingRight,key:"padding-right",el:o}),o.style["padding-right"]="".concat(om(o)+a,"px"),n=Zd(o).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(om(e)+a,"px")}))}var s=o.parentElement,l="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:o;r.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var um=function(){function e(){nm(this,e),this.modals=[],this.containers=[]}return mr(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&im(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);am(t,e.mountNode,e.modalRef,r,!0);var i=sm(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=sm(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=lm(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=sm(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&im(e.modalRef,!0),am(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&im(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var cm=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,o=e.disableEnforceFocus,s=void 0!==o&&o,l=e.disableRestoreFocus,u=void 0!==l&&l,c=e.getDoc,h=e.isEnabled,p=e.open,f=i.useRef(),d=i.useRef(null),m=i.useRef(null),v=i.useRef(),g=i.useRef(null),y=i.useCallback((function(e){g.current=a.findDOMNode(e)}),[]),_=yd(t.ref,y),b=i.useRef();return i.useEffect((function(){b.current=p}),[p]),!b.current&&p&&"undefined"!==typeof window&&(v.current=c().activeElement),i.useEffect((function(){if(p){var e=Zd(g.current);r||!g.current||g.current.contains(e.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex",-1),g.current.focus());var t=function(){null!==g.current&&(e.hasFocus()&&!s&&h()&&!f.current?g.current&&!g.current.contains(e.activeElement)&&g.current.focus():f.current=!1)},n=function(t){!s&&h()&&9===t.keyCode&&e.activeElement===g.current&&(f.current=!0,t.shiftKey?m.current.focus():d.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var i=setInterval((function(){t()}),50);return function(){clearInterval(i),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),u||(v.current&&v.current.focus&&v.current.focus(),v.current=null)}}}),[r,s,u,h,p]),i.createElement(i.Fragment,null,i.createElement("div",{tabIndex:0,ref:d,"data-test":"sentinelStart"}),i.cloneElement(t,{ref:_}),i.createElement("div",{tabIndex:0,ref:m,"data-test":"sentinelEnd"}))},hm={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},pm=i.forwardRef((function(e,t){var n=e.invisible,r=void 0!==n&&n,o=e.open,a=sn(e,["invisible","open"]);return o?i.createElement("div",p({"aria-hidden":!0,ref:t},a,{style:p({},hm.root,r?hm.invisible:{},a.style)})):null}));var fm=new um,dm=i.forwardRef((function(e,t){var n=te(),r=Pa({name:"MuiModal",props:p({},e),theme:n}),o=r.BackdropComponent,s=void 0===o?pm:o,l=r.BackdropProps,u=r.children,c=r.closeAfterTransition,h=void 0!==c&&c,f=r.container,d=r.disableAutoFocus,m=void 0!==d&&d,v=r.disableBackdropClick,g=void 0!==v&&v,y=r.disableEnforceFocus,_=void 0!==y&&y,b=r.disableEscapeKeyDown,x=void 0!==b&&b,w=r.disablePortal,S=void 0!==w&&w,E=r.disableRestoreFocus,M=void 0!==E&&E,k=r.disableScrollLock,T=void 0!==k&&k,A=r.hideBackdrop,C=void 0!==A&&A,P=r.keepMounted,O=void 0!==P&&P,R=r.manager,I=void 0===R?fm:R,L=r.onBackdropClick,D=r.onClose,z=r.onEscapeKeyDown,N=r.onRendered,B=r.open,F=sn(r,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),j=i.useState(!0),U=j[0],V=j[1],H=i.useRef({}),W=i.useRef(null),G=i.useRef(null),q=yd(G,t),Y=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(r),X=function(){return Zd(W.current)},Z=function(){return H.current.modalRef=G.current,H.current.mountNode=W.current,H.current},K=function(){I.mount(Z(),{disableScrollLock:T}),G.current.scrollTop=0},J=tm((function(){var e=function(e){return e="function"===typeof e?e():e,a.findDOMNode(e)}(f)||X().body;I.add(Z(),e),G.current&&K()})),Q=i.useCallback((function(){return I.isTopModal(Z())}),[I]),$=tm((function(e){W.current=e,e&&(N&&N(),B&&Q()?K():im(G.current,!0))})),ee=i.useCallback((function(){I.remove(Z())}),[I]);if(i.useEffect((function(){return function(){ee()}}),[ee]),i.useEffect((function(){B?J():Y&&h||ee()}),[B,ee,Y,h,J]),!O&&!B&&(!Y||U))return null;var ne=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:sr}),re={};return void 0===u.props.tabIndex&&(re.tabIndex=u.props.tabIndex||"-1"),Y&&(re.onEnter=Jd((function(){V(!1)}),u.props.onEnter),re.onExited=Jd((function(){V(!0),h&&ee()}),u.props.onExited)),i.createElement($d,{ref:$,container:f,disablePortal:S},i.createElement("div",p({ref:q,onKeyDown:function(e){"Escape"===e.key&&Q()&&(z&&z(e),x||(e.stopPropagation(),D&&D(e,"escapeKeyDown")))},role:"presentation"},F,{style:p({},ne.root,!B&&U?ne.hidden:{},F.style)}),C?null:i.createElement(s,p({open:B,onClick:function(e){e.target===e.currentTarget&&(L&&L(e),!g&&D&&D(e,"backdropClick"))}},l)),i.createElement(cm,{disableEnforceFocus:_,disableAutoFocus:m,disableRestoreFocus:M,getDoc:X,isEnabled:Q,open:B},i.cloneElement(u,re))))})),mm=dm,vm=!1,gm="unmounted",ym="exited",_m="entering",bm="entered",xm="exiting",wm=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=ym,r.appearStatus=_m):i=bm:i=t.unmountOnExit||t.mountOnEnter?gm:ym,r.state={status:i},r.nextCallback=null,r}gr(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===gm?{status:ym}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==_m&&n!==bm&&(t=_m):n!==_m&&n!==bm||(t=xm)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===_m?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===ym&&this.setState({status:gm})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[a.findDOMNode(this),r],o=i[0],s=i[1],l=this.getTimeouts(),u=r?l.appear:l.enter;!e&&!n||vm?this.safeSetState({status:bm},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:_m},(function(){t.props.onEntering(o,s),t.onTransitionEnd(u,(function(){t.safeSetState({status:bm},(function(){t.props.onEntered(o,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!vm?(this.props.onExit(r),this.safeSetState({status:xm},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:ym},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:ym},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===gm)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,an(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(Ap.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},t}(i.Component);function Sm(){}wm.contextType=Ap,wm.propTypes={},wm.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Sm,onEntering:Sm,onEntered:Sm,onExit:Sm,onExiting:Sm,onExited:Sm},wm.UNMOUNTED=gm,wm.EXITED=ym,wm.ENTERING=_m,wm.ENTERED=bm,wm.EXITING=xm;var Em=wm;function Mm(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}function km(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var Tm={entering:{opacity:1,transform:km(1)},entered:{opacity:1,transform:"none"}},Am=i.forwardRef((function(e,t){var n=e.children,r=e.disableStrictModeCompat,o=void 0!==r&&r,a=e.in,s=e.onEnter,l=e.onEntered,u=e.onEntering,c=e.onExit,f=e.onExited,d=e.onExiting,m=e.style,v=e.timeout,g=void 0===v?"auto":v,y=e.TransitionComponent,_=void 0===y?Em:y,b=sn(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),x=i.useRef(),w=i.useRef(),S=Ld(),E=S.unstable_strictMode&&!o,M=i.useRef(null),k=yd(n.ref,t),T=yd(E?M:void 0,k),A=function(e){return function(t,n){if(e){var r=h(E?[M.current,t]:[t,n],2),i=r[0],o=r[1];void 0===o?e(i):e(i,o)}}},C=A(u),P=A((function(e,t){!function(e){e.scrollTop}(e);var n,r=Mm({style:m,timeout:g},{mode:"enter"}),i=r.duration,o=r.delay;"auto"===g?(n=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=n):n=i,e.style.transition=[S.transitions.create("opacity",{duration:n,delay:o}),S.transitions.create("transform",{duration:.666*n,delay:o})].join(","),s&&s(e,t)})),O=A(l),R=A(d),I=A((function(e){var t,n=Mm({style:m,timeout:g},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===g?(t=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=t):t=r,e.style.transition=[S.transitions.create("opacity",{duration:t,delay:i}),S.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=km(.75),c&&c(e)})),L=A(f);return i.useEffect((function(){return function(){clearTimeout(x.current)}}),[]),i.createElement(_,p({appear:!0,in:a,nodeRef:E?M:void 0,onEnter:P,onEntered:O,onEntering:C,onExit:I,onExited:L,onExiting:R,addEndListener:function(e,t){var n=E?e:t;"auto"===g&&(x.current=setTimeout(n,w.current||0))},timeout:"auto"===g?null:g},b),(function(e,t){return i.cloneElement(n,p({style:p({opacity:0,transform:km(.75),visibility:"exited"!==e||a?void 0:"hidden"},Tm[e],m,n.props.style),ref:T},t))}))}));Am.muiSupportAuto=!0;var Cm=Am,Pm=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.component,a=void 0===o?"div":o,s=e.square,l=void 0!==s&&s,u=e.elevation,c=void 0===u?1:u,h=e.variant,f=void 0===h?"elevation":h,d=sn(e,["classes","className","component","square","elevation","variant"]);return i.createElement(a,p({className:Ca(n.root,r,"outlined"===f?n.outlined:n["elevation".concat(c)],!l&&n.rounded),ref:t},d))})),Om=Ra((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),p({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(Pm);function Rm(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Im(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Lm(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function Dm(e){return"function"===typeof e?e():e}var zm=i.forwardRef((function(e,t){var n=e.action,r=e.anchorEl,o=e.anchorOrigin,s=void 0===o?{vertical:"top",horizontal:"left"}:o,l=e.anchorPosition,u=e.anchorReference,c=void 0===u?"anchorEl":u,h=e.children,f=e.classes,d=e.className,m=e.container,v=e.elevation,g=void 0===v?8:v,y=e.getContentAnchorEl,_=e.marginThreshold,b=void 0===_?16:_,x=e.onEnter,w=e.onEntered,S=e.onEntering,E=e.onExit,M=e.onExited,k=e.onExiting,T=e.open,A=e.PaperProps,C=void 0===A?{}:A,P=e.transformOrigin,O=void 0===P?{vertical:"top",horizontal:"left"}:P,R=e.TransitionComponent,I=void 0===R?Cm:R,L=e.transitionDuration,D=void 0===L?"auto":L,z=e.TransitionProps,N=void 0===z?{}:z,B=sn(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),F=i.useRef(),j=i.useCallback((function(e){if("anchorPosition"===c)return l;var t=Dm(r),n=(t&&1===t.nodeType?t:Zd(F.current).body).getBoundingClientRect(),i=0===e?s.vertical:"center";return{top:n.top+Rm(n,i),left:n.left+Im(n,s.horizontal)}}),[r,s.horizontal,s.vertical,l,c]),U=i.useCallback((function(e){var t=0;if(y&&"anchorEl"===c){var n=y(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[s.vertical,c,y]),V=i.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:Rm(e,O.vertical)+t,horizontal:Im(e,O.horizontal)}}),[O.horizontal,O.vertical]),H=i.useCallback((function(e){var t=U(e),n={width:e.offsetWidth,height:e.offsetHeight},i=V(n,t);if("none"===c)return{top:null,left:null,transformOrigin:Lm(i)};var o=j(t),a=o.top-i.vertical,s=o.left-i.horizontal,l=a+n.height,u=s+n.width,h=Kd(Dm(r)),p=h.innerHeight-b,f=h.innerWidth-b;if(a<b){var d=a-b;a-=d,i.vertical+=d}else if(l>p){var m=l-p;a-=m,i.vertical+=m}if(s<b){var v=s-b;s-=v,i.horizontal+=v}else if(u>f){var g=u-f;s-=g,i.horizontal+=g}return{top:"".concat(Math.round(a),"px"),left:"".concat(Math.round(s),"px"),transformOrigin:Lm(i)}}),[r,c,j,U,V,b]),W=i.useCallback((function(){var e=F.current;if(e){var t=H(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[H]),G=i.useCallback((function(e){F.current=a.findDOMNode(e)}),[]);i.useEffect((function(){T&&W()})),i.useImperativeHandle(n,(function(){return T?{updatePosition:function(){W()}}:null}),[T,W]),i.useEffect((function(){if(T){var e=_d((function(){W()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[T,W]);var q=D;"auto"!==D||I.muiSupportAuto||(q=void 0);var Y=m||(r?Zd(Dm(r)).body:void 0);return i.createElement(mm,p({container:Y,open:T,ref:t,BackdropProps:{invisible:!0},className:Ca(f.root,d)},B),i.createElement(I,p({appear:!0,in:T,onEnter:x,onEntered:w,onExit:E,onExited:M,onExiting:k,timeout:q},N,{onEntering:Jd((function(e,t){S&&S(e,t),W()}),N.onEntering)}),i.createElement(Om,p({elevation:g,ref:G},C,{className:Ca(f.paper,C.className)}),h)))})),Nm=Ra({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(zm);var Bm=i.createContext({}),Fm=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.component,s=void 0===a?"ul":a,l=e.dense,u=void 0!==l&&l,c=e.disablePadding,h=void 0!==c&&c,f=e.subheader,d=sn(e,["children","classes","className","component","dense","disablePadding","subheader"]),m=i.useMemo((function(){return{dense:u}}),[u]);return i.createElement(Bm.Provider,{value:m},i.createElement(s,p({className:Ca(r.root,o,u&&r.dense,!h&&r.padding,f&&r.subheader),ref:t},d),f,n))})),jm=Ra({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(Fm);function Um(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Vm(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Hm(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Wm(e,t,n,r,i,o){for(var a=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(a)return;a=!0}var l=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&Hm(s,o)&&!l)return void s.focus();s=i(e,s,n)}}var Gm="undefined"===typeof window?i.useEffect:i.useLayoutEffect,qm=i.forwardRef((function(e,t){var n=e.actions,r=e.autoFocus,o=void 0!==r&&r,s=e.autoFocusItem,l=void 0!==s&&s,u=e.children,c=e.className,h=e.disabledItemsFocusable,f=void 0!==h&&h,d=e.disableListWrap,m=void 0!==d&&d,v=e.onKeyDown,g=e.variant,y=void 0===g?"selectedMenu":g,_=sn(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),b=i.useRef(null),x=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Gm((function(){o&&b.current.focus()}),[o]),i.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!b.current.style.width;if(e.clientHeight<b.current.clientHeight&&n){var r="".concat(rm(),"px");b.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,b.current.style.width="calc(100% + ".concat(r,")")}return b.current}}}),[]);var w=yd(i.useCallback((function(e){b.current=a.findDOMNode(e)}),[]),t),S=-1;i.Children.forEach(u,(function(e,t){i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===y&&e.props.selected||-1===S)&&(S=t))}));var E=i.Children.map(u,(function(e,t){if(t===S){var n={};return l&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===y&&(n.tabIndex=0),i.cloneElement(e,n)}return e}));return i.createElement(jm,p({role:"menu",ref:w,className:c,onKeyDown:function(e){var t=b.current,n=e.key,r=Zd(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Wm(t,r,m,f,Um);else if("ArrowUp"===n)e.preventDefault(),Wm(t,r,m,f,Vm);else if("Home"===n)e.preventDefault(),Wm(t,null,m,f,Um);else if("End"===n)e.preventDefault(),Wm(t,null,m,f,Vm);else if(1===n.length){var i=x.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);var s=r&&!i.repeating&&Hm(r,i);i.previousKeyMatched&&(s||Wm(t,r,!1,f,Um,i))?e.preventDefault():i.previousKeyMatched=!1}v&&v(e)},tabIndex:o?0:-1},_),E)})),Ym=qm,Xm={vertical:"top",horizontal:"right"},Zm={vertical:"top",horizontal:"left"},Km=i.forwardRef((function(e,t){var n=e.autoFocus,r=void 0===n||n,o=e.children,s=e.classes,l=e.disableAutoFocusItem,u=void 0!==l&&l,c=e.MenuListProps,h=void 0===c?{}:c,f=e.onClose,d=e.onEntering,m=e.open,v=e.PaperProps,g=void 0===v?{}:v,y=e.PopoverClasses,_=e.transitionDuration,b=void 0===_?"auto":_,x=e.TransitionProps,w=(x=void 0===x?{}:x).onEntering,S=sn(x,["onEntering"]),E=e.variant,M=void 0===E?"selectedMenu":E,k=sn(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),T=Ld(),A=r&&!u&&m,C=i.useRef(null),P=i.useRef(null),O=-1;i.Children.map(o,(function(e,t){i.isValidElement(e)&&(e.props.disabled||("menu"!==M&&e.props.selected||-1===O)&&(O=t))}));var R=i.Children.map(o,(function(e,t){return t===O?i.cloneElement(e,{ref:function(t){P.current=a.findDOMNode(t),gd(e.ref,t)}}):e}));return i.createElement(Nm,p({getContentAnchorEl:function(){return P.current},classes:y,onClose:f,TransitionProps:p({onEntering:function(e,t){C.current&&C.current.adjustStyleForScrollbar(e,T),d&&d(e,t),w&&w(e,t)}},S),anchorOrigin:"rtl"===T.direction?Xm:Zm,transformOrigin:"rtl"===T.direction?Xm:Zm,PaperProps:p({},g,{classes:p({},g.classes,{root:s.paper})}),open:m,ref:t,transitionDuration:b},k),i.createElement(Ym,p({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),f&&f(e,"tabKeyDown"))},actions:C,autoFocus:r&&(-1===O||u),autoFocusItem:A,variant:M},h,{className:Ca(s.list,h.className)}),R))})),Jm=Ra({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(Km);function Qm(e,t){return"object"===ln(t)&&null!==t?e===t:String(e)===String(t)}var $m=i.forwardRef((function(e,t){var n=e["aria-label"],r=e.autoFocus,o=e.autoWidth,a=e.children,s=e.classes,l=e.className,u=e.defaultValue,c=e.disabled,f=e.displayEmpty,d=e.IconComponent,m=e.inputRef,v=e.labelId,g=e.MenuProps,y=void 0===g?{}:g,_=e.multiple,b=e.name,x=e.onBlur,w=e.onChange,S=e.onClose,E=e.onFocus,M=e.onOpen,k=e.open,T=e.readOnly,A=e.renderValue,C=e.SelectDisplayProps,P=void 0===C?{}:C,O=e.tabIndex,R=(e.type,e.value),I=e.variant,L=void 0===I?"standard":I,D=sn(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),z=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,i.useRef(void 0!==t).current),o=i.useState(n),a=o[0],s=o[1];return[r?t:a,i.useCallback((function(e){r||s(e)}),[])]}({controlled:R,default:u,name:"Select"}),N=h(z,2),B=N[0],F=N[1],j=i.useRef(null),U=i.useState(null),V=U[0],H=U[1],W=i.useRef(null!=k).current,G=i.useState(),q=G[0],Y=G[1],X=i.useState(!1),Z=X[0],K=X[1],J=yd(t,m);i.useImperativeHandle(J,(function(){return{focus:function(){V.focus()},node:j.current,value:B}}),[V,B]),i.useEffect((function(){r&&V&&V.focus()}),[r,V]),i.useEffect((function(){if(V){var e=Zd(V).getElementById(v);if(e){var t=function(){getSelection().isCollapsed&&V.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[v,V]);var Q,$,ee=function(e,t){e?M&&M(t):S&&S(t),W||(Y(o?null:V.clientWidth),K(e))},te=i.Children.toArray(a),ne=function(e){return function(t){var n;if(_||ee(!1,t),_){n=Array.isArray(B)?B.slice():[];var r=B.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),B!==n&&(F(n),w&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:b}}),w(t,e)))}},re=null!==V&&(W?k:Z);delete D["aria-invalid"];var ie=[],oe=!1;(kd({value:B})||f)&&(A?Q=A(B):oe=!0);var ae=te.map((function(e){if(!i.isValidElement(e))return null;var t;if(_){if(!Array.isArray(B))throw new Error(mn(2));t=B.some((function(t){return Qm(t,e.props.value)})),t&&oe&&ie.push(e.props.children)}else(t=Qm(B,e.props.value))&&oe&&($=e.props.children);return t&&!0,i.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:ne(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));oe&&(Q=_?ie.join(", "):$);var se,le=q;!o&&W&&V&&(le=V.clientWidth),se="undefined"!==typeof O?O:c?null:0;var ue=P.id||(b?"mui-component-select-".concat(b):void 0);return i.createElement(i.Fragment,null,i.createElement("div",p({className:Ca(s.root,s.select,s.selectMenu,s[L],l,c&&s.disabled),ref:H,tabIndex:se,role:"button","aria-disabled":c?"true":void 0,"aria-expanded":re?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[v,ue].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!T){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ee(!0,e))}},onMouseDown:c||T?null:function(e){0===e.button&&(e.preventDefault(),V.focus(),ee(!0,e))},onBlur:function(e){!re&&x&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:B,name:b}}),x(e))},onFocus:E},P,{id:ue}),function(e){return null==e||"string"===typeof e&&!e.trim()}(Q)?i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):Q),i.createElement("input",p({value:Array.isArray(B)?B.join(","):B,name:b,ref:j,"aria-hidden":!0,onChange:function(e){var t=te.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=te[t];F(n.props.value),w&&w(e,n)}},tabIndex:-1,className:s.nativeInput,autoFocus:r},D)),i.createElement(d,{className:Ca(s.icon,s["icon".concat(vd(L))],re&&s.iconOpen,c&&s.disabled)}),i.createElement(Jm,p({id:"menu-".concat(b||""),anchorEl:V,open:re,onClose:function(e){ee(!1,e)}},y,{MenuListProps:p({"aria-labelledby":v,role:"listbox",disableListWrap:!0},y.MenuListProps),PaperProps:p({},y.PaperProps,{style:p({minWidth:le},null!=y.PaperProps?y.PaperProps.style:null)})}),ae))})),ev=$m,tv=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.color,s=void 0===a?"inherit":a,l=e.component,u=void 0===l?"svg":l,c=e.fontSize,h=void 0===c?"medium":c,f=e.htmlColor,d=e.titleAccess,m=e.viewBox,v=void 0===m?"0 0 24 24":m,g=sn(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return i.createElement(u,p({className:Ca(r.root,o,"inherit"!==s&&r["color".concat(vd(s))],"default"!==h&&"medium"!==h&&r["fontSize".concat(vd(h))]),focusable:"false",viewBox:v,color:f,"aria-hidden":!d||void 0,role:d?"img":void 0,ref:t},g),n,d?i.createElement("title",null,d):null)}));tv.muiName="SvgIcon";var nv=Ra((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(tv);var rv=function(e,t){var n=function(t,n){return i.createElement(nv,p({ref:n},t),e)};return n.muiName=nv.muiName,i.memo(i.forwardRef(n))}(i.createElement("path",{d:"M7 10l5 5 5-5z"})),iv=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.disabled,a=e.IconComponent,s=e.inputRef,l=e.variant,u=void 0===l?"standard":l,c=sn(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return i.createElement(i.Fragment,null,i.createElement("select",p({className:Ca(n.root,n.select,n[u],r,o&&n.disabled),disabled:o,ref:s||t},c)),e.multiple?null:i.createElement(a,{className:Ca(n.icon,n["icon".concat(vd(u))],o&&n.disabled)}))})),ov=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},av=i.createElement(Od,null),sv=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.IconComponent,a=void 0===o?rv:o,s=e.input,l=void 0===s?av:s,u=e.inputProps,c=(e.variant,sn(e,["children","classes","IconComponent","input","inputProps","variant"])),h=fd({props:e,muiFormControl:Fd(),states:["variant"]});return i.cloneElement(l,p({inputComponent:iv,inputProps:p({children:n,classes:r,IconComponent:a,variant:h.variant,type:void 0},u,l?l.props.inputProps:{}),ref:t},c))}));sv.muiName="Select";Ra(ov,{name:"MuiNativeSelect"})(sv);var lv=ov,uv=i.createElement(Od,null),cv=i.createElement(Id,null),hv=i.forwardRef((function e(t,n){var r=t.autoWidth,o=void 0!==r&&r,a=t.children,s=t.classes,l=t.displayEmpty,u=void 0!==l&&l,c=t.IconComponent,h=void 0===c?rv:c,f=t.id,d=t.input,m=t.inputProps,v=t.label,g=t.labelId,y=t.labelWidth,_=void 0===y?0:y,b=t.MenuProps,x=t.multiple,w=void 0!==x&&x,S=t.native,E=void 0!==S&&S,M=t.onClose,k=t.onOpen,T=t.open,A=t.renderValue,C=t.SelectDisplayProps,P=t.variant,O=void 0===P?"standard":P,R=sn(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),I=E?iv:ev,L=fd({props:t,muiFormControl:Fd(),states:["variant"]}).variant||O,D=d||{standard:uv,outlined:i.createElement(Bd,{label:v,labelWidth:_}),filled:cv}[L];return i.cloneElement(D,p({inputComponent:I,inputProps:p({children:a,IconComponent:h,variant:L,type:void 0,multiple:w},E?{id:f}:{autoWidth:o,displayEmpty:u,labelId:g,MenuProps:b,onClose:M,onOpen:k,open:T,renderValue:A,SelectDisplayProps:p({id:f},C)},m,{classes:m?Pi({baseClasses:s,newClasses:m.classes,Component:e}):s},d?d.props.inputProps:{}),ref:n},R))}));hv.muiName="Select";var pv=Ra(lv,{name:"MuiSelect"})(hv),fv={standard:Od,filled:Id,outlined:Bd},dv=i.forwardRef((function(e,t){var n=e.autoComplete,r=e.autoFocus,o=void 0!==r&&r,a=e.children,s=e.classes,l=e.className,u=e.color,c=void 0===u?"primary":u,h=e.defaultValue,f=e.disabled,d=void 0!==f&&f,m=e.error,v=void 0!==m&&m,g=e.FormHelperTextProps,y=e.fullWidth,_=void 0!==y&&y,b=e.helperText,x=e.hiddenLabel,w=e.id,S=e.InputLabelProps,E=e.inputProps,M=e.InputProps,k=e.inputRef,T=e.label,A=e.multiline,C=void 0!==A&&A,P=e.name,O=e.onBlur,R=e.onChange,I=e.onFocus,L=e.placeholder,D=e.required,z=void 0!==D&&D,N=e.rows,B=e.rowsMax,F=e.maxRows,j=e.minRows,U=e.select,V=void 0!==U&&U,H=e.SelectProps,W=e.type,G=e.value,q=e.variant,Y=void 0===q?"standard":q,X=sn(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]);var Z={};if("outlined"===Y&&(S&&"undefined"!==typeof S.shrink&&(Z.notched=S.shrink),T)){var K,J=null!==(K=null===S||void 0===S?void 0:S.required)&&void 0!==K?K:z;Z.label=i.createElement(i.Fragment,null,T,J&&"\xa0*")}V&&(H&&H.native||(Z.id=void 0),Z["aria-describedby"]=void 0);var Q=b&&w?"".concat(w,"-helper-text"):void 0,$=T&&w?"".concat(w,"-label"):void 0,ee=fv[Y],te=i.createElement(ee,p({"aria-describedby":Q,autoComplete:n,autoFocus:o,defaultValue:h,fullWidth:_,multiline:C,name:P,rows:N,rowsMax:B,maxRows:F,minRows:j,type:W,value:G,id:w,inputRef:k,onBlur:O,onChange:R,onFocus:I,placeholder:L,inputProps:E},Z,M));return i.createElement(qd,p({className:Ca(s.root,l),disabled:d,error:v,fullWidth:_,hiddenLabel:x,ref:t,required:z,color:c,variant:Y},X),T&&i.createElement(Hd,p({htmlFor:w,id:$},S),T),V?i.createElement(pv,p({"aria-describedby":Q,id:w,labelId:$,value:G,input:te},H),a):te,b&&i.createElement(Xd,p({id:Q},g),b))})),mv=Ra({root:{}},{name:"MuiTextField"})(dv),vv=!0,gv=!1,yv=null,_v={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function bv(e){e.metaKey||e.altKey||e.ctrlKey||(vv=!0)}function xv(){vv=!1}function wv(){"hidden"===this.visibilityState&&gv&&(vv=!0)}function Sv(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return vv||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!_v[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function Ev(){gv=!0,window.clearTimeout(yv),yv=window.setTimeout((function(){gv=!1}),100)}function Mv(){var e=i.useCallback((function(e){var t,n=a.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",bv,!0),t.addEventListener("mousedown",xv,!0),t.addEventListener("pointerdown",xv,!0),t.addEventListener("touchstart",xv,!0),t.addEventListener("visibilitychange",wv,!0))}),[]);return{isFocusVisible:Sv,onBlurVisible:Ev,ref:e}}var kv="undefined"===typeof window?i.useEffect:i.useLayoutEffect;var Tv=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,o=e.rippleX,a=e.rippleY,s=e.rippleSize,l=e.in,u=e.onExited,c=void 0===u?function(){}:u,h=e.timeout,p=i.useState(!1),f=p[0],d=p[1],m=Ca(t.ripple,t.rippleVisible,r&&t.ripplePulsate),v={width:s,height:s,top:-s/2+a,left:-s/2+o},g=Ca(t.child,f&&t.childLeaving,r&&t.childPulsate),y=tm(c);return kv((function(){if(!l){d(!0);var e=setTimeout(y,h);return function(){clearTimeout(e)}}}),[y,l,h]),i.createElement("span",{className:m,style:v},i.createElement("span",{className:g}))},Av=i.forwardRef((function(e,t){var n=e.center,r=void 0!==n&&n,o=e.classes,a=e.className,s=sn(e,["center","classes","className"]),l=i.useState([]),u=l[0],c=l[1],h=i.useRef(0),f=i.useRef(null);i.useEffect((function(){f.current&&(f.current(),f.current=null)}),[u]);var d=i.useRef(!1),m=i.useRef(null),v=i.useRef(null),g=i.useRef(null);i.useEffect((function(){return function(){clearTimeout(m.current)}}),[]);var y=i.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,a=e.rippleSize,s=e.cb;c((function(e){return[].concat(co(e),[i.createElement(Tv,{key:h.current,classes:o,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:a})])})),h.current+=1,f.current=s}),[o]),_=i.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=t.pulsate,o=void 0!==i&&i,a=t.center,s=void 0===a?r||t.pulsate:a,l=t.fakeElement,u=void 0!==l&&l;if("mousedown"===e.type&&d.current)d.current=!1;else{"touchstart"===e.type&&(d.current=!0);var c,h,p,f=u?null:g.current,_=f?f.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(_.width/2),h=Math.round(_.height/2);else{var b=e.touches?e.touches[0]:e,x=b.clientX,w=b.clientY;c=Math.round(x-_.left),h=Math.round(w-_.top)}if(s)(p=Math.sqrt((2*Math.pow(_.width,2)+Math.pow(_.height,2))/3))%2===0&&(p+=1);else{var S=2*Math.max(Math.abs((f?f.clientWidth:0)-c),c)+2,E=2*Math.max(Math.abs((f?f.clientHeight:0)-h),h)+2;p=Math.sqrt(Math.pow(S,2)+Math.pow(E,2))}e.touches?null===v.current&&(v.current=function(){y({pulsate:o,rippleX:c,rippleY:h,rippleSize:p,cb:n})},m.current=setTimeout((function(){v.current&&(v.current(),v.current=null)}),80)):y({pulsate:o,rippleX:c,rippleY:h,rippleSize:p,cb:n})}}),[r,y]),b=i.useCallback((function(){_({},{pulsate:!0})}),[_]),x=i.useCallback((function(e,t){if(clearTimeout(m.current),"touchend"===e.type&&v.current)return e.persist(),v.current(),v.current=null,void(m.current=setTimeout((function(){x(e,t)})));v.current=null,c((function(e){return e.length>0?e.slice(1):e})),f.current=t}),[]);return i.useImperativeHandle(t,(function(){return{pulsate:b,start:_,stop:x}}),[b,_,x]),i.createElement("span",p({className:Ca(o.root,a),ref:g},s),i.createElement(Lp,{component:null,exit:!0},u))})),Cv=Ra((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(i.memo(Av)),Pv=i.forwardRef((function(e,t){var n=e.action,r=e.buttonRef,o=e.centerRipple,s=void 0!==o&&o,l=e.children,u=e.classes,c=e.className,h=e.component,f=void 0===h?"button":h,d=e.disabled,m=void 0!==d&&d,v=e.disableRipple,g=void 0!==v&&v,y=e.disableTouchRipple,_=void 0!==y&&y,b=e.focusRipple,x=void 0!==b&&b,w=e.focusVisibleClassName,S=e.onBlur,E=e.onClick,M=e.onFocus,k=e.onFocusVisible,T=e.onKeyDown,A=e.onKeyUp,C=e.onMouseDown,P=e.onMouseLeave,O=e.onMouseUp,R=e.onTouchEnd,I=e.onTouchMove,L=e.onTouchStart,D=e.onDragLeave,z=e.tabIndex,N=void 0===z?0:z,B=e.TouchRippleProps,F=e.type,j=void 0===F?"button":F,U=sn(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),V=i.useRef(null);var H=i.useRef(null),W=i.useState(!1),G=W[0],q=W[1];m&&G&&q(!1);var Y=Mv(),X=Y.isFocusVisible,Z=Y.onBlurVisible,K=Y.ref;function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;return tm((function(r){return t&&t(r),!n&&H.current&&H.current[e](r),!0}))}i.useImperativeHandle(n,(function(){return{focusVisible:function(){q(!0),V.current.focus()}}}),[]),i.useEffect((function(){G&&x&&!g&&H.current.pulsate()}),[g,x,G]);var Q=J("start",C),$=J("stop",D),ee=J("stop",O),te=J("stop",(function(e){G&&e.preventDefault(),P&&P(e)})),ne=J("start",L),re=J("stop",R),ie=J("stop",I),oe=J("stop",(function(e){G&&(Z(e),q(!1)),S&&S(e)}),!1),ae=tm((function(e){V.current||(V.current=e.currentTarget),X(e)&&(q(!0),k&&k(e)),M&&M(e)})),se=function(){var e=a.findDOMNode(V.current);return f&&"button"!==f&&!("A"===e.tagName&&e.href)},le=i.useRef(!1),ue=tm((function(e){x&&!le.current&&G&&H.current&&" "===e.key&&(le.current=!0,e.persist(),H.current.stop(e,(function(){H.current.start(e)}))),e.target===e.currentTarget&&se()&&" "===e.key&&e.preventDefault(),T&&T(e),e.target===e.currentTarget&&se()&&"Enter"===e.key&&!m&&(e.preventDefault(),E&&E(e))})),ce=tm((function(e){x&&" "===e.key&&H.current&&G&&!e.defaultPrevented&&(le.current=!1,e.persist(),H.current.stop(e,(function(){H.current.pulsate(e)}))),A&&A(e),E&&e.target===e.currentTarget&&se()&&" "===e.key&&!e.defaultPrevented&&E(e)})),he=f;"button"===he&&U.href&&(he="a");var pe={};"button"===he?(pe.type=j,pe.disabled=m):("a"===he&&U.href||(pe.role="button"),pe["aria-disabled"]=m);var fe=yd(r,t),de=yd(K,V),me=yd(fe,de),ve=i.useState(!1),ge=ve[0],ye=ve[1];i.useEffect((function(){ye(!0)}),[]);var _e=ge&&!g&&!m;return i.createElement(he,p({className:Ca(u.root,c,G&&[u.focusVisible,w],m&&u.disabled),onBlur:oe,onClick:E,onFocus:ae,onKeyDown:ue,onKeyUp:ce,onMouseDown:Q,onMouseLeave:te,onMouseUp:ee,onDragLeave:$,onTouchEnd:re,onTouchMove:ie,onTouchStart:ne,ref:me,tabIndex:m?-1:N},pe,U),l,_e?i.createElement(Cv,p({ref:H,center:s},B)):null)})),Ov=Ra({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(Pv),Rv=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.color,s=void 0===a?"default":a,l=e.component,u=void 0===l?"button":l,c=e.disabled,h=void 0!==c&&c,f=e.disableElevation,d=void 0!==f&&f,m=e.disableFocusRipple,v=void 0!==m&&m,g=e.endIcon,y=e.focusVisibleClassName,_=e.fullWidth,b=void 0!==_&&_,x=e.size,w=void 0===x?"medium":x,S=e.startIcon,E=e.type,M=void 0===E?"button":E,k=e.variant,T=void 0===k?"text":k,A=sn(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),C=S&&i.createElement("span",{className:Ca(r.startIcon,r["iconSize".concat(vd(w))])},S),P=g&&i.createElement("span",{className:Ca(r.endIcon,r["iconSize".concat(vd(w))])},g);return i.createElement(Ov,p({className:Ca(r.root,r[T],o,"inherit"===s?r.colorInherit:"default"!==s&&r["".concat(T).concat(vd(s))],"medium"!==w&&[r["".concat(T,"Size").concat(vd(w))],r["size".concat(vd(w))]],d&&r.disableElevation,h&&r.disabled,b&&r.fullWidth),component:u,disabled:h,focusRipple:!v,focusVisibleClassName:Ca(r.focusVisible,y),ref:t,type:M},A),i.createElement("span",{className:r.label},C,n,P))})),Iv=Ra((function(e){return{root:p({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:An(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:An(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:An(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(An(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:An(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(An(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:An(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(Rv),Lv=ka((function(e){return{map:{height:"0",paddingBottom:"56.25%"},card:{backgroundColor:"#0f152e",color:"#fffff3",height:"0",paddingBottom:"56.25%",boxShadow:"5px 5px 7px #05060e"},media:{width:"100%",height:"auto",aspectRatio:"16 / 9",boxShadow:"5px 5px 7px #05060e"},card_lidar:{color:"#fffff3",height:"33rem",boxShadow:"5px 5px 7px #05060e"},toggle_button_group:{"& .MuiToggleButtonGroup-grouped":{margin:"0.5rem",borderRadius:"4px !important",height:"4rem"}},toggle_button:{"&.MuiToggleButton-root":{fontFamily:"Rajdhani, sans-serif",fontSize:"1.2rem",backgroundColor:"#0c1024",color:"#fff",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a","&:hover":{backgroundColor:"#3b7bea",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",color:"#fff"},"&.Mui-selected":{backgroundColor:"#85def5",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",color:"#0c1024","&:hover":{backgroundColor:"#0c1024",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",color:"#3b7bea"}}}},pub_button:{fontFamily:"Rajdhani, sans-serif",fontSize:"1.2rem",backgroundColor:"#0c1024",color:"#fff",marginTop:"0.5rem",borderRadius:"4px",height:"4rem",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a","&:hover":{backgroundColor:"#6569d7",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",color:"#0c1024"}},set_value:{display:"flex",verticalAlign:"middle",justifyContent:"center",alignItems:"center",color:"#fff",fontSize:"1.8em"},full_button:{marginTop:"1.2rem",display:"flex",justifyContent:"center",alignItems:"center"},input_grid:{marginTop:"0.2rem",display:"flex",justifyContent:"center",alignItems:"center"},text_field:{marginBottom:"0.3rem",width:"100%","& label":{color:"white",fontSize:"1.2rem"},"& label.Mui-focused":{color:"#3b7bea"},"& .MuiInputBase-root":{color:"white",height:"4rem",fontSize:"1.2rem"},"& .MuiOutlinedInput-root":{"& fieldset":{border:"1px solid rgba(255,255,255,.7)"},"&:hover fieldset":{borderColor:"#3b7bea"},"&.Mui-focused fieldset":{borderColor:"#3b7bea"}}}}}));function Dv(e){var t;return t=0===e.mode?"Manual":1===e.mode?"Autopilot":2===e.mode?"Test":3===e.mode?"License":"-",(0,rn.jsxs)("div",{children:["Driving with ",t," Mode"]})}var zv=new(ad().Ros)({url:"ws://localhost:9090"}),Nv=new(ad().Topic)({ros:zv,name:"/mode",messageType:"geometry_msgs/Vector3"}),Bv=new(ad().Topic)({ros:zv,name:"/lks_state",messageType:"std_msgs/Bool"}),Fv=new(ad().Topic)({ros:zv,name:"/sbb_state",messageType:"std_msgs/Bool"}),jv=new(ad().Topic)({ros:zv,name:"/btn1_state",messageType:"std_msgs/Bool"}),Uv=new(ad().Topic)({ros:zv,name:"/btn2_state",messageType:"std_msgs/Bool"}),Vv=new(ad().Topic)({ros:zv,name:"/btn3_state",messageType:"std_msgs/Bool"}),Hv=new(ad().Topic)({ros:zv,name:"/btn4_state",messageType:"std_msgs/Bool"}),Wv=new(ad().Topic)({ros:zv,name:"/swa_current_val",messageType:"geometry_msgs/Vector3"}),Gv=new(ad().Topic)({ros:zv,name:"/swa_command_val",messageType:"geometry_msgs/Vector3"}),qv=new(ad().Topic)({ros:zv,name:"/acc_current_val",messageType:"geometry_msgs/Vector3"}),Yv=new(ad().Topic)({ros:zv,name:"/acc_command_val",messageType:"geometry_msgs/Vector3"}),Xv=new(ad().Topic)({ros:zv,name:"/lat_lng_val",messageType:"geometry_msgs/Vector3"}),Zv=new(ad().Topic)({ros:zv,name:"/rpy_val",messageType:"geometry_msgs/Vector3"}),Kv=function(e){var t=Lv(),n=h((0,i.useState)([]),2),r=n[0],o=n[1],a=h((0,i.useState)(!1),2),s=a[0],l=a[1],u=h((0,i.useState)([]),2),c=u[0],p=u[1],f=h((0,i.useState)(!1),2),d=f[0],m=f[1],v=h((0,i.useState)(!1),2),g=v[0],y=v[1],_=h((0,i.useState)(!1),2),b=_[0],x=_[1],w=h((0,i.useState)(!1),2),S=w[0],E=w[1],M=h((0,i.useState)(!1),2),k=M[0],T=M[1],A=h((0,i.useState)(!1),2),C=A[0],P=A[1],O=h((0,i.useState)(0),2),R=O[0],I=O[1],L=h((0,i.useState)(0),2),D=L[0],z=L[1],N=h((0,i.useState)(0),2),B=N[0],F=N[1],j=h((0,i.useState)(0),2),U=j[0],V=j[1],H=h((0,i.useState)(0),2),W=H[0],G=H[1],q=h((0,i.useState)(0),2),Y=q[0],X=q[1],Z=h((0,i.useState)(0),2),K=Z[0],J=Z[1],Q=h((0,i.useState)(0),2),$=Q[0],ee=Q[1],te=h((0,i.useState)(0),2),ne=te[0],re=te[1],ie=function(e,t){p(t),s&&(!d&&t.includes("lks")&&(Bv.publish({data:!0}),m(!0)),!g&&t.includes("sbb")&&(Fv.publish({data:!0}),y(!0)),!b&&t.includes("btn1")&&(jv.publish({data:!0}),x(!0)),!S&&t.includes("btn2")&&(Uv.publish({data:!0}),E(!0)),!k&&t.includes("btn3")&&(Vv.publish({data:!0}),T(!0)),!C&&t.includes("btn4")&&(Hv.publish({data:!0}),P(!0))),s&&(d&&!t.includes("lks")&&(Bv.publish({data:!1}),m(!1)),g&&!t.includes("sbb")&&(Fv.publish({data:!1}),y(!1)),b&&!t.includes("btn1")&&(jv.publish({data:!1}),x(!1)),S&&!t.includes("btn2")&&(Uv.publish({data:!1}),E(!1)),k&&!t.includes("btn3")&&(Vv.publish({data:!1}),T(!1)),C&&!t.includes("btn4")&&(Hv.publish({data:!1}),P(!1)))};return!s&&e.sub&&(l(!0),Nv.subscribe((function(e){o(e.x)}))),s&&!e.sub&&(l(!1),Nv.unsubscribe()),(0,rn.jsxs)(Ba,{item:!0,xs:!0,container:!0,direction:"column",className:t.set_value,children:[(0,rn.jsx)(Ba,{item:!0,xs:!0,children:(0,rn.jsx)(Dv,{mode:r})}),(0,rn.jsx)(ps,{mt:1}),(0,rn.jsxs)(Ff,{value:c,onChange:ie,className:t.toggle_button_group,fullWidth:!0,children:[(0,rn.jsx)(Gf,{className:t.toggle_button,value:"lks",children:"LKS"}),(0,rn.jsx)(Gf,{className:t.toggle_button,value:"btn1",children:"BTN"})]}),(0,rn.jsxs)(Ff,{value:c,onChange:ie,className:t.toggle_button_group,fullWidth:!0,children:[(0,rn.jsx)(Gf,{className:t.toggle_button,value:"sbb",children:"SBB"}),(0,rn.jsx)(Gf,{className:t.toggle_button,value:"btn2",children:"BTN"})]}),(0,rn.jsxs)(Ff,{value:c,onChange:ie,className:t.toggle_button_group,fullWidth:!0,children:[(0,rn.jsx)(Gf,{className:t.toggle_button,value:"btn3",children:"BTN"}),(0,rn.jsx)(Gf,{className:t.toggle_button,value:"btn4",children:"BTN"})]}),(0,rn.jsx)(Ba,{item:!0,xs:!0,className:t.input_grid,children:(0,rn.jsx)(mv,{label:"SWA(current)",onChange:function(e){I(parseFloat(e.target.value))},variant:"outlined",className:t.text_field})}),(0,rn.jsx)(Ba,{item:!0,xs:!0,className:t.input_grid,children:(0,rn.jsx)(mv,{label:"SWA(command)",onChange:function(e){z(parseFloat(e.target.value))},variant:"outlined",className:t.text_field})}),(0,rn.jsx)(Ba,{item:!0,xs:!0,className:t.input_grid,children:(0,rn.jsx)(mv,{label:"ACC(current)",onChange:function(e){F(parseFloat(e.target.value))},variant:"outlined",className:t.text_field})}),(0,rn.jsx)(Ba,{item:!0,xs:!0,className:t.input_grid,children:(0,rn.jsx)(mv,{label:"ACC(command)",onChange:function(e){V(parseFloat(e.target.value))},variant:"outlined",className:t.text_field})}),(0,rn.jsxs)(Ba,{item:!0,xs:!0,className:t.input_grid,children:[(0,rn.jsx)(mv,{label:"Latitude",onChange:function(e){G(parseFloat(e.target.value))},variant:"outlined",className:t.text_field}),(0,rn.jsx)(mv,{label:"Longitude",onChange:function(e){X(parseFloat(e.target.value))},variant:"outlined",className:t.text_field})]}),(0,rn.jsxs)(Ba,{item:!0,xs:!0,className:t.input_grid,children:[(0,rn.jsx)(mv,{label:"Roll",onChange:function(e){J(parseFloat(e.target.value))},variant:"outlined",className:t.text_field}),(0,rn.jsx)(mv,{label:"Ptich",onChange:function(e){ee(parseFloat(e.target.value))},variant:"outlined",className:t.text_field}),(0,rn.jsx)(mv,{label:"Yaw",onChange:function(e){re(parseFloat(e.target.value))},variant:"outlined",className:t.text_field})]}),(0,rn.jsx)(Iv,{className:t.pub_button,onClick:function(){s&&(Wv.publish({x:R,y:0,z:0}),Gv.publish({x:D,y:0,z:0}),qv.publish({x:B,y:0,z:0}),Yv.publish({x:U,y:0,z:0}),Xv.publish({x:W,y:Y,z:0}),Zv.publish({x:K,y:$,z:ne}))},variant:"contained",fullWidth:!0,children:"Set Value"})]})},Jv=["video","audio","picture","iframe","img"],Qv=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.component,s=void 0===a?"div":a,l=e.image,u=e.src,c=e.style,h=sn(e,["children","classes","className","component","image","src","style"]),f=-1!==Jv.indexOf(s),d=!f&&l?p({backgroundImage:'url("'.concat(l,'")')},c):c;return i.createElement(s,p({className:Ca(r.root,o,f&&r.media,-1!=="picture img".indexOf(s)&&r.img),ref:t,style:d,src:f?l||u:void 0},h),n)})),$v=Ra({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%"},img:{objectFit:"cover"}},{name:"MuiCardMedia"})(Qv);function eg(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vr(e,t)}function tg(e){return tg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tg(e)}function ng(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function rg(e,t){if(t&&("object"===ln(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yr(e)}function ig(e){var t=ng();return function(){var n,r=tg(e);if(t){var i=tg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rg(this,n)}}function og(e,t,n){return og=ng()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&vr(i,n.prototype),i},og.apply(null,arguments)}function ag(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ag(Object(n),!0).forEach((function(t){fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ag(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lg(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ug(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tg(e)););return e}function cg(){return cg="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ug(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},cg.apply(this,arguments)}for(var hg="138",pg={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},fg={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},dg=0,mg=1,vg=2,gg=3,yg=0,_g=1,bg=2,xg=3,wg=0,Sg=1,Eg=2,Mg=1,kg=2,Tg=0,Ag=1,Cg=2,Pg=3,Og=4,Rg=5,Ig=100,Lg=101,Dg=102,zg=103,Ng=104,Bg=200,Fg=201,jg=202,Ug=203,Vg=204,Hg=205,Wg=206,Gg=207,qg=208,Yg=209,Xg=210,Zg=0,Kg=1,Jg=2,Qg=3,$g=4,ey=5,ty=6,ny=7,ry=0,iy=1,oy=2,ay=0,sy=1,ly=2,uy=3,cy=4,hy=5,py=300,fy=301,dy=302,my=303,vy=304,gy=306,yy=307,_y=1e3,by=1001,xy=1002,wy=1003,Sy=1004,Ey=1004,My=1005,ky=1005,Ty=1006,Ay=1007,Cy=1007,Py=1008,Oy=1008,Ry=1009,Iy=1010,Ly=1011,Dy=1012,zy=1013,Ny=1014,By=1015,Fy=1016,jy=1017,Uy=1018,Vy=1020,Hy=1021,Wy=1022,Gy=1023,qy=1024,Yy=1025,Xy=1026,Zy=1027,Ky=1028,Jy=1029,Qy=1030,$y=1031,e_=1033,t_=33776,n_=33777,r_=33778,i_=33779,o_=35840,a_=35841,s_=35842,l_=35843,u_=36196,c_=37492,h_=37496,p_=37808,f_=37809,d_=37810,m_=37811,v_=37812,g_=37813,y_=37814,__=37815,b_=37816,x_=37817,w_=37818,S_=37819,E_=37820,M_=37821,k_=36492,T_=2200,A_=2201,C_=2202,P_=2300,O_=2301,R_=2302,I_=2400,L_=2401,D_=2402,z_=2500,N_=2501,B_=0,F_=1,j_=2,U_=3e3,V_=3001,H_=3200,W_=3201,G_=0,q_=1,Y_=0,X_=7680,Z_=7681,K_=7682,J_=7683,Q_=34055,$_=34056,eb=5386,tb=512,nb=513,rb=514,ib=515,ob=516,ab=517,sb=518,lb=519,ub=35044,cb=35048,hb=35040,pb=35045,fb=35049,db=35041,mb=35046,vb=35050,gb=35042,yb="100",_b="300 es",bb=1035,xb=function(){function e(){nm(this,e)}return mr(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),wb=[],Sb=0;Sb<256;Sb++)wb[Sb]=(Sb<16?"0":"")+Sb.toString(16);var Eb=1234567,Mb=Math.PI/180,kb=180/Math.PI;function Tb(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(wb[255&e]+wb[e>>8&255]+wb[e>>16&255]+wb[e>>24&255]+"-"+wb[255&t]+wb[t>>8&255]+"-"+wb[t>>16&15|64]+wb[t>>24&255]+"-"+wb[63&n|128]+wb[n>>8&255]+"-"+wb[n>>16&255]+wb[n>>24&255]+wb[255&r]+wb[r>>8&255]+wb[r>>16&255]+wb[r>>24&255]).toUpperCase()}function Ab(e,t,n){return Math.max(t,Math.min(n,e))}function Cb(e,t){return(e%t+t)%t}function Pb(e,t,n){return(1-n)*e+n*t}function Ob(e){return 0===(e&e-1)&&0!==e}function Rb(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function Ib(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}var Lb=Object.freeze({__proto__:null,DEG2RAD:Mb,RAD2DEG:kb,generateUUID:Tb,clamp:Ab,euclideanModulo:Cb,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Pb,damp:function(e,t,n,r){return Pb(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Cb(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(Eb=e%2147483647),((Eb=16807*Eb%2147483647)-1)/2147483646},degToRad:function(e){return e*Mb},radToDeg:function(e){return e*kb},isPowerOfTwo:Ob,ceilPowerOfTwo:Rb,floorPowerOfTwo:Ib,setQuaternionFromProperEuler:function(e,t,n,r,i){var o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),u=o((t+r)/2),c=a((t+r)/2),h=o((t-r)/2),p=a((t-r)/2),f=o((r-t)/2),d=a((r-t)/2);switch(i){case"XYX":e.set(s*c,l*h,l*p,s*u);break;case"YZY":e.set(l*p,s*c,l*h,s*u);break;case"ZXZ":e.set(l*h,l*p,s*c,s*u);break;case"XZX":e.set(s*c,l*d,l*f,s*u);break;case"YXY":e.set(l*f,s*c,l*d,s*u);break;case"ZYZ":e.set(l*d,l*f,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}}),Db=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;nm(this,t),this.x=e,this.y=n}return mr(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:Zf.mark((function e(){return Zf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}();Db.prototype.isVector2=!0;var zb=function(){function e(){nm(this,e),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return mr(e,[{key:"set",value:function(e,t,n,r,i,o,a,s,l){var u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=o,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],u=n[4],c=n[7],h=n[2],p=n[5],f=n[8],d=r[0],m=r[3],v=r[6],g=r[1],y=r[4],_=r[7],b=r[2],x=r[5],w=r[8];return i[0]=o*d+a*g+s*b,i[3]=o*m+a*y+s*x,i[6]=o*v+a*_+s*w,i[1]=l*d+u*g+c*b,i[4]=l*m+u*y+c*x,i[7]=l*v+u*_+c*w,i[2]=h*d+p*g+f*b,i[5]=h*m+p*y+f*x,i[8]=h*v+p*_+f*w,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8];return t*o*u-t*a*l-n*i*u+n*a*s+r*i*l-r*o*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=u*o-a*l,h=a*s-u*i,p=l*i-o*s,f=t*c+n*h+r*p;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var d=1/f;return e[0]=c*d,e[1]=(r*l-u*n)*d,e[2]=(a*n-r*o)*d,e[3]=h*d,e[4]=(u*t-r*s)*d,e[5]=(r*i-a*t)*d,e[6]=p*d,e[7]=(n*s-l*t)*d,e[8]=(o*t-n*i)*d,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,o,a){var s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*o+l*a)+o+e,-r*l,r*s,-r*(-l*o+s*a)+a+t,0,0,1),this}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],l=r[4],u=r[7];return r[0]=t*i+n*s,r[3]=t*o+n*l,r[6]=t*a+n*u,r[1]=-n*i+t*s,r[4]=-n*o+t*l,r[7]=-n*a+t*u,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}();function Nb(e){for(var t=e.length-1;t>=0;--t)if(e[t]>65535)return!0;return!1}zb.prototype.isMatrix3=!0;var Bb={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Fb(e,t){return new Bb[e](t)}function jb(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}var Ub={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Vb={h:0,s:0,l:0},Hb={h:0,s:0,l:0};function Wb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Gb(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function qb(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var Yb,Xb=function(){function e(t,n,r){return nm(this,e),void 0===n&&void 0===r?this.set(t):this.setRGB(t,n,r)}return mr(e,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}},{key:"setRGB",value:function(e,t,n){return this.r=e,this.g=t,this.b=n,this}},{key:"setHSL",value:function(e,t,n){if(e=Cb(e,1),t=Ab(t,0,1),n=Ab(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Wb(i,r,e+1/3),this.g=Wb(i,r,e),this.b=Wb(i,r,e-1/3)}return this}},{key:"setStyle",value:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return t(r[4]),this.setHSL(a,s,l)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){var u=n[1],c=u.length;if(3===c)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}},{key:"setColorName",value:function(e){var t=Ub[e.toLowerCase()];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=Gb(e.r),this.g=Gb(e.g),this.b=Gb(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=qb(e.r),this.g=qb(e.g),this.b=qb(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t,n,r=this.r,i=this.g,o=this.b,a=Math.max(r,i,o),s=Math.min(r,i,o),l=(s+a)/2;if(s===a)t=0,n=0;else{var u=a-s;switch(n=l<=.5?u/(a+s):u/(2-a-s),a){case r:t=(i-o)/u+(i<o?6:0);break;case i:t=(o-r)/u+2;break;case o:t=(r-i)/u+4}t/=6}return e.h=t,e.s=n,e.l=l,e}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(Vb),Vb.h+=e,Vb.s+=t,Vb.l+=n,this.setHSL(Vb.h,Vb.s,Vb.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(Vb),e.getHSL(Hb);var n=Pb(Vb.h,Hb.h,t),r=Pb(Vb.s,Hb.s,t),i=Pb(Vb.l,Hb.l,t);return this.setHSL(n,r,i),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),e}();Xb.NAMES=Ub,Xb.prototype.isColor=!0,Xb.prototype.r=1,Xb.prototype.g=1,Xb.prototype.b=1;var Zb=function(){function e(){nm(this,e)}return mr(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Yb&&(Yb=jb("canvas")),Yb.width=e.width,Yb.height=e.height;var n=Yb.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Yb}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=jb("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,o=0;o<i.length;o++)i[o]=255*Gb(i[o]/255);return n.putImageData(r,0,0),t}if(e.data){for(var a=e.data.slice(0),s=0;s<a.length;s++)a instanceof Uint8Array||a instanceof Uint8ClampedArray?a[s]=Math.floor(255*Gb(a[s]/255)):a[s]=Gb(a[s]);return{data:a,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),Kb=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;nm(this,e),this.uuid=Tb(),this.data=t,this.version=0}return mr(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var o=0,a=r.length;o<a;o++)r[o].isDataTexture?i.push(Jb(r[o].image)):i.push(Jb(r[o]))}else i=Jb(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function Jb(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?Zb.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Kb.prototype.isSource=!0;var Qb=0,$b=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:by,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:by,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ty,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Py,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Gy,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Ry,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:U_;return nm(this,n),e=t.call(this),Object.defineProperty(yr(e),"id",{value:Qb++}),e.uuid=Tb(),e.name="",e.source=new Kb(r),e.mipmaps=[],e.mapping=i,e.wrapS=o,e.wrapT=a,e.magFilter=s,e.minFilter=l,e.anisotropy=h,e.format=u,e.internalFormat=null,e.type=c,e.offset=new Db(0,0),e.repeat=new Db(1,1),e.center=new Db(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new zb,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=p,e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return mr(n,[{key:"image",get:function(){return this.source.data},set:function(e){this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(this.mapping!==py)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case _y:e.x=e.x-Math.floor(e.x);break;case by:e.x=e.x<0?0:1;break;case xy:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case _y:e.y=e.y-Math.floor(e.y);break;case by:e.y=e.y<0?0:1;break;case xy:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}]),n}(xb);$b.DEFAULT_IMAGE=null,$b.DEFAULT_MAPPING=py,$b.prototype.isTexture=!0;var ex=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;nm(this,t),this.x=e,this.y=n,this.z=r,this.w=i}return mr(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,o=.01,a=.1,s=e.elements,l=s[0],u=s[4],c=s[8],h=s[1],p=s[5],f=s[9],d=s[2],m=s[6],v=s[10];if(Math.abs(u-h)<o&&Math.abs(c-d)<o&&Math.abs(f-m)<o){if(Math.abs(u+h)<a&&Math.abs(c+d)<a&&Math.abs(f+m)<a&&Math.abs(l+p+v-3)<a)return this.set(1,0,0,0),this;t=Math.PI;var g=(l+1)/2,y=(p+1)/2,_=(v+1)/2,b=(u+h)/4,x=(c+d)/4,w=(f+m)/4;return g>y&&g>_?g<o?(n=0,r=.707106781,i=.707106781):(r=b/(n=Math.sqrt(g)),i=x/n):y>_?y<o?(n=.707106781,r=0,i=.707106781):(n=b/(r=Math.sqrt(y)),i=w/r):_<o?(n=.707106781,r=.707106781,i=0):(n=x/(i=Math.sqrt(_)),r=w/i),this.set(n,r,i,t),this}var S=Math.sqrt((m-f)*(m-f)+(c-d)*(c-d)+(h-u)*(h-u));return Math.abs(S)<.001&&(S=1),this.x=(m-f)/S,this.y=(c-d)/S,this.z=(h-u)/S,this.w=Math.acos((l+p+v-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:Zf.mark((function e(){return Zf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}();ex.prototype.isVector4=!0;var tx=function(e){eg(n,e);var t=ig(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};nm(this,n),(i=t.call(this)).width=e,i.height=r,i.depth=1,i.scissor=new ex(0,0,e,r),i.scissorTest=!1,i.viewport=new ex(0,0,e,r);var a={width:e,height:r,depth:1};return i.texture=new $b(a,o.mapping,o.wrapS,o.wrapT,o.magFilter,o.minFilter,o.format,o.type,o.anisotropy,o.encoding),i.texture.isRenderTargetTexture=!0,i.texture.generateMipmaps=void 0!==o.generateMipmaps&&o.generateMipmaps,i.texture.internalFormat=void 0!==o.internalFormat?o.internalFormat:null,i.texture.minFilter=void 0!==o.minFilter?o.minFilter:Ty,i.depthBuffer=void 0===o.depthBuffer||o.depthBuffer,i.stencilBuffer=void 0!==o.stencilBuffer&&o.stencilBuffer,i.depthTexture=void 0!==o.depthTexture?o.depthTexture:null,i.samples=void 0!==o.samples?o.samples:0,i}return mr(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=Object.assign({},e.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(xb);tx.prototype.isWebGLRenderTarget=!0;var nx=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return nm(this,n),(e=t.call(this,null)).image={data:r,width:i,height:o,depth:a},e.magFilter=wy,e.minFilter=wy,e.wrapR=by,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return mr(n)}($b);nx.prototype.isDataArrayTexture=!0;var rx=function(e){eg(n,e);var t=ig(n);function n(e,r,i){var o;return nm(this,n),(o=t.call(this,e,r)).depth=i,o.texture=new nx(null,e,r,i),o.texture.isRenderTargetTexture=!0,o}return mr(n)}(tx);rx.prototype.isWebGLArrayRenderTarget=!0;var ix=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return nm(this,n),(e=t.call(this,null)).image={data:r,width:i,height:o,depth:a},e.magFilter=wy,e.minFilter=wy,e.wrapR=by,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return mr(n)}($b);ix.prototype.isData3DTexture=!0;var ox=function(e){eg(n,e);var t=ig(n);function n(e,r,i){var o;return nm(this,n),(o=t.call(this,e,r)).depth=i,o.texture=new ix(null,e,r,i),o.texture.isRenderTargetTexture=!0,o}return mr(n)}(tx);ox.prototype.isWebGL3DRenderTarget=!0;var ax=function(e){eg(n,e);var t=ig(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};nm(this,n);var s=(o=t.call(this,e,r,a)).texture;o.texture=[];for(var l=0;l<i;l++)o.texture[l]=s.clone();return o}return mr(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(var t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone();return this}}]),n}(tx);ax.prototype.isWebGLMultipleRenderTargets=!0;var sx=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;nm(this,e),this._x=t,this._y=n,this._z=r,this._w=i}return mr(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,o=e._order,a=Math.cos,s=Math.sin,l=a(n/2),u=a(r/2),c=a(i/2),h=s(n/2),p=s(r/2),f=s(i/2);switch(o){case"XYZ":this._x=h*u*c+l*p*f,this._y=l*p*c-h*u*f,this._z=l*u*f+h*p*c,this._w=l*u*c-h*p*f;break;case"YXZ":this._x=h*u*c+l*p*f,this._y=l*p*c-h*u*f,this._z=l*u*f-h*p*c,this._w=l*u*c+h*p*f;break;case"ZXY":this._x=h*u*c-l*p*f,this._y=l*p*c+h*u*f,this._z=l*u*f+h*p*c,this._w=l*u*c-h*p*f;break;case"ZYX":this._x=h*u*c-l*p*f,this._y=l*p*c+h*u*f,this._z=l*u*f-h*p*c,this._w=l*u*c+h*p*f;break;case"YZX":this._x=h*u*c+l*p*f,this._y=l*p*c+h*u*f,this._z=l*u*f-h*p*c,this._w=l*u*c-h*p*f;break;case"XZY":this._x=h*u*c-l*p*f,this._y=l*p*c-h*u*f,this._z=l*u*f+h*p*c,this._w=l*u*c+h*p*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],o=t[1],a=t[5],s=t[9],l=t[2],u=t[6],c=t[10],h=n+a+c;if(h>0){var p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(u-s)*p,this._y=(i-l)*p,this._z=(o-r)*p}else if(n>a&&n>c){var f=2*Math.sqrt(1+n-a-c);this._w=(u-s)/f,this._x=.25*f,this._y=(r+o)/f,this._z=(i+l)/f}else if(a>c){var d=2*Math.sqrt(1+a-n-c);this._w=(i-l)/d,this._x=(r+o)/d,this._y=.25*d,this._z=(s+u)/d}else{var m=2*Math.sqrt(1+c-n-a);this._w=(o-r)/m,this._x=(i+l)/m,this._y=(s+u)/m,this._z=.25*m}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Ab(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+o*a+r*l-i*s,this._y=r*u+o*s+i*a-n*l,this._z=i*u+o*l+n*s-r*a,this._w=o*u-n*a-r*s-i*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var l=1-t;return this._w=l*o+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,a),h=Math.sin((1-t)*c)/u,p=Math.sin(t*c)/u;return this._w=o*h+this._w*p,this._x=n*h+this._x*p,this._y=r*h+this._y*p,this._z=i*h+this._z*p,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(e,t,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,r)}},{key:"slerpFlat",value:function(e,t,n,r,i,o,a){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],h=i[o+0],p=i[o+1],f=i[o+2],d=i[o+3];if(0===a)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===a)return e[t+0]=h,e[t+1]=p,e[t+2]=f,void(e[t+3]=d);if(c!==d||s!==h||l!==p||u!==f){var m=1-a,v=s*h+l*p+u*f+c*d,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var _=Math.sqrt(y),b=Math.atan2(_,v*g);m=Math.sin(m*b)/_,a=Math.sin(a*b)/_}var x=a*g;if(s=s*m+h*x,l=l*m+p*x,u=u*m+f*x,c=c*m+d*x,m===1-a){var w=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=w,l*=w,u*=w,c*=w}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,o){var a=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[o],h=i[o+1],p=i[o+2],f=i[o+3];return e[t]=a*f+u*c+s*p-l*h,e[t+1]=s*f+u*h+l*c-a*p,e[t+2]=l*f+u*p+a*h-s*c,e[t+3]=u*f-a*c-s*h-l*p,e}}]),e}();sx.prototype.isQuaternion=!0;var lx=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;nm(this,t),this.x=e,this.y=n,this.z=r}return mr(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(cx.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(cx.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,l=s*t+o*r-a*n,u=s*n+a*t-i*r,c=s*r+i*n-o*t,h=-i*t-o*n-a*r;return this.x=l*s+h*-i+u*-a-c*-o,this.y=u*s+h*-o+c*-i-l*-a,this.z=c*s+h*-a+l*-o-u*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return ux.copy(this).projectOnVector(e),this.sub(ux)}},{key:"reflect",value:function(e){return this.sub(ux.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Ab(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:Symbol.iterator,value:Zf.mark((function e(){return Zf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}();lx.prototype.isVector3=!0;var ux=new lx,cx=new sx,hx=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new lx(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new lx(-1/0,-1/0,-1/0);nm(this,e),this.min=t,this.max=n}return mr(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,l=e.length;s<l;s+=3){var u=e[s],c=e[s+1],h=e[s+2];u<t&&(t=u),c<n&&(n=c),h<r&&(r=h),u>i&&(i=u),c>o&&(o=c),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,l=e.count;s<l;s++){var u=e.getX(s),c=e.getY(s),h=e.getZ(s);u<t&&(t=u),c<n&&(n=c),h<r&&(r=h),u>i&&(i=u),c>o&&(o=c),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=fx.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);var n=e.geometry;if(void 0!==n)if(t&&void 0!=n.attributes&&void 0!==n.attributes.position)for(var r=n.attributes.position,i=0,o=r.count;i<o;i++)fx.fromBufferAttribute(r,i).applyMatrix4(e.matrixWorld),this.expandByPoint(fx);else null===n.boundingBox&&n.computeBoundingBox(),dx.copy(n.boundingBox),dx.applyMatrix4(e.matrixWorld),this.union(dx);for(var a=e.children,s=0,l=a.length;s<l;s++)this.expandByObject(a[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,fx),fx.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(xx),wx.subVectors(this.max,xx),mx.subVectors(e.a,xx),vx.subVectors(e.b,xx),gx.subVectors(e.c,xx),yx.subVectors(vx,mx),_x.subVectors(gx,vx),bx.subVectors(mx,gx);var t=[0,-yx.z,yx.y,0,-_x.z,_x.y,0,-bx.z,bx.y,yx.z,0,-yx.x,_x.z,0,-_x.x,bx.z,0,-bx.x,-yx.y,yx.x,0,-_x.y,_x.x,0,-bx.y,bx.x,0];return!!Mx(t,mx,vx,gx,wx)&&(!!Mx(t=[1,0,0,0,1,0,0,0,1],mx,vx,gx,wx)&&(Sx.crossVectors(yx,_x),Mx(t=[Sx.x,Sx.y,Sx.z],mx,vx,gx,wx)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return fx.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(fx).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(px[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),px[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),px[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),px[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),px[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),px[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),px[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),px[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(px)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();hx.prototype.isBox3=!0;var px=[new lx,new lx,new lx,new lx,new lx,new lx,new lx,new lx],fx=new lx,dx=new hx,mx=new lx,vx=new lx,gx=new lx,yx=new lx,_x=new lx,bx=new lx,xx=new lx,wx=new lx,Sx=new lx,Ex=new lx;function Mx(e,t,n,r,i){for(var o=0,a=e.length-3;o<=a;o+=3){Ex.fromArray(e,o);var s=i.x*Math.abs(Ex.x)+i.y*Math.abs(Ex.y)+i.z*Math.abs(Ex.z),l=t.dot(Ex),u=n.dot(Ex),c=r.dot(Ex);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var kx=new hx,Tx=new lx,Ax=new lx,Cx=new lx,Px=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new lx,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;nm(this,e),this.center=t,this.radius=n}return mr(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):kx.setFromPoints(e).getCenter(n);for(var r=0,i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){Cx.subVectors(e,this.center);var t=Cx.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.add(Cx.multiplyScalar(r/n)),this.radius+=r}return this}},{key:"union",value:function(e){return!0===this.center.equals(e.center)?Ax.set(0,0,1).multiplyScalar(e.radius):Ax.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Tx.copy(e.center).add(Ax)),this.expandByPoint(Tx.copy(e.center).sub(Ax)),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Ox=new lx,Rx=new lx,Ix=new lx,Lx=new lx,Dx=new lx,zx=new lx,Nx=new lx,Bx=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new lx,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new lx(0,0,-1);nm(this,e),this.origin=t,this.direction=n}return mr(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,Ox)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=Ox.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ox.copy(this.direction).multiplyScalar(t).add(this.origin),Ox.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){Rx.copy(e).add(t).multiplyScalar(.5),Ix.copy(t).sub(e).normalize(),Lx.copy(this.origin).sub(Rx);var i,o,a,s,l=.5*e.distanceTo(t),u=-this.direction.dot(Ix),c=Lx.dot(this.direction),h=-Lx.dot(Ix),p=Lx.lengthSq(),f=Math.abs(1-u*u);if(f>0)if(o=u*c-h,s=l*f,(i=u*h-c)>=0)if(o>=-s)if(o<=s){var d=1/f;a=(i*=d)*(i+u*(o*=d)+2*c)+o*(u*i+o+2*h)+p}else o=l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*h)+p;else o=-l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*h)+p;else o<=-s?a=-(i=Math.max(0,-(-u*l+c)))*i+(o=i>0?-l:Math.min(Math.max(-l,-h),l))*(o+2*h)+p:o<=s?(i=0,a=(o=Math.min(Math.max(-l,-h),l))*(o+2*h)+p):a=-(i=Math.max(0,-(u*l+c)))*i+(o=i>0?l:Math.min(Math.max(-l,-h),l))*(o+2*h)+p;else o=u>0?-l:l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*h)+p;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(Ix).multiplyScalar(o).add(Rx),a}},{key:"intersectSphere",value:function(e,t){Ox.subVectors(e.center,this.origin);var n=Ox.dot(this.direction),r=Ox.dot(Ox)-n*n,i=e.radius*e.radius;if(r>i)return null;var o=Math.sqrt(i-r),a=n-o,s=n+o;return a<0&&s<0?null:a<0?this.at(s,t):this.at(a,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,o,a,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),u>=0?(i=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(i=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),c>=0?(a=(e.min.z-h.z)*c,s=(e.max.z-h.z)*c):(a=(e.max.z-h.z)*c,s=(e.min.z-h.z)*c),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,Ox)}},{key:"intersectTriangle",value:function(e,t,n,r,i){Dx.subVectors(t,e),zx.subVectors(n,e),Nx.crossVectors(Dx,zx);var o,a=this.direction.dot(Nx);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}Lx.subVectors(this.origin,e);var s=o*this.direction.dot(zx.crossVectors(Lx,zx));if(s<0)return null;var l=o*this.direction.dot(Dx.cross(Lx));if(l<0)return null;if(s+l>a)return null;var u=-o*Lx.dot(Nx);return u<0?null:this.at(u/a,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Fx=function(){function e(){nm(this,e),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return mr(e,[{key:"set",value:function(e,t,n,r,i,o,a,s,l,u,c,h,p,f,d,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=l,v[6]=u,v[10]=c,v[14]=h,v[3]=p,v[7]=f,v[11]=d,v[15]=m,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/jx.setFromMatrixColumn(e,0).length(),i=1/jx.setFromMatrixColumn(e,1).length(),o=1/jx.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var h=o*u,p=o*c,f=a*u,d=a*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=p+f*l,t[5]=h-d*l,t[9]=-a*s,t[2]=d-h*l,t[6]=f+p*l,t[10]=o*s}else if("YXZ"===e.order){var m=s*u,v=s*c,g=l*u,y=l*c;t[0]=m+y*a,t[4]=g*a-v,t[8]=o*l,t[1]=o*c,t[5]=o*u,t[9]=-a,t[2]=v*a-g,t[6]=y+m*a,t[10]=o*s}else if("ZXY"===e.order){var _=s*u,b=s*c,x=l*u,w=l*c;t[0]=_-w*a,t[4]=-o*c,t[8]=x+b*a,t[1]=b+x*a,t[5]=o*u,t[9]=w-_*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){var S=o*u,E=o*c,M=a*u,k=a*c;t[0]=s*u,t[4]=M*l-E,t[8]=S*l+k,t[1]=s*c,t[5]=k*l+S,t[9]=E*l-M,t[2]=-l,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var T=o*s,A=o*l,C=a*s,P=a*l;t[0]=s*u,t[4]=P-T*c,t[8]=C*c+A,t[1]=c,t[5]=o*u,t[9]=-a*u,t[2]=-l*u,t[6]=A*c+C,t[10]=T-P*c}else if("XZY"===e.order){var O=o*s,R=o*l,I=a*s,L=a*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=O*c+L,t[5]=o*u,t[9]=R*c-I,t[2]=I*c-R,t[6]=a*u,t[10]=L*c+O}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Vx,e,Hx)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return qx.subVectors(e,t),0===qx.lengthSq()&&(qx.z=1),qx.normalize(),Wx.crossVectors(n,qx),0===Wx.lengthSq()&&(1===Math.abs(n.z)?qx.x+=1e-4:qx.z+=1e-4,qx.normalize(),Wx.crossVectors(n,qx)),Wx.normalize(),Gx.crossVectors(qx,Wx),r[0]=Wx.x,r[4]=Gx.x,r[8]=qx.x,r[1]=Wx.y,r[5]=Gx.y,r[9]=qx.y,r[2]=Wx.z,r[6]=Gx.z,r[10]=qx.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],p=n[13],f=n[2],d=n[6],m=n[10],v=n[14],g=n[3],y=n[7],_=n[11],b=n[15],x=r[0],w=r[4],S=r[8],E=r[12],M=r[1],k=r[5],T=r[9],A=r[13],C=r[2],P=r[6],O=r[10],R=r[14],I=r[3],L=r[7],D=r[11],z=r[15];return i[0]=o*x+a*M+s*C+l*I,i[4]=o*w+a*k+s*P+l*L,i[8]=o*S+a*T+s*O+l*D,i[12]=o*E+a*A+s*R+l*z,i[1]=u*x+c*M+h*C+p*I,i[5]=u*w+c*k+h*P+p*L,i[9]=u*S+c*T+h*O+p*D,i[13]=u*E+c*A+h*R+p*z,i[2]=f*x+d*M+m*C+v*I,i[6]=f*w+d*k+m*P+v*L,i[10]=f*S+d*T+m*O+v*D,i[14]=f*E+d*A+m*R+v*z,i[3]=g*x+y*M+_*C+b*I,i[7]=g*w+y*k+_*P+b*L,i[11]=g*S+y*T+_*O+b*D,i[15]=g*E+y*A+_*R+b*z,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],l=e[13],u=e[2],c=e[6],h=e[10],p=e[14];return e[3]*(+i*s*c-r*l*c-i*a*h+n*l*h+r*a*p-n*s*p)+e[7]*(+t*s*p-t*l*h+i*o*h-r*o*p+r*l*u-i*s*u)+e[11]*(+t*l*c-t*a*p-i*o*c+n*o*p+i*a*u-n*l*u)+e[15]*(-r*a*u-t*s*c+t*a*h+r*o*c-n*o*h+n*s*u)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],p=e[11],f=e[12],d=e[13],m=e[14],v=e[15],g=c*m*l-d*h*l+d*s*p-a*m*p-c*s*v+a*h*v,y=f*h*l-u*m*l-f*s*p+o*m*p+u*s*v-o*h*v,_=u*d*l-f*c*l+f*a*p-o*d*p-u*a*v+o*c*v,b=f*c*s-u*d*s-f*a*h+o*d*h+u*a*m-o*c*m,x=t*g+n*y+r*_+i*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/x;return e[0]=g*w,e[1]=(d*h*i-c*m*i-d*r*p+n*m*p+c*r*v-n*h*v)*w,e[2]=(a*m*i-d*s*i+d*r*l-n*m*l-a*r*v+n*s*v)*w,e[3]=(c*s*i-a*h*i-c*r*l+n*h*l+a*r*p-n*s*p)*w,e[4]=y*w,e[5]=(u*m*i-f*h*i+f*r*p-t*m*p-u*r*v+t*h*v)*w,e[6]=(f*s*i-o*m*i-f*r*l+t*m*l+o*r*v-t*s*v)*w,e[7]=(o*h*i-u*s*i+u*r*l-t*h*l-o*r*p+t*s*p)*w,e[8]=_*w,e[9]=(f*c*i-u*d*i-f*n*p+t*d*p+u*n*v-t*c*v)*w,e[10]=(o*d*i-f*a*i+f*n*l-t*d*l-o*n*v+t*a*v)*w,e[11]=(u*a*i-o*c*i-u*n*l+t*c*l+o*n*p-t*a*p)*w,e[12]=b*w,e[13]=(u*d*r-f*c*r+f*n*h-t*d*h-u*n*m+t*c*m)*w,e[14]=(f*a*r-o*d*r-f*n*s+t*d*s+o*n*m-t*a*m)*w,e[15]=(o*c*r-u*a*r+u*n*s-t*c*s-o*n*h+t*a*h)*w,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,l=i*o,u=i*a;return this.set(l*o+n,l*a-r*s,l*s+r*a,0,l*a+r*s,u*a+n,u*s-r*o,0,l*s-r*a,u*s+r*o,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,o){return this.set(1,n,i,0,e,1,o,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,l=i+i,u=o+o,c=a+a,h=i*l,p=i*u,f=i*c,d=o*u,m=o*c,v=a*c,g=s*l,y=s*u,_=s*c,b=n.x,x=n.y,w=n.z;return r[0]=(1-(d+v))*b,r[1]=(p+_)*b,r[2]=(f-y)*b,r[3]=0,r[4]=(p-_)*x,r[5]=(1-(h+v))*x,r[6]=(m+g)*x,r[7]=0,r[8]=(f+y)*w,r[9]=(m-g)*w,r[10]=(1-(h+d))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=jx.set(r[0],r[1],r[2]).length(),o=jx.set(r[4],r[5],r[6]).length(),a=jx.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Ux.copy(this);var s=1/i,l=1/o,u=1/a;return Ux.elements[0]*=s,Ux.elements[1]*=s,Ux.elements[2]*=s,Ux.elements[4]*=l,Ux.elements[5]*=l,Ux.elements[6]*=l,Ux.elements[8]*=u,Ux.elements[9]*=u,Ux.elements[10]*=u,t.setFromRotationMatrix(Ux),n.x=i,n.y=o,n.z=a,this}},{key:"makePerspective",value:function(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(t-e),l=2*i/(n-r),u=(t+e)/(t-e),c=(n+r)/(n-r),h=-(o+i)/(o-i),p=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=l,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),l=1/(n-r),u=1/(o-i),c=(t+e)*s,h=(n+r)*l,p=(o+i)*u;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}();Fx.prototype.isMatrix4=!0;var jx=new lx,Ux=new Fx,Vx=new lx(0,0,0),Hx=new lx(1,1,1),Wx=new lx,Gx=new lx,qx=new lx,Yx=new Fx,Xx=new sx,Zx=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;nm(this,e),this._x=t,this._y=n,this._z=r,this._order=i}return mr(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],o=r[4],a=r[8],s=r[1],l=r[5],u=r[9],c=r[2],h=r[6],p=r[10];switch(t){case"XYZ":this._y=Math.asin(Ab(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Ab(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(Ab(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,p),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Ab(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(Ab(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-Ab(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return Yx.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Yx,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return Xx.setFromEuler(this),this.setFromQuaternion(Xx,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}]),e}();Zx.prototype.isEuler=!0,Zx.DefaultOrder="XYZ",Zx.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Kx=function(){function e(){nm(this,e),this.mask=1}return mr(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),Jx=0,Qx=new lx,$x=new sx,ew=new Fx,tw=new lx,nw=new lx,rw=new lx,iw=new sx,ow=new lx(1,0,0),aw=new lx(0,1,0),sw=new lx(0,0,1),lw={type:"added"},uw={type:"removed"},cw=function(e){eg(n,e);var t=ig(n);function n(){var e;nm(this,n),e=t.call(this),Object.defineProperty(yr(e),"id",{value:Jx++}),e.uuid=Tb(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DefaultUp.clone();var r=new lx,i=new Zx,o=new sx,a=new lx(1,1,1);return i._onChange((function(){o.setFromEuler(i,!1)})),o._onChange((function(){i.setFromQuaternion(o,void 0,!1)})),Object.defineProperties(yr(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:o},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Fx},normalMatrix:{value:new zb}}),e.matrix=new Fx,e.matrixWorld=new Fx,e.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,e.matrixWorldNeedsUpdate=!1,e.layers=new Kx,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return mr(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return $x.setFromAxisAngle(e,t),this.quaternion.multiply($x),this}},{key:"rotateOnWorldAxis",value:function(e,t){return $x.setFromAxisAngle(e,t),this.quaternion.premultiply($x),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(ow,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(aw,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(sw,e)}},{key:"translateOnAxis",value:function(e,t){return Qx.copy(e).applyQuaternion(this.quaternion),this.position.add(Qx.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(ow,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(aw,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(sw,e)}},{key:"localToWorld",value:function(e){return e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return e.applyMatrix4(ew.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?tw.copy(e):tw.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),nw.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ew.lookAt(nw,tw,this.up):ew.lookAt(tw,nw,this.up),this.quaternion.setFromRotationMatrix(ew),r&&(ew.extractRotation(r.matrixWorld),$x.setFromRotationMatrix(ew),this.quaternion.premultiply($x.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(lw)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(uw)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(uw)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),ew.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),ew.multiply(e.parent.matrixWorld)),e.applyMatrix4(ew),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(nw,e,rw),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(nw,iw,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,o=r.length;i<o;i++)r[i].updateWorldMatrix(!1,!0)}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,l=a.length;s<l;s++){var u=a[s];i(e.shapes,u)}else i(e.shapes,a)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],h=0,p=this.material.length;h<p;h++)c.push(i(e.materials,this.material[h]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var f=0;f<this.children.length;f++)r.children.push(this.children[f].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var d=0;d<this.animations.length;d++){var m=this.animations[d];r.animations.push(i(e.animations,m))}}if(t){var v=E(e.geometries),g=E(e.materials),y=E(e.textures),_=E(e.images),b=E(e.shapes),x=E(e.skeletons),w=E(e.animations),S=E(e.nodes);v.length>0&&(n.geometries=v),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),_.length>0&&(n.images=_),b.length>0&&(n.shapes=b),x.length>0&&(n.skeletons=x),w.length>0&&(n.animations=w),S.length>0&&(n.nodes=S)}return n.object=r,n;function E(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(xb);cw.DefaultUp=new lx(0,1,0),cw.DefaultMatrixAutoUpdate=!0,cw.prototype.isObject3D=!0;var hw=new lx,pw=new lx,fw=new lx,dw=new lx,mw=new lx,vw=new lx,gw=new lx,yw=new lx,_w=new lx,bw=new lx,xw=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new lx,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new lx,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new lx;nm(this,e),this.a=t,this.b=n,this.c=r}return mr(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return hw.subVectors(this.c,this.b),pw.subVectors(this.a,this.b),.5*hw.cross(pw).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,o){return e.getUV(t,this.a,this.b,this.c,n,r,i,o)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,o=this.b,a=this.c;mw.subVectors(o,i),vw.subVectors(a,i),yw.subVectors(e,i);var s=mw.dot(yw),l=vw.dot(yw);if(s<=0&&l<=0)return t.copy(i);_w.subVectors(e,o);var u=mw.dot(_w),c=vw.dot(_w);if(u>=0&&c<=u)return t.copy(o);var h=s*c-u*l;if(h<=0&&s>=0&&u<=0)return n=s/(s-u),t.copy(i).addScaledVector(mw,n);bw.subVectors(e,a);var p=mw.dot(bw),f=vw.dot(bw);if(f>=0&&p<=f)return t.copy(a);var d=p*l-s*f;if(d<=0&&l>=0&&f<=0)return r=l/(l-f),t.copy(i).addScaledVector(vw,r);var m=u*f-p*c;if(m<=0&&c-u>=0&&p-f>=0)return gw.subVectors(a,o),r=(c-u)/(c-u+(p-f)),t.copy(o).addScaledVector(gw,r);var v=1/(m+d+h);return n=d*v,r=h*v,t.copy(i).addScaledVector(mw,n).addScaledVector(vw,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),hw.subVectors(e,t),r.cross(hw);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){hw.subVectors(r,t),pw.subVectors(n,t),fw.subVectors(e,t);var o=hw.dot(hw),a=hw.dot(pw),s=hw.dot(fw),l=pw.dot(pw),u=pw.dot(fw),c=o*l-a*a;if(0===c)return i.set(-2,-1,-1);var h=1/c,p=(l*s-a*u)*h,f=(o*u-a*s)*h;return i.set(1-p-f,f,p)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,dw),dw.x>=0&&dw.y>=0&&dw.x+dw.y<=1}},{key:"getUV",value:function(e,t,n,r,i,o,a,s){return this.getBarycoord(e,t,n,r,dw),s.set(0,0),s.addScaledVector(i,dw.x),s.addScaledVector(o,dw.y),s.addScaledVector(a,dw.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return hw.subVectors(n,t),pw.subVectors(e,t),hw.cross(pw).dot(r)<0}}]),e}(),ww=0,Sw=function(e){eg(n,e);var t=ig(n);function n(){var e;return nm(this,n),e=t.call(this),Object.defineProperty(yr(e),"id",{value:ww++}),e.uuid=Tb(),e.name="",e.type="Material",e.fog=!0,e.blending=Ag,e.side=wg,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.blendSrc=Vg,e.blendDst=Hg,e.blendEquation=Ig,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=Qg,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=lb,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=X_,e.stencilZFail=X_,e.stencilZPass=X_,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return mr(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===Mg;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Ag&&(n.blending=this.blending),this.side!==wg&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),o=r(e.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(xb);Sw.prototype.isMaterial=!0,Sw.fromType=function(){return null};var Ew=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this)).type="MeshBasicMaterial",r.color=new Xb(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=ry,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.setValues(e),r}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),n}(Sw);Ew.prototype.isMeshBasicMaterial=!0;var Mw=new lx,kw=new Db,Tw=function(){function e(t,n,r){if(nm(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=!0===r,this.usage=ub,this.updateRange={offset:0,count:-1},this.version=0}return mr(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"copyColorsArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new Xb),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this}},{key:"copyVector2sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new Db),t[n++]=o.x,t[n++]=o.y}return this}},{key:"copyVector3sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new lx),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this}},{key:"copyVector4sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new ex),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)kw.fromBufferAttribute(this,t),kw.applyMatrix3(e),this.setXY(t,kw.x,kw.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)Mw.fromBufferAttribute(this,r),Mw.applyMatrix3(e),this.setXYZ(r,Mw.x,Mw.y,Mw.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)Mw.x=this.getX(t),Mw.y=this.getY(t),Mw.z=this.getZ(t),Mw.applyMatrix4(e),this.setXYZ(t,Mw.x,Mw.y,Mw.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Mw.x=this.getX(t),Mw.y=this.getY(t),Mw.z=this.getZ(t),Mw.applyNormalMatrix(e),this.setXYZ(t,Mw.x,Mw.y,Mw.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Mw.x=this.getX(t),Mw.y=this.getY(t),Mw.z=this.getZ(t),Mw.transformDirection(e),this.setXYZ(t,Mw.x,Mw.y,Mw.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){return this.array[e*this.itemSize]}},{key:"setX",value:function(e,t){return this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){return this.array[e*this.itemSize+1]}},{key:"setY",value:function(e,t){return this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){return this.array[e*this.itemSize+2]}},{key:"setZ",value:function(e,t){return this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){return this.array[e*this.itemSize+3]}},{key:"setW",value:function(e,t){return this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==ub&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}]),e}();Tw.prototype.isBufferAttribute=!0;var Aw=function(e){eg(n,e);var t=ig(n);function n(e,r,i){return nm(this,n),t.call(this,new Int8Array(e),r,i)}return mr(n)}(Tw),Cw=function(e){eg(n,e);var t=ig(n);function n(e,r,i){return nm(this,n),t.call(this,new Uint8Array(e),r,i)}return mr(n)}(Tw),Pw=function(e){eg(n,e);var t=ig(n);function n(e,r,i){return nm(this,n),t.call(this,new Uint8ClampedArray(e),r,i)}return mr(n)}(Tw),Ow=function(e){eg(n,e);var t=ig(n);function n(e,r,i){return nm(this,n),t.call(this,new Int16Array(e),r,i)}return mr(n)}(Tw),Rw=function(e){eg(n,e);var t=ig(n);function n(e,r,i){return nm(this,n),t.call(this,new Uint16Array(e),r,i)}return mr(n)}(Tw),Iw=function(e){eg(n,e);var t=ig(n);function n(e,r,i){return nm(this,n),t.call(this,new Int32Array(e),r,i)}return mr(n)}(Tw),Lw=function(e){eg(n,e);var t=ig(n);function n(e,r,i){return nm(this,n),t.call(this,new Uint32Array(e),r,i)}return mr(n)}(Tw),Dw=function(e){eg(n,e);var t=ig(n);function n(e,r,i){return nm(this,n),t.call(this,new Uint16Array(e),r,i)}return mr(n)}(Tw);Dw.prototype.isFloat16BufferAttribute=!0;var zw=function(e){eg(n,e);var t=ig(n);function n(e,r,i){return nm(this,n),t.call(this,new Float32Array(e),r,i)}return mr(n)}(Tw),Nw=function(e){eg(n,e);var t=ig(n);function n(e,r,i){return nm(this,n),t.call(this,new Float64Array(e),r,i)}return mr(n)}(Tw),Bw=0,Fw=new Fx,jw=new cw,Uw=new lx,Vw=new hx,Hw=new hx,Ww=new lx,Gw=function(e){eg(n,e);var t=ig(n);function n(){var e;return nm(this,n),e=t.call(this),Object.defineProperty(yr(e),"id",{value:Bw++}),e.uuid=Tb(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return mr(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(Nb(e)?Lw:Rw)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new zb).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return Fw.makeRotationFromQuaternion(e),this.applyMatrix4(Fw),this}},{key:"rotateX",value:function(e){return Fw.makeRotationX(e),this.applyMatrix4(Fw),this}},{key:"rotateY",value:function(e){return Fw.makeRotationY(e),this.applyMatrix4(Fw),this}},{key:"rotateZ",value:function(e){return Fw.makeRotationZ(e),this.applyMatrix4(Fw),this}},{key:"translate",value:function(e,t,n){return Fw.makeTranslation(e,t,n),this.applyMatrix4(Fw),this}},{key:"scale",value:function(e,t,n){return Fw.makeScale(e,t,n),this.applyMatrix4(Fw),this}},{key:"lookAt",value:function(e){return jw.lookAt(e),jw.updateMatrix(),this.applyMatrix4(jw.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Uw).negate(),this.translate(Uw.x,Uw.y,Uw.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new zw(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new hx);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new lx(-1/0,-1/0,-1/0),new lx(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];Vw.setFromBufferAttribute(i),this.morphTargetsRelative?(Ww.addVectors(this.boundingBox.min,Vw.min),this.boundingBox.expandByPoint(Ww),Ww.addVectors(this.boundingBox.max,Vw.max),this.boundingBox.expandByPoint(Ww)):(this.boundingBox.expandByPoint(Vw.min),this.boundingBox.expandByPoint(Vw.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new Px);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new lx,1/0);if(e){var n=this.boundingSphere.center;if(Vw.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var o=t[r];Hw.setFromBufferAttribute(o),this.morphTargetsRelative?(Ww.addVectors(Vw.min,Hw.min),Vw.expandByPoint(Ww),Ww.addVectors(Vw.max,Hw.max),Vw.expandByPoint(Ww)):(Vw.expandByPoint(Hw.min),Vw.expandByPoint(Hw.max))}Vw.getCenter(n);for(var a=0,s=0,l=e.count;s<l;s++)Ww.fromBufferAttribute(e,s),a=Math.max(a,n.distanceToSquared(Ww));if(t)for(var u=0,c=t.length;u<c;u++)for(var h=t[u],p=this.morphTargetsRelative,f=0,d=h.count;f<d;f++)Ww.fromBufferAttribute(h,f),p&&(Uw.fromBufferAttribute(e,f),Ww.add(Uw)),a=Math.max(a,n.distanceToSquared(Ww));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,o=t.uv.array,a=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Tw(new Float32Array(4*a),4));for(var s=this.getAttribute("tangent").array,l=[],u=[],c=0;c<a;c++)l[c]=new lx,u[c]=new lx;var h=new lx,p=new lx,f=new lx,d=new Db,m=new Db,v=new Db,g=new lx,y=new lx,_=this.groups;0===_.length&&(_=[{start:0,count:n.length}]);for(var b=0,x=_.length;b<x;++b)for(var w=_[b],S=w.start,E=S,M=S+w.count;E<M;E+=3)z(n[E+0],n[E+1],n[E+2]);for(var k=new lx,T=new lx,A=new lx,C=new lx,P=0,O=_.length;P<O;++P)for(var R=_[P],I=R.start,L=I,D=I+R.count;L<D;L+=3)N(n[L+0]),N(n[L+1]),N(n[L+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function z(e,t,n){h.fromArray(r,3*e),p.fromArray(r,3*t),f.fromArray(r,3*n),d.fromArray(o,2*e),m.fromArray(o,2*t),v.fromArray(o,2*n),p.sub(h),f.sub(h),m.sub(d),v.sub(d);var i=1/(m.x*v.y-v.x*m.y);isFinite(i)&&(g.copy(p).multiplyScalar(v.y).addScaledVector(f,-m.y).multiplyScalar(i),y.copy(f).multiplyScalar(m.x).addScaledVector(p,-v.x).multiplyScalar(i),l[e].add(g),l[t].add(g),l[n].add(g),u[e].add(y),u[t].add(y),u[n].add(y))}function N(e){A.fromArray(i,3*e),C.copy(A);var t=l[e];k.copy(t),k.sub(A.multiplyScalar(A.dot(t))).normalize(),T.crossVectors(C,t);var n=T.dot(u[e])<0?-1:1;s[4*e]=k.x,s[4*e+1]=k.y,s[4*e+2]=k.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new Tw(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var o=new lx,a=new lx,s=new lx,l=new lx,u=new lx,c=new lx,h=new lx,p=new lx;if(e)for(var f=0,d=e.count;f<d;f+=3){var m=e.getX(f+0),v=e.getX(f+1),g=e.getX(f+2);o.fromBufferAttribute(t,m),a.fromBufferAttribute(t,v),s.fromBufferAttribute(t,g),h.subVectors(s,a),p.subVectors(o,a),h.cross(p),l.fromBufferAttribute(n,m),u.fromBufferAttribute(n,v),c.fromBufferAttribute(n,g),l.add(h),u.add(h),c.add(h),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,_=t.count;y<_;y+=3)o.fromBufferAttribute(t,y+0),a.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),h.subVectors(s,a),p.subVectors(o,a),h.cross(p),n.setXYZ(y+0,h.x,h.y,h.z),n.setXYZ(y+1,h.x,h.y,h.z),n.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,o=e.attributes[r],a=o.array,s=o.itemSize*t,l=Math.min(a.length,i.length-s),u=0,c=s;u<l;u++,c++)i[c]=a[u];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Ww.fromBufferAttribute(e,t),Ww.normalize(),e.setXYZ(t,Ww.x,Ww.y,Ww.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,o=new n.constructor(t.length*r),a=0,s=0,l=0,u=t.length;l<u;l++){a=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(var c=0;c<r;c++)o[s++]=n[a++]}return new Tw(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var o in i){var a=e(i[o],r);t.setAttribute(o,a)}var s=this.morphAttributes;for(var l in s){for(var u=[],c=s[l],h=0,p=c.length;h<p;h++){var f=e(c[h],r);u.push(f)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;for(var d=this.groups,m=0,v=d.length;m<v;m++){var g=d[m];t.addGroup(g.start,g.count,g.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var o in i){var a=i[o];e.data.attributes[o]=a.toJSON(e.data)}var s={},l=!1;for(var u in this.morphAttributes){for(var c=this.morphAttributes[u],h=[],p=0,f=c.length;p<f;p++){var d=c[p];h.push(d.toJSON(e.data))}h.length>0&&(s[u]=h,l=!0)}l&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var m=this.groups;m.length>0&&(e.data.groups=JSON.parse(JSON.stringify(m)));var v=this.boundingSphere;return null!==v&&(e.data.boundingSphere={center:v.center.toArray(),radius:v.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var o=r[i];this.setAttribute(i,o.clone(t))}var a=e.morphAttributes;for(var s in a){for(var l=[],u=a[s],c=0,h=u.length;c<h;c++)l.push(u[c].clone(t));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var p=e.groups,f=0,d=p.length;f<d;f++){var m=p[f];this.addGroup(m.start,m.count,m.materialIndex)}var v=e.boundingBox;null!==v&&(this.boundingBox=v.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(xb);Gw.prototype.isBufferGeometry=!0;var qw=new Fx,Yw=new Bx,Xw=new Px,Zw=new lx,Kw=new lx,Jw=new lx,Qw=new lx,$w=new lx,eS=new lx,tS=new lx,nS=new lx,rS=new lx,iS=new Db,oS=new Db,aS=new Db,sS=new lx,lS=new lx,uS=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gw,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ew;return nm(this,n),(e=t.call(this)).type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=r.length;i<o;i++){var a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"raycast",value:function(e,t){var n,r=this.geometry,i=this.material,o=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),Xw.copy(r.boundingSphere),Xw.applyMatrix4(o),!1!==e.ray.intersectsSphere(Xw)&&(qw.copy(o).invert(),Yw.copy(e.ray).applyMatrix4(qw),null===r.boundingBox||!1!==Yw.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var a=r.index,s=r.attributes.position,l=r.morphAttributes.position,u=r.morphTargetsRelative,c=r.attributes.uv,h=r.attributes.uv2,p=r.groups,f=r.drawRange;if(null!==a)if(Array.isArray(i))for(var d=0,m=p.length;d<m;d++)for(var v=p[d],g=i[v.materialIndex],y=Math.max(v.start,f.start),_=Math.min(a.count,Math.min(v.start+v.count,f.start+f.count));y<_;y+=3){var b=a.getX(y),x=a.getX(y+1),w=a.getX(y+2);(n=cS(this,g,e,Yw,s,l,u,c,h,b,x,w))&&(n.faceIndex=Math.floor(y/3),n.face.materialIndex=v.materialIndex,t.push(n))}else for(var S=Math.max(0,f.start),E=Math.min(a.count,f.start+f.count);S<E;S+=3){var M=a.getX(S),k=a.getX(S+1),T=a.getX(S+2);(n=cS(this,i,e,Yw,s,l,u,c,h,M,k,T))&&(n.faceIndex=Math.floor(S/3),t.push(n))}else if(void 0!==s)if(Array.isArray(i))for(var A=0,C=p.length;A<C;A++)for(var P=p[A],O=i[P.materialIndex],R=Math.max(P.start,f.start),I=Math.min(s.count,Math.min(P.start+P.count,f.start+f.count));R<I;R+=3){(n=cS(this,O,e,Yw,s,l,u,c,h,R,R+1,R+2))&&(n.faceIndex=Math.floor(R/3),n.face.materialIndex=P.materialIndex,t.push(n))}else for(var L=Math.max(0,f.start),D=Math.min(s.count,f.start+f.count);L<D;L+=3){(n=cS(this,i,e,Yw,s,l,u,c,h,L,L+1,L+2))&&(n.faceIndex=Math.floor(L/3),t.push(n))}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}]),n}(cw);function cS(e,t,n,r,i,o,a,s,l,u,c,h){Zw.fromBufferAttribute(i,u),Kw.fromBufferAttribute(i,c),Jw.fromBufferAttribute(i,h);var p=e.morphTargetInfluences;if(o&&p){tS.set(0,0,0),nS.set(0,0,0),rS.set(0,0,0);for(var f=0,d=o.length;f<d;f++){var m=p[f],v=o[f];0!==m&&(Qw.fromBufferAttribute(v,u),$w.fromBufferAttribute(v,c),eS.fromBufferAttribute(v,h),a?(tS.addScaledVector(Qw,m),nS.addScaledVector($w,m),rS.addScaledVector(eS,m)):(tS.addScaledVector(Qw.sub(Zw),m),nS.addScaledVector($w.sub(Kw),m),rS.addScaledVector(eS.sub(Jw),m)))}Zw.add(tS),Kw.add(nS),Jw.add(rS)}e.isSkinnedMesh&&(e.boneTransform(u,Zw),e.boneTransform(c,Kw),e.boneTransform(h,Jw));var g=function(e,t,n,r,i,o,a,s){if(null===(t.side===Sg?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,t.side!==Eg,s)))return null;lS.copy(s),lS.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(lS);return l<n.near||l>n.far?null:{distance:l,point:lS.clone(),object:e}}(e,t,n,r,Zw,Kw,Jw,sS);if(g){s&&(iS.fromBufferAttribute(s,u),oS.fromBufferAttribute(s,c),aS.fromBufferAttribute(s,h),g.uv=xw.getUV(sS,Zw,Kw,Jw,iS,oS,aS,new Db)),l&&(iS.fromBufferAttribute(l,u),oS.fromBufferAttribute(l,c),aS.fromBufferAttribute(l,h),g.uv2=xw.getUV(sS,Zw,Kw,Jw,iS,oS,aS,new Db));var y={a:u,b:c,c:h,normal:new lx,materialIndex:0};xw.getNormal(Zw,Kw,Jw,y.normal),g.face=y}return g}uS.prototype.isMesh=!0;var hS=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;nm(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:o,widthSegments:a,heightSegments:s,depthSegments:l};var u=yr(e);a=Math.floor(a),s=Math.floor(s),l=Math.floor(l);var c=[],h=[],p=[],f=[],d=0,m=0;function v(e,t,n,r,i,o,a,s,l,v,g){for(var y=o/l,_=a/v,b=o/2,x=a/2,w=s/2,S=l+1,E=v+1,M=0,k=0,T=new lx,A=0;A<E;A++)for(var C=A*_-x,P=0;P<S;P++){var O=P*y-b;T[e]=O*r,T[t]=C*i,T[n]=w,h.push(T.x,T.y,T.z),T[e]=0,T[t]=0,T[n]=s>0?1:-1,p.push(T.x,T.y,T.z),f.push(P/l),f.push(1-A/v),M+=1}for(var R=0;R<v;R++)for(var I=0;I<l;I++){var L=d+I+S*R,D=d+I+S*(R+1),z=d+(I+1)+S*(R+1),N=d+(I+1)+S*R;c.push(L,D,N),c.push(D,z,N),k+=6}u.addGroup(m,k,g),m+=k,d+=M}return v("z","y","x",-1,-1,o,i,r,l,s,0),v("z","y","x",1,-1,o,i,-r,l,s,1),v("x","z","y",1,1,r,o,i,a,l,2),v("x","z","y",1,-1,r,o,-i,a,l,3),v("x","y","z",1,-1,r,i,o,a,s,4),v("x","y","z",-1,-1,r,i,-o,a,s,5),e.setIndex(c),e.setAttribute("position",new zw(h,3)),e.setAttribute("normal",new zw(p,3)),e.setAttribute("uv",new zw(f,2)),e}return mr(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(Gw);function pS(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function fS(e){for(var t={},n=0;n<e.length;n++){var r=pS(e[n]);for(var i in r)t[i]=r[i]}return t}var dS={clone:pS,merge:fS},mS=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this)).type="ShaderMaterial",r.defines={},r.uniforms={},r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),r.setValues(e)),r}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=pS(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=cg(tg(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var o={};for(var a in this.extensions)!0===this.extensions[a]&&(o[a]=!0);return Object.keys(o).length>0&&(t.extensions=o),t}}]),n}(Sw);mS.prototype.isShaderMaterial=!0;var vS=function(e){eg(n,e);var t=ig(n);function n(){var e;return nm(this,n),(e=t.call(this)).type="Camera",e.matrixWorldInverse=new Fx,e.projectionMatrix=new Fx,e.projectionMatrixInverse=new Fx,e}return mr(n,[{key:"copy",value:function(e,t){return cg(tg(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){cg(tg(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){cg(tg(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(cw);vS.prototype.isCamera=!0;var gS=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return nm(this,n),(e=t.call(this)).type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=o,e.far=a,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return mr(n,[{key:"copy",value:function(e,t){return cg(tg(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*kb*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*Mb*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*kb*Math.atan(Math.tan(.5*Mb*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*Mb*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=cg(tg(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(vS);gS.prototype.isPerspectiveCamera=!0;var yS=90,_S=function(e){eg(n,e);var t=ig(n);function n(e,r,i){var o;if(nm(this,n),(o=t.call(this)).type="CubeCamera",!0!==i.isWebGLCubeRenderTarget)return console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter."),rg(o);o.renderTarget=i;var a=new gS(yS,1,e,r);a.layers=o.layers,a.up.set(0,-1,0),a.lookAt(new lx(1,0,0)),o.add(a);var s=new gS(yS,1,e,r);s.layers=o.layers,s.up.set(0,-1,0),s.lookAt(new lx(-1,0,0)),o.add(s);var l=new gS(yS,1,e,r);l.layers=o.layers,l.up.set(0,0,1),l.lookAt(new lx(0,1,0)),o.add(l);var u=new gS(yS,1,e,r);u.layers=o.layers,u.up.set(0,0,-1),u.lookAt(new lx(0,-1,0)),o.add(u);var c=new gS(yS,1,e,r);c.layers=o.layers,c.up.set(0,-1,0),c.lookAt(new lx(0,0,1)),o.add(c);var h=new gS(yS,1,e,r);return h.layers=o.layers,h.up.set(0,-1,0),h.lookAt(new lx(0,0,-1)),o.add(h),o}return mr(n,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=h(this.children,6),i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],u=r[5],c=e.xr.enabled,p=e.getRenderTarget();e.xr.enabled=!1;var f=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,o),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,l),n.texture.generateMipmaps=f,e.setRenderTarget(n,5),e.render(t,u),e.setRenderTarget(p),e.xr.enabled=c,n.texture.needsPMREMUpdate=!0}}]),n}(cw),bS=function(e){eg(n,e);var t=ig(n);function n(e,r,i,o,a,s,l,u,c,h){var p;return nm(this,n),e=void 0!==e?e:[],r=void 0!==r?r:fy,(p=t.call(this,e,r,i,o,a,s,l,u,c,h)).flipY=!1,p}return mr(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}($b);bS.prototype.isCubeTexture=!0;var xS=function(e){eg(n,e);var t=ig(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};nm(this,n);var o={width:e,height:e,depth:1},a=[o,o,o,o,o,o];return(r=t.call(this,e,e,i)).texture=new bS(a,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),r.texture.isRenderTargetTexture=!0,r.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,r.texture.minFilter=void 0!==i.minFilter?i.minFilter:Ty,r}return mr(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.format=Gy,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",o=new hS(5,5,5),a=new mS({name:"CubemapFromEquirect",uniforms:pS(n),vertexShader:r,fragmentShader:i,side:Sg,blending:Tg});a.uniforms.tEquirect.value=t;var s=new uS(o,a),l=t.minFilter;return t.minFilter===Py&&(t.minFilter=Ty),new _S(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(tx);xS.prototype.isWebGLCubeRenderTarget=!0;var wS=new lx,SS=new lx,ES=new zb,MS=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new lx(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;nm(this,e),this.normal=t,this.constant=n}return mr(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=wS.subVectors(n,t).cross(SS.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){var n=e.delta(wS),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(n).multiplyScalar(i).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||ES.getNormalMatrix(e),r=this.coplanarPoint(wS).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();MS.prototype.isPlane=!0;var kS=new Px,TS=new lx,AS=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new MS,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new MS,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new MS,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new MS,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new MS,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new MS;nm(this,e),this.planes=[t,n,r,i,o,a]}return mr(e,[{key:"set",value:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6],c=n[7],h=n[8],p=n[9],f=n[10],d=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return t[0].setComponents(a-r,c-s,d-h,y-m).normalize(),t[1].setComponents(a+r,c+s,d+h,y+m).normalize(),t[2].setComponents(a+i,c+l,d+p,y+v).normalize(),t[3].setComponents(a-i,c-l,d-p,y-v).normalize(),t[4].setComponents(a-o,c-u,d-f,y-g).normalize(),t[5].setComponents(a+o,c+u,d+f,y+g).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),kS.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(kS)}},{key:"intersectsSprite",value:function(e){return kS.center.set(0,0,0),kS.radius=.7071067811865476,kS.applyMatrix4(e.matrixWorld),this.intersectsSphere(kS)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(TS.x=r.normal.x>0?e.max.x:e.min.x,TS.y=r.normal.y>0?e.max.y:e.min.y,TS.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(TS)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function CS(){var e=null,t=!1,n=null,r=null;function i(t,o){n(t,o),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function PS(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var o=r.get(t);(!o||o.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var a=r.get(t);void 0===a?r.set(t,function(t,r){var i,o=t.array,a=t.usage,s=e.createBuffer();if(e.bindBuffer(r,s),e.bufferData(r,o,a),t.onUploadCallback(),o instanceof Float32Array)i=5126;else if(o instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=5131}else i=5123;else if(o instanceof Int16Array)i=5122;else if(o instanceof Uint32Array)i=5125;else if(o instanceof Int32Array)i=5124;else if(o instanceof Int8Array)i=5120;else if(o instanceof Uint8Array)i=5121;else{if(!(o instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+o);i=5121}return{buffer:s,type:i,bytesPerElement:o.BYTES_PER_ELEMENT,version:t.version}}(t,i)):a.version<t.version&&(!function(t,r,i){var o=r.array,a=r.updateRange;e.bindBuffer(i,t),-1===a.count?e.bufferSubData(i,0,o):(n?e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1)}(a.buffer,t,i),a.version=t.version)}}}}var OS=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;nm(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:o,heightSegments:a};for(var s=r/2,l=i/2,u=Math.floor(o),c=Math.floor(a),h=u+1,p=c+1,f=r/u,d=i/c,m=[],v=[],g=[],y=[],_=0;_<p;_++)for(var b=_*d-l,x=0;x<h;x++){var w=x*f-s;v.push(w,-b,0),g.push(0,0,1),y.push(x/u),y.push(1-_/c)}for(var S=0;S<c;S++)for(var E=0;E<u;E++){var M=E+h*S,k=E+h*(S+1),T=E+1+h*(S+1),A=E+1+h*S;m.push(M,k,A),m.push(k,T,A)}return e.setIndex(m),e.setAttribute("position",new zw(v,3)),e.setAttribute("normal",new zw(g,3)),e.setAttribute("uv",new zw(y,2)),e}return mr(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(Gw),RS={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec;\n\t\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\t\treflectVec = reflect( - viewDir, normal );\n\t\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\t#else\n\t\t\t\treflectVec = refract( - viewDir, normal, refractionRatio );\n\t\t\t#endif\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tlightMapIrradiance *= PI;\n\t#endif\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ]\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform vec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tfloat texelIndex = float( vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset );\n\t\t\tfloat y = floor( texelIndex / morphTargetsTextureSize.x );\n\t\t\tfloat x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tvec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );\n\t\t\treturn texture( morphTargetsTexture, morphUV );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},IS={common:{diffuse:{value:new Xb(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new zb},uv2Transform:{value:new zb},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Db(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Xb(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Xb(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new zb}},sprite:{diffuse:{value:new Xb(16777215)},opacity:{value:1},center:{value:new Db(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new zb}}},LS={basic:{uniforms:fS([IS.common,IS.specularmap,IS.envmap,IS.aomap,IS.lightmap,IS.fog]),vertexShader:RS.meshbasic_vert,fragmentShader:RS.meshbasic_frag},lambert:{uniforms:fS([IS.common,IS.specularmap,IS.envmap,IS.aomap,IS.lightmap,IS.emissivemap,IS.fog,IS.lights,{emissive:{value:new Xb(0)}}]),vertexShader:RS.meshlambert_vert,fragmentShader:RS.meshlambert_frag},phong:{uniforms:fS([IS.common,IS.specularmap,IS.envmap,IS.aomap,IS.lightmap,IS.emissivemap,IS.bumpmap,IS.normalmap,IS.displacementmap,IS.fog,IS.lights,{emissive:{value:new Xb(0)},specular:{value:new Xb(1118481)},shininess:{value:30}}]),vertexShader:RS.meshphong_vert,fragmentShader:RS.meshphong_frag},standard:{uniforms:fS([IS.common,IS.envmap,IS.aomap,IS.lightmap,IS.emissivemap,IS.bumpmap,IS.normalmap,IS.displacementmap,IS.roughnessmap,IS.metalnessmap,IS.fog,IS.lights,{emissive:{value:new Xb(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:RS.meshphysical_vert,fragmentShader:RS.meshphysical_frag},toon:{uniforms:fS([IS.common,IS.aomap,IS.lightmap,IS.emissivemap,IS.bumpmap,IS.normalmap,IS.displacementmap,IS.gradientmap,IS.fog,IS.lights,{emissive:{value:new Xb(0)}}]),vertexShader:RS.meshtoon_vert,fragmentShader:RS.meshtoon_frag},matcap:{uniforms:fS([IS.common,IS.bumpmap,IS.normalmap,IS.displacementmap,IS.fog,{matcap:{value:null}}]),vertexShader:RS.meshmatcap_vert,fragmentShader:RS.meshmatcap_frag},points:{uniforms:fS([IS.points,IS.fog]),vertexShader:RS.points_vert,fragmentShader:RS.points_frag},dashed:{uniforms:fS([IS.common,IS.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:RS.linedashed_vert,fragmentShader:RS.linedashed_frag},depth:{uniforms:fS([IS.common,IS.displacementmap]),vertexShader:RS.depth_vert,fragmentShader:RS.depth_frag},normal:{uniforms:fS([IS.common,IS.bumpmap,IS.normalmap,IS.displacementmap,{opacity:{value:1}}]),vertexShader:RS.meshnormal_vert,fragmentShader:RS.meshnormal_frag},sprite:{uniforms:fS([IS.sprite,IS.fog]),vertexShader:RS.sprite_vert,fragmentShader:RS.sprite_frag},background:{uniforms:{uvTransform:{value:new zb},t2D:{value:null}},vertexShader:RS.background_vert,fragmentShader:RS.background_frag},cube:{uniforms:fS([IS.envmap,{opacity:{value:1}}]),vertexShader:RS.cube_vert,fragmentShader:RS.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:RS.equirect_vert,fragmentShader:RS.equirect_frag},distanceRGBA:{uniforms:fS([IS.common,IS.displacementmap,{referencePosition:{value:new lx},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:RS.distanceRGBA_vert,fragmentShader:RS.distanceRGBA_frag},shadow:{uniforms:fS([IS.lights,IS.fog,{color:{value:new Xb(0)},opacity:{value:1}}]),vertexShader:RS.shadow_vert,fragmentShader:RS.shadow_frag}};function DS(e,t,n,r,i,o){var a,s,l=new Xb(0),u=!0===i?0:1,c=null,h=0,p=null;function f(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,o)}return{getClearColor:function(){return l},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l.set(e),f(l,u=t)},getClearAlpha:function(){return u},setClearAlpha:function(e){f(l,u=e)},render:function(n,i){var o=!1,d=!0===i.isScene?i.background:null;d&&d.isTexture&&(d=t.get(d));var m=e.xr,v=m.getSession&&m.getSession();v&&"additive"===v.environmentBlendMode&&(d=null),null===d?f(l,u):d&&d.isColor&&(f(d,1),o=!0),(e.autoClear||o)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),d&&(d.isCubeTexture||d.mapping===gy)?(void 0===s&&((s=new uS(new hS(1,1,1),new mS({name:"BackgroundCubeMaterial",uniforms:pS(LS.cube.uniforms),vertexShader:LS.cube.vertexShader,fragmentShader:LS.cube.fragmentShader,side:Sg,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),s.geometry.deleteAttribute("uv"),s.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(s.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(s)),s.material.uniforms.envMap.value=d,s.material.uniforms.flipEnvMap.value=d.isCubeTexture&&!1===d.isRenderTargetTexture?-1:1,c===d&&h===d.version&&p===e.toneMapping||(s.material.needsUpdate=!0,c=d,h=d.version,p=e.toneMapping),n.unshift(s,s.geometry,s.material,0,0,null)):d&&d.isTexture&&(void 0===a&&((a=new uS(new OS(2,2),new mS({name:"BackgroundMaterial",uniforms:pS(LS.background.uniforms),vertexShader:LS.background.vertexShader,fragmentShader:LS.background.fragmentShader,side:wg,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(a)),a.material.uniforms.t2D.value=d,!0===d.matrixAutoUpdate&&d.updateMatrix(),a.material.uniforms.uvTransform.value.copy(d.matrix),c===d&&h===d.version&&p===e.toneMapping||(a.material.needsUpdate=!0,c=d,h=d.version,p=e.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null))}}}function zS(e,t,n,r){var i=e.getParameter(34921),o=r.isWebGL2?null:t.get("OES_vertex_array_object"),a=r.isWebGL2||null!==o,s={},l=p(null),u=l;function c(t){return r.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function h(t){return r.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function p(e){for(var t=[],n=[],r=[],o=0;o<i;o++)t[o]=0,n[o]=0,r[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function f(){for(var e=u.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function d(e){m(e,0)}function m(n,i){var o=u.newAttributes,a=u.enabledAttributes,s=u.attributeDivisors;(o[n]=1,0===a[n]&&(e.enableVertexAttribArray(n),a[n]=1),s[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function v(){for(var t=u.newAttributes,n=u.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function g(t,n,i,o,a,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,o,a,s):e.vertexAttribIPointer(t,n,i,a,s)}function y(){_(),u!==l&&c((u=l).object)}function _(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,h,y,_){var b=!1;if(a){var x=function(t,n,i){var a=!0===i.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);var u=l[n.id];void 0===u&&(u={},l[n.id]=u);var c=u[a];void 0===c&&(c=p(r.isWebGL2?e.createVertexArray():o.createVertexArrayOES()),u[a]=c);return c}(y,h,l);u!==x&&c((u=x).object),b=function(e,t){var n=u.attributes,r=e.attributes,i=0;for(var o in r){var a=n[o],s=r[o];if(void 0===a)return!0;if(a.attribute!==s)return!0;if(a.data!==s.data)return!0;i++}return u.attributesNum!==i||u.index!==t}(y,_),b&&function(e,t){var n={},r=e.attributes,i=0;for(var o in r){var a=r[o],s={};s.attribute=a,a.data&&(s.data=a.data),n[o]=s,i++}u.attributes=n,u.attributesNum=i,u.index=t}(y,_)}else{var w=!0===l.wireframe;u.geometry===y.id&&u.program===h.id&&u.wireframe===w||(u.geometry=y.id,u.program=h.id,u.wireframe=w,b=!0)}!0===i.isInstancedMesh&&(b=!0),null!==_&&n.update(_,34963),b&&(!function(i,o,a,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;f();var l=s.attributes,u=a.getAttributes(),c=o.defaultAttributeValues;for(var h in u){var p=u[h];if(p.location>=0){var y=l[h];if(void 0===y&&("instanceMatrix"===h&&i.instanceMatrix&&(y=i.instanceMatrix),"instanceColor"===h&&i.instanceColor&&(y=i.instanceColor)),void 0!==y){var _=y.normalized,b=y.itemSize,x=n.get(y);if(void 0===x)continue;var w=x.buffer,S=x.type,E=x.bytesPerElement;if(y.isInterleavedBufferAttribute){var M=y.data,k=M.stride,T=y.offset;if(M.isInstancedInterleavedBuffer){for(var A=0;A<p.locationSize;A++)m(p.location+A,M.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=M.meshPerAttribute*M.count)}else for(var C=0;C<p.locationSize;C++)d(p.location+C);e.bindBuffer(34962,w);for(var P=0;P<p.locationSize;P++)g(p.location+P,b/p.locationSize,S,_,k*E,(T+b/p.locationSize*P)*E)}else{if(y.isInstancedBufferAttribute){for(var O=0;O<p.locationSize;O++)m(p.location+O,y.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=y.meshPerAttribute*y.count)}else for(var R=0;R<p.locationSize;R++)d(p.location+R);e.bindBuffer(34962,w);for(var I=0;I<p.locationSize;I++)g(p.location+I,b/p.locationSize,S,_,b*E,b/p.locationSize*I*E)}}else if(void 0!==c){var L=c[h];if(void 0!==L)switch(L.length){case 2:e.vertexAttrib2fv(p.location,L);break;case 3:e.vertexAttrib3fv(p.location,L);break;case 4:e.vertexAttrib4fv(p.location,L);break;default:e.vertexAttrib1fv(p.location,L)}}}}v()}(i,l,h,y),null!==_&&e.bindBuffer(34963,n.get(_).buffer))},reset:y,resetDefaultState:_,dispose:function(){for(var e in y(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)h(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)h(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)h(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:f,enableAttribute:d,disableUnusedAttributes:v}}function NS(e,t,n,r){var i,o=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,a,s){if(0!==s){var l,u;if(o)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](i,r,a,s),n.update(a,i,s)}}}function BS(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var o="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var l=o||t.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),h=e.getParameter(35660),p=e.getParameter(3379),f=e.getParameter(34076),d=e.getParameter(34921),m=e.getParameter(36347),v=e.getParameter(36348),g=e.getParameter(36349),y=h>0,_=o||t.has("OES_texture_float");return{isWebGL2:o,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:h,maxTextureSize:p,maxCubemapSize:f,maxAttributes:d,maxVertexUniforms:m,maxVaryings:v,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:_,floatVertexTextures:y&&_,maxSamples:o?e.getParameter(36183):0}}function FS(e){var t=this,n=null,r=0,i=!1,o=!1,a=new MS,s=new zb,l={value:null,needsUpdate:!1};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function c(e,n,r,i){var o=null!==e?e.length:0,u=null;if(0!==o){if(u=l.value,!0!==i||null===u){var c=r+4*o,h=n.matrixWorldInverse;s.getNormalMatrix(h),(null===u||u.length<c)&&(u=new Float32Array(c));for(var p=0,f=r;p!==o;++p,f+=4)a.copy(e[p]).applyMatrix4(h,s),a.normal.toArray(u,f),u[f+3]=a.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,o){var a=0!==e.length||t||0!==r||i;return i=t,n=c(e,o,0),r=e.length,a},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1,u()},this.setState=function(t,a,s){var h=t.clippingPlanes,p=t.clipIntersection,f=t.clipShadows,d=e.get(t);if(!i||null===h||0===h.length||o&&!f)o?c(null):u();else{var m=o?0:r,v=4*m,g=d.clippingState||null;l.value=g,g=c(h,a,v,s);for(var y=0;y!==v;++y)g[y]=n[y];d.clippingState=g,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=m}}}function jS(e){var t=new WeakMap;function n(e,t){return t===my?e.mapping=fy:t===vy&&(e.mapping=dy),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var o=i.mapping;if(o===my||o===vy){if(t.has(i))return n(t.get(i).texture,i.mapping);var a=i.image;if(a&&a.height>0){var s=new xS(a.height/2);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}LS.physical={uniforms:fS([LS.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Db(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Xb(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Db},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Xb(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Xb(1,1,1)},specularColorMap:{value:null}}]),vertexShader:RS.meshphysical_vert,fragmentShader:RS.meshphysical_frag};var US=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return nm(this,n),(e=t.call(this)).type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=o,e.bottom=a,e.near=s,e.far=l,e.updateProjectionMatrix(),e}return mr(n,[{key:"copy",value:function(e,t){return cg(tg(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o=(i+=l*this.view.offsetX)+l*this.view.width,s=(a-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=cg(tg(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(vS);US.prototype.isOrthographicCamera=!0;var VS=[.125,.215,.35,.446,.526,.582],HS=20,WS=new US,GS=new Xb,qS=null,YS=(1+Math.sqrt(5))/2,XS=1/YS,ZS=[new lx(1,1,1),new lx(-1,1,1),new lx(1,1,-1),new lx(-1,1,-1),new lx(0,YS,XS),new lx(0,YS,-XS),new lx(XS,0,YS),new lx(-XS,0,YS),new lx(YS,XS,0),new lx(-YS,XS,0)],KS=function(){function e(t){nm(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return mr(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;qS=this._renderer.getRenderTarget(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=eE(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=$S(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(qS),e.scissorTest=!1,QS(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===fy||e.mapping===dy?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),qS=this._renderer.getRenderTarget();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize-32,n={magFilter:Ty,minFilter:Ty,generateMipmaps:!1,type:Fy,format:Gy,encoding:U_,depthBuffer:!1},r=JS(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=JS(e,t,n);var i=this._lodMax,o=function(e){for(var t=[],n=[],r=[],i=e,o=e-4+1+VS.length,a=0;a<o;a++){var s=Math.pow(2,i);n.push(s);var l=1/s;a>e-4?l=VS[a-e+4-1]:0===a&&(l=0),r.push(l);for(var u=1/(s-1),c=-u/2,h=1+u/2,p=[c,c,h,c,h,h,c,c,h,h,c,h],f=6,d=6,m=3,v=2,g=1,y=new Float32Array(m*d*f),_=new Float32Array(v*d*f),b=new Float32Array(g*d*f),x=0;x<f;x++){var w=x%3*2/3-1,S=x>2?0:-1,E=[w,S,0,w+2/3,S,0,w+2/3,S+1,0,w,S,0,w+2/3,S+1,0,w,S+1,0];y.set(E,m*d*x),_.set(p,v*d*x);var M=[x,x,x,x,x,x];b.set(M,g*d*x)}var k=new Gw;k.setAttribute("position",new Tw(y,m)),k.setAttribute("uv",new Tw(_,v)),k.setAttribute("faceIndex",new Tw(b,g)),t.push(k),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(i);this._sizeLods=o.sizeLods,this._lodPlanes=o.lodPlanes,this._sigmas=o.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(HS),i=new lx(0,1,0);return new mS({name:"SphericalGaussianBlur",defines:{n:HS,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:Tg,depthTest:!1,depthWrite:!1})}(i,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new uS(this._lodPlanes[0],e);this._renderer.compile(t,WS)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new gS(90,1,t,n),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.toneMapping;s.getClearColor(GS),s.toneMapping=ay,s.autoClear=!1;var c=new Ew({name:"PMREM.Background",side:Sg,depthWrite:!1,depthTest:!1}),h=new uS(new hS,c),p=!1,f=e.background;f?f.isColor&&(c.color.copy(f),e.background=null,p=!0):(c.color.copy(GS),p=!0);for(var d=0;d<6;d++){var m=d%3;0===m?(i.up.set(0,o[d],0),i.lookAt(a[d],0,0)):1===m?(i.up.set(0,0,o[d]),i.lookAt(0,a[d],0)):(i.up.set(0,o[d],0),i.lookAt(0,0,a[d]));var v=this._cubeSize;QS(r,m*v,d>2?v:0,v,v),s.setRenderTarget(r),p&&s.render(h,i),s.render(e,i)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=u,s.autoClear=l,e.background=f}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===fy||e.mapping===dy;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=eE()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=$S());var i=r?this._cubemapMaterial:this._equirectMaterial,o=new uS(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var a=this._cubeSize;QS(t,0,0,3*a,2*a),n.setRenderTarget(t),n.render(o,WS)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=ZS[(r-1)%ZS.length];this._blur(e,r-1,r,i,o)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",i),this._halfBlur(o,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,o,a){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");var u=new uS(this._lodPlanes[r],l),c=l.uniforms,h=this._sizeLods[n]-1,p=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,f=i/p,d=isFinite(i)?1+Math.floor(3*f):HS;d>HS&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(d," samples when the maximum is set to ").concat(HS));for(var m=[],v=0,g=0;g<HS;++g){var y=g/f,_=Math.exp(-y*y/2);m.push(_),0===g?v+=_:g<d&&(v+=2*_)}for(var b=0;b<m.length;b++)m[b]=m[b]/v;c.envMap.value=e.texture,c.samples.value=d,c.weights.value=m,c.latitudinal.value="latitudinal"===o,a&&(c.poleAxis.value=a);var x=this._lodMax;c.dTheta.value=p,c.mipInt.value=x-n;var w=this._sizeLods[r];QS(t,3*w*(r>x-4?r-x+4:0),4*(this._cubeSize-w),3*w,2*w),s.setRenderTarget(t),s.render(u,WS)}}]),e}();function JS(e,t,n){var r=new tx(e,t,n);return r.texture.mapping=gy,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function QS(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function $S(){return new mS({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:Tg,depthTest:!1,depthWrite:!1})}function eE(){return new mS({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:Tg,depthTest:!1,depthWrite:!1})}function tE(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var o=i.mapping,a=o===my||o===vy,s=o===fy||o===dy;if(a||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var l=t.get(i);return null===n&&(n=new KS(e)),l=a?n.fromEquirectangular(i,l):n.fromCubemap(i,l),t.set(i,l),l.texture}if(t.has(i))return t.get(i).texture;var u=i.image;if(a&&u&&u.height>0||s&&u&&function(e){for(var t=0,n=6,r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(u)){null===n&&(n=new KS(e));var c=a?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,c),i.addEventListener("dispose",r),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function nE(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function rE(e,t,n,r){var i={},o=new WeakMap;function a(e){var s=e.target;for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);s.removeEventListener("dispose",a),delete i[s.id];var u=o.get(s);u&&(t.remove(u),o.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,a=0;if(null!==r){var s=r.array;a=r.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],h=s[l+1],p=s[l+2];n.push(c,h,h,p,p,c)}}else{var f=i.array;a=i.version;for(var d=0,m=f.length/3-1;d<m;d+=3){var v=d+0,g=d+1,y=d+2;n.push(v,g,g,y,y,v)}}var _=new(Nb(n)?Lw:Rw)(n,1);_.version=a;var b=o.get(e);b&&t.remove(b),o.set(e,_)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",a),i[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var i=e.morphAttributes;for(var o in i)for(var a=i[o],s=0,l=a.length;s<l;s++)t.update(a[s],34962)},getWireframeAttribute:function(e){var t=o.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return o.get(e)}}}function iE(e,t,n,r){var i,o,a,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,o,t*a),n.update(r,i,1)},this.renderInstances=function(r,l,u){if(0!==u){var c,h;if(s)c=e,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[h](i,l,o,r*a,u),n.update(l,i,u)}}}function oE(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function aE(e,t){return e[0]-t[0]}function sE(e,t){return Math.abs(t[1])-Math.abs(e[1])}function lE(e,t){var n=1,r=t.isInterleavedBufferAttribute?t.data.array:t.array;r instanceof Int8Array?n=127:r instanceof Int16Array?n=32767:r instanceof Int32Array?n=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),e.divideScalar(n)}function uE(e,t,n){for(var r={},i=new Float32Array(8),o=new WeakMap,a=new ex,s=[],l=0;l<8;l++)s[l]=[l,0];return{update:function(l,u,c,h){var p=l.morphTargetInfluences;if(!0===t.isWebGL2){var f=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,d=void 0!==f?f.length:0,m=o.get(u);if(void 0===m||m.count!==d){void 0!==m&&m.texture.dispose();var v=void 0!==u.morphAttributes.position,g=void 0!==u.morphAttributes.normal,y=void 0!==u.morphAttributes.color,_=u.morphAttributes.position||[],b=u.morphAttributes.normal||[],x=u.morphAttributes.color||[],w=0;!0===v&&(w=1),!0===g&&(w=2),!0===y&&(w=3);var S=u.attributes.position.count*w,E=1;S>t.maxTextureSize&&(E=Math.ceil(S/t.maxTextureSize),S=t.maxTextureSize);var M=new Float32Array(S*E*4*d),k=new nx(M,S,E,d);k.format=Gy,k.type=By,k.needsUpdate=!0;for(var T=4*w,A=0;A<d;A++)for(var C=_[A],P=b[A],O=x[A],R=S*E*4*A,I=0;I<C.count;I++){var L=I*T;!0===v&&(a.fromBufferAttribute(C,I),!0===C.normalized&&lE(a,C),M[R+L+0]=a.x,M[R+L+1]=a.y,M[R+L+2]=a.z,M[R+L+3]=0),!0===g&&(a.fromBufferAttribute(P,I),!0===P.normalized&&lE(a,P),M[R+L+4]=a.x,M[R+L+5]=a.y,M[R+L+6]=a.z,M[R+L+7]=0),!0===y&&(a.fromBufferAttribute(O,I),!0===O.normalized&&lE(a,P),M[R+L+8]=a.x,M[R+L+9]=a.y,M[R+L+10]=a.z,M[R+L+11]=4===O.itemSize?a.w:1)}m={count:d,texture:k,size:new Db(S,E)},o.set(u,m),u.addEventListener("dispose",(function e(){k.dispose(),o.delete(u),u.removeEventListener("dispose",e)}))}for(var D=0,z=0;z<p.length;z++)D+=p[z];var N=u.morphTargetsRelative?1:1-D;h.getUniforms().setValue(e,"morphTargetBaseInfluence",N),h.getUniforms().setValue(e,"morphTargetInfluences",p),h.getUniforms().setValue(e,"morphTargetsTexture",m.texture,n),h.getUniforms().setValue(e,"morphTargetsTextureSize",m.size)}else{var B=void 0===p?0:p.length,F=r[u.id];if(void 0===F||F.length!==B){F=[];for(var j=0;j<B;j++)F[j]=[j,0];r[u.id]=F}for(var U=0;U<B;U++){var V=F[U];V[0]=U,V[1]=p[U]}F.sort(sE);for(var H=0;H<8;H++)H<B&&F[H][1]?(s[H][0]=F[H][0],s[H][1]=F[H][1]):(s[H][0]=Number.MAX_SAFE_INTEGER,s[H][1]=0);s.sort(aE);for(var W=u.morphAttributes.position,G=u.morphAttributes.normal,q=0,Y=0;Y<8;Y++){var X=s[Y],Z=X[0],K=X[1];Z!==Number.MAX_SAFE_INTEGER&&K?(W&&u.getAttribute("morphTarget"+Y)!==W[Z]&&u.setAttribute("morphTarget"+Y,W[Z]),G&&u.getAttribute("morphNormal"+Y)!==G[Z]&&u.setAttribute("morphNormal"+Y,G[Z]),i[Y]=K,q+=K):(W&&!0===u.hasAttribute("morphTarget"+Y)&&u.deleteAttribute("morphTarget"+Y),G&&!0===u.hasAttribute("morphNormal"+Y)&&u.deleteAttribute("morphNormal"+Y),i[Y]=0)}var J=u.morphTargetsRelative?1:1-q;h.getUniforms().setValue(e,"morphTargetBaseInfluence",J),h.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function cE(e,t,n,r){var i=new WeakMap;function o(e){var t=e.target;t.removeEventListener("dispose",o),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){var a=r.render.frame,s=e.geometry,l=t.get(e,s);return i.get(l)!==a&&(t.update(l),i.set(l,a)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",o)&&e.addEventListener("dispose",o),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),l},dispose:function(){i=new WeakMap}}}var hE=new $b,pE=new nx,fE=new ix,dE=new bS,mE=[],vE=[],gE=new Float32Array(16),yE=new Float32Array(9),_E=new Float32Array(4);function bE(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,o=mE[i];if(void 0===o&&(o=new Float32Array(i),mE[i]=o),0!==t){r.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function xE(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function wE(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function SE(e,t){var n=vE[t];void 0===n&&(n=new Int32Array(t),vE[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function EE(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function ME(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(xE(n,t))return;e.uniform2fv(this.addr,t),wE(n,t)}}function kE(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(xE(n,t))return;e.uniform3fv(this.addr,t),wE(n,t)}}function TE(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(xE(n,t))return;e.uniform4fv(this.addr,t),wE(n,t)}}function AE(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(xE(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),wE(n,t)}else{if(xE(n,r))return;_E.set(r),e.uniformMatrix2fv(this.addr,!1,_E),wE(n,r)}}function CE(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(xE(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),wE(n,t)}else{if(xE(n,r))return;yE.set(r),e.uniformMatrix3fv(this.addr,!1,yE),wE(n,r)}}function PE(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(xE(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),wE(n,t)}else{if(xE(n,r))return;gE.set(r),e.uniformMatrix4fv(this.addr,!1,gE),wE(n,r)}}function OE(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function RE(e,t){var n=this.cache;xE(n,t)||(e.uniform2iv(this.addr,t),wE(n,t))}function IE(e,t){var n=this.cache;xE(n,t)||(e.uniform3iv(this.addr,t),wE(n,t))}function LE(e,t){var n=this.cache;xE(n,t)||(e.uniform4iv(this.addr,t),wE(n,t))}function DE(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function zE(e,t){var n=this.cache;xE(n,t)||(e.uniform2uiv(this.addr,t),wE(n,t))}function NE(e,t){var n=this.cache;xE(n,t)||(e.uniform3uiv(this.addr,t),wE(n,t))}function BE(e,t){var n=this.cache;xE(n,t)||(e.uniform4uiv(this.addr,t),wE(n,t))}function FE(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||hE,i)}function jE(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||fE,i)}function UE(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||dE,i)}function VE(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||pE,i)}function HE(e,t){e.uniform1fv(this.addr,t)}function WE(e,t){var n=bE(t,this.size,2);e.uniform2fv(this.addr,n)}function GE(e,t){var n=bE(t,this.size,3);e.uniform3fv(this.addr,n)}function qE(e,t){var n=bE(t,this.size,4);e.uniform4fv(this.addr,n)}function YE(e,t){var n=bE(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function XE(e,t){var n=bE(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function ZE(e,t){var n=bE(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function KE(e,t){e.uniform1iv(this.addr,t)}function JE(e,t){e.uniform2iv(this.addr,t)}function QE(e,t){e.uniform3iv(this.addr,t)}function $E(e,t){e.uniform4iv(this.addr,t)}function eM(e,t){e.uniform1uiv(this.addr,t)}function tM(e,t){e.uniform2uiv(this.addr,t)}function nM(e,t){e.uniform3uiv(this.addr,t)}function rM(e,t){e.uniform4uiv(this.addr,t)}function iM(e,t,n){var r=t.length,i=SE(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture2D(t[o]||hE,i[o])}function oM(e,t,n){var r=t.length,i=SE(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture3D(t[o]||fE,i[o])}function aM(e,t,n){var r=t.length,i=SE(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTextureCube(t[o]||dE,i[o])}function sM(e,t,n){var r=t.length,i=SE(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture2DArray(t[o]||pE,i[o])}function lM(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return EE;case 35664:return ME;case 35665:return kE;case 35666:return TE;case 35674:return AE;case 35675:return CE;case 35676:return PE;case 5124:case 35670:return OE;case 35667:case 35671:return RE;case 35668:case 35672:return IE;case 35669:case 35673:return LE;case 5125:return DE;case 36294:return zE;case 36295:return NE;case 36296:return BE;case 35678:case 36198:case 36298:case 36306:case 35682:return FE;case 35679:case 36299:case 36307:return jE;case 35680:case 36300:case 36308:case 36293:return UE;case 36289:case 36303:case 36311:case 36292:return VE}}(t.type)}function uM(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return HE;case 35664:return WE;case 35665:return GE;case 35666:return qE;case 35674:return YE;case 35675:return XE;case 35676:return ZE;case 5124:case 35670:return KE;case 35667:case 35671:return JE;case 35668:case 35672:return QE;case 35669:case 35673:return $E;case 5125:return eM;case 36294:return tM;case 36295:return nM;case 36296:return rM;case 35678:case 36198:case 36298:case 36306:case 35682:return iM;case 35679:case 36299:case 36307:return oM;case 35680:case 36300:case 36308:case 36293:return aM;case 36289:case 36303:case 36311:case 36292:return sM}}(t.type)}function cM(e){this.id=e,this.seq=[],this.map={}}uM.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),wE(t,e)},cM.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,o=r.length;i!==o;++i){var a=r[i];a.setValue(e,t[a.id],n)}};var hM=/(\w+)(\])?(\[|\.)?/g;function pM(e,t){e.seq.push(t),e.map[t.id]=t}function fM(e,t,n){var r=e.name,i=r.length;for(hM.lastIndex=0;;){var o=hM.exec(r),a=hM.lastIndex,s=o[1],l="]"===o[2],u=o[3];if(l&&(s|=0),void 0===u||"["===u&&a+2===i){pM(n,void 0===u?new lM(s,e,t):new uM(s,e,t));break}var c=n.map[s];void 0===c&&pM(n,c=new cM(s)),n=c}}function dM(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var i=e.getActiveUniform(t,r);fM(i,e.getUniformLocation(t,i.name),this)}}function mM(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}dM.prototype.setValue=function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)},dM.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},dM.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}},dM.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n};var vM=0;function gM(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return r&&""===i?"":n.toUpperCase()+"\n\n"+i+"\n\n"+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function yM(e,t){var n=function(e){switch(e){case U_:return["Linear","( value )"];case V_:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function _M(e,t){var n;switch(t){case sy:n="Linear";break;case ly:n="Reinhard";break;case uy:n="OptimizedCineon";break;case cy:n="ACESFilmic";break;case hy:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function bM(e){return""!==e}function xM(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function wM(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var SM=/^[ \t]*#include +<([\w\d./]+)>/gm;function EM(e){return e.replace(SM,MM)}function MM(e,t){var n=RS[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return EM(n)}var kM=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,TM=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function AM(e){return e.replace(TM,PM).replace(kM,CM)}function CM(e,t,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),PM(e,t,n,r)}function PM(e,t,n,r){for(var i="",o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function OM(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function RM(e,t,n,r){var i,o,a=e.getContext(),s=n.defines,l=n.vertexShader,u=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===_g?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===bg?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===xg&&(t="SHADOWMAP_TYPE_VSM"),t}(n),h=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case fy:case dy:t="ENVMAP_TYPE_CUBE";break;case gy:case yy:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),p=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case dy:case yy:t="ENVMAP_MODE_REFRACTION"}return t}(n),f=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case ry:t="ENVMAP_BLENDING_MULTIPLY";break;case iy:t="ENVMAP_BLENDING_MIX";break;case oy:t="ENVMAP_BLENDING_ADD"}return t}(n),d=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t/32+1)+3,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),m=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(bM).join("\n")}(n),v=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),g=a.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=[v].filter(bM).join("\n")).length>0&&(i+="\n"),(o=[m,v].filter(bM).join("\n")).length>0&&(o+="\n")):(i=[OM(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+p:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(bM).join("\n"),o=[m,OM(n),"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+p:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ay?"#define TONE_MAPPING":"",n.toneMapping!==ay?RS.tonemapping_pars_fragment:"",n.toneMapping!==ay?_M("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",RS.encodings_pars_fragment,yM("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(bM).join("\n")),l=wM(l=xM(l=EM(l),n),n),u=wM(u=xM(u=EM(u),n),n),l=AM(l),u=AM(u),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,o=["#define varying in",n.glslVersion===_b?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===_b?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+o);var _,b,x=y+o+u,w=mM(a,35633,y+i+l),S=mM(a,35632,x);if(a.attachShader(g,w),a.attachShader(g,S),void 0!==n.index0AttributeName?a.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&a.bindAttribLocation(g,0,"position"),a.linkProgram(g),e.debug.checkShaderErrors){var E=a.getProgramInfoLog(g).trim(),M=a.getShaderInfoLog(w).trim(),k=a.getShaderInfoLog(S).trim(),T=!0,A=!0;if(!1===a.getProgramParameter(g,35714)){T=!1;var C=gM(a,w,"vertex"),P=gM(a,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(g,35715)+"\n\nProgram Info Log: "+E+"\n"+C+"\n"+P)}else""!==E?console.warn("THREE.WebGLProgram: Program Info Log:",E):""!==M&&""!==k||(A=!1);A&&(this.diagnostics={runnable:T,programLog:E,vertexShader:{log:M,prefix:i},fragmentShader:{log:k,prefix:o}})}return a.deleteShader(w),a.deleteShader(S),this.getUniforms=function(){return void 0===_&&(_=new dM(a,g)),_},this.getAttributes=function(){return void 0===b&&(b=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var o=e.getActiveAttrib(t,i),a=o.name,s=1;35674===o.type&&(s=2),35675===o.type&&(s=3),35676===o.type&&(s=4),n[a]={type:o.type,location:e.getAttribLocation(t,a),locationSize:s}}return n}(a,g)),b},this.destroy=function(){r.releaseStatesOfProgram(this),a.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=vM++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=w,this.fragmentShader=S,this}var IM=0,LM=function(){function e(){nm(this,e),this.shaderCache=new Map,this.materialCache=new Map}return mr(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(i)&&(o.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=lg(this.materialCache.get(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r)}}catch(i){n.e(i)}finally{n.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache;return!1===t.has(e)&&t.set(e,new Set),t.get(e)}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache;if(!1===t.has(e)){var n=new DM;t.set(e,n)}return t.get(e)}}]),e}(),DM=mr((function e(){nm(this,e),this.id=IM++,this.usedTimes=0}));function zM(e,t,n,r,i,o,a){var s=new Kx,l=new LM,u=[],c=i.isWebGL2,h=i.logarithmicDepthBuffer,p=i.floatVertexTextures,f=i.maxVertexUniforms,d=i.vertexTextures,m=i.precision,v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(o,s,u,g,y){var _=g.fog,b=y.geometry,x=o.isMeshStandardMaterial?g.environment:null,w=(o.isMeshStandardMaterial?n:t).get(o.envMap||x),S=!w||w.mapping!==gy&&w.mapping!==yy?null:w.image.height,E=v[o.type],M=y.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(p)return 1024;var n=f,r=Math.floor((n-20)/4),i=Math.min(r,t.length);return i<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}(y):0;null!==o.precision&&(m=i.getMaxPrecision(o.precision))!==o.precision&&console.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",m,"instead.");var k,T,A,C,P=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,O=void 0!==P?P.length:0,R=0;if(void 0!==b.morphAttributes.position&&(R=1),void 0!==b.morphAttributes.normal&&(R=2),void 0!==b.morphAttributes.color&&(R=3),E){var I=LS[E];k=I.vertexShader,T=I.fragmentShader}else k=o.vertexShader,T=o.fragmentShader,l.update(o),A=l.getVertexShaderID(o),C=l.getFragmentShaderID(o);var L=e.getRenderTarget(),D=o.alphaTest>0,z=o.clearcoat>0;return{isWebGL2:c,shaderID:E,shaderName:o.type,vertexShader:k,fragmentShader:T,defines:o.defines,customVertexShaderID:A,customFragmentShaderID:C,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:m,instancing:!0===y.isInstancedMesh,instancingColor:!0===y.isInstancedMesh&&null!==y.instanceColor,supportsVertexTextures:d,outputEncoding:null===L?e.outputEncoding:!0===L.isXRRenderTarget?L.texture.encoding:U_,map:!!o.map,matcap:!!o.matcap,envMap:!!w,envMapMode:w&&w.mapping,envMapCubeUVHeight:S,lightMap:!!o.lightMap,aoMap:!!o.aoMap,emissiveMap:!!o.emissiveMap,bumpMap:!!o.bumpMap,normalMap:!!o.normalMap,objectSpaceNormalMap:o.normalMapType===q_,tangentSpaceNormalMap:o.normalMapType===G_,decodeVideoTexture:!!o.map&&!0===o.map.isVideoTexture&&o.map.encoding===V_,clearcoat:z,clearcoatMap:z&&!!o.clearcoatMap,clearcoatRoughnessMap:z&&!!o.clearcoatRoughnessMap,clearcoatNormalMap:z&&!!o.clearcoatNormalMap,displacementMap:!!o.displacementMap,roughnessMap:!!o.roughnessMap,metalnessMap:!!o.metalnessMap,specularMap:!!o.specularMap,specularIntensityMap:!!o.specularIntensityMap,specularColorMap:!!o.specularColorMap,opaque:!1===o.transparent&&o.blending===Ag,alphaMap:!!o.alphaMap,alphaTest:D,gradientMap:!!o.gradientMap,sheen:o.sheen>0,sheenColorMap:!!o.sheenColorMap,sheenRoughnessMap:!!o.sheenRoughnessMap,transmission:o.transmission>0,transmissionMap:!!o.transmissionMap,thicknessMap:!!o.thicknessMap,combine:o.combine,vertexTangents:!!o.normalMap&&!!b.attributes.tangent,vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!b.attributes.color&&4===b.attributes.color.itemSize,vertexUvs:!!o.map||!!o.bumpMap||!!o.normalMap||!!o.specularMap||!!o.alphaMap||!!o.emissiveMap||!!o.roughnessMap||!!o.metalnessMap||!!o.clearcoatMap||!!o.clearcoatRoughnessMap||!!o.clearcoatNormalMap||!!o.displacementMap||!!o.transmissionMap||!!o.thicknessMap||!!o.specularIntensityMap||!!o.specularColorMap||!!o.sheenColorMap||!!o.sheenRoughnessMap,uvsVertexOnly:!(o.map||o.bumpMap||o.normalMap||o.specularMap||o.alphaMap||o.emissiveMap||o.roughnessMap||o.metalnessMap||o.clearcoatNormalMap||o.transmission>0||o.transmissionMap||o.thicknessMap||o.specularIntensityMap||o.specularColorMap||o.sheen>0||o.sheenColorMap||o.sheenRoughnessMap)&&!!o.displacementMap,fog:!!_,useFog:o.fog,fogExp2:_&&_.isFogExp2,flatShading:!!o.flatShading,sizeAttenuation:o.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===y.isSkinnedMesh&&M>0,maxBones:M,useVertexTexture:p,morphTargets:void 0!==b.morphAttributes.position,morphNormals:void 0!==b.morphAttributes.normal,morphColors:void 0!==b.morphAttributes.color,morphTargetsCount:O,morphTextureStride:R,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:o.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:o.toneMapped?e.toneMapping:ay,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:o.premultipliedAlpha,doubleSided:o.side===Eg,flipSided:o.side===Sg,depthPacking:void 0!==o.depthPacking&&o.depthPacking,index0AttributeName:o.index0AttributeName,extensionDerivatives:o.extensions&&o.extensions.derivatives,extensionFragDepth:o.extensions&&o.extensions.fragDepth,extensionDrawBuffers:o.extensions&&o.extensions.drawBuffers,extensionShaderTextureLOD:o.extensions&&o.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:o.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.maxBones),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.map&&s.enable(4);t.matcap&&s.enable(5);t.envMap&&s.enable(6);t.lightMap&&s.enable(7);t.aoMap&&s.enable(8);t.emissiveMap&&s.enable(9);t.bumpMap&&s.enable(10);t.normalMap&&s.enable(11);t.objectSpaceNormalMap&&s.enable(12);t.tangentSpaceNormalMap&&s.enable(13);t.clearcoat&&s.enable(14);t.clearcoatMap&&s.enable(15);t.clearcoatRoughnessMap&&s.enable(16);t.clearcoatNormalMap&&s.enable(17);t.displacementMap&&s.enable(18);t.specularMap&&s.enable(19);t.roughnessMap&&s.enable(20);t.metalnessMap&&s.enable(21);t.gradientMap&&s.enable(22);t.alphaMap&&s.enable(23);t.alphaTest&&s.enable(24);t.vertexColors&&s.enable(25);t.vertexAlphas&&s.enable(26);t.vertexUvs&&s.enable(27);t.vertexTangents&&s.enable(28);t.uvsVertexOnly&&s.enable(29);t.fog&&s.enable(30);e.push(s.mask),s.disableAll(),t.useFog&&s.enable(0);t.flatShading&&s.enable(1);t.logarithmicDepthBuffer&&s.enable(2);t.skinning&&s.enable(3);t.useVertexTexture&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.physicallyCorrectLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.depthPacking&&s.enable(13);t.dithering&&s.enable(14);t.specularIntensityMap&&s.enable(15);t.specularColorMap&&s.enable(16);t.transmission&&s.enable(17);t.transmissionMap&&s.enable(18);t.thicknessMap&&s.enable(19);t.sheen&&s.enable(20);t.sheenColorMap&&s.enable(21);t.sheenRoughnessMap&&s.enable(22);t.decodeVideoTexture&&s.enable(23);t.opaque&&s.enable(24);e.push(s.mask)}(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=v[e.type];if(n){var r=LS[n];t=dS.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,a=u.length;i<a;i++){var s=u[i];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new RM(e,n,t,o),u.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function NM(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function BM(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function FM(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function jM(){var e=[],t=0,n=[],r=[],i=[];function o(n,r,i,o,a,s){var l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:o,renderOrder:n.renderOrder,z:a,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=a,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,a,s,l,u){var c=o(e,t,a,s,l,u);a.transmission>0?r.push(c):!0===a.transparent?i.push(c):n.push(c)},unshift:function(e,t,a,s,l,u){var c=o(e,t,a,s,l,u);a.transmission>0?r.unshift(c):!0===a.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||BM),r.length>1&&r.sort(t||FM),i.length>1&&i.sort(t||FM)}}}function UM(){var e=new WeakMap;return{get:function(t,n){var r;return!1===e.has(t)?(r=new jM,e.set(t,[r])):n>=e.get(t).length?(r=new jM,e.get(t).push(r)):r=e.get(t)[n],r},dispose:function(){e=new WeakMap}}}function VM(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new lx,color:new Xb};break;case"SpotLight":n={position:new lx,direction:new lx,color:new Xb,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new lx,color:new Xb,distance:0,decay:0};break;case"HemisphereLight":n={direction:new lx,skyColor:new Xb,groundColor:new Xb};break;case"RectAreaLight":n={color:new Xb,position:new lx,halfWidth:new lx,halfHeight:new lx}}return e[t.id]=n,n}}}var HM=0;function WM(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function GM(e,t){for(var n=new VM,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Db};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Db,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},o=0;o<9;o++)i.probe.push(new lx);var a=new lx,s=new Fx,l=new Fx;return{setup:function(o,a){for(var s=0,l=0,u=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var h=0,p=0,f=0,d=0,m=0,v=0,g=0,y=0;o.sort(WM);for(var _=!0!==a?Math.PI:1,b=0,x=o.length;b<x;b++){var w=o[b],S=w.color,E=w.intensity,M=w.distance,k=w.shadow&&w.shadow.map?w.shadow.map.texture:null;if(w.isAmbientLight)s+=S.r*E*_,l+=S.g*E*_,u+=S.b*E*_;else if(w.isLightProbe)for(var T=0;T<9;T++)i.probe[T].addScaledVector(w.sh.coefficients[T],E);else if(w.isDirectionalLight){var A=n.get(w);if(A.color.copy(w.color).multiplyScalar(w.intensity*_),w.castShadow){var C=w.shadow,P=r.get(w);P.shadowBias=C.bias,P.shadowNormalBias=C.normalBias,P.shadowRadius=C.radius,P.shadowMapSize=C.mapSize,i.directionalShadow[h]=P,i.directionalShadowMap[h]=k,i.directionalShadowMatrix[h]=w.shadow.matrix,v++}i.directional[h]=A,h++}else if(w.isSpotLight){var O=n.get(w);if(O.position.setFromMatrixPosition(w.matrixWorld),O.color.copy(S).multiplyScalar(E*_),O.distance=M,O.coneCos=Math.cos(w.angle),O.penumbraCos=Math.cos(w.angle*(1-w.penumbra)),O.decay=w.decay,w.castShadow){var R=w.shadow,I=r.get(w);I.shadowBias=R.bias,I.shadowNormalBias=R.normalBias,I.shadowRadius=R.radius,I.shadowMapSize=R.mapSize,i.spotShadow[f]=I,i.spotShadowMap[f]=k,i.spotShadowMatrix[f]=w.shadow.matrix,y++}i.spot[f]=O,f++}else if(w.isRectAreaLight){var L=n.get(w);L.color.copy(S).multiplyScalar(E),L.halfWidth.set(.5*w.width,0,0),L.halfHeight.set(0,.5*w.height,0),i.rectArea[d]=L,d++}else if(w.isPointLight){var D=n.get(w);if(D.color.copy(w.color).multiplyScalar(w.intensity*_),D.distance=w.distance,D.decay=w.decay,w.castShadow){var z=w.shadow,N=r.get(w);N.shadowBias=z.bias,N.shadowNormalBias=z.normalBias,N.shadowRadius=z.radius,N.shadowMapSize=z.mapSize,N.shadowCameraNear=z.camera.near,N.shadowCameraFar=z.camera.far,i.pointShadow[p]=N,i.pointShadowMap[p]=k,i.pointShadowMatrix[p]=w.shadow.matrix,g++}i.point[p]=D,p++}else if(w.isHemisphereLight){var B=n.get(w);B.skyColor.copy(w.color).multiplyScalar(E*_),B.groundColor.copy(w.groundColor).multiplyScalar(E*_),i.hemi[m]=B,m++}}d>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=IS.LTC_FLOAT_1,i.rectAreaLTC2=IS.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=IS.LTC_HALF_1,i.rectAreaLTC2=IS.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=l,i.ambient[2]=u;var F=i.hash;F.directionalLength===h&&F.pointLength===p&&F.spotLength===f&&F.rectAreaLength===d&&F.hemiLength===m&&F.numDirectionalShadows===v&&F.numPointShadows===g&&F.numSpotShadows===y||(i.directional.length=h,i.spot.length=f,i.rectArea.length=d,i.point.length=p,i.hemi.length=m,i.directionalShadow.length=v,i.directionalShadowMap.length=v,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=y,i.spotShadowMap.length=y,i.directionalShadowMatrix.length=v,i.pointShadowMatrix.length=g,i.spotShadowMatrix.length=y,F.directionalLength=h,F.pointLength=p,F.spotLength=f,F.rectAreaLength=d,F.hemiLength=m,F.numDirectionalShadows=v,F.numPointShadows=g,F.numSpotShadows=y,i.version=HM++)},setupView:function(e,t){for(var n=0,r=0,o=0,u=0,c=0,h=t.matrixWorldInverse,p=0,f=e.length;p<f;p++){var d=e[p];if(d.isDirectionalLight){var m=i.directional[n];m.direction.setFromMatrixPosition(d.matrixWorld),a.setFromMatrixPosition(d.target.matrixWorld),m.direction.sub(a),m.direction.transformDirection(h),n++}else if(d.isSpotLight){var v=i.spot[o];v.position.setFromMatrixPosition(d.matrixWorld),v.position.applyMatrix4(h),v.direction.setFromMatrixPosition(d.matrixWorld),a.setFromMatrixPosition(d.target.matrixWorld),v.direction.sub(a),v.direction.transformDirection(h),o++}else if(d.isRectAreaLight){var g=i.rectArea[u];g.position.setFromMatrixPosition(d.matrixWorld),g.position.applyMatrix4(h),l.identity(),s.copy(d.matrixWorld),s.premultiply(h),l.extractRotation(s),g.halfWidth.set(.5*d.width,0,0),g.halfHeight.set(0,.5*d.height,0),g.halfWidth.applyMatrix4(l),g.halfHeight.applyMatrix4(l),u++}else if(d.isPointLight){var y=i.point[r];y.position.setFromMatrixPosition(d.matrixWorld),y.position.applyMatrix4(h),r++}else if(d.isHemisphereLight){var _=i.hemi[c];_.direction.setFromMatrixPosition(d.matrixWorld),_.direction.transformDirection(h),_.direction.normalize(),c++}}},state:i}}function qM(e,t){var n=new GM(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function YM(e,t){var n=new WeakMap;return{get:function(r){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!1===n.has(r)?(i=new qM(e,t),n.set(r,[i])):o>=n.get(r).length?(i=new qM(e,t),n.get(r).push(i)):i=n.get(r)[o],i},dispose:function(){n=new WeakMap}}}var XM=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this)).type="MeshDepthMaterial",r.depthPacking=H_,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.setValues(e),r}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(Sw);XM.prototype.isMeshDepthMaterial=!0;var ZM=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this)).type="MeshDistanceMaterial",r.referencePosition=new lx,r.nearDistance=1,r.farDistance=1e3,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.fog=!1,r.setValues(e),r}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(Sw);ZM.prototype.isMeshDistanceMaterial=!0;function KM(e,t,n){var r=new AS,i=new Db,o=new Db,a=new ex,s=new XM({depthPacking:W_}),l=new ZM,u={},c=n.maxTextureSize,h={0:Sg,1:wg,2:Eg},p=new mS({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Db},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=p.clone();f.defines.HORIZONTAL_PASS=1;var d=new Gw;d.setAttribute("position",new Tw(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var m=new uS(d,p),v=this;function g(n,r){var i=t.update(m);p.defines.VSM_SAMPLES!==n.blurSamples&&(p.defines.VSM_SAMPLES=n.blurSamples,f.defines.VSM_SAMPLES=n.blurSamples,p.needsUpdate=!0,f.needsUpdate=!0),p.uniforms.shadow_pass.value=n.map.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,p,m,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,f,m,null)}function y(t,n,r,i,o,a){var c=null,p=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(c=void 0!==p?p:!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0){var f=c.uuid,d=n.uuid,m=u[f];void 0===m&&(m={},u[f]=m);var v=m[d];void 0===v&&(v=c.clone(),m[d]=v),c=v}return c.visible=n.visible,c.wireframe=n.wireframe,c.side=a===xg?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:h[n.side],c.alphaMap=n.alphaMap,c.alphaTest=n.alphaTest,c.clipShadows=n.clipShadows,c.clippingPlanes=n.clippingPlanes,c.clipIntersection=n.clipIntersection,c.displacementMap=n.displacementMap,c.displacementScale=n.displacementScale,c.displacementBias=n.displacementBias,c.wireframeLinewidth=n.wireframeLinewidth,c.linewidth=n.linewidth,!0===r.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(r.matrixWorld),c.nearDistance=i,c.farDistance=o),c}function _(n,i,o,a,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===xg)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var l=t.update(n),u=n.material;if(Array.isArray(u))for(var c=l.groups,h=0,p=c.length;h<p;h++){var f=c[h],d=u[f.materialIndex];if(d&&d.visible){var m=y(n,d,a,o.near,o.far,s);e.renderBufferDirect(o,null,l,m,n,f)}}else if(u.visible){var v=y(n,u,a,o.near,o.far,s);e.renderBufferDirect(o,null,l,v,n,null)}}for(var g=n.children,b=0,x=g.length;b<x;b++)_(g[b],i,o,a,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=_g,this.render=function(t,n,s){if(!1!==v.enabled&&(!1!==v.autoUpdate||!1!==v.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),u=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.state;p.setBlending(Tg),p.buffers.color.setClear(1,1,1,1),p.buffers.depth.setTest(!0),p.setScissorTest(!1);for(var f=0,d=t.length;f<d;f++){var m=t[f],y=m.shadow;if(void 0!==y){if(!1!==y.autoUpdate||!1!==y.needsUpdate){i.copy(y.mapSize);var b=y.getFrameExtents();if(i.multiply(b),o.copy(y.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(o.x=Math.floor(c/b.x),i.x=o.x*b.x,y.mapSize.x=o.x),i.y>c&&(o.y=Math.floor(c/b.y),i.y=o.y*b.y,y.mapSize.y=o.y)),null===y.map&&!y.isPointLightShadow&&this.type===xg){var x={minFilter:Ty,magFilter:Ty,format:Gy};y.map=new tx(i.x,i.y,x),y.map.texture.name=m.name+".shadowMap",y.mapPass=new tx(i.x,i.y,x),y.camera.updateProjectionMatrix()}if(null===y.map){var w={minFilter:wy,magFilter:wy,format:Gy};y.map=new tx(i.x,i.y,w),y.map.texture.name=m.name+".shadowMap",y.camera.updateProjectionMatrix()}e.setRenderTarget(y.map),e.clear();for(var S=y.getViewportCount(),E=0;E<S;E++){var M=y.getViewport(E);a.set(o.x*M.x,o.y*M.y,o.x*M.z,o.y*M.w),p.viewport(a),y.updateMatrices(m,E),r=y.getFrustum(),_(n,s,y.camera,m,this.type)}y.isPointLightShadow||this.type!==xg||g(y,s),y.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",m,"has no shadow.")}v.needsUpdate=!1,e.setRenderTarget(l,u,h)}}}function JM(e,t,n){var r,i,o=n.isWebGL2;var a=new function(){var t=!1,n=new ex,r=null,i=new ex(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},s=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?j(2929):U(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case Zg:e.depthFunc(512);break;case Kg:e.depthFunc(519);break;case Jg:e.depthFunc(513);break;case Qg:e.depthFunc(515);break;case $g:e.depthFunc(514);break;case ey:e.depthFunc(518);break;case ty:e.depthFunc(516);break;case ny:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},l=new function(){var t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,u=null;return{setTest:function(e){t||(e?j(2960):U(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&l===r||(e.stencilOp(t,n,r),a=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,u=null}}},u={},c={},h=new WeakMap,p=[],f=null,d=!1,m=null,v=null,g=null,y=null,_=null,b=null,x=null,w=!1,S=null,E=null,M=null,k=null,T=null,A=e.getParameter(35661),C=!1,P=0,O=e.getParameter(7938);-1!==O.indexOf("WebGL")?(P=parseFloat(/^WebGL (\d)/.exec(O)[1]),C=P>=1):-1!==O.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL ES (\d)/.exec(O)[1]),C=P>=2);var R=null,I={},L=e.getParameter(3088),D=e.getParameter(2978),z=(new ex).fromArray(L),N=(new ex).fromArray(D);function B(t,n,r){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var a=0;a<r;a++)e.texImage2D(n+a,0,6408,1,1,0,6408,5121,i);return o}var F={};function j(t){!0!==u[t]&&(e.enable(t),u[t]=!0)}function U(t){!1!==u[t]&&(e.disable(t),u[t]=!1)}F[3553]=B(3553,3553,1),F[34067]=B(34067,34069,6),a.setClear(0,0,0,1),s.setClear(1),l.setClear(0),j(2929),s.setFunc(Qg),q(!1),Y(mg),j(2884),G(Tg);var V=(fn(r={},Ig,32774),fn(r,Lg,32778),fn(r,Dg,32779),r);if(o)V[zg]=32775,V[Ng]=32776;else{var H=t.get("EXT_blend_minmax");null!==H&&(V[zg]=H.MIN_EXT,V[Ng]=H.MAX_EXT)}var W=(fn(i={},Bg,0),fn(i,Fg,1),fn(i,jg,768),fn(i,Vg,770),fn(i,Xg,776),fn(i,qg,774),fn(i,Wg,772),fn(i,Ug,769),fn(i,Hg,771),fn(i,Yg,775),fn(i,Gg,773),i);function G(t,n,r,i,o,a,s,l){if(t!==Tg){if(!1===d&&(j(3042),d=!0),t===Rg)o=o||n,a=a||r,s=s||i,n===v&&o===_||(e.blendEquationSeparate(V[n],V[o]),v=n,_=o),r===g&&i===y&&a===b&&s===x||(e.blendFuncSeparate(W[r],W[i],W[a],W[s]),g=r,y=i,b=a,x=s),m=t,w=null;else if(t!==m||l!==w){if(v===Ig&&_===Ig||(e.blendEquation(32774),v=Ig,_=Ig),l)switch(t){case Ag:e.blendFuncSeparate(1,771,1,771);break;case Cg:e.blendFunc(1,1);break;case Pg:e.blendFuncSeparate(0,769,0,1);break;case Og:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case Ag:e.blendFuncSeparate(770,771,1,771);break;case Cg:e.blendFunc(770,1);break;case Pg:e.blendFuncSeparate(0,769,0,1);break;case Og:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}g=null,y=null,b=null,x=null,m=t,w=l}}else!0===d&&(U(3042),d=!1)}function q(t){S!==t&&(t?e.frontFace(2304):e.frontFace(2305),S=t)}function Y(t){t!==dg?(j(2884),t!==E&&(t===mg?e.cullFace(1029):t===vg?e.cullFace(1028):e.cullFace(1032))):U(2884),E=t}function X(t,n,r){t?(j(32823),k===n&&T===r||(e.polygonOffset(n,r),k=n,T=r)):U(32823)}function Z(t){void 0===t&&(t=33984+A-1),R!==t&&(e.activeTexture(t),R=t)}return{buffers:{color:a,depth:s,stencil:l},enable:j,disable:U,bindFramebuffer:function(t,n){return c[t]!==n&&(e.bindFramebuffer(t,n),c[t]=n,o&&(36009===t&&(c[36160]=n),36160===t&&(c[36009]=n)),!0)},drawBuffers:function(r,i){var o=p,a=!1;if(r)if(void 0===(o=h.get(i))&&(o=[],h.set(i,o)),r.isWebGLMultipleRenderTargets){var s=r.texture;if(o.length!==s.length||36064!==o[0]){for(var l=0,u=s.length;l<u;l++)o[l]=36064+l;o.length=s.length,a=!0}}else 36064!==o[0]&&(o[0]=36064,a=!0);else 1029!==o[0]&&(o[0]=1029,a=!0);a&&(n.isWebGL2?e.drawBuffers(o):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(o))},useProgram:function(t){return f!==t&&(e.useProgram(t),f=t,!0)},setBlending:G,setMaterial:function(e,t){e.side===Eg?U(2884):j(2884);var n=e.side===Sg;t&&(n=!n),q(n),e.blending===Ag&&!1===e.transparent?G(Tg):G(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),a.setMask(e.colorWrite);var r=e.stencilWrite;l.setTest(r),r&&(l.setMask(e.stencilWriteMask),l.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),l.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),X(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?j(32926):U(32926)},setFlipSided:q,setCullFace:Y,setLineWidth:function(t){t!==M&&(C&&e.lineWidth(t),M=t)},setPolygonOffset:X,setScissorTest:function(e){e?j(3089):U(3089)},activeTexture:Z,bindTexture:function(t,n){null===R&&Z();var r=I[R];void 0===r&&(r={type:void 0,texture:void 0},I[R]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||F[t]),r.type=t,r.texture=n)},unbindTexture:function(){var t=I[R];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===z.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),z.copy(t))},viewport:function(t){!1===N.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),N.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===o&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),u={},R=null,I={},c={},h=new WeakMap,p=[],f=null,d=!1,m=null,v=null,g=null,y=null,_=null,b=null,x=null,w=!1,S=null,E=null,M=null,k=null,T=null,z.set(0,0,e.canvas.width,e.canvas.height),N.set(0,0,e.canvas.width,e.canvas.height),a.reset(),s.reset(),l.reset()}}}function QM(e,t,n,r,i,o,a){var s,l,u,c=i.isWebGL2,h=i.maxTextures,p=i.maxCubemapSize,f=i.maxTextureSize,d=i.maxSamples,m=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,v=new WeakMap,g=new WeakMap,y=!1;try{y="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(H){}function _(e,t){return y?new OffscreenCanvas(e,t):jb("canvas")}function b(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var o=t?Ib:Math.floor,a=o(i*e.width),s=o(i*e.height);void 0===u&&(u=_(a,s));var l=n?_(a,s):u;return l.width=a,l.height=s,l.getContext("2d").drawImage(e,0,0,a,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a+"x"+s+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function x(e){return Ob(e.width)&&Ob(e.height)}function w(e,t){return e.generateMipmaps&&t&&e.minFilter!==wy&&e.minFilter!==Ty}function S(t){e.generateMipmap(t)}function E(n,r,i,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===c)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=r;return 6403===r&&(5126===i&&(s=33326),5131===i&&(s=33325),5121===i&&(s=33321)),33319===r&&(5126===i&&(s=33328),5131===i&&(s=33327),5121===i&&(s=33323)),6408===r&&(5126===i&&(s=34836),5131===i&&(s=34842),5121===i&&(s=o===V_&&!1===a?35907:32856),32819===i&&(s=32854),32820===i&&(s=32855)),33325!==s&&33326!==s&&33327!==s&&33328!==s&&34842!==s&&34836!==s||t.get("EXT_color_buffer_float"),s}function M(e,t,n){return!0===w(e,n)||e.isFramebufferTexture&&e.minFilter!==wy&&e.minFilter!==Ty?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function k(e){return e===wy||e===Sy||e===My?9728:9729}function T(e){var t=e.target;t.removeEventListener("dispose",T),function(e){var t=r.get(e);if(void 0===t.__webglInit)return;var n=e.source,i=g.get(n);if(i){var o=i[t.__cacheKey];o.usedTimes--,0===o.usedTimes&&C(e),0===Object.keys(i).length&&g.delete(n)}r.remove(e)}(t),t.isVideoTexture&&v.delete(t)}function A(t){var n=t.target;n.removeEventListener("dispose",A),function(t){var n=t.texture,i=r.get(t),o=r.get(n);void 0!==o.__webglTexture&&(e.deleteTexture(o.__webglTexture),a.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(i.__webglFramebuffer[s]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s]);else e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer&&e.deleteRenderbuffer(i.__webglColorRenderbuffer),i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer);if(t.isWebGLMultipleRenderTargets)for(var l=0,u=n.length;l<u;l++){var c=r.get(n[l]);c.__webglTexture&&(e.deleteTexture(c.__webglTexture),a.memory.textures--),r.remove(n[l])}r.remove(n),r.remove(t)}(n)}function C(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var i=t.source;delete g.get(i)[n.__cacheKey],a.memory.textures--}var P=0;function O(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=a.render.frame;v.get(e)!==t&&(v.set(e,t),e.update())}(e),e.version>0&&i.__version!==e.version){var o=e.image;if(null===o)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==o.complete)return void z(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}var R=(fn(s={},_y,10497),fn(s,by,33071),fn(s,xy,33648),s),I=(fn(l={},wy,9728),fn(l,Sy,9984),fn(l,My,9986),fn(l,Ty,9729),fn(l,Ay,9985),fn(l,Py,9987),l);function L(n,o,a){if(a?(e.texParameteri(n,10242,R[o.wrapS]),e.texParameteri(n,10243,R[o.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,R[o.wrapR]),e.texParameteri(n,10240,I[o.magFilter]),e.texParameteri(n,10241,I[o.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),o.wrapS===by&&o.wrapT===by||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,k(o.magFilter)),e.texParameteri(n,10241,k(o.minFilter)),o.minFilter!==wy&&o.minFilter!==Ty&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(o.type===By&&!1===t.has("OES_texture_float_linear"))return;if(!1===c&&o.type===Fy&&!1===t.has("OES_texture_half_float_linear"))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function D(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",T));var i=n.source,o=g.get(i);void 0===o&&(o={},g.set(i,o));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(n);if(s!==t.__cacheKey){void 0===o[s]&&(o[s]={texture:e.createTexture(),usedTimes:0},a.memory.textures++,r=!0),o[s].usedTimes++;var l=o[t.__cacheKey];void 0!==l&&(o[t.__cacheKey].usedTimes--,0===l.usedTimes&&C(n)),t.__cacheKey=s,t.__webglTexture=o[s].texture}return r}function z(t,r,i){var a=3553;r.isDataArrayTexture&&(a=35866),r.isData3DTexture&&(a=32879);var s=D(t,r),l=r.source;if(n.activeTexture(33984+i),n.bindTexture(a,t.__webglTexture),l.version!==l.__currentVersion||!0===s){e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);var u,h=function(e){return!c&&(e.wrapS!==by||e.wrapT!==by||e.minFilter!==wy&&e.minFilter!==Ty)}(r)&&!1===x(r.image),p=b(r.image,h,!1,f),d=x(p=V(r,p))||c,m=o.convert(r.format,r.encoding),v=o.convert(r.type),g=E(r.internalFormat,m,v,r.encoding,r.isVideoTexture);L(a,r,d);var y=r.mipmaps,_=c&&!0!==r.isVideoTexture,k=void 0===t.__version,T=M(r,p,d);if(r.isDepthTexture)g=6402,c?g=r.type===By?36012:r.type===Ny?33190:r.type===Vy?35056:33189:r.type===By&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===Xy&&6402===g&&r.type!==Dy&&r.type!==Ny&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Dy,v=o.convert(r.type)),r.format===Zy&&6402===g&&(g=34041,r.type!==Vy&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Vy,v=o.convert(r.type))),_&&k?n.texStorage2D(3553,1,g,p.width,p.height):n.texImage2D(3553,0,g,p.width,p.height,0,m,v,null);else if(r.isDataTexture)if(y.length>0&&d){_&&k&&n.texStorage2D(3553,T,g,y[0].width,y[0].height);for(var A=0,C=y.length;A<C;A++)u=y[A],_?n.texSubImage2D(3553,A,0,0,u.width,u.height,m,v,u.data):n.texImage2D(3553,A,g,u.width,u.height,0,m,v,u.data);r.generateMipmaps=!1}else _?(k&&n.texStorage2D(3553,T,g,p.width,p.height),n.texSubImage2D(3553,0,0,0,p.width,p.height,m,v,p.data)):n.texImage2D(3553,0,g,p.width,p.height,0,m,v,p.data);else if(r.isCompressedTexture){_&&k&&n.texStorage2D(3553,T,g,y[0].width,y[0].height);for(var P=0,O=y.length;P<O;P++)u=y[P],r.format!==Gy?null!==m?_?n.compressedTexSubImage2D(3553,P,0,0,u.width,u.height,m,u.data):n.compressedTexImage2D(3553,P,g,u.width,u.height,0,u.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):_?n.texSubImage2D(3553,P,0,0,u.width,u.height,m,v,u.data):n.texImage2D(3553,P,g,u.width,u.height,0,m,v,u.data)}else if(r.isDataArrayTexture)_?(k&&n.texStorage3D(35866,T,g,p.width,p.height,p.depth),n.texSubImage3D(35866,0,0,0,0,p.width,p.height,p.depth,m,v,p.data)):n.texImage3D(35866,0,g,p.width,p.height,p.depth,0,m,v,p.data);else if(r.isData3DTexture)_?(k&&n.texStorage3D(32879,T,g,p.width,p.height,p.depth),n.texSubImage3D(32879,0,0,0,0,p.width,p.height,p.depth,m,v,p.data)):n.texImage3D(32879,0,g,p.width,p.height,p.depth,0,m,v,p.data);else if(r.isFramebufferTexture)_&&k?n.texStorage2D(3553,T,g,p.width,p.height):n.texImage2D(3553,0,g,p.width,p.height,0,m,v,null);else if(y.length>0&&d){_&&k&&n.texStorage2D(3553,T,g,y[0].width,y[0].height);for(var R=0,I=y.length;R<I;R++)u=y[R],_?n.texSubImage2D(3553,R,0,0,m,v,u):n.texImage2D(3553,R,g,m,v,u);r.generateMipmaps=!1}else _?(k&&n.texStorage2D(3553,T,g,p.width,p.height),n.texSubImage2D(3553,0,0,0,m,v,p)):n.texImage2D(3553,0,g,m,v,p);w(r,d)&&S(a),l.__currentVersion=l.version,r.onUpdate&&r.onUpdate(r)}t.__version=r.version}function N(t,i,a,s,l){var u=o.convert(a.format,a.encoding),c=o.convert(a.type),h=E(a.internalFormat,u,c,a.encoding);r.get(i).__hasExternalTextures||(32879===l||35866===l?n.texImage3D(l,0,h,i.width,i.height,i.depth,0,u,c,null):n.texImage2D(l,0,h,i.width,i.height,0,u,c,null)),n.bindFramebuffer(36160,t),U(i)?m.framebufferTexture2DMultisampleEXT(36160,s,l,r.get(a).__webglTexture,0,j(i)):e.framebufferTexture2D(36160,s,l,r.get(a).__webglTexture,0),n.bindFramebuffer(36160,null)}function B(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var i=33189;if(r||U(n)){var a=n.depthTexture;a&&a.isDepthTexture&&(a.type===By?i=36012:a.type===Ny&&(i=33190));var s=j(n);U(n)?m.renderbufferStorageMultisampleEXT(36161,s,i,n.width,n.height):e.renderbufferStorageMultisample(36161,s,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){var l=j(n);r&&!1===U(n)?e.renderbufferStorageMultisample(36161,l,35056,n.width,n.height):U(n)?m.renderbufferStorageMultisampleEXT(36161,l,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else{var u=!0===n.isWebGLMultipleRenderTargets?n.texture[0]:n.texture,c=o.convert(u.format,u.encoding),h=o.convert(u.type),p=E(u.internalFormat,c,h,u.encoding),f=j(n);r&&!1===U(n)?e.renderbufferStorageMultisample(36161,f,p,n.width,n.height):U(n)?m.renderbufferStorageMultisampleEXT(36161,f,p,n.width,n.height):e.renderbufferStorage(36161,p,n.width,n.height)}e.bindRenderbuffer(36161,null)}function F(t){var i=r.get(t),o=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),O(i.depthTexture,0);var o=r.get(i.depthTexture).__webglTexture,a=j(i);if(i.depthTexture.format===Xy)U(i)?m.framebufferTexture2DMultisampleEXT(36160,36096,3553,o,0,a):e.framebufferTexture2D(36160,36096,3553,o,0);else{if(i.depthTexture.format!==Zy)throw new Error("Unknown depthTexture format");U(i)?m.framebufferTexture2DMultisampleEXT(36160,33306,3553,o,0,a):e.framebufferTexture2D(36160,33306,3553,o,0)}}(i.__webglFramebuffer,t)}else if(o){i.__webglDepthbuffer=[];for(var a=0;a<6;a++)n.bindFramebuffer(36160,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=e.createRenderbuffer(),B(i.__webglDepthbuffer[a],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),B(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function j(e){return Math.min(d,e.samples)}function U(e){var n=r.get(e);return c&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function V(e,n){var r=e.encoding,i=e.format,o=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===bb||r!==U_&&(r===V_?!1===c?!0===t.has("EXT_sRGB")&&i===Gy?(e.format=bb,e.minFilter=Ty,e.generateMipmaps=!1):n=Zb.sRGBToLinear(n):i===Gy&&o===Ry||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",r)),n}this.allocateTextureUnit=function(){var e=P;return e>=h&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+h),P+=1,e},this.resetTextureUnits=function(){P=0},this.setTexture2D=O,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?z(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?z(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?function(t,r,i){if(6!==r.image.length)return;var a=D(t,r),s=r.source;if(n.activeTexture(33984+i),n.bindTexture(34067,t.__webglTexture),s.version!==s.__currentVersion||!0===a){e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);for(var l=r.isCompressedTexture||r.image[0].isCompressedTexture,u=r.image[0]&&r.image[0].isDataTexture,h=[],f=0;f<6;f++)h[f]=l||u?u?r.image[f].image:r.image[f]:b(r.image[f],!1,!0,p),h[f]=V(r,h[f]);var d,m=h[0],v=x(m)||c,g=o.convert(r.format,r.encoding),y=o.convert(r.type),_=E(r.internalFormat,g,y,r.encoding),k=c&&!0!==r.isVideoTexture,T=void 0===t.__version,A=M(r,m,v);if(L(34067,r,v),l){k&&T&&n.texStorage2D(34067,A,_,m.width,m.height);for(var C=0;C<6;C++){d=h[C].mipmaps;for(var P=0;P<d.length;P++){var O=d[P];r.format!==Gy?null!==g?k?n.compressedTexSubImage2D(34069+C,P,0,0,O.width,O.height,g,O.data):n.compressedTexImage2D(34069+C,P,_,O.width,O.height,0,O.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):k?n.texSubImage2D(34069+C,P,0,0,O.width,O.height,g,y,O.data):n.texImage2D(34069+C,P,_,O.width,O.height,0,g,y,O.data)}}}else{d=r.mipmaps,k&&T&&(d.length>0&&A++,n.texStorage2D(34067,A,_,h[0].width,h[0].height));for(var R=0;R<6;R++)if(u){k?n.texSubImage2D(34069+R,0,0,0,h[R].width,h[R].height,g,y,h[R].data):n.texImage2D(34069+R,0,_,h[R].width,h[R].height,0,g,y,h[R].data);for(var I=0;I<d.length;I++){var z=d[I].image[R].image;k?n.texSubImage2D(34069+R,I+1,0,0,z.width,z.height,g,y,z.data):n.texImage2D(34069+R,I+1,_,z.width,z.height,0,g,y,z.data)}}else{k?n.texSubImage2D(34069+R,0,0,0,g,y,h[R]):n.texImage2D(34069+R,0,_,g,y,h[R]);for(var N=0;N<d.length;N++){var B=d[N];k?n.texSubImage2D(34069+R,N+1,0,0,g,y,B.image[R]):n.texImage2D(34069+R,N+1,_,g,y,B.image[R])}}}w(r,v)&&S(34067),s.__currentVersion=s.version,r.onUpdate&&r.onUpdate(r)}t.__version=r.version}(a,t,i):(n.activeTexture(33984+i),n.bindTexture(34067,a.__webglTexture))},this.rebindTextures=function(e,t,n){var i=r.get(e);void 0!==t&&N(i.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&F(e)},this.setupRenderTarget=function(t){var s=t.texture,l=r.get(t),u=r.get(s);t.addEventListener("dispose",A),!0!==t.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=e.createTexture()),u.__version=s.version,a.memory.textures++);var h=!0===t.isWebGLCubeRenderTarget,p=!0===t.isWebGLMultipleRenderTargets,f=x(t)||c;if(h){l.__webglFramebuffer=[];for(var d=0;d<6;d++)l.__webglFramebuffer[d]=e.createFramebuffer()}else if(l.__webglFramebuffer=e.createFramebuffer(),p)if(i.drawBuffers)for(var m=t.texture,v=0,g=m.length;v<g;v++){var y=r.get(m[v]);void 0===y.__webglTexture&&(y.__webglTexture=e.createTexture(),a.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(c&&t.samples>0&&!1===U(t)){l.__webglMultisampledFramebuffer=e.createFramebuffer(),l.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,l.__webglColorRenderbuffer);var _=o.convert(s.format,s.encoding),b=o.convert(s.type),M=E(s.internalFormat,_,b,s.encoding),k=j(t);e.renderbufferStorageMultisample(36161,k,M,t.width,t.height),n.bindFramebuffer(36160,l.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,l.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(l.__webglDepthRenderbuffer=e.createRenderbuffer(),B(l.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}if(h){n.bindTexture(34067,u.__webglTexture),L(34067,s,f);for(var T=0;T<6;T++)N(l.__webglFramebuffer[T],t,s,36064,34069+T);w(s,f)&&S(34067),n.unbindTexture()}else if(p){for(var C=t.texture,P=0,O=C.length;P<O;P++){var R=C[P],I=r.get(R);n.bindTexture(3553,I.__webglTexture),L(3553,R,f),N(l.__webglFramebuffer,t,R,36064+P,3553),w(R,f)&&S(3553)}n.unbindTexture()}else{var D=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(c?D=t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(D,u.__webglTexture),L(D,s,f),N(l.__webglFramebuffer,t,s,36064,D),w(s,f)&&S(D),n.unbindTexture()}t.depthBuffer&&F(t)},this.updateRenderTargetMipmap=function(e){for(var t=x(e)||c,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],o=0,a=i.length;o<a;o++){var s=i[o];if(w(s,t)){var l=e.isWebGLCubeRenderTarget?34067:3553,u=r.get(s).__webglTexture;n.bindTexture(l,u),S(l),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(c&&t.samples>0&&!1===U(t)){var i=t.width,o=t.height,a=16384,s=[36064],l=t.stencilBuffer?33306:36096;t.depthBuffer&&s.push(l);var u=r.get(t),h=void 0!==u.__ignoreDepthValues&&u.__ignoreDepthValues;!1===h&&(t.depthBuffer&&(a|=256),t.stencilBuffer&&(a|=1024)),n.bindFramebuffer(36008,u.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,u.__webglFramebuffer),!0===h&&(e.invalidateFramebuffer(36008,[l]),e.invalidateFramebuffer(36009,[l])),e.blitFramebuffer(0,0,i,o,0,0,i,o,a,9728),e.invalidateFramebuffer(36008,s),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,u.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=F,this.setupFrameBufferTexture=N,this.useMultisampledRTT=U}function $M(e,t,n){var r=n.isWebGL2;return{convert:function(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e===Ry)return 5121;if(e===jy)return 32819;if(e===Uy)return 32820;if(e===Iy)return 5120;if(e===Ly)return 5122;if(e===Dy)return 5123;if(e===zy)return 5124;if(e===Ny)return 5125;if(e===By)return 5126;if(e===Fy)return r?5131:null!==(n=t.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(e===Hy)return 6406;if(e===Gy)return 6408;if(e===qy)return 6409;if(e===Yy)return 6410;if(e===Xy)return 6402;if(e===Zy)return 34041;if(e===Ky)return 6403;if(e===Wy)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(e===bb)return null!==(n=t.get("EXT_sRGB"))?n.SRGB_ALPHA_EXT:null;if(e===Jy)return 36244;if(e===Qy)return 33319;if(e===$y)return 33320;if(e===e_)return 36249;if(e===t_||e===n_||e===r_||e===i_)if(i===V_){if(null===(n=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(e===t_)return n.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(e===n_)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(e===r_)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(e===i_)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===t_)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===n_)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===r_)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===i_)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===o_||e===a_||e===s_||e===l_){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===o_)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===a_)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===s_)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===l_)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===u_)return null!==(n=t.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if(e===c_||e===h_){if(null===(n=t.get("WEBGL_compressed_texture_etc")))return null;if(e===c_)return i===V_?n.COMPRESSED_SRGB8_ETC2:n.COMPRESSED_RGB8_ETC2;if(e===h_)return i===V_?n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:n.COMPRESSED_RGBA8_ETC2_EAC}if(e===p_||e===f_||e===d_||e===m_||e===v_||e===g_||e===y_||e===__||e===b_||e===x_||e===w_||e===S_||e===E_||e===M_){if(null===(n=t.get("WEBGL_compressed_texture_astc")))return null;if(e===p_)return i===V_?n.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:n.COMPRESSED_RGBA_ASTC_4x4_KHR;if(e===f_)return i===V_?n.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:n.COMPRESSED_RGBA_ASTC_5x4_KHR;if(e===d_)return i===V_?n.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:n.COMPRESSED_RGBA_ASTC_5x5_KHR;if(e===m_)return i===V_?n.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:n.COMPRESSED_RGBA_ASTC_6x5_KHR;if(e===v_)return i===V_?n.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:n.COMPRESSED_RGBA_ASTC_6x6_KHR;if(e===g_)return i===V_?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:n.COMPRESSED_RGBA_ASTC_8x5_KHR;if(e===y_)return i===V_?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:n.COMPRESSED_RGBA_ASTC_8x6_KHR;if(e===__)return i===V_?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:n.COMPRESSED_RGBA_ASTC_8x8_KHR;if(e===b_)return i===V_?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:n.COMPRESSED_RGBA_ASTC_10x5_KHR;if(e===x_)return i===V_?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:n.COMPRESSED_RGBA_ASTC_10x6_KHR;if(e===w_)return i===V_?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:n.COMPRESSED_RGBA_ASTC_10x8_KHR;if(e===S_)return i===V_?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:n.COMPRESSED_RGBA_ASTC_10x10_KHR;if(e===E_)return i===V_?n.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:n.COMPRESSED_RGBA_ASTC_12x10_KHR;if(e===M_)return i===V_?n.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:n.COMPRESSED_RGBA_ASTC_12x12_KHR}if(e===k_){if(null===(n=t.get("EXT_texture_compression_bptc")))return null;if(e===k_)return i===V_?n.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:n.COMPRESSED_RGBA_BPTC_UNORM_EXT}return e===Vy?r?34042:null!==(n=t.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}var ek=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return nm(this,n),(e=t.call(this)).cameras=r,e}return mr(n)}(gS);ek.prototype.isArrayCamera=!0;var tk=function(e){eg(n,e);var t=ig(n);function n(){var e;return nm(this,n),(e=t.call(this)).type="Group",e}return mr(n)}(cw);tk.prototype.isGroup=!0;var nk={type:"move"},rk=function(){function e(){nm(this,e),this._targetRay=null,this._grip=null,this._hand=null}return mr(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new tk,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new tk,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new lx,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new lx),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new tk,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new lx,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new lx),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,o=null,a=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(null!==a&&null!==(r=t.getPose(e.targetRaySpace,n))&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(nk)),l&&e.hand){o=!0;var u,c=lg(e.hand.values());try{for(c.s();!(u=c.n()).done;){var h=u.value,p=t.getJointPose(h,n);if(void 0===l.joints[h.jointName]){var f=new tk;f.matrixAutoUpdate=!1,f.visible=!1,l.joints[h.jointName]=f,l.add(f)}var d=l.joints[h.jointName];null!==p&&(d.matrix.fromArray(p.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.jointRadius=p.radius),d.visible=null!==p}}catch(y){c.e(y)}finally{c.f()}var m=l.joints["index-finger-tip"],v=l.joints["thumb-tip"],g=m.position.distanceTo(v.position);l.inputState.pinching&&g>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&g<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);return null!==a&&(a.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==o),this}}]),e}(),ik=function(e){eg(n,e);var t=ig(n);function n(e,r,i,o,a,s,l,u,c,h){var p;if(nm(this,n),(h=void 0!==h?h:Xy)!==Xy&&h!==Zy)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&h===Xy&&(i=Dy),void 0===i&&h===Zy&&(i=Vy),(p=t.call(this,null,o,a,s,l,u,h,i,c)).image={width:e,height:r},p.magFilter=void 0!==l?l:wy,p.minFilter=void 0!==u?u:wy,p.flipY=!1,p.generateMipmaps=!1,p}return mr(n)}($b);ik.prototype.isDepthTexture=!0;var ok=function(e){eg(n,e);var t=ig(n);function n(e,r){var i;nm(this,n);var o=yr(i=t.call(this)),a=null,s=1,l=null,u="local-floor",c=null,h=null,p=null,f=null,d=null,m=r.getContextAttributes(),v=null,g=null,y=[],_=new Map,b=new gS;b.layers.enable(1),b.viewport=new ex;var x=new gS;x.layers.enable(2),x.viewport=new ex;var w=[b,x],S=new ek;S.layers.enable(1),S.layers.enable(2);var E=null,M=null;function k(e){var t=_.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function T(){_.forEach((function(e,t){e.disconnect(t)})),_.clear(),E=null,M=null,e.setRenderTarget(v),f=null,p=null,h=null,a=null,g=null,I.stop(),o.isPresenting=!1,o.dispatchEvent({type:"sessionend"})}function A(e){for(var t=a.inputSources,n=0;n<y.length;n++)_.set(t[n],y[n]);for(var r=0;r<e.removed.length;r++){var i=e.removed[r],o=_.get(i);o&&(o.dispatchEvent({type:"disconnected",data:i}),_.delete(i))}for(var s=0;s<e.added.length;s++){var l=e.added[s],u=_.get(l);u&&u.dispatchEvent({type:"connected",data:l})}}i.cameraAutoUpdate=!0,i.enabled=!1,i.isPresenting=!1,i.getController=function(e){var t=y[e];return void 0===t&&(t=new rk,y[e]=t),t.getTargetRaySpace()},i.getControllerGrip=function(e){var t=y[e];return void 0===t&&(t=new rk,y[e]=t),t.getGripSpace()},i.getHand=function(e){var t=y[e];return void 0===t&&(t=new rk,y[e]=t),t.getHandSpace()},i.setFramebufferScaleFactor=function(e){s=e,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(e){u=e,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return l},i.getBaseLayer=function(){return null!==p?p:f},i.getBinding=function(){return h},i.getFrame=function(){return d},i.getSession=function(){return a},i.setSession=function(){var t=Xf(Zf.mark((function t(n){var i,c,d,y,_;return Zf.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(a=n)){t.next=24;break}if(v=e.getRenderTarget(),a.addEventListener("select",k),a.addEventListener("selectstart",k),a.addEventListener("selectend",k),a.addEventListener("squeeze",k),a.addEventListener("squeezestart",k),a.addEventListener("squeezeend",k),a.addEventListener("end",T),a.addEventListener("inputsourceschange",A),!0===m.xrCompatible){t.next=14;break}return t.next=14,r.makeXRCompatible();case 14:return void 0===a.renderState.layers||!1===e.capabilities.isWebGL2?(i={antialias:void 0!==a.renderState.layers||m.antialias,alpha:m.alpha,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s},f=new XRWebGLLayer(a,r,i),a.updateRenderState({baseLayer:f}),g=new tx(f.framebufferWidth,f.framebufferHeight,{format:Gy,type:Ry,encoding:e.outputEncoding})):(c=null,d=null,y=null,m.depth&&(y=m.stencil?35056:33190,c=m.stencil?Zy:Xy,d=m.stencil?Vy:Dy),_={colorFormat:e.outputEncoding===V_?35907:32856,depthFormat:y,scaleFactor:s},h=new XRWebGLBinding(a,r),p=h.createProjectionLayer(_),a.updateRenderState({layers:[p]}),g=new tx(p.textureWidth,p.textureHeight,{format:Gy,type:Ry,depthTexture:new ik(p.textureWidth,p.textureHeight,d,void 0,void 0,void 0,void 0,void 0,void 0,c),stencilBuffer:m.stencil,encoding:e.outputEncoding,samples:m.antialias?4:0}),e.properties.get(g).__ignoreDepthValues=p.ignoreDepthValues),g.isXRRenderTarget=!0,this.setFoveation(1),t.next=19,a.requestReferenceSpace(u);case 19:l=t.sent,I.setContext(a),I.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"});case 24:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();var C=new lx,P=new lx;function O(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.updateCamera=function(e){if(null!==a){S.near=x.near=b.near=e.near,S.far=x.far=b.far=e.far,E===S.near&&M===S.far||(a.updateRenderState({depthNear:S.near,depthFar:S.far}),E=S.near,M=S.far);var t=e.parent,n=S.cameras;O(S,t);for(var r=0;r<n.length;r++)O(n[r],t);S.matrixWorld.decompose(S.position,S.quaternion,S.scale),e.position.copy(S.position),e.quaternion.copy(S.quaternion),e.scale.copy(S.scale),e.matrix.copy(S.matrix),e.matrixWorld.copy(S.matrixWorld);for(var i=e.children,o=0,s=i.length;o<s;o++)i[o].updateMatrixWorld(!0);2===n.length?function(e,t,n){C.setFromMatrixPosition(t.matrixWorld),P.setFromMatrixPosition(n.matrixWorld);var r=C.distanceTo(P),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],h=(o[8]+1)/o[0],p=a*c,f=a*h,d=r/(-c+h),m=d*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(d),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var v=a+d,g=s+d,y=p-m,_=f+(r-m),b=l*s/g*v,x=u*s/g*v;e.projectionMatrix.makePerspective(y,_,b,x,v,g)}(S,b,x):S.projectionMatrix.copy(b.projectionMatrix)}},i.getCamera=function(){return S},i.getFoveation=function(){return null!==p?p.fixedFoveation:null!==f?f.fixedFoveation:void 0},i.setFoveation=function(e){null!==p&&(p.fixedFoveation=e),null!==f&&void 0!==f.fixedFoveation&&(f.fixedFoveation=e)};var R=null;var I=new CS;return I.setAnimationLoop((function(t,n){if(c=n.getViewerPose(l),d=n,null!==c){var r=c.views;null!==f&&(e.setRenderTargetFramebuffer(g,f.framebuffer),e.setRenderTarget(g));var i=!1;r.length!==S.cameras.length&&(S.cameras.length=0,i=!0);for(var o=0;o<r.length;o++){var s=r[o],u=null;if(null!==f)u=f.getViewport(s);else{var m=h.getViewSubImage(p,s);u=m.viewport,0===o&&(e.setRenderTargetTextures(g,m.colorTexture,p.ignoreDepthValues?void 0:m.depthStencilTexture),e.setRenderTarget(g))}var v=w[o];v.matrix.fromArray(s.transform.matrix),v.projectionMatrix.fromArray(s.projectionMatrix),v.viewport.set(u.x,u.y,u.width,u.height),0===o&&S.matrix.copy(v.matrix),!0===i&&S.cameras.push(v)}}for(var _=a.inputSources,b=0;b<y.length;b++){var x=y[b],E=_[b];x.update(E,n,l)}R&&R(t,n),d=null})),i.setAnimationLoop=function(e){R=e},i.dispose=function(){},i}return mr(n)}(xb);function ak(e){function t(t,n){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap),n.alphaTest>0&&(t.alphaTest.value=n.alphaTest);var r,i,o=e.get(n).envMap;o&&(t.envMap.value=o,t.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,t.reflectivity.value=n.reflectivity,t.ior.value=n.ior,t.refractionRatio.value=n.refractionRatio),n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap?r=n.clearcoatRoughnessMap:n.specularIntensityMap?r=n.specularIntensityMap:n.specularColorMap?r=n.specularColorMap:n.transmissionMap?r=n.transmissionMap:n.thicknessMap?r=n.thicknessMap:n.sheenColorMap?r=n.sheenColorMap:n.sheenRoughnessMap&&(r=n.sheenRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix)),n.aoMap?i=n.aoMap:n.lightMap&&(i=n.lightMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uv2Transform.value.copy(i.matrix))}function n(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(t.emissiveMap.value=n.emissiveMap),n.bumpMap&&(t.bumpMap.value=n.bumpMap,t.bumpScale.value=n.bumpScale,n.side===Sg&&(t.bumpScale.value*=-1)),n.normalMap&&(t.normalMap.value=n.normalMap,t.normalScale.value.copy(n.normalScale),n.side===Sg&&t.normalScale.value.negate()),n.displacementMap&&(t.displacementMap.value=n.displacementMap,t.displacementScale.value=n.displacementScale,t.displacementBias.value=n.displacementBias),e.get(n).envMap&&(t.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,i,o,a){r.isMeshBasicMaterial?t(e,r):r.isMeshLambertMaterial?(t(e,r),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,r)):r.isMeshToonMaterial?(t(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===Sg&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===Sg&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshPhongMaterial?(t(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===Sg&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===Sg&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshStandardMaterial?(t(e,r),r.isMeshPhysicalMaterial?function(e,t,r){n(e,t),e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===Sg&&e.clearcoatNormalScale.value.negate()));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap);t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}(e,r,a):n(e,r)):r.isMeshMatcapMaterial?(t(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===Sg&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===Sg&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDepthMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDistanceMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?(t(e,r),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===Sg&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===Sg&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);var i;t.map?i=t.map:t.alphaMap&&(i=t.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,i,o):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function sk(){var e=jb("canvas");return e.style.display="block",e}function lk(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=void 0!==t.canvas?t.canvas:sk(),r=void 0!==t.context?t.context:null,i=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,a=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,u=void 0!==t.powerPreference?t.powerPreference:"default",c=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;e=void 0!==t.context?r.getContextAttributes().alpha:void 0!==t.alpha&&t.alpha;var h=null,p=null,f=[],d=[];this.domElement=n,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=U_,this.physicallyCorrectLights=!1,this.toneMapping=ay,this.toneMappingExposure=1;var m=this,v=!1,g=0,y=0,_=null,b=-1,x=null,w=new ex,S=new ex,E=null,M=n.width,k=n.height,T=1,A=null,C=null,P=new ex(0,0,M,k),O=new ex(0,0,M,k),R=!1,I=new AS,L=!1,D=!1,z=null,N=new Fx,B=new Db,F=new lx,j={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function U(){return null===_?T:1}var V,H,W,G,q,Y,X,Z,K,J,Q,$,ee,te,ne,re,ie,oe,ae,se,le,ue,ce,he=r;function pe(e,t){for(var r=0;r<e.length;r++){var i=e[r],o=n.getContext(i,t);if(null!==o)return o}return null}try{var fe={alpha:!0,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:c};if("setAttribute"in n&&n.setAttribute("data-engine","three.js r".concat(hg)),n.addEventListener("webglcontextlost",ge,!1),n.addEventListener("webglcontextrestored",ye,!1),null===he){var de=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&de.shift(),null===(he=pe(de,fe)))throw pe(de)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===he.getShaderPrecisionFormat&&(he.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ne){throw console.error("THREE.WebGLRenderer: "+Ne.message),Ne}function me(){V=new nE(he),H=new BS(he,V,t),V.init(H),ue=new $M(he,V,H),W=new JM(he,V,H),G=new oE(he),q=new NM,Y=new QM(he,V,W,q,H,ue,G),X=new jS(m),Z=new tE(m),K=new PS(he,H),ce=new zS(he,V,K,H),J=new rE(he,K,G,ce),Q=new cE(he,J,K,G),ae=new uE(he,H,Y),re=new FS(q),$=new zM(m,X,Z,V,H,ce,re),ee=new ak(q),te=new UM,ne=new YM(V,H),oe=new DS(m,X,W,Q,e,s),ie=new KM(m,Q,H),se=new NS(he,V,G,H),le=new iE(he,V,G,H),G.programs=$.programs,m.capabilities=H,m.extensions=V,m.properties=q,m.renderLists=te,m.shadowMap=ie,m.state=W,m.info=G}me();var ve=new ok(m,he);function ge(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function ye(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;var e=G.autoReset,t=ie.enabled,n=ie.autoUpdate,r=ie.needsUpdate,i=ie.type;me(),G.autoReset=e,ie.enabled=t,ie.autoUpdate=n,ie.needsUpdate=r,ie.type=i}function _e(e){var t=e.target;t.removeEventListener("dispose",_e),be(t)}function be(e){xe(e),q.remove(e)}function xe(e){var t=q.get(e).programs;void 0!==t&&(t.forEach((function(e){$.releaseProgram(e)})),e.isShaderMaterial&&$.releaseShaderCache(e))}this.xr=ve,this.getContext=function(){return he},this.getContextAttributes=function(){return he.getContextAttributes()},this.forceContextLoss=function(){var e=V.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=V.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return T},this.setPixelRatio=function(e){void 0!==e&&(T=e,this.setSize(M,k,!1))},this.getSize=function(e){return e.set(M,k)},this.setSize=function(e,t,r){ve.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(M=e,k=t,n.width=Math.floor(e*T),n.height=Math.floor(t*T),!1!==r&&(n.style.width=e+"px",n.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(M*T,k*T).floor()},this.setDrawingBufferSize=function(e,t,r){M=e,k=t,T=r,n.width=Math.floor(e*r),n.height=Math.floor(t*r),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(w)},this.getViewport=function(e){return e.copy(P)},this.setViewport=function(e,t,n,r){e.isVector4?P.set(e.x,e.y,e.z,e.w):P.set(e,t,n,r),W.viewport(w.copy(P).multiplyScalar(T).floor())},this.getScissor=function(e){return e.copy(O)},this.setScissor=function(e,t,n,r){e.isVector4?O.set(e.x,e.y,e.z,e.w):O.set(e,t,n,r),W.scissor(S.copy(O).multiplyScalar(T).floor())},this.getScissorTest=function(){return R},this.setScissorTest=function(e){W.setScissorTest(R=e)},this.setOpaqueSort=function(e){A=e},this.setTransparentSort=function(e){C=e},this.getClearColor=function(e){return e.copy(oe.getClearColor())},this.setClearColor=function(){oe.setClearColor.apply(oe,arguments)},this.getClearAlpha=function(){return oe.getClearAlpha()},this.setClearAlpha=function(){oe.setClearAlpha.apply(oe,arguments)},this.clear=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=0;e&&(r|=16384),t&&(r|=256),n&&(r|=1024),he.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",ge,!1),n.removeEventListener("webglcontextrestored",ye,!1),te.dispose(),ne.dispose(),q.dispose(),X.dispose(),Z.dispose(),Q.dispose(),ce.dispose(),$.dispose(),ve.dispose(),ve.removeEventListener("sessionstart",Ee),ve.removeEventListener("sessionend",Me),z&&(z.dispose(),z=null),ke.stop()},this.renderBufferDirect=function(e,t,n,r,i,o){null===t&&(t=j);var a=i.isMesh&&i.matrixWorld.determinant()<0,s=Le(e,t,n,r,i);W.setMaterial(r,a);var l=n.index,u=n.attributes.position;if(null===l){if(void 0===u||0===u.count)return}else if(0===l.count)return;var c,h=1;!0===r.wireframe&&(l=J.getWireframeAttribute(n),h=2),ce.setup(i,r,s,n,l);var p=se;null!==l&&(c=K.get(l),(p=le).setIndex(c));var f=null!==l?l.count:u.count,d=n.drawRange.start*h,m=n.drawRange.count*h,v=null!==o?o.start*h:0,g=null!==o?o.count*h:1/0,y=Math.max(d,v),_=Math.min(f,d+m,v+g)-1,b=Math.max(0,_-y+1);if(0!==b){if(i.isMesh)!0===r.wireframe?(W.setLineWidth(r.wireframeLinewidth*U()),p.setMode(1)):p.setMode(4);else if(i.isLine){var x=r.linewidth;void 0===x&&(x=1),W.setLineWidth(x*U()),i.isLineSegments?p.setMode(1):i.isLineLoop?p.setMode(2):p.setMode(3)}else i.isPoints?p.setMode(0):i.isSprite&&p.setMode(4);if(i.isInstancedMesh)p.renderInstances(y,b,i.count);else if(n.isInstancedBufferGeometry){var w=Math.min(n.instanceCount,n._maxInstanceCount);p.renderInstances(y,b,w)}else p.render(y,b)}},this.compile=function(e,t){(p=ne.get(e)).init(),d.push(p),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(p.pushLight(e),e.castShadow&&p.pushShadow(e))})),p.setupLights(m.physicallyCorrectLights),e.traverse((function(t){var n=t.material;if(n)if(Array.isArray(n))for(var r=0;r<n.length;r++){Re(n[r],e,t)}else Re(n,e,t)})),d.pop(),p=null};var we=null;function Se(e){we&&we(e)}function Ee(){ke.stop()}function Me(){ke.start()}var ke=new CS;function Te(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)p.pushLight(e),e.castShadow&&p.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||I.intersectsSprite(e)){r&&F.setFromMatrixPosition(e.matrixWorld).applyMatrix4(N);var i=Q.update(e),o=e.material;o.visible&&h.push(e,i,o,n,F.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==G.render.frame&&(e.skeleton.update(),e.skeleton.frame=G.render.frame),!e.frustumCulled||I.intersectsObject(e))){r&&F.setFromMatrixPosition(e.matrixWorld).applyMatrix4(N);var a=Q.update(e),s=e.material;if(Array.isArray(s))for(var l=a.groups,u=0,c=l.length;u<c;u++){var f=l[u],d=s[f.materialIndex];d&&d.visible&&h.push(e,a,d,n,F.z,f)}else s.visible&&h.push(e,a,s,n,F.z,null)}for(var m=e.children,v=0,g=m.length;v<g;v++)Te(m[v],t,n,r)}}function Ae(e,t,n,r){var i=e.opaque,o=e.transmissive,a=e.transparent;p.setupLightsView(n),o.length>0&&Ce(i,t,n),r&&W.viewport(w.copy(r)),i.length>0&&Pe(i,t,n),o.length>0&&Pe(o,t,n),a.length>0&&Pe(a,t,n),W.buffers.depth.setTest(!0),W.buffers.depth.setMask(!0),W.buffers.color.setMask(!0),W.setPolygonOffset(!1)}function Ce(e,t,n){var r=H.isWebGL2;null===z&&(z=new tx(1,1,{generateMipmaps:!0,type:null!==ue.convert(Fy)?Fy:Ry,minFilter:Py,samples:r&&!0===a?4:0})),m.getDrawingBufferSize(B),r?z.setSize(B.x,B.y):z.setSize(Ib(B.x),Ib(B.y));var i=m.getRenderTarget();m.setRenderTarget(z),m.clear();var o=m.toneMapping;m.toneMapping=ay,Pe(e,t,n),m.toneMapping=o,Y.updateMultisampleRenderTarget(z),Y.updateRenderTargetMipmap(z),m.setRenderTarget(i)}function Pe(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,l=a.geometry,u=null===r?a.material:r,c=a.group;s.layers.test(n.layers)&&Oe(s,t,n,l,u,c)}}function Oe(e,t,n,r,i,o){e.onBeforeRender(m,t,n,r,i,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(m,t,n,r,e,o),!0===i.transparent&&i.side===Eg?(i.side=Sg,i.needsUpdate=!0,m.renderBufferDirect(n,t,r,i,e,o),i.side=wg,i.needsUpdate=!0,m.renderBufferDirect(n,t,r,i,e,o),i.side=Eg):m.renderBufferDirect(n,t,r,i,e,o),e.onAfterRender(m,t,n,r,i,o)}function Re(e,t,n){!0!==t.isScene&&(t=j);var r=q.get(e),i=p.state.lights,o=p.state.shadowsArray,a=i.state.version,s=$.getParameters(e,i.state,o,t,n),l=$.getProgramCacheKey(s),u=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?Z:X).get(e.envMap||r.environment),void 0===u&&(e.addEventListener("dispose",_e),u=new Map,r.programs=u);var c=u.get(l);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===a)return Ie(e,s),c}else s.uniforms=$.getUniforms(e),e.onBuild(n,s,m),e.onBeforeCompile(s,m),c=$.acquireProgram(s,l),u.set(l,c),r.uniforms=s.uniforms;var h=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=re.uniform),Ie(e,s),r.needsLights=ze(e),r.lightsStateVersion=a,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotShadowMatrix.value=i.state.spotShadowMatrix,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix);var f=c.getUniforms(),d=dM.seqWithValue(f.seq,h);return r.currentProgram=c,r.uniformsList=d,c}function Ie(e,t){var n=q.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}function Le(e,t,n,r,i){!0!==t.isScene&&(t=j),Y.resetTextureUnits();var o=t.fog,a=r.isMeshStandardMaterial?t.environment:null,s=null===_?m.outputEncoding:!0===_.isXRRenderTarget?_.texture.encoding:U_,l=(r.isMeshStandardMaterial?Z:X).get(r.envMap||a),u=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!r.normalMap&&!!n.attributes.tangent,h=!!n.morphAttributes.position,f=!!n.morphAttributes.normal,d=!!n.morphAttributes.color,v=r.toneMapped?m.toneMapping:ay,g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,y=void 0!==g?g.length:0,w=q.get(r),S=p.state.lights;if(!0===L&&(!0===D||e!==x)){var E=e===x&&r.id===b;re.setState(r,e,E)}var M=!1;r.version===w.__version?w.needsLights&&w.lightsStateVersion!==S.state.version||w.outputEncoding!==s||i.isInstancedMesh&&!1===w.instancing?M=!0:i.isInstancedMesh||!0!==w.instancing?i.isSkinnedMesh&&!1===w.skinning?M=!0:i.isSkinnedMesh||!0!==w.skinning?w.envMap!==l||r.fog&&w.fog!==o?M=!0:void 0===w.numClippingPlanes||w.numClippingPlanes===re.numPlanes&&w.numIntersection===re.numIntersection?(w.vertexAlphas!==u||w.vertexTangents!==c||w.morphTargets!==h||w.morphNormals!==f||w.morphColors!==d||w.toneMapping!==v||!0===H.isWebGL2&&w.morphTargetsCount!==y)&&(M=!0):M=!0:M=!0:M=!0:(M=!0,w.__version=r.version);var A=w.currentProgram;!0===M&&(A=Re(r,t,i));var C=!1,P=!1,O=!1,R=A.getUniforms(),I=w.uniforms;if(W.useProgram(A.program)&&(C=!0,P=!0,O=!0),r.id!==b&&(b=r.id,P=!0),C||x!==e){if(R.setValue(he,"projectionMatrix",e.projectionMatrix),H.logarithmicDepthBuffer&&R.setValue(he,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),x!==e&&(x=e,P=!0,O=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var N=R.map.cameraPosition;void 0!==N&&N.setValue(he,F.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&R.setValue(he,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&R.setValue(he,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){R.setOptional(he,i,"bindMatrix"),R.setOptional(he,i,"bindMatrixInverse");var B=i.skeleton;B&&(H.floatVertexTextures?(null===B.boneTexture&&B.computeBoneTexture(),R.setValue(he,"boneTexture",B.boneTexture,Y),R.setValue(he,"boneTextureSize",B.boneTextureSize)):R.setOptional(he,B,"boneMatrices"))}var U=n.morphAttributes;return(void 0!==U.position||void 0!==U.normal||void 0!==U.color&&!0===H.isWebGL2)&&ae.update(i,n,r,A),(P||w.receiveShadow!==i.receiveShadow)&&(w.receiveShadow=i.receiveShadow,R.setValue(he,"receiveShadow",i.receiveShadow)),P&&(R.setValue(he,"toneMappingExposure",m.toneMappingExposure),w.needsLights&&De(I,O),o&&r.fog&&ee.refreshFogUniforms(I,o),ee.refreshMaterialUniforms(I,r,T,k,z),dM.upload(he,w.uniformsList,I,Y)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(dM.upload(he,w.uniformsList,I,Y),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&R.setValue(he,"center",i.center),R.setValue(he,"modelViewMatrix",i.modelViewMatrix),R.setValue(he,"normalMatrix",i.normalMatrix),R.setValue(he,"modelMatrix",i.matrixWorld),A}function De(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t,e.directionalShadowMap.needsUpdate=t,e.directionalShadowMatrix.needsUpdate=t,e.spotShadowMap.needsUpdate=t,e.spotShadowMatrix.needsUpdate=t,e.pointShadowMap.needsUpdate=t,e.pointShadowMatrix.needsUpdate=t}function ze(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}ke.setAnimationLoop(Se),"undefined"!==typeof window&&ke.setContext(window),this.setAnimationLoop=function(e){we=e,ve.setAnimationLoop(e),null===e?ke.stop():ke.start()},ve.addEventListener("sessionstart",Ee),ve.addEventListener("sessionend",Me),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==v){!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===ve.enabled&&!0===ve.isPresenting&&(!0===ve.cameraAutoUpdate&&ve.updateCamera(t),t=ve.getCamera()),!0===e.isScene&&e.onBeforeRender(m,e,t,_),(p=ne.get(e,d.length)).init(),d.push(p),N.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),I.setFromProjectionMatrix(N),D=this.localClippingEnabled,L=re.init(this.clippingPlanes,D,t),(h=te.get(e,f.length)).init(),f.push(h),Te(e,t,0,m.sortObjects),h.finish(),!0===m.sortObjects&&h.sort(A,C),!0===L&&re.beginShadows();var n=p.state.shadowsArray;if(ie.render(n,e,t),!0===L&&re.endShadows(),!0===this.info.autoReset&&this.info.reset(),oe.render(h,e),p.setupLights(m.physicallyCorrectLights),t.isArrayCamera)for(var r=t.cameras,i=0,o=r.length;i<o;i++){var a=r[i];Ae(h,e,a,a.viewport)}else Ae(h,e,t);null!==_&&(Y.updateMultisampleRenderTarget(_),Y.updateRenderTargetMipmap(_)),!0===e.isScene&&e.onAfterRender(m,e,t),ce.resetDefaultState(),b=-1,x=null,d.pop(),p=d.length>0?d[d.length-1]:null,f.pop(),h=f.length>0?f[f.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return _},this.setRenderTargetTextures=function(e,t,n){q.get(e.texture).__webglTexture=t,q.get(e.depthTexture).__webglTexture=n;var r=q.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===V.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),e.useRenderToTexture=!1,e.useRenderbuffer=!0))},this.setRenderTargetFramebuffer=function(e,t){var n=q.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_=e,g=t,y=n;var r=!0;if(e){var i=q.get(e);void 0!==i.__useDefaultFramebuffer?(W.bindFramebuffer(36160,null),r=!1):void 0===i.__webglFramebuffer?Y.setupRenderTarget(e):i.__hasExternalTextures&&Y.rebindTextures(e,q.get(e.texture).__webglTexture,q.get(e.depthTexture).__webglTexture)}var o=null,a=!1,s=!1;if(e){var l=e.texture;(l.isData3DTexture||l.isDataArrayTexture)&&(s=!0);var u=q.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(o=u[t],a=!0):o=H.isWebGL2&&e.samples>0&&!1===Y.useMultisampledRTT(e)?q.get(e).__webglMultisampledFramebuffer:u,w.copy(e.viewport),S.copy(e.scissor),E=e.scissorTest}else w.copy(P).multiplyScalar(T).floor(),S.copy(O).multiplyScalar(T).floor(),E=R;var c=W.bindFramebuffer(36160,o);if(c&&H.drawBuffers&&r&&W.drawBuffers(e,o),W.viewport(w),W.scissor(S),W.setScissorTest(E),a){var h=q.get(e.texture);he.framebufferTexture2D(36160,36064,34069+t,h.__webglTexture,n)}else if(s){var p=q.get(e.texture),f=t||0;he.framebufferTextureLayer(36160,36064,p.__webglTexture,n||0,f)}b=-1},this.readRenderTargetPixels=function(e,t,n,r,i,o,a){if(e&&e.isWebGLRenderTarget){var s=q.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){W.bindFramebuffer(36160,s);try{var l=e.texture,u=l.format,c=l.type;if(u!==Gy&&ue.convert(u)!==he.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var h=c===Fy&&(V.has("EXT_color_buffer_half_float")||H.isWebGL2&&V.has("EXT_color_buffer_float"));if(c!==Ry&&ue.convert(c)!==he.getParameter(35738)&&(c!==By||!(H.isWebGL2||V.has("OES_texture_float")||V.has("WEBGL_color_buffer_float")))&&!h)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===he.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&he.readPixels(t,n,r,i,ue.convert(u),ue.convert(c),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{var p=null!==_?q.get(_).__webglFramebuffer:null;W.bindFramebuffer(36160,p)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!0===t.isFramebufferTexture){var r=Math.pow(2,-n),i=Math.floor(t.image.width*r),o=Math.floor(t.image.height*r);Y.setTexture2D(t,0),he.copyTexSubImage2D(3553,n,0,0,e.x,e.y,i,o),W.unbindTexture()}else console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.")},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,o=t.image.height,a=ue.convert(n.format),s=ue.convert(n.type);Y.setTexture2D(n,0),he.pixelStorei(37440,n.flipY),he.pixelStorei(37441,n.premultiplyAlpha),he.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?he.texSubImage2D(3553,r,e.x,e.y,i,o,a,s,t.image.data):t.isCompressedTexture?he.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,a,t.mipmaps[0].data):he.texSubImage2D(3553,r,e.x,e.y,a,s,t.image),0===r&&n.generateMipmaps&&he.generateMipmap(3553),W.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(m.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var o,a=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,l=e.max.z-e.min.z+1,u=ue.convert(r.format),c=ue.convert(r.type);if(r.isData3DTexture)Y.setTexture3D(r,0),o=32879;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Y.setTexture2DArray(r,0),o=35866}he.pixelStorei(37440,r.flipY),he.pixelStorei(37441,r.premultiplyAlpha),he.pixelStorei(3317,r.unpackAlignment);var h=he.getParameter(3314),p=he.getParameter(32878),f=he.getParameter(3316),d=he.getParameter(3315),v=he.getParameter(32877),g=n.isCompressedTexture?n.mipmaps[0]:n.image;he.pixelStorei(3314,g.width),he.pixelStorei(32878,g.height),he.pixelStorei(3316,e.min.x),he.pixelStorei(3315,e.min.y),he.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?he.texSubImage3D(o,i,t.x,t.y,t.z,a,s,l,u,c,g.data):n.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),he.compressedTexSubImage3D(o,i,t.x,t.y,t.z,a,s,l,u,g.data)):he.texSubImage3D(o,i,t.x,t.y,t.z,a,s,l,u,c,g),he.pixelStorei(3314,h),he.pixelStorei(32878,p),he.pixelStorei(3316,f),he.pixelStorei(3315,d),he.pixelStorei(32877,v),0===i&&r.generateMipmaps&&he.generateMipmap(o),W.unbindTexture()}},this.initTexture=function(e){Y.setTexture2D(e,0),W.unbindTexture()},this.resetState=function(){g=0,y=0,_=null,W.reset(),ce.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}lk.prototype.isWebGLRenderer=!0;var uk=function(e){eg(n,e);var t=ig(n);function n(){return nm(this,n),t.apply(this,arguments)}return mr(n)}(lk);uk.prototype.isWebGL1Renderer=!0;var ck=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;nm(this,e),this.name="",this.color=new Xb(t),this.density=n}return mr(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}();ck.prototype.isFogExp2=!0;var hk=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;nm(this,e),this.name="",this.color=new Xb(t),this.near=n,this.far=r}return mr(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}();hk.prototype.isFog=!0;var pk=function(e){eg(n,e);var t=ig(n);function n(){var e;return nm(this,n),(e=t.call(this)).type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,e.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:yr(e)})),e}return mr(n,[{key:"copy",value:function(e,t){return cg(tg(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=cg(tg(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}]),n}(cw);pk.prototype.isScene=!0;var fk=function(){function e(t,n){nm(this,e),this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=ub,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Tb()}return mr(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Tb()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Tb()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}();fk.prototype.isInterleavedBuffer=!0;var dk=new lx,mk=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];nm(this,e),this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=!0===i}return mr(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)dk.x=this.getX(t),dk.y=this.getY(t),dk.z=this.getZ(t),dk.applyMatrix4(e),this.setXYZ(t,dk.x,dk.y,dk.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)dk.x=this.getX(t),dk.y=this.getY(t),dk.z=this.getZ(t),dk.applyNormalMatrix(e),this.setXYZ(t,dk.x,dk.y,dk.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)dk.x=this.getX(t),dk.y=this.getY(t),dk.z=this.getZ(t),dk.transformDirection(e),this.setXYZ(t,dk.x,dk.y,dk.z);return this}},{key:"setX",value:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){return this.data.array[e*this.data.stride+this.offset]}},{key:"getY",value:function(e){return this.data.array[e*this.data.stride+this.offset+1]}},{key:"getZ",value:function(e){return this.data.array[e*this.data.stride+this.offset+2]}},{key:"getW",value:function(e){return this.data.array[e*this.data.stride+this.offset+3]}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,o=0;o<this.itemSize;o++)n.push(this.data.array[i+o]);return new Tw(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}();mk.prototype.isInterleavedBufferAttribute=!0;var vk,gk=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this)).type="SpriteMaterial",r.color=new Xb(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.setValues(e),r}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}]),n}(Sw);gk.prototype.isSpriteMaterial=!0;var yk=new lx,_k=new lx,bk=new lx,xk=new Db,wk=new Db,Sk=new Fx,Ek=new lx,Mk=new lx,kk=new lx,Tk=new Db,Ak=new Db,Ck=new Db,Pk=function(e){eg(n,e);var t=ig(n);function n(e){var r;if(nm(this,n),(r=t.call(this)).type="Sprite",void 0===vk){vk=new Gw;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),o=new fk(i,5);vk.setIndex([0,1,2,0,2,3]),vk.setAttribute("position",new mk(o,3,0,!1)),vk.setAttribute("uv",new mk(o,2,3,!1))}return r.geometry=vk,r.material=void 0!==e?e:new gk,r.center=new Db(.5,.5),r}return mr(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_k.setFromMatrixScale(this.matrixWorld),Sk.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),bk.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&_k.multiplyScalar(-bk.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var o=this.center;Ok(Ek.set(-.5,-.5,0),bk,o,_k,n,r),Ok(Mk.set(.5,-.5,0),bk,o,_k,n,r),Ok(kk.set(.5,.5,0),bk,o,_k,n,r),Tk.set(0,0),Ak.set(1,0),Ck.set(1,1);var a=e.ray.intersectTriangle(Ek,Mk,kk,!1,yk);if(null!==a||(Ok(Mk.set(-.5,.5,0),bk,o,_k,n,r),Ak.set(0,1),null!==(a=e.ray.intersectTriangle(Ek,kk,Mk,!1,yk)))){var s=e.ray.origin.distanceTo(yk);s<e.near||s>e.far||t.push({distance:s,point:yk.clone(),uv:xw.getUV(yk,Ek,Mk,kk,Tk,Ak,Ck,new Db),face:null,object:this})}}},{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(cw);function Ok(e,t,n,r,i,o){xk.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(wk.x=o*xk.x-i*xk.y,wk.y=i*xk.x+o*xk.y):wk.copy(xk),e.copy(t),e.x+=wk.x,e.y+=wk.y,e.applyMatrix4(Sk)}Pk.prototype.isSprite=!0;var Rk=new lx,Ik=new lx,Lk=function(e){eg(n,e);var t=ig(n);function n(){var e;return nm(this,n),(e=t.call(this))._currentLevel=0,e.type="LOD",Object.defineProperties(yr(e),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),e.autoUpdate=!0,e}return mr(n,[{key:"copy",value:function(e){cg(tg(n.prototype),"copy",this).call(this,e,!1);for(var t=e.levels,r=0,i=t.length;r<i;r++){var o=t[r];this.addLevel(o.object.clone(),o.distance)}return this.autoUpdate=e.autoUpdate,this}},{key:"addLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Math.abs(t);var n,r=this.levels;for(n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null}},{key:"raycast",value:function(e,t){if(this.levels.length>0){Rk.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(Rk);this.getObjectForDistance(n).raycast(e,t)}}},{key:"update",value:function(e){var t=this.levels;if(t.length>1){Rk.setFromMatrixPosition(e.matrixWorld),Ik.setFromMatrixPosition(this.matrixWorld);var n,r,i=Rk.distanceTo(Ik)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r&&i>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}}},{key:"toJSON",value:function(e){var t=cg(tg(n.prototype),"toJSON",this).call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,i=0,o=r.length;i<o;i++){var a=r[i];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}]),n}(cw),Dk=new lx,zk=new ex,Nk=new ex,Bk=new lx,Fk=new Fx,jk=function(e){eg(n,e);var t=ig(n);function n(e,r){var i;return nm(this,n),(i=t.call(this,e,r)).type="SkinnedMesh",i.bindMode="attached",i.bindMatrix=new Fx,i.bindMatrixInverse=new Fx,i}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new ex,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){cg(tg(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;zk.fromBufferAttribute(r.attributes.skinIndex,e),Nk.fromBufferAttribute(r.attributes.skinWeight,e),Dk.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var o=Nk.getComponent(i);if(0!==o){var a=zk.getComponent(i);Fk.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),t.addScaledVector(Bk.copy(Dk).applyMatrix4(Fk),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}]),n}(uS);jk.prototype.isSkinnedMesh=!0;var Uk=function(e){eg(n,e);var t=ig(n);function n(){var e;return nm(this,n),(e=t.call(this)).type="Bone",e}return mr(n)}(cw);Uk.prototype.isBone=!0;var Vk=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:wy,p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:wy,f=arguments.length>10?arguments[10]:void 0,d=arguments.length>11?arguments[11]:void 0;return nm(this,n),(e=t.call(this,null,l,u,c,h,p,a,s,f,d)).image={data:r,width:i,height:o},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return mr(n)}($b);Vk.prototype.isDataTexture=!0;var Hk=new Fx,Wk=new Fx,Gk=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];nm(this,e),this.uuid=Tb(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return mr(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Fx)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new Fx;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var o=this.bones[r];o&&(o.parent&&o.parent.isBone?(o.matrix.copy(o.parent.matrixWorld).invert(),o.matrix.multiply(o.matrixWorld)):o.matrix.copy(o.matrixWorld),o.matrix.decompose(o.position,o.quaternion,o.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,o=e.length;i<o;i++){var a=e[i]?e[i].matrixWorld:Wk;Hk.multiplyMatrices(a,t[i]),Hk.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=Rb(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new Vk(t,e,e,Gy,By);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=e.bones[n],o=t[i];void 0===o&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),o=new Uk),this.bones.push(o),this.boneInverses.push((new Fx).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var o=t[r];e.bones.push(o.uuid);var a=n[r];e.boneInverses.push(a.toArray())}return e}}]),e}(),qk=function(e){eg(n,e);var t=ig(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return nm(this,n),"number"===typeof i&&(a=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),(o=t.call(this,e,r,i)).meshPerAttribute=a,o}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=cg(tg(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(Tw);qk.prototype.isInstancedBufferAttribute=!0;var Yk=new Fx,Xk=new Fx,Zk=[],Kk=new uS,Jk=function(e){eg(n,e);var t=ig(n);function n(e,r,i){var o;return nm(this,n),(o=t.call(this,e,r)).instanceMatrix=new qk(new Float32Array(16*i),16),o.instanceColor=null,o.count=i,o.frustumCulled=!1,o}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(Kk.geometry=this.geometry,Kk.material=this.material,void 0!==Kk.material)for(var i=0;i<r;i++){this.getMatrixAt(i,Yk),Xk.multiplyMatrices(n,Yk),Kk.matrixWorld=Xk,Kk.raycast(e,Zk);for(var o=0,a=Zk.length;o<a;o++){var s=Zk[o];s.instanceId=i,s.object=this,t.push(s)}Zk.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new qk(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(uS);Jk.prototype.isInstancedMesh=!0;var Qk=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this)).type="LineBasicMaterial",r.color=new Xb(16777215),r.linewidth=1,r.linecap="round",r.linejoin="round",r.setValues(e),r}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}]),n}(Sw);Qk.prototype.isLineBasicMaterial=!0;var $k=new lx,eT=new lx,tT=new Fx,nT=new Bx,rT=new Px,iT=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gw,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Qk;return nm(this,n),(e=t.call(this)).type="Line",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)$k.fromBufferAttribute(t,r-1),eT.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=$k.distanceTo(eT);e.setAttribute("lineDistance",new zw(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),rT.copy(n.boundingSphere),rT.applyMatrix4(r),rT.radius+=i,!1!==e.ray.intersectsSphere(rT)){tT.copy(r).invert(),nT.copy(e.ray).applyMatrix4(tT);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=new lx,u=new lx,c=new lx,h=new lx,p=this.isLineSegments?2:1;if(n.isBufferGeometry){var f=n.index,d=n.attributes.position;if(null!==f)for(var m=Math.max(0,o.start),v=Math.min(f.count,o.start+o.count)-1;m<v;m+=p){var g=f.getX(m),y=f.getX(m+1);if(l.fromBufferAttribute(d,g),u.fromBufferAttribute(d,y),!(nT.distanceSqToSegment(l,u,h,c)>s)){h.applyMatrix4(this.matrixWorld);var _=e.ray.origin.distanceTo(h);_<e.near||_>e.far||t.push({distance:_,point:c.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}else for(var b=Math.max(0,o.start),x=Math.min(d.count,o.start+o.count)-1;b<x;b+=p){if(l.fromBufferAttribute(d,b),u.fromBufferAttribute(d,b+1),!(nT.distanceSqToSegment(l,u,h,c)>s)){h.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(h);w<e.near||w>e.far||t.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=r.length;i<o;i++){var a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),n}(cw);iT.prototype.isLine=!0;var oT=new lx,aT=new lx,sT=function(e){eg(n,e);var t=ig(n);function n(e,r){var i;return nm(this,n),(i=t.call(this,e,r)).type="LineSegments",i}return mr(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)oT.fromBufferAttribute(t,r),aT.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+oT.distanceTo(aT);e.setAttribute("lineDistance",new zw(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}]),n}(iT);sT.prototype.isLineSegments=!0;var lT=function(e){eg(n,e);var t=ig(n);function n(e,r){var i;return nm(this,n),(i=t.call(this,e,r)).type="LineLoop",i}return mr(n)}(iT);lT.prototype.isLineLoop=!0;var uT=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this)).type="PointsMaterial",r.color=new Xb(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.setValues(e),r}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}]),n}(Sw);uT.prototype.isPointsMaterial=!0;var cT=new Fx,hT=new Bx,pT=new Px,fT=new lx,dT=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gw,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new uT;return nm(this,n),(e=t.call(this)).type="Points",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),pT.copy(n.boundingSphere),pT.applyMatrix4(r),pT.radius+=i,!1!==e.ray.intersectsSphere(pT)){cT.copy(r).invert(),hT.copy(e.ray).applyMatrix4(cT);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a;if(n.isBufferGeometry){var l=n.index,u=n.attributes.position;if(null!==l)for(var c=Math.max(0,o.start),h=Math.min(l.count,o.start+o.count);c<h;c++){var p=l.getX(c);fT.fromBufferAttribute(u,p),mT(fT,p,s,r,e,t,this)}else for(var f=Math.max(0,o.start),d=Math.min(u.count,o.start+o.count);f<d;f++)fT.fromBufferAttribute(u,f),mT(fT,f,s,r,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=r.length;i<o;i++){var a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),n}(cw);function mT(e,t,n,r,i,o,a){var s=hT.distanceSqToPoint(e);if(s<n){var l=new lx;hT.closestPointToPoint(e,l),l.applyMatrix4(r);var u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;o.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:a})}}dT.prototype.isPoints=!0;var vT=function(e){eg(n,e);var t=ig(n);function n(e,r,i,o,a,s,l,u,c){var h;nm(this,n),(h=t.call(this,e,r,i,o,a,s,l,u,c)).minFilter=void 0!==s?s:Ty,h.magFilter=void 0!==a?a:Ty,h.generateMipmaps=!1;var p=yr(h);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){p.needsUpdate=!0,e.requestVideoFrameCallback(t)})),h}return mr(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}($b);vT.prototype.isVideoTexture=!0;var gT=function(e){eg(n,e);var t=ig(n);function n(e,r,i){var o;return nm(this,n),(o=t.call(this,{width:e,height:r})).format=i,o.magFilter=wy,o.minFilter=wy,o.generateMipmaps=!1,o.needsUpdate=!0,o}return mr(n)}($b);gT.prototype.isFramebufferTexture=!0;var yT=function(e){eg(n,e);var t=ig(n);function n(e,r,i,o,a,s,l,u,c,h,p,f){var d;return nm(this,n),(d=t.call(this,null,s,l,u,c,h,o,a,p,f)).image={width:r,height:i},d.mipmaps=e,d.flipY=!1,d.generateMipmaps=!1,d}return mr(n)}($b);yT.prototype.isCompressedTexture=!0;var _T=function(e){eg(n,e);var t=ig(n);function n(e,r,i,o,a,s,l,u,c){var h;return nm(this,n),(h=t.call(this,e,r,i,o,a,s,l,u,c)).needsUpdate=!0,h}return mr(n)}($b);_T.prototype.isCanvasTexture=!0;var bT=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;nm(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:r,segments:i,thetaStart:o,thetaLength:a},i=Math.max(3,i);var s=[],l=[],u=[],c=[],h=new lx,p=new Db;l.push(0,0,0),u.push(0,0,1),c.push(.5,.5);for(var f=0,d=3;f<=i;f++,d+=3){var m=o+f/i*a;h.x=r*Math.cos(m),h.y=r*Math.sin(m),l.push(h.x,h.y,h.z),u.push(0,0,1),p.x=(l[d]/r+1)/2,p.y=(l[d+1]/r+1)/2,c.push(p.x,p.y)}for(var v=1;v<=i;v++)s.push(v,v+1,0);return e.setIndex(s),e.setAttribute("position",new zw(l,3)),e.setAttribute("normal",new zw(u,3)),e.setAttribute("uv",new zw(c,2)),e}return mr(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.segments,e.thetaStart,e.thetaLength)}}]),n}(Gw),xT=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;nm(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:i,height:o,radialSegments:a,heightSegments:s,openEnded:l,thetaStart:u,thetaLength:c};var h=yr(e);a=Math.floor(a),s=Math.floor(s);var p=[],f=[],d=[],m=[],v=0,g=[],y=o/2,_=0;function b(){for(var e=new lx,t=new lx,n=0,l=(i-r)/o,b=0;b<=s;b++){for(var x=[],w=b/s,S=w*(i-r)+r,E=0;E<=a;E++){var M=E/a,k=M*c+u,T=Math.sin(k),A=Math.cos(k);t.x=S*T,t.y=-w*o+y,t.z=S*A,f.push(t.x,t.y,t.z),e.set(T,l,A).normalize(),d.push(e.x,e.y,e.z),m.push(M,1-w),x.push(v++)}g.push(x)}for(var C=0;C<a;C++)for(var P=0;P<s;P++){var O=g[P][C],R=g[P+1][C],I=g[P+1][C+1],L=g[P][C+1];p.push(O,R,L),p.push(R,I,L),n+=6}h.addGroup(_,n,0),_+=n}function x(e){for(var t=v,n=new Db,o=new lx,s=0,l=!0===e?r:i,g=!0===e?1:-1,b=1;b<=a;b++)f.push(0,y*g,0),d.push(0,g,0),m.push(.5,.5),v++;for(var x=v,w=0;w<=a;w++){var S=w/a*c+u,E=Math.cos(S),M=Math.sin(S);o.x=l*M,o.y=y*g,o.z=l*E,f.push(o.x,o.y,o.z),d.push(0,g,0),n.x=.5*E+.5,n.y=.5*M*g+.5,m.push(n.x,n.y),v++}for(var k=0;k<a;k++){var T=t+k,A=x+k;!0===e?p.push(A,A+1,T):p.push(A+1,A,T),s+=3}h.addGroup(_,s,!0===e?1:2),_+=s}return b(),!1===l&&(r>0&&x(!0),i>0&&x(!1)),e.setIndex(p),e.setAttribute("position",new zw(f,3)),e.setAttribute("normal",new zw(d,3)),e.setAttribute("uv",new zw(m,2)),e}return mr(n,null,[{key:"fromJSON",value:function(e){return new n(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(Gw),wT=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return nm(this,n),(e=t.call(this,0,r,i,o,a,s,l,u)).type="ConeGeometry",e.parameters={radius:r,height:i,radialSegments:o,heightSegments:a,openEnded:s,thetaStart:l,thetaLength:u},e}return mr(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(xT),ST=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;nm(this,n),(e=t.call(this)).type="PolyhedronGeometry",e.parameters={vertices:r,indices:i,radius:o,detail:a};var s=[],l=[];function u(e){for(var t=new lx,n=new lx,r=new lx,o=0;o<i.length;o+=3)m(i[o+0],t),m(i[o+1],n),m(i[o+2],r),c(t,n,r,e)}function c(e,t,n,r){for(var i=r+1,o=[],a=0;a<=i;a++){o[a]=[];for(var s=e.clone().lerp(n,a/i),l=t.clone().lerp(n,a/i),u=i-a,c=0;c<=u;c++)o[a][c]=0===c&&a===i?s:s.clone().lerp(l,c/u)}for(var h=0;h<i;h++)for(var p=0;p<2*(i-h)-1;p++){var f=Math.floor(p/2);p%2===0?(d(o[h][f+1]),d(o[h+1][f]),d(o[h][f])):(d(o[h][f+1]),d(o[h+1][f+1]),d(o[h+1][f]))}}function h(e){for(var t=new lx,n=0;n<s.length;n+=3)t.x=s[n+0],t.y=s[n+1],t.z=s[n+2],t.normalize().multiplyScalar(e),s[n+0]=t.x,s[n+1]=t.y,s[n+2]=t.z}function p(){for(var e=new lx,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var n=y(e)/2/Math.PI+.5,r=_(e)/Math.PI+.5;l.push(n,1-r)}v(),f()}function f(){for(var e=0;e<l.length;e+=6){var t=l[e+0],n=l[e+2],r=l[e+4],i=Math.max(t,n,r),o=Math.min(t,n,r);i>.9&&o<.1&&(t<.2&&(l[e+0]+=1),n<.2&&(l[e+2]+=1),r<.2&&(l[e+4]+=1))}}function d(e){s.push(e.x,e.y,e.z)}function m(e,t){var n=3*e;t.x=r[n+0],t.y=r[n+1],t.z=r[n+2]}function v(){for(var e=new lx,t=new lx,n=new lx,r=new lx,i=new Db,o=new Db,a=new Db,u=0,c=0;u<s.length;u+=9,c+=6){e.set(s[u+0],s[u+1],s[u+2]),t.set(s[u+3],s[u+4],s[u+5]),n.set(s[u+6],s[u+7],s[u+8]),i.set(l[c+0],l[c+1]),o.set(l[c+2],l[c+3]),a.set(l[c+4],l[c+5]),r.copy(e).add(t).add(n).divideScalar(3);var h=y(r);g(i,c+0,e,h),g(o,c+2,t,h),g(a,c+4,n,h)}}function g(e,t,n,r){r<0&&1===e.x&&(l[t]=e.x-1),0===n.x&&0===n.z&&(l[t]=r/2/Math.PI+.5)}function y(e){return Math.atan2(e.z,-e.x)}function _(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}return u(a),h(o),p(),e.setAttribute("position",new zw(s,3)),e.setAttribute("normal",new zw(s.slice(),3)),e.setAttribute("uv",new zw(l,2)),0===a?e.computeVertexNormals():e.normalizeNormals(),e}return mr(n,null,[{key:"fromJSON",value:function(e){return new n(e.vertices,e.indices,e.radius,e.details)}}]),n}(Gw),ET=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;nm(this,n);var o=(1+Math.sqrt(5))/2,a=1/o,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-o,0,-a,o,0,a,-o,0,a,o,-a,-o,0,-a,o,0,a,-o,0,a,o,0,-o,0,-a,o,0,-a,-o,0,a,o,0,a],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];return(e=t.call(this,s,l,r,i)).type="DodecahedronGeometry",e.parameters={radius:r,detail:i},e}return mr(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(ST),MT=new lx,kT=new lx,TT=new lx,AT=new xw,CT=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(nm(this,n),(e=t.call(this)).type="EdgesGeometry",e.parameters={geometry:r,thresholdAngle:i},null!==r){for(var o=4,a=Math.pow(10,o),s=Math.cos(Mb*i),l=r.getIndex(),u=r.getAttribute("position"),c=l?l.count:u.count,h=[0,0,0],p=["a","b","c"],f=new Array(3),d={},m=[],v=0;v<c;v+=3){l?(h[0]=l.getX(v),h[1]=l.getX(v+1),h[2]=l.getX(v+2)):(h[0]=v,h[1]=v+1,h[2]=v+2);var g=AT.a,y=AT.b,_=AT.c;if(g.fromBufferAttribute(u,h[0]),y.fromBufferAttribute(u,h[1]),_.fromBufferAttribute(u,h[2]),AT.getNormal(TT),f[0]="".concat(Math.round(g.x*a),",").concat(Math.round(g.y*a),",").concat(Math.round(g.z*a)),f[1]="".concat(Math.round(y.x*a),",").concat(Math.round(y.y*a),",").concat(Math.round(y.z*a)),f[2]="".concat(Math.round(_.x*a),",").concat(Math.round(_.y*a),",").concat(Math.round(_.z*a)),f[0]!==f[1]&&f[1]!==f[2]&&f[2]!==f[0])for(var b=0;b<3;b++){var x=(b+1)%3,w=f[b],S=f[x],E=AT[p[b]],M=AT[p[x]],k="".concat(w,"_").concat(S),T="".concat(S,"_").concat(w);T in d&&d[T]?(TT.dot(d[T].normal)<=s&&(m.push(E.x,E.y,E.z),m.push(M.x,M.y,M.z)),d[T]=null):k in d||(d[k]={index0:h[b],index1:h[x],normal:TT.clone()})}}for(var A in d)if(d[A]){var C=d[A],P=C.index0,O=C.index1;MT.fromBufferAttribute(u,P),kT.fromBufferAttribute(u,O),m.push(MT.x,MT.y,MT.z),m.push(kT.x,kT.y,kT.z)}e.setAttribute("position",new zw(m,3))}return e}return mr(n)}(Gw),PT=function(){function e(){nm(this,e),this.type="Curve",this.arcLengthDivisions=200}return mr(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var o=1;o<=e;o++)i+=(t=this.getPoint(o/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t||e*r[o-1];for(var a,s=0,l=o-1;s<=l;)if((a=r[i=Math.floor(s+(l-s)/2)]-n)<0)s=i+1;else{if(!(a>0)){l=i;break}l=i-1}if(r[i=l]===n)return i/(o-1);var u=r[i];return(i+(n-u)/(r[i+1]-u))/(o-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var o=this.getPoint(r),a=this.getPoint(i),s=t||(o.isVector2?new Db:new lx);return s.copy(a).sub(o).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new lx,r=[],i=[],o=[],a=new lx,s=new Fx,l=0;l<=e;l++){var u=l/e;r[l]=this.getTangentAt(u,new lx)}i[0]=new lx,o[0]=new lx;var c=Number.MAX_VALUE,h=Math.abs(r[0].x),p=Math.abs(r[0].y),f=Math.abs(r[0].z);h<=c&&(c=h,n.set(1,0,0)),p<=c&&(c=p,n.set(0,1,0)),f<=c&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]);for(var d=1;d<=e;d++){if(i[d]=i[d-1].clone(),o[d]=o[d-1].clone(),a.crossVectors(r[d-1],r[d]),a.length()>Number.EPSILON){a.normalize();var m=Math.acos(Ab(r[d-1].dot(r[d]),-1,1));i[d].applyMatrix4(s.makeRotationAxis(a,m))}o[d].crossVectors(r[d],i[d])}if(!0===t){var v=Math.acos(Ab(i[0].dot(i[e]),-1,1));v/=e,r[0].dot(a.crossVectors(i[0],i[e]))>0&&(v=-v);for(var g=1;g<=e;g++)i[g].applyMatrix4(s.makeRotationAxis(r[g],v*g)),o[g].crossVectors(r[g],i[g])}return{tangents:r,normals:i,binormals:o}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),OT=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return nm(this,n),(e=t.call(this)).type="EllipseCurve",e.aX=r,e.aY=i,e.xRadius=o,e.yRadius=a,e.aStartAngle=s,e.aEndAngle=l,e.aClockwise=u,e.aRotation=c,e}return mr(n,[{key:"getPoint",value:function(e,t){for(var n=t||new Db,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);var a=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=s-this.aX,p=l-this.aY;s=h*u-p*c+this.aX,l=h*c+p*u+this.aY}return n.set(s,l)}},{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=cg(tg(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return cg(tg(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(PT);OT.prototype.isEllipseCurve=!0;var RT=function(e){eg(n,e);var t=ig(n);function n(e,r,i,o,a,s){var l;return nm(this,n),(l=t.call(this,e,r,i,i,o,a,s)).type="ArcCurve",l}return mr(n)}(OT);function IT(){var e=0,t=0,n=0,r=0;function i(i,o,a,s){e=i,t=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,a,s){var l=(t-e)/o-(n-e)/(o+a)+(n-t)/a,u=(n-t)/a-(r-t)/(a+s)+(r-n)/s;i(t,n,l*=a,u*=a)},calc:function(i){var o=i*i;return e+t*i+n*o+r*(o*i)}}}RT.prototype.isArcCurve=!0;var LT=new lx,DT=new IT,zT=new IT,NT=new IT,BT=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return nm(this,n),(e=t.call(this)).type="CatmullRomCurve3",e.points=r,e.closed=i,e.curveType=o,e.tension=a,e}return mr(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new lx,i=r,o=this.points,a=o.length,s=(a-(this.closed?0:1))*e,l=Math.floor(s),u=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/a)+1)*a:0===u&&l===a-1&&(l=a-2,u=1),this.closed||l>0?t=o[(l-1)%a]:(LT.subVectors(o[0],o[1]).add(o[0]),t=LT);var c=o[l%a],h=o[(l+1)%a];if(this.closed||l+2<a?n=o[(l+2)%a]:(LT.subVectors(o[a-1],o[a-2]).add(o[a-1]),n=LT),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,f=Math.pow(t.distanceToSquared(c),p),d=Math.pow(c.distanceToSquared(h),p),m=Math.pow(h.distanceToSquared(n),p);d<1e-4&&(d=1),f<1e-4&&(f=d),m<1e-4&&(m=d),DT.initNonuniformCatmullRom(t.x,c.x,h.x,n.x,f,d,m),zT.initNonuniformCatmullRom(t.y,c.y,h.y,n.y,f,d,m),NT.initNonuniformCatmullRom(t.z,c.z,h.z,n.z,f,d,m)}else"catmullrom"===this.curveType&&(DT.initCatmullRom(t.x,c.x,h.x,n.x,this.tension),zT.initCatmullRom(t.y,c.y,h.y,n.y,this.tension),NT.initCatmullRom(t.z,c.z,h.z,n.z,this.tension));return i.set(DT.calc(u),zT.calc(u),NT.calc(u)),i}},{key:"copy",value:function(e){cg(tg(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=cg(tg(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){cg(tg(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new lx).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(PT);function FT(e,t,n,r,i){var o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function jT(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function UT(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}BT.prototype.isCatmullRomCurve3=!0;var VT=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Db,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Db,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Db,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Db;return nm(this,n),(e=t.call(this)).type="CubicBezierCurve",e.v0=r,e.v1=i,e.v2=o,e.v3=a,e}return mr(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Db,n=t,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(UT(e,r.x,i.x,o.x,a.x),UT(e,r.y,i.y,o.y,a.y)),n}},{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=cg(tg(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return cg(tg(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(PT);VT.prototype.isCubicBezierCurve=!0;var HT=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new lx,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new lx,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new lx,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new lx;return nm(this,n),(e=t.call(this)).type="CubicBezierCurve3",e.v0=r,e.v1=i,e.v2=o,e.v3=a,e}return mr(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new lx,n=t,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(UT(e,r.x,i.x,o.x,a.x),UT(e,r.y,i.y,o.y,a.y),UT(e,r.z,i.z,o.z,a.z)),n}},{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=cg(tg(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return cg(tg(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(PT);HT.prototype.isCubicBezierCurve3=!0;var WT=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Db,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Db;return nm(this,n),(e=t.call(this)).type="LineCurve",e.v1=r,e.v2=i,e}return mr(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Db,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e,t){var n=t||new Db;return n.copy(this.v2).sub(this.v1).normalize(),n}},{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=cg(tg(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return cg(tg(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(PT);WT.prototype.isLineCurve=!0;var GT=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new lx,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new lx;return nm(this,n),(e=t.call(this)).type="LineCurve3",e.isLineCurve3=!0,e.v1=r,e.v2=i,e}return mr(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new lx,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=cg(tg(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return cg(tg(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(PT),qT=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Db,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Db,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Db;return nm(this,n),(e=t.call(this)).type="QuadraticBezierCurve",e.v0=r,e.v1=i,e.v2=o,e}return mr(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Db,n=t,r=this.v0,i=this.v1,o=this.v2;return n.set(jT(e,r.x,i.x,o.x),jT(e,r.y,i.y,o.y)),n}},{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=cg(tg(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return cg(tg(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(PT);qT.prototype.isQuadraticBezierCurve=!0;var YT=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new lx,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new lx,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new lx;return nm(this,n),(e=t.call(this)).type="QuadraticBezierCurve3",e.v0=r,e.v1=i,e.v2=o,e}return mr(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new lx,n=t,r=this.v0,i=this.v1,o=this.v2;return n.set(jT(e,r.x,i.x,o.x),jT(e,r.y,i.y,o.y),jT(e,r.z,i.z,o.z)),n}},{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=cg(tg(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return cg(tg(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(PT);YT.prototype.isQuadraticBezierCurve3=!0;var XT=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return nm(this,n),(e=t.call(this)).type="SplineCurve",e.points=r,e}return mr(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Db,n=t,r=this.points,i=(r.length-1)*e,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],l=r[o],u=r[o>r.length-2?r.length-1:o+1],c=r[o>r.length-3?r.length-1:o+2];return n.set(FT(a,s.x,l.x,u.x,c.x),FT(a,s.y,l.y,u.y,c.y)),n}},{key:"copy",value:function(e){cg(tg(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=cg(tg(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){cg(tg(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new Db).fromArray(i))}return this}}]),n}(PT);XT.prototype.isSplineCurve=!0;var ZT=Object.freeze({__proto__:null,ArcCurve:RT,CatmullRomCurve3:BT,CubicBezierCurve:VT,CubicBezierCurve3:HT,EllipseCurve:OT,LineCurve:WT,LineCurve3:GT,QuadraticBezierCurve:qT,QuadraticBezierCurve3:YT,SplineCurve:XT}),KT=function(e){eg(n,e);var t=ig(n);function n(){var e;return nm(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return mr(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new WT(t,e))}},{key:"getPoint",value:function(e,t){for(var n=e*this.getLength(),r=this.getCurveLengths(),i=0;i<r.length;){if(r[i]>=n){var o=r[i]-n,a=this.curves[i],s=a.getLength(),l=0===s?0:1-o/s;return a.getPointAt(l,t)}i++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o.isEllipseCurve?2*t:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),l=0;l<s.length;l++){var u=s[l];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){cg(tg(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=cg(tg(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){cg(tg(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push((new ZT[i.type]).fromJSON(i))}return this}}]),n}(PT),JT=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this)).type="Path",r.currentPoint=new Db,e&&r.setFromPoints(e),r}return mr(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new WT(this.currentPoint.clone(),new Db(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var i=new qT(this.currentPoint.clone(),new Db(e,t),new Db(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,o){var a=new VT(this.currentPoint.clone(),new Db(e,t),new Db(n,r),new Db(i,o));return this.curves.push(a),this.currentPoint.set(i,o),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new XT(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,n,r,i,o),this}},{key:"absarc",value:function(e,t,n,r,i,o){return this.absellipse(e,t,n,n,r,i,o),this}},{key:"ellipse",value:function(e,t,n,r,i,o,a,s){var l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+l,t+u,n,r,i,o,a,s),this}},{key:"absellipse",value:function(e,t,n,r,i,o,a,s){var l=new OT(e,t,n,r,i,o,a,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=cg(tg(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return cg(tg(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(KT),QT=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this,e)).uuid=Tb(),r.type="Shape",r.holes=[],r}return mr(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){cg(tg(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=cg(tg(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){cg(tg(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push((new JT).fromJSON(i))}return this}}]),n}(JT),$T=function(e,t){var n,r,i,o,a,s,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,h=c?t[0]*u:e.length,p=eA(e,0,h,u,!0),f=[];if(!p||p.next===p.prev)return f;if(c&&(p=sA(e,t,p,u)),e.length>80*u){n=i=e[0],r=o=e[1];for(var d=u;d<h;d+=u)(a=e[d])<n&&(n=a),(s=e[d+1])<r&&(r=s),a>i&&(i=a),s>o&&(o=s);l=0!==(l=Math.max(i-n,o-r))?1/l:0}return nA(p,f,u,n,r,l),f};function eA(e,t,n,r,i){var o,a;if(i===function(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r)>0)for(o=t;o<n;o+=r)a=wA(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=wA(o,e[o],e[o+1],a);return a&&vA(a,a.next)&&(SA(a),a=a.next),a}function tA(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!vA(r,r.next)&&0!==mA(r.prev,r,r.next))r=r.next;else{if(SA(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function nA(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=hA(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,l,u=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(e,r,i,o);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?iA(e,r,i,o):rA(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),SA(e),e=l.next,u=l.next;else if((e=l)===u){a?1===a?nA(e=oA(tA(e),t,n),t,n,r,i,o,2):2===a&&aA(e,t,n,r,i,o):nA(tA(e),t,n,r,i,o,1);break}}}function rA(e){var t=e.prev,n=e,r=e.next;if(mA(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(fA(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&mA(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function iA(e,t,n,r){var i=e.prev,o=e,a=e.next;if(mA(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=hA(s,l,t,n,r),p=hA(u,c,t,n,r),f=e.prevZ,d=e.nextZ;f&&f.z>=h&&d&&d.z<=p;){if(f!==e.prev&&f!==e.next&&fA(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&mA(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,d!==e.prev&&d!==e.next&&fA(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&mA(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;f&&f.z>=h;){if(f!==e.prev&&f!==e.next&&fA(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&mA(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;d&&d.z<=p;){if(d!==e.prev&&d!==e.next&&fA(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&mA(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function oA(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!vA(i,o)&&gA(i,r,r.next,o)&&bA(i,o)&&bA(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),SA(r),SA(r.next),r=e=o),r=r.next}while(r!==e);return tA(r)}function aA(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&dA(a,s)){var l=xA(a,s);return a=tA(a,a.next),l=tA(l,l.next),nA(a,t,n,r,i,o),void nA(l,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function sA(e,t,n,r){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=eA(e,t[i]*r,i<o-1?t[i+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(pA(a));for(s.sort(lA),i=0;i<s.length;i++)uA(s[i],n),n=tA(n,n.next);return n}function lA(e,t){return e.x-t.x}function uA(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var l,u=n,c=n.x,h=n.y,p=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&fA(o<h?i:a,o,c,h,o<h?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),bA(r,e)&&(l<p||l===p&&(r.x>n.x||r.x===n.x&&cA(n,r)))&&(n=r,p=l)),r=r.next}while(r!==u);return n}(e,t),t){var n=xA(t,e);tA(t,t.next),tA(n,n.next)}}function cA(e,t){return mA(e.prev,e,t.prev)<0&&mA(t.next,e,e.next)<0}function hA(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function pA(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function fA(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function dA(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&gA(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(bA(e,t)&&bA(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(mA(e.prev,e,t.prev)||mA(e,t.prev,t))||vA(e,t)&&mA(e.prev,e,e.next)>0&&mA(t.prev,t,t.next)>0)}function mA(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function vA(e,t){return e.x===t.x&&e.y===t.y}function gA(e,t,n,r){var i=_A(mA(e,t,n)),o=_A(mA(e,t,r)),a=_A(mA(n,r,e)),s=_A(mA(n,r,t));return i!==o&&a!==s||(!(0!==i||!yA(e,n,t))||(!(0!==o||!yA(e,r,t))||(!(0!==a||!yA(n,e,r))||!(0!==s||!yA(n,t,r)))))}function yA(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function _A(e){return e>0?1:e<0?-1:0}function bA(e,t){return mA(e.prev,e,e.next)<0?mA(e,t,e.next)>=0&&mA(e,e.prev,t)>=0:mA(e,t,e.prev)<0||mA(e,e.next,t)<0}function xA(e,t){var n=new EA(e.i,e.x,e.y),r=new EA(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function wA(e,t,n,r){var i=new EA(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function SA(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function EA(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var MA=function(){function e(){nm(this,e)}return mr(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[];kA(e),TA(n,e);var o=e.length;t.forEach(kA);for(var a=0;a<t.length;a++)r.push(o),o+=t[a].length,TA(n,t[a]);for(var s=$T(n,r),l=0;l<s.length;l+=3)i.push(s.slice(l,l+3));return i}}]),e}();function kA(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function TA(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var AA=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new QT([new Db(.5,.5),new Db(-.5,.5),new Db(-.5,-.5),new Db(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};nm(this,n),(e=t.call(this)).type="ExtrudeGeometry",e.parameters={shapes:r,options:i},r=Array.isArray(r)?r:[r];for(var o=yr(e),a=[],s=[],l=0,u=r.length;l<u;l++){var c=r[l];h(c)}function h(e){var t=[],n=void 0!==i.curveSegments?i.curveSegments:12,r=void 0!==i.steps?i.steps:1,l=void 0!==i.depth?i.depth:1,u=void 0===i.bevelEnabled||i.bevelEnabled,c=void 0!==i.bevelThickness?i.bevelThickness:.2,h=void 0!==i.bevelSize?i.bevelSize:c-.1,p=void 0!==i.bevelOffset?i.bevelOffset:0,f=void 0!==i.bevelSegments?i.bevelSegments:3,d=i.extrudePath,m=void 0!==i.UVGenerator?i.UVGenerator:CA;void 0!==i.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=i.amount);var v,g,y,_,b,x=!1;d&&(v=d.getSpacedPoints(r),x=!0,u=!1,g=d.computeFrenetFrames(r,!1),y=new lx,_=new lx,b=new lx),u||(f=0,c=0,h=0,p=0);var w=e.extractPoints(n),S=w.shape,E=w.holes;if(!MA.isClockWise(S)){S=S.reverse();for(var M=0,k=E.length;M<k;M++){var T=E[M];MA.isClockWise(T)&&(E[M]=T.reverse())}}for(var A=MA.triangulateShape(S,E),C=S,P=0,O=E.length;P<O;P++){var R=E[P];S=S.concat(R)}function I(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var L=S.length,D=A.length;function z(e,t,n){var r,i,o,a=e.x-t.x,s=e.y-t.y,l=n.x-e.x,u=n.y-e.y,c=a*a+s*s,h=a*u-s*l;if(Math.abs(h)>Number.EPSILON){var p=Math.sqrt(c),f=Math.sqrt(l*l+u*u),d=t.x-s/p,m=t.y+a/p,v=((n.x-u/f-d)*u-(n.y+l/f-m)*l)/(a*u-s*l),g=(r=d+a*v-e.x)*r+(i=m+s*v-e.y)*i;if(g<=2)return new Db(r,i);o=Math.sqrt(g/2)}else{var y=!1;a>Number.EPSILON?l>Number.EPSILON&&(y=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(u)&&(y=!0),y?(r=-s,i=a,o=Math.sqrt(c)):(r=a,i=s,o=Math.sqrt(c/2))}return new Db(r/o,i/o)}for(var N=[],B=0,F=C.length,j=F-1,U=B+1;B<F;B++,j++,U++)j===F&&(j=0),U===F&&(U=0),N[B]=z(C[B],C[j],C[U]);for(var V,H=[],W=N.concat(),G=0,q=E.length;G<q;G++){var Y=E[G];V=[];for(var X=0,Z=Y.length,K=Z-1,J=X+1;X<Z;X++,K++,J++)K===Z&&(K=0),J===Z&&(J=0),V[X]=z(Y[X],Y[K],Y[J]);H.push(V),W=W.concat(V)}for(var Q=0;Q<f;Q++){for(var $=Q/f,ee=c*Math.cos($*Math.PI/2),te=h*Math.sin($*Math.PI/2)+p,ne=0,re=C.length;ne<re;ne++){var ie=I(C[ne],N[ne],te);Oe(ie.x,ie.y,-ee)}for(var oe=0,ae=E.length;oe<ae;oe++){var se=E[oe];V=H[oe];for(var le=0,ue=se.length;le<ue;le++){var ce=I(se[le],V[le],te);Oe(ce.x,ce.y,-ee)}}}for(var he=h+p,pe=0;pe<L;pe++){var fe=u?I(S[pe],W[pe],he):S[pe];x?(_.copy(g.normals[0]).multiplyScalar(fe.x),y.copy(g.binormals[0]).multiplyScalar(fe.y),b.copy(v[0]).add(_).add(y),Oe(b.x,b.y,b.z)):Oe(fe.x,fe.y,0)}for(var de=1;de<=r;de++)for(var me=0;me<L;me++){var ve=u?I(S[me],W[me],he):S[me];x?(_.copy(g.normals[de]).multiplyScalar(ve.x),y.copy(g.binormals[de]).multiplyScalar(ve.y),b.copy(v[de]).add(_).add(y),Oe(b.x,b.y,b.z)):Oe(ve.x,ve.y,l/r*de)}for(var ge=f-1;ge>=0;ge--){for(var ye=ge/f,_e=c*Math.cos(ye*Math.PI/2),be=h*Math.sin(ye*Math.PI/2)+p,xe=0,we=C.length;xe<we;xe++){var Se=I(C[xe],N[xe],be);Oe(Se.x,Se.y,l+_e)}for(var Ee=0,Me=E.length;Ee<Me;Ee++){var ke=E[Ee];V=H[Ee];for(var Te=0,Ae=ke.length;Te<Ae;Te++){var Ce=I(ke[Te],V[Te],be);x?Oe(Ce.x,Ce.y+v[r-1].y,v[r-1].x+_e):Oe(Ce.x,Ce.y,l+_e)}}}function Pe(e,t){for(var n=e.length;--n>=0;){var i=n,o=n-1;o<0&&(o=e.length-1);for(var a=0,s=r+2*f;a<s;a++){var l=L*a,u=L*(a+1);Ie(t+i+l,t+o+l,t+o+u,t+i+u)}}}function Oe(e,n,r){t.push(e),t.push(n),t.push(r)}function Re(e,t,n){Le(e),Le(t),Le(n);var r=a.length/3,i=m.generateTopUV(o,a,r-3,r-2,r-1);De(i[0]),De(i[1]),De(i[2])}function Ie(e,t,n,r){Le(e),Le(t),Le(r),Le(t),Le(n),Le(r);var i=a.length/3,s=m.generateSideWallUV(o,a,i-6,i-3,i-2,i-1);De(s[0]),De(s[1]),De(s[3]),De(s[1]),De(s[2]),De(s[3])}function Le(e){a.push(t[3*e+0]),a.push(t[3*e+1]),a.push(t[3*e+2])}function De(e){s.push(e.x),s.push(e.y)}!function(){var e=a.length/3;if(u){for(var t=0,n=L*t,i=0;i<D;i++){var s=A[i];Re(s[2]+n,s[1]+n,s[0]+n)}n=L*(t=r+2*f);for(var l=0;l<D;l++){var c=A[l];Re(c[0]+n,c[1]+n,c[2]+n)}}else{for(var h=0;h<D;h++){var p=A[h];Re(p[2],p[1],p[0])}for(var d=0;d<D;d++){var m=A[d];Re(m[0]+L*r,m[1]+L*r,m[2]+L*r)}}o.addGroup(e,a.length/3-e,0)}(),function(){var e=a.length/3,t=0;Pe(C,t),t+=C.length;for(var n=0,r=E.length;n<r;n++){var i=E[n];Pe(i,t),t+=i.length}o.addGroup(e,a.length/3-e,1)}()}return e.setAttribute("position",new zw(a,3)),e.setAttribute("uv",new zw(s,2)),e.computeVertexNormals(),e}return mr(n,[{key:"toJSON",value:function(){var e=cg(tg(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,o=e.shapes.length;i<o;i++){var a=t[e.shapes[i]];r.push(a)}var s=e.options.extrudePath;return void 0!==s&&(e.options.extrudePath=(new ZT[s.type]).fromJSON(s)),new n(r,e.options)}}]),n}(Gw),CA={generateTopUV:function(e,t,n,r,i){var o=t[3*n],a=t[3*n+1],s=t[3*r],l=t[3*r+1],u=t[3*i],c=t[3*i+1];return[new Db(o,a),new Db(s,l),new Db(u,c)]},generateSideWallUV:function(e,t,n,r,i,o){var a=t[3*n],s=t[3*n+1],l=t[3*n+2],u=t[3*r],c=t[3*r+1],h=t[3*r+2],p=t[3*i],f=t[3*i+1],d=t[3*i+2],m=t[3*o],v=t[3*o+1],g=t[3*o+2];return Math.abs(s-c)<Math.abs(a-u)?[new Db(a,1-l),new Db(u,1-h),new Db(p,1-d),new Db(m,1-g)]:[new Db(s,1-l),new Db(c,1-h),new Db(f,1-d),new Db(v,1-g)]}};var PA=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;nm(this,n);var o=(1+Math.sqrt(5))/2,a=[-1,o,0,1,o,0,-1,-o,0,1,-o,0,0,-1,o,0,1,o,0,-1,-o,0,1,-o,o,0,-1,o,0,1,-o,0,-1,-o,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];return(e=t.call(this,a,s,r,i)).type="IcosahedronGeometry",e.parameters={radius:r,detail:i},e}return mr(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(ST),OA=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new Db(0,.5),new Db(.5,0),new Db(0,-.5)],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;nm(this,n),(e=t.call(this)).type="LatheGeometry",e.parameters={points:r,segments:i,phiStart:o,phiLength:a},i=Math.floor(i),a=Ab(a,0,2*Math.PI);for(var s=[],l=[],u=[],c=[],h=[],p=1/i,f=new lx,d=new Db,m=new lx,v=new lx,g=new lx,y=0,_=0,b=0;b<=r.length-1;b++)switch(b){case 0:y=r[b+1].x-r[b].x,_=r[b+1].y-r[b].y,m.x=1*_,m.y=-y,m.z=0*_,g.copy(m),m.normalize(),c.push(m.x,m.y,m.z);break;case r.length-1:c.push(g.x,g.y,g.z);break;default:y=r[b+1].x-r[b].x,_=r[b+1].y-r[b].y,m.x=1*_,m.y=-y,m.z=0*_,v.copy(m),m.x+=g.x,m.y+=g.y,m.z+=g.z,m.normalize(),c.push(m.x,m.y,m.z),g.copy(v)}for(var x=0;x<=i;x++)for(var w=o+x*p*a,S=Math.sin(w),E=Math.cos(w),M=0;M<=r.length-1;M++){f.x=r[M].x*S,f.y=r[M].y,f.z=r[M].x*E,l.push(f.x,f.y,f.z),d.x=x/i,d.y=M/(r.length-1),u.push(d.x,d.y);var k=c[3*M+0]*S,T=c[3*M+1],A=c[3*M+0]*E;h.push(k,T,A)}for(var C=0;C<i;C++)for(var P=0;P<r.length-1;P++){var O=P+C*r.length,R=O,I=O+r.length,L=O+r.length+1,D=O+1;s.push(R,I,D),s.push(L,D,I)}return e.setIndex(s),e.setAttribute("position",new zw(l,3)),e.setAttribute("uv",new zw(u,2)),e.setAttribute("normal",new zw(h,3)),e}return mr(n,null,[{key:"fromJSON",value:function(e){return new n(e.points,e.segments,e.phiStart,e.phiLength)}}]),n}(Gw),RA=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;nm(this,n);var o=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];return(e=t.call(this,o,a,r,i)).type="OctahedronGeometry",e.parameters={radius:r,detail:i},e}return mr(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(ST),IA=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;nm(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:r,outerRadius:i,thetaSegments:o,phiSegments:a,thetaStart:s,thetaLength:l},o=Math.max(3,o);for(var u=[],c=[],h=[],p=[],f=r,d=(i-r)/(a=Math.max(1,a)),m=new lx,v=new Db,g=0;g<=a;g++){for(var y=0;y<=o;y++){var _=s+y/o*l;m.x=f*Math.cos(_),m.y=f*Math.sin(_),c.push(m.x,m.y,m.z),h.push(0,0,1),v.x=(m.x/i+1)/2,v.y=(m.y/i+1)/2,p.push(v.x,v.y)}f+=d}for(var b=0;b<a;b++)for(var x=b*(o+1),w=0;w<o;w++){var S=w+x,E=S,M=S+o+1,k=S+o+2,T=S+1;u.push(E,M,T),u.push(M,k,T)}return e.setIndex(u),e.setAttribute("position",new zw(c,3)),e.setAttribute("normal",new zw(h,3)),e.setAttribute("uv",new zw(p,2)),e}return mr(n,null,[{key:"fromJSON",value:function(e){return new n(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}]),n}(Gw),LA=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new QT([new Db(0,.5),new Db(-.5,-.5),new Db(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;nm(this,n),(e=t.call(this)).type="ShapeGeometry",e.parameters={shapes:r,curveSegments:i};var o=[],a=[],s=[],l=[],u=0,c=0;if(!1===Array.isArray(r))p(r);else for(var h=0;h<r.length;h++)p(r[h]),e.addGroup(u,c,h),u+=c,c=0;function p(e){var t=a.length/3,n=e.extractPoints(i),r=n.shape,u=n.holes;!1===MA.isClockWise(r)&&(r=r.reverse());for(var h=0,p=u.length;h<p;h++){var f=u[h];!0===MA.isClockWise(f)&&(u[h]=f.reverse())}for(var d=MA.triangulateShape(r,u),m=0,v=u.length;m<v;m++){var g=u[m];r=r.concat(g)}for(var y=0,_=r.length;y<_;y++){var b=r[y];a.push(b.x,b.y,0),s.push(0,0,1),l.push(b.x,b.y)}for(var x=0,w=d.length;x<w;x++){var S=d[x],E=S[0]+t,M=S[1]+t,k=S[2]+t;o.push(E,M,k),c+=3}}return e.setIndex(o),e.setAttribute("position",new zw(a,3)),e.setAttribute("normal",new zw(s,3)),e.setAttribute("uv",new zw(l,2)),e}return mr(n,[{key:"toJSON",value:function(){var e=cg(tg(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,o=e.shapes.length;i<o;i++){var a=t[e.shapes[i]];r.push(a)}return new n(r,e.curveSegments)}}]),n}(Gw);var DA=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;nm(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:o,phiStart:a,phiLength:s,thetaStart:l,thetaLength:u},i=Math.max(3,Math.floor(i)),o=Math.max(2,Math.floor(o));for(var c=Math.min(l+u,Math.PI),h=0,p=[],f=new lx,d=new lx,m=[],v=[],g=[],y=[],_=0;_<=o;_++){var b=[],x=_/o,w=0;0==_&&0==l?w=.5/i:_==o&&c==Math.PI&&(w=-.5/i);for(var S=0;S<=i;S++){var E=S/i;f.x=-r*Math.cos(a+E*s)*Math.sin(l+x*u),f.y=r*Math.cos(l+x*u),f.z=r*Math.sin(a+E*s)*Math.sin(l+x*u),v.push(f.x,f.y,f.z),d.copy(f).normalize(),g.push(d.x,d.y,d.z),y.push(E+w,1-x),b.push(h++)}p.push(b)}for(var M=0;M<o;M++)for(var k=0;k<i;k++){var T=p[M][k+1],A=p[M][k],C=p[M+1][k],P=p[M+1][k+1];(0!==M||l>0)&&m.push(T,A,P),(M!==o-1||c<Math.PI)&&m.push(A,C,P)}return e.setIndex(m),e.setAttribute("position",new zw(v,3)),e.setAttribute("normal",new zw(g,3)),e.setAttribute("uv",new zw(y,2)),e}return mr(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(Gw),zA=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;nm(this,n);var o=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];return(e=t.call(this,o,a,r,i)).type="TetrahedronGeometry",e.parameters={radius:r,detail:i},e}return mr(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(ST),NA=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;nm(this,n),(e=t.call(this)).type="TorusGeometry",e.parameters={radius:r,tube:i,radialSegments:o,tubularSegments:a,arc:s},o=Math.floor(o),a=Math.floor(a);for(var l=[],u=[],c=[],h=[],p=new lx,f=new lx,d=new lx,m=0;m<=o;m++)for(var v=0;v<=a;v++){var g=v/a*s,y=m/o*Math.PI*2;f.x=(r+i*Math.cos(y))*Math.cos(g),f.y=(r+i*Math.cos(y))*Math.sin(g),f.z=i*Math.sin(y),u.push(f.x,f.y,f.z),p.x=r*Math.cos(g),p.y=r*Math.sin(g),d.subVectors(f,p).normalize(),c.push(d.x,d.y,d.z),h.push(v/a),h.push(m/o)}for(var _=1;_<=o;_++)for(var b=1;b<=a;b++){var x=(a+1)*_+b-1,w=(a+1)*(_-1)+b-1,S=(a+1)*(_-1)+b,E=(a+1)*_+b;l.push(x,w,E),l.push(w,S,E)}return e.setIndex(l),e.setAttribute("position",new zw(u,3)),e.setAttribute("normal",new zw(c,3)),e.setAttribute("uv",new zw(h,2)),e}return mr(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}]),n}(Gw),BA=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;nm(this,n),(e=t.call(this)).type="TorusKnotGeometry",e.parameters={radius:r,tube:i,tubularSegments:o,radialSegments:a,p:s,q:l},o=Math.floor(o),a=Math.floor(a);for(var u=[],c=[],h=[],p=[],f=new lx,d=new lx,m=new lx,v=new lx,g=new lx,y=new lx,_=new lx,b=0;b<=o;++b){var x=b/o*s*Math.PI*2;R(x,s,l,r,m),R(x+.01,s,l,r,v),y.subVectors(v,m),_.addVectors(v,m),g.crossVectors(y,_),_.crossVectors(g,y),g.normalize(),_.normalize();for(var w=0;w<=a;++w){var S=w/a*Math.PI*2,E=-i*Math.cos(S),M=i*Math.sin(S);f.x=m.x+(E*_.x+M*g.x),f.y=m.y+(E*_.y+M*g.y),f.z=m.z+(E*_.z+M*g.z),c.push(f.x,f.y,f.z),d.subVectors(f,m).normalize(),h.push(d.x,d.y,d.z),p.push(b/o),p.push(w/a)}}for(var k=1;k<=o;k++)for(var T=1;T<=a;T++){var A=(a+1)*(k-1)+(T-1),C=(a+1)*k+(T-1),P=(a+1)*k+T,O=(a+1)*(k-1)+T;u.push(A,C,O),u.push(C,P,O)}function R(e,t,n,r,i){var o=Math.cos(e),a=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*o,i.y=r*(2+l)*a*.5,i.z=r*Math.sin(s)*.5}return e.setIndex(u),e.setAttribute("position",new zw(c,3)),e.setAttribute("normal",new zw(h,3)),e.setAttribute("uv",new zw(p,2)),e}return mr(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}]),n}(Gw),FA=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new YT(new lx(-1,-1,0),new lx(-1,1,0),new lx(1,1,0)),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];nm(this,n),(e=t.call(this)).type="TubeGeometry",e.parameters={path:r,tubularSegments:i,radius:o,radialSegments:a,closed:s};var l=r.computeFrenetFrames(i,s);e.tangents=l.tangents,e.normals=l.normals,e.binormals=l.binormals;var u=new lx,c=new lx,h=new Db,p=new lx,f=[],d=[],m=[],v=[];function g(){for(var e=0;e<i;e++)y(e);y(!1===s?i:0),b(),_()}function y(e){p=r.getPointAt(e/i,p);for(var t=l.normals[e],n=l.binormals[e],s=0;s<=a;s++){var h=s/a*Math.PI*2,m=Math.sin(h),v=-Math.cos(h);c.x=v*t.x+m*n.x,c.y=v*t.y+m*n.y,c.z=v*t.z+m*n.z,c.normalize(),d.push(c.x,c.y,c.z),u.x=p.x+o*c.x,u.y=p.y+o*c.y,u.z=p.z+o*c.z,f.push(u.x,u.y,u.z)}}function _(){for(var e=1;e<=i;e++)for(var t=1;t<=a;t++){var n=(a+1)*(e-1)+(t-1),r=(a+1)*e+(t-1),o=(a+1)*e+t,s=(a+1)*(e-1)+t;v.push(n,r,s),v.push(r,o,s)}}function b(){for(var e=0;e<=i;e++)for(var t=0;t<=a;t++)h.x=e/i,h.y=t/a,m.push(h.x,h.y)}return g(),e.setIndex(v),e.setAttribute("position",new zw(f,3)),e.setAttribute("normal",new zw(d,3)),e.setAttribute("uv",new zw(m,2)),e}return mr(n,[{key:"toJSON",value:function(){var e=cg(tg(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new n((new ZT[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),n}(Gw),jA=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(nm(this,n),(e=t.call(this)).type="WireframeGeometry",e.parameters={geometry:r},null!==r){var i=[],o=new Set,a=new lx,s=new lx;if(null!==r.index){var l=r.attributes.position,u=r.index,c=r.groups;0===c.length&&(c=[{start:0,count:u.count,materialIndex:0}]);for(var h=0,p=c.length;h<p;++h)for(var f=c[h],d=f.start,m=f.count,v=d,g=d+m;v<g;v+=3)for(var y=0;y<3;y++){var _=u.getX(v+y),b=u.getX(v+(y+1)%3);a.fromBufferAttribute(l,_),s.fromBufferAttribute(l,b),!0===UA(a,s,o)&&(i.push(a.x,a.y,a.z),i.push(s.x,s.y,s.z))}}else for(var x=r.attributes.position,w=0,S=x.count/3;w<S;w++)for(var E=0;E<3;E++){var M=3*w+E,k=3*w+(E+1)%3;a.fromBufferAttribute(x,M),s.fromBufferAttribute(x,k),!0===UA(a,s,o)&&(i.push(a.x,a.y,a.z),i.push(s.x,s.y,s.z))}e.setAttribute("position",new zw(i,3))}return e}return mr(n)}(Gw);function UA(e,t,n){var r="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),i="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var VA=Object.freeze({__proto__:null,BoxGeometry:hS,BoxBufferGeometry:hS,CircleGeometry:bT,CircleBufferGeometry:bT,ConeGeometry:wT,ConeBufferGeometry:wT,CylinderGeometry:xT,CylinderBufferGeometry:xT,DodecahedronGeometry:ET,DodecahedronBufferGeometry:ET,EdgesGeometry:CT,ExtrudeGeometry:AA,ExtrudeBufferGeometry:AA,IcosahedronGeometry:PA,IcosahedronBufferGeometry:PA,LatheGeometry:OA,LatheBufferGeometry:OA,OctahedronGeometry:RA,OctahedronBufferGeometry:RA,PlaneGeometry:OS,PlaneBufferGeometry:OS,PolyhedronGeometry:ST,PolyhedronBufferGeometry:ST,RingGeometry:IA,RingBufferGeometry:IA,ShapeGeometry:LA,ShapeBufferGeometry:LA,SphereGeometry:DA,SphereBufferGeometry:DA,TetrahedronGeometry:zA,TetrahedronBufferGeometry:zA,TorusGeometry:NA,TorusBufferGeometry:NA,TorusKnotGeometry:BA,TorusKnotBufferGeometry:BA,TubeGeometry:FA,TubeBufferGeometry:FA,WireframeGeometry:jA}),HA=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this)).type="ShadowMaterial",r.color=new Xb(0),r.transparent=!0,r.setValues(e),r}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this}}]),n}(Sw);HA.prototype.isShadowMaterial=!0;var WA=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this,e)).type="RawShaderMaterial",r}return mr(n)}(mS);WA.prototype.isRawShaderMaterial=!0;var GA=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this)).defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new Xb(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Xb(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=G_,r.normalScale=new Db(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.setValues(e),r}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}]),n}(Sw);GA.prototype.isMeshStandardMaterial=!0;var qA=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this)).defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new Db(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty(yr(r),"reflectivity",{get:function(){return Ab(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),r.sheenColor=new Xb(0),r.sheenColorMap=null,r.sheenRoughness=1,r.sheenRoughnessMap=null,r.transmissionMap=null,r.thickness=0,r.thicknessMap=null,r.attenuationDistance=0,r.attenuationColor=new Xb(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularColor=new Xb(1,1,1),r.specularColorMap=null,r._sheen=0,r._clearcoat=0,r._transmission=0,r.setValues(e),r}return mr(n,[{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),n}(GA);qA.prototype.isMeshPhysicalMaterial=!0;var YA=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this)).type="MeshPhongMaterial",r.color=new Xb(16777215),r.specular=new Xb(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Xb(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=G_,r.normalScale=new Db(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=ry,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.setValues(e),r}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}]),n}(Sw);YA.prototype.isMeshPhongMaterial=!0;var XA=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this)).defines={TOON:""},r.type="MeshToonMaterial",r.color=new Xb(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Xb(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=G_,r.normalScale=new Db(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.setValues(e),r}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),n}(Sw);XA.prototype.isMeshToonMaterial=!0;var ZA=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this)).type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=G_,r.normalScale=new Db(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.flatShading=!1,r.setValues(e),r}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),n}(Sw);ZA.prototype.isMeshNormalMaterial=!0;var KA=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this)).type="MeshLambertMaterial",r.color=new Xb(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Xb(0),r.emissiveIntensity=1,r.emissiveMap=null,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=ry,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.setValues(e),r}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),n}(Sw);KA.prototype.isMeshLambertMaterial=!0;var JA=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this)).defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new Xb(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=G_,r.normalScale=new Db(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.flatShading=!1,r.setValues(e),r}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}]),n}(Sw);JA.prototype.isMeshMatcapMaterial=!0;var QA=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this)).type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(Qk);QA.prototype.isLineDashedMaterial=!0;var $A={ShadowMaterial:HA,SpriteMaterial:gk,RawShaderMaterial:WA,ShaderMaterial:mS,PointsMaterial:uT,MeshPhysicalMaterial:qA,MeshStandardMaterial:GA,MeshPhongMaterial:YA,MeshToonMaterial:XA,MeshNormalMaterial:ZA,MeshLambertMaterial:KA,MeshDepthMaterial:XM,MeshDistanceMaterial:ZM,MeshBasicMaterial:Ew,MeshMatcapMaterial:JA,LineDashedMaterial:QA,LineBasicMaterial:Qk,Material:Sw};Sw.fromType=function(e){return new $A[e]};var eC={arraySlice:function(e,t,n){return eC.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*t,l=0;l!==t;++l)i[a++]=e[s+l];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[r])&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[r])&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{void 0!==(a=o[r])&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}},subclip:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,o=e.clone();o.name=t;for(var a=[],s=0;s<o.tracks.length;++s){for(var l=o.tracks[s],u=l.getValueSize(),c=[],h=[],p=0;p<l.times.length;++p){var f=l.times[p]*i;if(!(f<n||f>=r)){c.push(l.times[p]);for(var d=0;d<u;++d)h.push(l.values[p*u+d])}}0!==c.length&&(l.times=eC.convertArray(c,l.times.constructor),l.values=eC.convertArray(h,l.values.constructor),a.push(l))}o.tracks=a;for(var m=1/0,v=0;v<o.tracks.length;++v)m>o.tracks[v].times[0]&&(m=o.tracks[v].times[0]);for(var g=0;g<o.tracks.length;++g)o.tracks[g].shift(-1*m);return o.resetDuration(),o},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var i=n.tracks.length,o=t/r,a=function(t){var r=n.tracks[t],i=r.ValueTypeName;if("bool"===i||"string"===i)return"continue";var a=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===i}));if(void 0===a)return"continue";var s=0,l=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);var u=0,c=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=c/3);var h=r.times.length-1,p=void 0;if(o<=r.times[0]){var f=s,d=l-s;p=eC.arraySlice(r.values,f,d)}else if(o>=r.times[h]){var m=h*l+s,v=m+l-s;p=eC.arraySlice(r.values,m,v)}else{var g=r.createInterpolant(),y=s,_=l-s;g.evaluate(o),p=eC.arraySlice(g.resultBuffer,y,_)}"quaternion"===i&&(new sx).fromArray(p).normalize().conjugate().toArray(p);for(var b=a.times.length,x=0;x<b;++x){var w=x*c+u;if("quaternion"===i)sx.multiplyQuaternionsFlat(a.values,w,p,0,a.values,w);else for(var S=c-2*u,E=0;E<S;++E)a.values[w+E]-=p[E]}},s=0;s<i;++s)a(s);return e.blendMode=N_,e}},tC=function(){function e(t,n,r,i){nm(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return mr(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,e<(r=t[++n]))break t}o=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var l=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===l)break;if(r=i,e>=(i=t[--n-1]))break t}o=n,n=0}for(;n<o;){var u=n+o>>>1;e<t[u]?o=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}();tC.prototype.beforeStart_=tC.prototype.copySampleValue_,tC.prototype.afterEnd_=tC.prototype.copySampleValue_;var nC=function(e){eg(n,e);var t=ig(n);function n(e,r,i,o){var a;return nm(this,n),(a=t.call(this,e,r,i,o))._weightPrev=-0,a._offsetPrev=-0,a._weightNext=-0,a._offsetNext=-0,a.DefaultSettings_={endingStart:I_,endingEnd:I_},a}return mr(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case L_:i=e,a=2*t-n;break;case D_:a=t+r[i=r.length-2]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case L_:o=e,s=2*n-t;break;case D_:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}var l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=o*u}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,u=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,p=this._weightNext,f=(n-t)/(r-t),d=f*f,m=d*f,v=-h*m+2*h*d-h*f,g=(1+h)*m+(-1.5-2*h)*d+(-.5+h)*f+1,y=(-1-p)*m+(1.5+p)*d+.5*f,_=p*m-p*d,b=0;b!==a;++b)i[b]=v*o[u+b]+g*o[l+b]+y*o[s+b]+_*o[c+b];return i}}]),n}(tC),rC=function(e){eg(n,e);var t=ig(n);function n(e,r,i,o){return nm(this,n),t.call(this,e,r,i,o)}return mr(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,u=(n-t)/(r-t),c=1-u,h=0;h!==a;++h)i[h]=o[l+h]*c+o[s+h]*u;return i}}]),n}(tC),iC=function(e){eg(n,e);var t=ig(n);function n(e,r,i,o){return nm(this,n),t.call(this,e,r,i,o)}return mr(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(tC),oC=function(){function e(t,n,r,i){if(nm(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=eC.convertArray(n,this.TimeBufferType),this.values=eC.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return mr(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new iC(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new rC(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new nC(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case P_:t=this.InterpolantFactoryMethodDiscrete;break;case O_:t=this.InterpolantFactoryMethodLinear;break;case R_:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return P_;case this.InterpolantFactoryMethodLinear:return O_;case this.InterpolantFactoryMethodSmooth:return R_}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=eC.arraySlice(n,i,o),this.values=eC.arraySlice(this.values,i*a,o*a)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==r&&eC.isTypedArray(r))for(var l=0,u=r.length;l!==u;++l){var c=r[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=eC.arraySlice(this.times),t=eC.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===R_,i=e.length-1,o=1,a=1;a<i;++a){var s=!1,l=e[a];if(l!==e[a+1]&&(1!==a||l!==e[0]))if(r)s=!0;else for(var u=a*n,c=u-n,h=u+n,p=0;p!==n;++p){var f=t[u+p];if(f!==t[c+p]||f!==t[h+p]){s=!0;break}}if(s){if(a!==o){e[o]=e[a];for(var d=a*n,m=o*n,v=0;v!==n;++v)t[m+v]=t[d+v]}++o}}if(i>0){e[o]=e[i];for(var g=i*n,y=o*n,_=0;_!==n;++_)t[y+_]=t[g+_];++o}return o!==e.length?(this.times=eC.arraySlice(e,0,o),this.values=eC.arraySlice(t,0,o*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=eC.arraySlice(this.times,0),t=eC.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:eC.convertArray(e.times,Array),values:eC.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();oC.prototype.TimeBufferType=Float32Array,oC.prototype.ValueBufferType=Float32Array,oC.prototype.DefaultInterpolation=O_;var aC=function(e){eg(n,e);var t=ig(n);function n(){return nm(this,n),t.apply(this,arguments)}return mr(n)}(oC);aC.prototype.ValueTypeName="bool",aC.prototype.ValueBufferType=Array,aC.prototype.DefaultInterpolation=P_,aC.prototype.InterpolantFactoryMethodLinear=void 0,aC.prototype.InterpolantFactoryMethodSmooth=void 0;var sC=function(e){eg(n,e);var t=ig(n);function n(){return nm(this,n),t.apply(this,arguments)}return mr(n)}(oC);sC.prototype.ValueTypeName="color";var lC=function(e){eg(n,e);var t=ig(n);function n(){return nm(this,n),t.apply(this,arguments)}return mr(n)}(oC);lC.prototype.ValueTypeName="number";var uC=function(e){eg(n,e);var t=ig(n);function n(e,r,i,o){return nm(this,n),t.call(this,e,r,i,o)}return mr(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-t)/(r-t),l=e*a,u=l+a;l!==u;l+=4)sx.slerpFlat(i,0,o,l-a,o,l,s);return i}}]),n}(tC),cC=function(e){eg(n,e);var t=ig(n);function n(){return nm(this,n),t.apply(this,arguments)}return mr(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new uC(this.times,this.values,this.getValueSize(),e)}}]),n}(oC);cC.prototype.ValueTypeName="quaternion",cC.prototype.DefaultInterpolation=O_,cC.prototype.InterpolantFactoryMethodSmooth=void 0;var hC=function(e){eg(n,e);var t=ig(n);function n(){return nm(this,n),t.apply(this,arguments)}return mr(n)}(oC);hC.prototype.ValueTypeName="string",hC.prototype.ValueBufferType=Array,hC.prototype.DefaultInterpolation=P_,hC.prototype.InterpolantFactoryMethodLinear=void 0,hC.prototype.InterpolantFactoryMethodSmooth=void 0;var pC=function(e){eg(n,e);var t=ig(n);function n(){return nm(this,n),t.apply(this,arguments)}return mr(n)}(oC);pC.prototype.ValueTypeName="vector";var fC=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z_;nm(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Tb(),this.duration<0&&this.resetDuration()}return mr(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(dC(n[i]).scale(r));var a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,o=n.length;i!==o;++i)t.push(oC.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],l=[];s.push((a+i-1)%i,a,(a+1)%i),l.push(0,1,0);var u=eC.getKeyframeOrder(s);s=eC.sortedArray(s,1,u),l=eC.sortedArray(l,1,u),r||0!==s[0]||(s.push(i),l.push(l[0])),o.push(new lC(".morphTargetInfluences["+t[a].name+"]",s,l).scale(1/n))}return new this(e,-1,o)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],l=s.name.match(i);if(l&&l.length>1){var u=l[1],c=r[u];c||(r[u]=c=[]),c.push(s)}}var h=[];for(var p in r)h.push(this.CreateFromMorphTargetSequence(p,r[p],t,n));return h}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var o=[],a=[];eC.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.fps||30,a=e.blendMode,s=e.length||-1,l=e.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){var h={},p=void 0;for(p=0;p<c.length;p++)if(c[p].morphTargets)for(var f=0;f<c[p].morphTargets.length;f++)h[c[p].morphTargets[f]]=-1;for(var d in h){for(var m=[],v=[],g=0;g!==c[p].morphTargets.length;++g){var y=c[p];m.push(y.time),v.push(y.morphTarget===d?1:0)}r.push(new lC(".morphTargetInfluence["+d+"]",m,v))}s=h.length*o}else{var _=".bones["+t[u].name+"]";n(pC,_+".position",c,"pos",r),n(cC,_+".quaternion",c,"rot",r),n(pC,_+".scale",c,"scl",r)}}return 0===r.length?null:new this(i,s,r,a)}}]),e}();function dC(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return lC;case"vector":case"vector2":case"vector3":case"vector4":return pC;case"color":return sC;case"quaternion":return cC;case"bool":case"boolean":return aC;case"string":return hC}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];eC.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var mC={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},vC=mr((function e(t,n,r){nm(this,e);var i=this,o=!1,a=0,s=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===o&&void 0!==i.onStart&&i.onStart(e,a,s),o=!0},this.itemEnd=function(e){a++,void 0!==i.onProgress&&i.onProgress(e,a,s),a===s&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return l?l(e):e},this.setURLModifier=function(e){return l=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){var t=u.indexOf(e);return-1!==t&&u.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=u.length;t<n;t+=2){var r=u[t],i=u[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}})),gC=new vC,yC=function(){function e(t){nm(this,e),this.manager=void 0!==t?t:gC,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return mr(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),_C={},bC=function(e){eg(n,e);var t=ig(n);function n(e){return nm(this,n),t.call(this,e)}return mr(n,[{key:"load",value:function(e,t,n,r){var i=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var o=mC.get(e);if(void 0!==o)return this.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;if(void 0===_C[e]){_C[e]=[],_C[e].push({onLoad:t,onProgress:n,onError:r});var a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(a).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var n=_C[e],r=t.body.getReader(),i=t.headers.get("Content-Length"),o=i?parseInt(i):0,a=0!==o,s=0,l=new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var i=r.done,l=r.value;if(i)e.close();else{s+=l.byteLength;for(var u=new ProgressEvent("progress",{lengthComputable:a,loaded:s,total:o}),c=0,h=n.length;c<h;c++){var p=n[c];p.onProgress&&p.onProgress(u)}e.enqueue(l),t()}}))}()}});return new Response(l)}throw Error('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText))})).then((function(e){switch(l){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,s)}));case"json":return e.json();default:if(void 0===s)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((function(e){return r.decode(e)}))}})).then((function(t){mC.add(e,t);var n=_C[e];delete _C[e];for(var r=0,i=n.length;r<i;r++){var o=n[r];o.onLoad&&o.onLoad(t)}})).catch((function(t){var n=_C[e];if(void 0===n)throw i.manager.itemError(e),t;delete _C[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e)})).finally((function(){i.manager.itemEnd(e)})),this.manager.itemStart(e)}else _C[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(yC),xC=function(e){eg(n,e);var t=ig(n);function n(e){return nm(this,n),t.call(this,e)}return mr(n,[{key:"load",value:function(e,t,n,r){var i=this,o=new bC(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=fC.parse(e[n]);t.push(r)}return t}}]),n}(yC),wC=function(e){eg(n,e);var t=ig(n);function n(e){return nm(this,n),t.call(this,e)}return mr(n,[{key:"load",value:function(e,t,n,r){var i=this,o=[],a=new yT,s=new bC(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);var l=0;function u(u){s.load(e[u],(function(e){var n=i.parse(e,!0);o[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(a.minFilter=Ty),a.image=o,a.format=n.format,a.needsUpdate=!0,t&&t(a))}),n,r)}if(Array.isArray(e))for(var c=0,h=e.length;c<h;++c)u(c);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap){for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}a.image=o}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=Ty),a.format=n.format,a.needsUpdate=!0,t&&t(a)}),n,r);return a}}]),n}(yC),SC=function(e){eg(n,e);var t=ig(n);function n(e){return nm(this,n),t.call(this,e)}return mr(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=mC.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;var a=jb("img");function s(){u(),mC.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){u(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function u(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}]),n}(yC),EC=function(e){eg(n,e);var t=ig(n);function n(e){return nm(this,n),t.call(this,e)}return mr(n,[{key:"load",value:function(e,t,n,r){var i=new bS,o=new SC(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(n){o.load(e[n],(function(e){i.images[n]=e,6===++a&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var l=0;l<e.length;++l)s(l);return i}}]),n}(yC),MC=function(e){eg(n,e);var t=ig(n);function n(e){return nm(this,n),t.call(this,e)}return mr(n,[{key:"load",value:function(e,t,n,r){var i=this,o=new Vk,a=new bC(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(i.withCredentials),a.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:by,o.wrapT=void 0!==n.wrapT?n.wrapT:by,o.magFilter=void 0!==n.magFilter?n.magFilter:Ty,o.minFilter=void 0!==n.minFilter?n.minFilter:Ty,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(o.encoding=n.encoding),void 0!==n.flipY&&(o.flipY=n.flipY),void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=Py),1===n.mipmapCount&&(o.minFilter=Ty),void 0!==n.generateMipmaps&&(o.generateMipmaps=n.generateMipmaps),o.needsUpdate=!0,t&&t(o,n))}),n,r),o}}]),n}(yC),kC=function(e){eg(n,e);var t=ig(n);function n(e){return nm(this,n),t.call(this,e)}return mr(n,[{key:"load",value:function(e,t,n,r){var i=new $b,o=new SC(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(yC),TC=function(e){eg(n,e);var t=ig(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return nm(this,n),(r=t.call(this)).type="Light",r.color=new Xb(e),r.intensity=i,r}return mr(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=cg(tg(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(cw);TC.prototype.isLight=!0;var AC=function(e){eg(n,e);var t=ig(n);function n(e,r,i){var o;return nm(this,n),(o=t.call(this,e,i)).type="HemisphereLight",o.position.copy(cw.DefaultUp),o.updateMatrix(),o.groundColor=new Xb(r),o}return mr(n,[{key:"copy",value:function(e){return TC.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}]),n}(TC);AC.prototype.isHemisphereLight=!0;var CC=new Fx,PC=new lx,OC=new lx,RC=function(){function e(t){nm(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Db(512,512),this.map=null,this.mapPass=null,this.matrix=new Fx,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new AS,this._frameExtents=new Db(1,1),this._viewportCount=1,this._viewports=[new ex(0,0,1,1)]}return mr(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;PC.setFromMatrixPosition(e.matrixWorld),t.position.copy(PC),OC.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(OC),t.updateMatrixWorld(),CC.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(CC),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),IC=function(e){eg(n,e);var t=ig(n);function n(){var e;return nm(this,n),(e=t.call(this,new gS(50,1,.5,500))).focus=1,e}return mr(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*kb*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;r===t.fov&&i===t.aspect&&o===t.far||(t.fov=r,t.aspect=i,t.far=o,t.updateProjectionMatrix()),cg(tg(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(RC);IC.prototype.isSpotLightShadow=!0;var LC=function(e){eg(n,e);var t=ig(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return nm(this,n),(i=t.call(this,e,r)).type="SpotLight",i.position.copy(cw.DefaultUp),i.updateMatrix(),i.target=new cw,i.distance=o,i.angle=a,i.penumbra=s,i.decay=l,i.shadow=new IC,i}return mr(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(TC);LC.prototype.isSpotLight=!0;var DC=new Fx,zC=new lx,NC=new lx,BC=function(e){eg(n,e);var t=ig(n);function n(){var e;return nm(this,n),(e=t.call(this,new gS(90,1,.5,500)))._frameExtents=new Db(4,2),e._viewportCount=6,e._viewports=[new ex(2,1,1,1),new ex(0,1,1,1),new ex(3,1,1,1),new ex(1,1,1,1),new ex(3,0,1,1),new ex(1,0,1,1)],e._cubeDirections=[new lx(1,0,0),new lx(-1,0,0),new lx(0,0,1),new lx(0,0,-1),new lx(0,1,0),new lx(0,-1,0)],e._cubeUps=[new lx(0,1,0),new lx(0,1,0),new lx(0,1,0),new lx(0,1,0),new lx(0,0,1),new lx(0,0,-1)],e}return mr(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),zC.setFromMatrixPosition(e.matrixWorld),n.position.copy(zC),NC.copy(n.position),NC.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(NC),n.updateMatrixWorld(),r.makeTranslation(-zC.x,-zC.y,-zC.z),DC.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(DC)}}]),n}(RC);BC.prototype.isPointLightShadow=!0;var FC=function(e){eg(n,e);var t=ig(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return nm(this,n),(i=t.call(this,e,r)).type="PointLight",i.distance=o,i.decay=a,i.shadow=new BC,i}return mr(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(TC);FC.prototype.isPointLight=!0;var jC=function(e){eg(n,e);var t=ig(n);function n(){return nm(this,n),t.call(this,new US(-5,5,5,-5,.5,500))}return mr(n)}(RC);jC.prototype.isDirectionalLightShadow=!0;var UC=function(e){eg(n,e);var t=ig(n);function n(e,r){var i;return nm(this,n),(i=t.call(this,e,r)).type="DirectionalLight",i.position.copy(cw.DefaultUp),i.updateMatrix(),i.target=new cw,i.shadow=new jC,i}return mr(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(TC);UC.prototype.isDirectionalLight=!0;var VC=function(e){eg(n,e);var t=ig(n);function n(e,r){var i;return nm(this,n),(i=t.call(this,e,r)).type="AmbientLight",i}return mr(n)}(TC);VC.prototype.isAmbientLight=!0;var HC=function(e){eg(n,e);var t=ig(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return nm(this,n),(i=t.call(this,e,r)).type="RectAreaLight",i.width=o,i.height=a,i}return mr(n,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=cg(tg(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(TC);HC.prototype.isRectAreaLight=!0;var WC=function(){function e(){nm(this,e),this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new lx)}return mr(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*i),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*r*1.092548),t.addScaledVector(o[5],r*i*1.092548),t.addScaledVector(o[6],.315392*(3*i*i-1)),t.addScaledVector(o[7],n*i*1.092548),t.addScaledVector(o[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*r),t.addScaledVector(o[2],1.023328*i),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*r),t.addScaledVector(o[5],.858086*r*i),t.addScaledVector(o[6],.743125*i*i-.247708),t.addScaledVector(o[7],.858086*n*i),t.addScaledVector(o[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}();WC.prototype.isSphericalHarmonics3=!0;var GC=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new WC,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return nm(this,n),(e=t.call(this,void 0,i)).sh=r,e}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=cg(tg(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(TC);GC.prototype.isLightProbe=!0;var qC=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this,e)).textures={},r}return mr(n,[{key:"load",value:function(e,t,n,r){var i=this,o=new bC(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=Sw.fromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new Xb).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var i in e.uniforms){var o=e.uniforms[i];switch(r.uniforms[i]={},o.type){case"t":r.uniforms[i].value=n(o.value);break;case"c":r.uniforms[i].value=(new Xb).setHex(o.value);break;case"v2":r.uniforms[i].value=(new Db).fromArray(o.value);break;case"v3":r.uniforms[i].value=(new lx).fromArray(o.value);break;case"v4":r.uniforms[i].value=(new ex).fromArray(o.value);break;case"m3":r.uniforms[i].value=(new zb).fromArray(o.value);break;case"m4":r.uniforms[i].value=(new Fx).fromArray(o.value);break;default:r.uniforms[i].value=o.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var a in e.extensions)r.extensions[a]=e.extensions[a];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new Db).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new Db).fromArray(e.clearcoatNormalScale)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}},{key:"setTextures",value:function(e){return this.textures=e,this}}]),n}(yC),YC=function(){function e(){nm(this,e)}return mr(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),XC=function(e){eg(n,e);var t=ig(n);function n(){var e;return nm(this,n),(e=t.call(this)).type="InstancedBufferGeometry",e.instanceCount=1/0,e}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e=cg(tg(n.prototype),"toJSON",this).call(this,this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}(Gw);XC.prototype.isInstancedBufferGeometry=!0;var ZC,KC=function(e){eg(n,e);var t=ig(n);function n(e){return nm(this,n),t.call(this,e)}return mr(n,[{key:"load",value:function(e,t,n,r){var i=this,o=new bC(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],o=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers[t],i=new Uint32Array(r).buffer;return n[t]=i,i}(e,i.buffer),a=Fb(i.type,o),s=new fk(a,i.stride);return s.uuid=i.uuid,t[r]=s,s}var i=e.isInstancedBufferGeometry?new XC:new Gw,o=e.data.index;if(void 0!==o){var a=Fb(o.type,o.array);i.setIndex(new Tw(a,1))}var s=e.data.attributes;for(var l in s){var u=s[l],c=void 0;if(u.isInterleavedBufferAttribute){var h=r(e.data,u.data);c=new mk(h,u.itemSize,u.offset,u.normalized)}else{var p=Fb(u.type,u.array);c=new(u.isInstancedBufferAttribute?qk:Tw)(p,u.itemSize,u.normalized)}void 0!==u.name&&(c.name=u.name),void 0!==u.usage&&c.setUsage(u.usage),void 0!==u.updateRange&&(c.updateRange.offset=u.updateRange.offset,c.updateRange.count=u.updateRange.count),i.setAttribute(l,c)}var f=e.data.morphAttributes;if(f)for(var d in f){for(var m=f[d],v=[],g=0,y=m.length;g<y;g++){var _=m[g],b=void 0;if(_.isInterleavedBufferAttribute){var x=r(e.data,_.data);b=new mk(x,_.itemSize,_.offset,_.normalized)}else{var w=Fb(_.type,_.array);b=new Tw(w,_.itemSize,_.normalized)}void 0!==_.name&&(b.name=_.name),v.push(b)}i.morphAttributes[d]=v}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var S=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==S)for(var E=0,M=S.length;E!==M;++E){var k=S[E];i.addGroup(k.start,k.count,k.materialIndex)}var T=e.data.boundingSphere;if(void 0!==T){var A=new lx;void 0!==T.center&&A.fromArray(T.center),i.boundingSphere=new Px(A,T.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}]),n}(yC),JC=function(e){eg(n,e);var t=ig(n);function n(e){return nm(this,n),t.call(this,e)}return mr(n,[{key:"load",value:function(e,t,n,r){var i=this,o=""===this.path?YC.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;var a=new bC(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){var o=null;try{o=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)}},{key:"loadAsync",value:function(){var e=Xf(Zf.mark((function e(t,n){var r,i,o,a,s,l;return Zf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=""===this.path?YC.extractUrlBase(t):this.path,this.resourcePath=this.resourcePath||i,(o=new bC(this.manager)).setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),e.next=9,o.loadAsync(t,n);case 9:if(a=e.sent,s=JSON.parse(a),void 0!==(l=s.metadata)&&void 0!==l.type&&"geometry"!==l.type.toLowerCase()){e.next=14;break}throw new Error("THREE.ObjectLoader: Can't load "+t);case 14:return e.next=16,r.parseAsync(s);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,s,a,n),u=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,u),void 0!==t){var c=!1;for(var h in o)if(o[h]instanceof HTMLImageElement){c=!0;break}!1===c&&t(l)}return l}},{key:"parseAsync",value:function(){var e=Xf(Zf.mark((function e(t){var n,r,i,o,a,s,l,u;return Zf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,r),e.next=5,this.parseImagesAsync(t.images);case 5:return o=e.sent,a=this.parseTextures(t.textures,o),s=this.parseMaterials(t.materials,a),l=this.parseObject(t.object,i,s,a,n),u=this.parseSkeletons(t.skeletons,l),this.bindSkeletons(l,u),e.abrupt("return",l);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new QT).fromJSON(e[n]);t[i.uuid]=i}return t}},{key:"parseSkeletons",value:function(e,t){var n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(var i=0,o=e.length;i<o;i++){var a=(new Gk).fromJSON(e[i],r);n[a.uuid]=a}return n}},{key:"parseGeometries",value:function(e,t){var n={};if(void 0!==e)for(var r=new KC,i=0,o=e.length;i<o;i++){var a=void 0,s=e[i];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(s);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:s.type in VA?a=VA[s.type].fromJSON(s,t):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(s.type,'"'))}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),!0===a.isBufferGeometry&&void 0!==s.userData&&(a.userData=s.userData),n[s.uuid]=a}return n}},{key:"parseMaterials",value:function(e,t){var n={},r={};if(void 0!==e){var i=new qC;i.setTextures(t);for(var o=0,a=e.length;o<a;o++){var s=e[o];if("MultiMaterial"===s.type){for(var l=[],u=0;u<s.materials.length;u++){var c=s.materials[u];void 0===n[c.uuid]&&(n[c.uuid]=i.parse(c)),l.push(n[c.uuid])}r[s.uuid]=l}else void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var r=e[n],i=fC.parse(r);t[i.uuid]=i}return t}},{key:"parseImages",value:function(e,t){var n,r=this,i={};function o(e){if("string"===typeof e){var t=e;return function(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:r.resourcePath+t)}return e.data?{data:Fb(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){var a=new vC(t);(n=new SC(a)).setCrossOrigin(this.crossOrigin);for(var s=0,l=e.length;s<l;s++){var u=e[s],c=u.url;if(Array.isArray(c)){for(var h=[],p=0,f=c.length;p<f;p++){var d=o(c[p]);null!==d&&(d instanceof HTMLImageElement?h.push(d):h.push(new Vk(d.data,d.width,d.height)))}i[u.uuid]=new Kb(h)}else{var m=o(u.url);i[u.uuid]=new Kb(m)}}}return i}},{key:"parseImagesAsync",value:function(){var e=Xf(Zf.mark((function e(t){var n,r,i,o,a,s,l,u,c,h,p,f,d,m,v;return Zf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(){return a=Xf(Zf.mark((function e(t){var r,o;return Zf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=8;break}return o=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r=t)?r:n.resourcePath+r,e.next=5,i.loadAsync(o);case 5:return e.abrupt("return",e.sent);case 8:if(!t.data){e.next=12;break}return e.abrupt("return",{data:Fb(t.type,t.data),width:t.width,height:t.height});case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)},o=function(e){return a.apply(this,arguments)},n=this,r={},!(void 0!==t&&t.length>0)){e.next=33;break}(i=new SC(this.manager)).setCrossOrigin(this.crossOrigin),s=0,l=t.length;case 8:if(!(s<l)){e.next=33;break}if(u=t[s],c=u.url,!Array.isArray(c)){e.next=26;break}h=[],p=0,f=c.length;case 14:if(!(p<f)){e.next=23;break}return d=c[p],e.next=18,o(d);case 18:null!==(m=e.sent)&&(m instanceof HTMLImageElement?h.push(m):h.push(new Vk(m.data,m.width,m.height)));case 20:p++,e.next=14;break;case 23:r[u.uuid]=new Kb(h),e.next=30;break;case 26:return e.next=28,o(u.url);case 28:v=e.sent,r[u.uuid]=new Kb(v);case 30:s++,e.next=8;break;case 33:return e.abrupt("return",r);case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseTextures",value:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,o=e.length;i<o;i++){var a=e[i];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);var s=t[a.image],l=s.data,u=void 0;Array.isArray(l)?(u=new bS,6===l.length&&(u.needsUpdate=!0)):(u=l&&l.data?new Vk:new $b,l&&(u.needsUpdate=!0)),u.source=s,u.uuid=a.uuid,void 0!==a.name&&(u.name=a.name),void 0!==a.mapping&&(u.mapping=n(a.mapping,QC)),void 0!==a.offset&&u.offset.fromArray(a.offset),void 0!==a.repeat&&u.repeat.fromArray(a.repeat),void 0!==a.center&&u.center.fromArray(a.center),void 0!==a.rotation&&(u.rotation=a.rotation),void 0!==a.wrap&&(u.wrapS=n(a.wrap[0],$C),u.wrapT=n(a.wrap[1],$C)),void 0!==a.format&&(u.format=a.format),void 0!==a.type&&(u.type=a.type),void 0!==a.encoding&&(u.encoding=a.encoding),void 0!==a.minFilter&&(u.minFilter=n(a.minFilter,eP)),void 0!==a.magFilter&&(u.magFilter=n(a.magFilter,eP)),void 0!==a.anisotropy&&(u.anisotropy=a.anisotropy),void 0!==a.flipY&&(u.flipY=a.flipY),void 0!==a.premultiplyAlpha&&(u.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(u.unpackAlignment=a.unpackAlignment),void 0!==a.userData&&(u.userData=a.userData),r[a.uuid]=u}return r}},{key:"parseObject",value:function(e,t,n,r,i){var o,a,s;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function u(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var o=e[r];void 0===n[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(n[o])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function c(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":o=new pk,void 0!==e.background&&(Number.isInteger(e.background)?o.background=new Xb(e.background):o.background=c(e.background)),void 0!==e.environment&&(o.environment=c(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?o.fog=new hk(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(o.fog=new ck(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new gS(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(o.focus=e.focus),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.filmGauge&&(o.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(o.filmOffset=e.filmOffset),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new US(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new VC(e.color,e.intensity);break;case"DirectionalLight":o=new UC(e.color,e.intensity);break;case"PointLight":o=new FC(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new HC(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new LC(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new AC(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=(new GC).fromJSON(e);break;case"SkinnedMesh":a=l(e.geometry),s=u(e.material),o=new jk(a,s),void 0!==e.bindMode&&(o.bindMode=e.bindMode),void 0!==e.bindMatrix&&o.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(o.skeleton=e.skeleton);break;case"Mesh":a=l(e.geometry),s=u(e.material),o=new uS(a,s);break;case"InstancedMesh":a=l(e.geometry),s=u(e.material);var h=e.count,p=e.instanceMatrix,f=e.instanceColor;(o=new Jk(a,s,h)).instanceMatrix=new qk(new Float32Array(p.array),16),void 0!==f&&(o.instanceColor=new qk(new Float32Array(f.array),f.itemSize));break;case"LOD":o=new Lk;break;case"Line":o=new iT(l(e.geometry),u(e.material));break;case"LineLoop":o=new lT(l(e.geometry),u(e.material));break;case"LineSegments":o=new sT(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":o=new dT(l(e.geometry),u(e.material));break;case"Sprite":o=new Pk(u(e.material));break;case"Group":o=new tk;break;case"Bone":o=new Uk;break;default:o=new cw}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(o.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.quaternion&&o.quaternion.fromArray(e.quaternion),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.castShadow&&(o.castShadow=e.castShadow),void 0!==e.receiveShadow&&(o.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(o.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(o.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(o.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&o.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(o.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.frustumCulled&&(o.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(o.renderOrder=e.renderOrder),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.layers&&(o.layers.mask=e.layers),void 0!==e.children)for(var d=e.children,m=0;m<d.length;m++)o.add(this.parseObject(d[m],t,n,r,i));if(void 0!==e.animations)for(var v=e.animations,g=0;g<v.length;g++){var y=v[g];o.animations.push(i[y])}if("LOD"===e.type){void 0!==e.autoUpdate&&(o.autoUpdate=e.autoUpdate);for(var _=e.levels,b=0;b<_.length;b++){var x=_[b],w=o.getObjectByProperty("uuid",x.object);void 0!==w&&o.addLevel(w,x.distance)}}return o}},{key:"bindSkeletons",value:function(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){var n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}},{key:"setTexturePath",value:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}]),n}(yC),QC={UVMapping:py,CubeReflectionMapping:fy,CubeRefractionMapping:dy,EquirectangularReflectionMapping:my,EquirectangularRefractionMapping:vy,CubeUVReflectionMapping:gy,CubeUVRefractionMapping:yy},$C={RepeatWrapping:_y,ClampToEdgeWrapping:by,MirroredRepeatWrapping:xy},eP={NearestFilter:wy,NearestMipmapNearestFilter:Sy,NearestMipmapLinearFilter:My,LinearFilter:Ty,LinearMipmapNearestFilter:Ay,LinearMipmapLinearFilter:Py},tP=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),r=t.call(this,e),"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return mr(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=mC.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;var a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){mC.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}]),n}(yC);tP.prototype.isImageBitmapLoader=!0;var nP={getContext:function(){return void 0===ZC&&(ZC=new(window.AudioContext||window.webkitAudioContext)),ZC},setContext:function(e){ZC=e}},rP=function(e){eg(n,e);var t=ig(n);function n(e){return nm(this,n),t.call(this,e)}return mr(n,[{key:"load",value:function(e,t,n,r){var i=this,o=new bC(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{var o=n.slice(0);nP.getContext().decodeAudioData(o,(function(e){t(e)}))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}}]),n}(yC),iP=function(e){eg(n,e);var t=ig(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;nm(this,n),i=t.call(this,void 0,o);var a=(new Xb).set(e),s=(new Xb).set(r),l=new lx(a.r,a.g,a.b),u=new lx(s.r,s.g,s.b),c=Math.sqrt(Math.PI),h=c*Math.sqrt(.75);return i.sh.coefficients[0].copy(l).add(u).multiplyScalar(c),i.sh.coefficients[1].copy(l).sub(u).multiplyScalar(h),i}return mr(n)}(GC);iP.prototype.isHemisphereLightProbe=!0;var oP=function(e){eg(n,e);var t=ig(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;nm(this,n),r=t.call(this,void 0,i);var o=(new Xb).set(e);return r.sh.coefficients[0].set(o.r,o.g,o.b).multiplyScalar(2*Math.sqrt(Math.PI)),r}return mr(n)}(GC);oP.prototype.isAmbientLightProbe=!0;var aP=new Fx,sP=new Fx,lP=new Fx,uP=function(){function e(){nm(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new gS,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new gS,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return mr(e,[{key:"update",value:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,lP.copy(e.projectionMatrix);var n,r,i=t.eyeSep/2,o=i*t.near/t.focus,a=t.near*Math.tan(Mb*t.fov*.5)/t.zoom;sP.elements[12]=-i,aP.elements[12]=i,n=-a*t.aspect+o,r=a*t.aspect+o,lP.elements[0]=2*t.near/(r-n),lP.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(lP),n=-a*t.aspect-o,r=a*t.aspect-o,lP.elements[0]=2*t.near/(r-n),lP.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(lP)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(sP),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(aP)}}]),e}(),cP=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];nm(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return mr(e,[{key:"start",value:function(){this.startTime=hP(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=hP();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function hP(){return("undefined"===typeof performance?Date:performance).now()}var pP=new lx,fP=new sx,dP=new lx,mP=new lx,vP=function(e){eg(n,e);var t=ig(n);function n(){var e;return nm(this,n),(e=t.call(this)).type="AudioListener",e.context=nP.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new cP,e}return mr(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){cg(tg(n.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(pP,fP,dP),mP.set(0,0,-1).applyQuaternion(fP),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(pP.x,i),t.positionY.linearRampToValueAtTime(pP.y,i),t.positionZ.linearRampToValueAtTime(pP.z,i),t.forwardX.linearRampToValueAtTime(mP.x,i),t.forwardY.linearRampToValueAtTime(mP.y,i),t.forwardZ.linearRampToValueAtTime(mP.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(pP.x,pP.y,pP.z),t.setOrientation(mP.x,mP.y,mP.z,r.x,r.y,r.z)}}]),n}(cw),gP=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return mr(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(cw),yP=new lx,_P=new sx,bP=new lx,xP=new lx,wP=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this,e)).panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return mr(n,[{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){if(cg(tg(n.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(yP,_P,bP),xP.set(0,0,1).applyQuaternion(_P);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(yP.x,r),t.positionY.linearRampToValueAtTime(yP.y,r),t.positionZ.linearRampToValueAtTime(yP.z,r),t.orientationX.linearRampToValueAtTime(xP.x,r),t.orientationY.linearRampToValueAtTime(xP.y,r),t.orientationZ.linearRampToValueAtTime(xP.z,r)}else t.setPosition(yP.x,yP.y,yP.z),t.setOrientation(xP.x,xP.y,xP.z)}}}]),n}(gP),SP=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;nm(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return mr(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),EP=function(){function e(t,n,r){var i,o,a;switch(nm(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":i=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return mr(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=t}else{var s=t/(o+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var l=t,u=t+t;l!==u;++l)if(n[l]!==n[l+t]){a.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)e[t+o]=e[n+o]}},{key:"_slerp",value:function(e,t,n,r){sx.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,i){var o=this._workIndex*i;sx.multiplyQuaternionsFlat(e,o,e,t,e,n),sx.slerpFlat(e,t,e,t,e,o,r)}},{key:"_lerp",value:function(e,t,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[n+a]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,i){for(var o=0;o!==i;++o){var a=t+o;e[a]=e[a]+e[n+o]*r}}}]),e}(),MP="\\[\\]\\.:\\/",kP=new RegExp("[\\[\\]\\.:\\/]","g"),TP="[^\\[\\]\\.:\\/]",AP="[^"+MP.replace("\\.","")+"]",CP=/((?:WC+[\/:])*)/.source.replace("WC",TP),PP=/(WCOD+)?/.source.replace("WCOD",AP),OP=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",TP),RP=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",TP),IP=new RegExp("^"+CP+PP+OP+RP+"$"),LP=["material","materials","bones"],DP=function(){function e(t,n,r){nm(this,e);var i=r||zP.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return mr(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),zP=function(){function e(t,n,r){nm(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return mr(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,o=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var a=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===a){a=s;break}break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==a){if(void 0===t[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[a]}}var l=t[i];if(void 0!==l){var u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else void 0!==l.fromArray&&void 0!==l.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(c=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var h=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+i+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(kP,"")}},{key:"parseTrackName",value:function(e){var t=IP.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==LP.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var o=e(i.children);if(o)return o}return null}(e.children);if(r)return r}return null}}]),e}();zP.Composite=DP,zP.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},zP.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},zP.prototype.GetterByBindingType=[zP.prototype._getValue_direct,zP.prototype._getValue_array,zP.prototype._getValue_arrayElement,zP.prototype._getValue_toArray],zP.prototype.SetterByBindingTypeAndVersioning=[[zP.prototype._setValue_direct,zP.prototype._setValue_direct_setNeedsUpdate,zP.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[zP.prototype._setValue_array,zP.prototype._setValue_array_setNeedsUpdate,zP.prototype._setValue_array_setMatrixWorldNeedsUpdate],[zP.prototype._setValue_arrayElement,zP.prototype._setValue_arrayElement_setNeedsUpdate,zP.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[zP.prototype._setValue_fromArray,zP.prototype._setValue_fromArray_setNeedsUpdate,zP.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var NP=function(){function e(){nm(this,e),this.uuid=Tb(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}return mr(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,o=i.length,a=void 0,s=e.length,l=this.nCachedObjects_,u=0,c=arguments.length;u!==c;++u){var h=arguments[u],p=h.uuid,f=t[p];if(void 0===f){f=s++,t[p]=f,e.push(h);for(var d=0,m=o;d!==m;++d)i[d].push(new zP(h,n[d],r[d]))}else if(f<l){a=e[f];var v=--l,g=e[v];t[g.uuid]=f,e[f]=g,t[p]=v,e[v]=h;for(var y=0,_=o;y!==_;++y){var b=i[y],x=b[v],w=b[f];b[f]=x,void 0===w&&(w=new zP(h,n[y],r[y])),b[v]=w}}else e[f]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],l=s.uuid,u=t[l];if(void 0!==u&&u>=i){var c=i++,h=e[c];t[h.uuid]=u,e[u]=h,t[l]=c,e[c]=s;for(var p=0,f=r;p!==f;++p){var d=n[p],m=d[c],v=d[u];d[u]=m,d[c]=v}}}this.nCachedObjects_=i}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,o=e.length,a=0,s=arguments.length;a!==s;++a){var l=arguments[a],u=l.uuid,c=t[u];if(void 0!==c)if(delete t[u],c<i){var h=--i,p=e[h],f=--o,d=e[f];t[p.uuid]=c,e[c]=p,t[d.uuid]=h,e[h]=d,e.pop();for(var m=0,v=r;m!==v;++m){var g=n[m],y=g[h],_=g[f];g[c]=y,g[h]=_,g.pop()}}else{var b=--o,x=e[b];b>0&&(t[x.uuid]=c),e[c]=x,e.pop();for(var w=0,S=r;w!==S;++w){var E=n[w];E[c]=E[b],E.pop()}}}this.nCachedObjects_=i}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(c);for(var h=u,p=s.length;h!==p;++h){var f=s[h];c[h]=new zP(f,e,t)}return c}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}]),e}();NP.prototype.isAnimationObjectGroup=!0;var BP=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;nm(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var o=n.tracks,a=o.length,s=new Array(a),l={endingStart:I_,endingEnd:I_},u=0;u!==a;++u){var c=o[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=A_,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return mr(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,o=i/r,a=r/i;e.warp(1,o,t),this.warp(a,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,o=this.timeScale,a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,l=a.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/o,l[1]=t/o,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var o=(e-i)*n;if(o<0||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0){var l=this._interpolants,u=this._propertyBindings;if(this.blendMode===N_)for(var c=0,h=l.length;c!==h;++c)l[c].evaluate(a),u[c].accumulateAdditive(s);else for(var p=0,f=l.length;p!==f;++p)l[p].evaluate(a),u[p].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,o=n===C_;if(0===e)return-1===i?r:o&&1===(1&i)?t-r:r;if(n===T_){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=t||r<0){var a=Math.floor(r/t);r-=t*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&1===(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=L_,r.endingEnd=L_):(r.endingStart=e?this.zeroSlopeAtStart?L_:I_:D_,r.endingEnd=t?this.zeroSlopeAtEnd?L_:I_:D_)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}]),e}(),FP=function(e){eg(n,e);var t=ig(n);function n(e){var r;return nm(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return mr(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==i;++c){var h=r[c],p=h.name,f=u[p];if(void 0!==f)++f.referenceCount,o[c]=f;else{if(void 0!==(f=o[c])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,p));continue}var d=t&&t._propertyBindings[c].binding.parsedPath;++(f=new EP(zP.create(n,p,d),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(f,s,p),o[c]=f}a[c].resultBuffer=f.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,o=r[t];void 0===o&&(o={},r[t]=o),o[n]=e,e._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete a[i],0===Object.keys(a).length&&delete o[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new rC(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,i=r.uuid,o="string"===typeof e?fC.findByName(r,e):e,a=null!==o?o.uuid:e,s=this._actionsByClip[a],l=null;if(void 0===n&&(n=null!==o?o.blendMode:z_),void 0!==s){var u=s.actionByRoot[i];if(void 0!==u&&u.blendMode===n)return u;l=s.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;var c=new BP(this,o,t,n);return this._bindAction(c,l),this._addInactiveAction(c,a,i),c}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?fC.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a){t[a]._update(r,e,i,o)}for(var s=this._bindings,l=this._nActiveBindings,u=0;u!==l;++u)s[u].apply(o);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var l=o[a];this._deactivateAction(l);var u=l._cacheIndex,c=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,t[u]=c,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[t];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(xb);FP.prototype._controlInterpolantsResultBuffer=new Float32Array(1);var jP=function(){function e(t){nm(this,e),"string"===typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}return mr(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}(),UP=function(e){eg(n,e);var t=ig(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return nm(this,n),(i=t.call(this,e,r)).meshPerAttribute=o,i}return mr(n,[{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=cg(tg(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=cg(tg(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n}(fk);UP.prototype.isInstancedInterleavedBuffer=!0;var VP=function(){function e(t,n,r,i,o){nm(this,e),this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}return mr(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}();VP.prototype.isGLBufferAttribute=!0;var HP=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;nm(this,e),this.ray=new Bx(t,n),this.near=r,this.far=i,this.camera=null,this.layers=new Kx,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return mr(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return GP(e,this,n,t),n.sort(WP),n}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++)GP(e[r],this,n,t);return n.sort(WP),n}}]),e}();function WP(e,t){return e.distance-t.distance}function GP(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,o=0,a=i.length;o<a;o++)GP(i[o],t,n,!0)}var qP=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return nm(this,e),this.radius=t,this.phi=n,this.theta=r,this}return mr(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Ab(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),YP=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return nm(this,e),this.radius=t,this.theta=n,this.y=r,this}return mr(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),XP=new Db,ZP=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Db(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Db(-1/0,-1/0);nm(this,e),this.min=t,this.max=n}return mr(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=XP.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return XP.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();ZP.prototype.isBox2=!0;var KP=new lx,JP=new lx,QP=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new lx,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new lx;nm(this,e),this.start=t,this.end=n}return mr(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){KP.subVectors(e,this.start),JP.subVectors(this.end,this.start);var n=JP.dot(JP),r=JP.dot(KP)/n;return t&&(r=Ab(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),$P=new lx,eO=function(e){eg(n,e);var t=ig(n);function n(e,r){var i;nm(this,n),(i=t.call(this)).light=e,i.light.updateMatrixWorld(),i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=r;for(var o=new Gw,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,l=1;s<32;s++,l++){var u=s/32*Math.PI*2,c=l/32*Math.PI*2;a.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}o.setAttribute("position",new zw(a,3));var h=new Qk({fog:!1,toneMapped:!1});return i.cone=new sT(o,h),i.add(i.cone),i.update(),i}return mr(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),$P.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt($P),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(cw),tO=new lx,nO=new Fx,rO=new Fx,iO=function(e){eg(n,e);var t=ig(n);function n(e){var r;nm(this,n);for(var i=oO(e),o=new Gw,a=[],s=[],l=new Xb(0,0,1),u=new Xb(0,1,0),c=0;c<i.length;c++){var h=i[c];h.parent&&h.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),s.push(l.r,l.g,l.b),s.push(u.r,u.g,u.b))}o.setAttribute("position",new zw(a,3)),o.setAttribute("color",new zw(s,3));var p=new Qk({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,o,p)).type="SkeletonHelper",r.isSkeletonHelper=!0,r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return mr(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,i=r.getAttribute("position");rO.copy(this.root.matrixWorld).invert();for(var o=0,a=0;o<t.length;o++){var s=t[o];s.parent&&s.parent.isBone&&(nO.multiplyMatrices(rO,s.matrixWorld),tO.setFromMatrixPosition(nO),i.setXYZ(a,tO.x,tO.y,tO.z),nO.multiplyMatrices(rO,s.parent.matrixWorld),tO.setFromMatrixPosition(nO),i.setXYZ(a+1,tO.x,tO.y,tO.z),a+=2)}r.getAttribute("position").needsUpdate=!0,cg(tg(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(sT);function oO(e){var t=[];!0===e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,oO(e.children[n]));return t}var aO=function(e){eg(n,e);var t=ig(n);function n(e,r,i){var o;nm(this,n);var a=new DA(r,4,2),s=new Ew({wireframe:!0,fog:!1,toneMapped:!1});return(o=t.call(this,a,s)).light=e,o.light.updateMatrixWorld(),o.color=i,o.type="PointLightHelper",o.matrix=o.light.matrixWorld,o.matrixAutoUpdate=!1,o.update(),o}return mr(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(uS),sO=new lx,lO=new Xb,uO=new Xb,cO=function(e){eg(n,e);var t=ig(n);function n(e,r,i){var o;nm(this,n),(o=t.call(this)).light=e,o.light.updateMatrixWorld(),o.matrix=e.matrixWorld,o.matrixAutoUpdate=!1,o.color=i;var a=new RA(r);a.rotateY(.5*Math.PI),o.material=new Ew({wireframe:!0,fog:!1,toneMapped:!1}),void 0===o.color&&(o.material.vertexColors=!0);var s=a.getAttribute("position"),l=new Float32Array(3*s.count);return a.setAttribute("color",new Tw(l,3)),o.add(new uS(a,o.material)),o.update(),o}return mr(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");lO.copy(this.light.color),uO.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?lO:uO;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(sO.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(cw),hO=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;nm(this,n),o=new Xb(o),a=new Xb(a);for(var s=i/2,l=r/i,u=r/2,c=[],h=[],p=0,f=0,d=-u;p<=i;p++,d+=l){c.push(-u,0,d,u,0,d),c.push(d,0,-u,d,0,u);var m=p===s?o:a;m.toArray(h,f),f+=3,m.toArray(h,f),f+=3,m.toArray(h,f),f+=3,m.toArray(h,f),f+=3}var v=new Gw;v.setAttribute("position",new zw(c,3)),v.setAttribute("color",new zw(h,3));var g=new Qk({vertexColors:!0,toneMapped:!1});return(e=t.call(this,v,g)).type="GridHelper",e}return mr(n)}(sT),pO=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;nm(this,n),s=new Xb(s),l=new Xb(l);for(var u=[],c=[],h=0;h<=i;h++){var p=h/i*(2*Math.PI),f=Math.sin(p)*r,d=Math.cos(p)*r;u.push(0,0,0),u.push(f,0,d);var m=1&h?s:l;c.push(m.r,m.g,m.b),c.push(m.r,m.g,m.b)}for(var v=0;v<=o;v++)for(var g=1&v?s:l,y=r-r/o*v,_=0;_<a;_++){var b=_/a*(2*Math.PI),x=Math.sin(b)*y,w=Math.cos(b)*y;u.push(x,0,w),c.push(g.r,g.g,g.b),b=(_+1)/a*(2*Math.PI),x=Math.sin(b)*y,w=Math.cos(b)*y,u.push(x,0,w),c.push(g.r,g.g,g.b)}var S=new Gw;S.setAttribute("position",new zw(u,3)),S.setAttribute("color",new zw(c,3));var E=new Qk({vertexColors:!0,toneMapped:!1});return(e=t.call(this,S,E)).type="PolarGridHelper",e}return mr(n)}(sT),fO=new lx,dO=new lx,mO=new lx,vO=function(e){eg(n,e);var t=ig(n);function n(e,r,i){var o;nm(this,n),(o=t.call(this)).light=e,o.light.updateMatrixWorld(),o.matrix=e.matrixWorld,o.matrixAutoUpdate=!1,o.color=i,void 0===r&&(r=1);var a=new Gw;a.setAttribute("position",new zw([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var s=new Qk({fog:!1,toneMapped:!1});return o.lightPlane=new iT(a,s),o.add(o.lightPlane),(a=new Gw).setAttribute("position",new zw([0,0,0,0,0,1],3)),o.targetLine=new iT(a,s),o.add(o.targetLine),o.update(),o}return mr(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){fO.setFromMatrixPosition(this.light.matrixWorld),dO.setFromMatrixPosition(this.light.target.matrixWorld),mO.subVectors(dO,fO),this.lightPlane.lookAt(dO),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(dO),this.targetLine.scale.z=mO.length()}}]),n}(cw),gO=new lx,yO=new vS,_O=function(e){eg(n,e);var t=ig(n);function n(e){var r;nm(this,n);var i=new Gw,o=new Qk({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],s=[],l={},u=new Xb(16755200),c=new Xb(16711680),h=new Xb(43775),p=new Xb(16777215),f=new Xb(3355443);function d(e,t,n){m(e,n),m(t,n)}function m(e,t){a.push(0,0,0),s.push(t.r,t.g,t.b),void 0===l[e]&&(l[e]=[]),l[e].push(a.length/3-1)}return d("n1","n2",u),d("n2","n4",u),d("n4","n3",u),d("n3","n1",u),d("f1","f2",u),d("f2","f4",u),d("f4","f3",u),d("f3","f1",u),d("n1","f1",u),d("n2","f2",u),d("n3","f3",u),d("n4","f4",u),d("p","n1",c),d("p","n2",c),d("p","n3",c),d("p","n4",c),d("u1","u2",h),d("u2","u3",h),d("u3","u1",h),d("c","t",p),d("p","c",f),d("cn1","cn2",f),d("cn3","cn4",f),d("cf1","cf2",f),d("cf3","cf4",f),i.setAttribute("position",new zw(a,3)),i.setAttribute("color",new zw(s,3)),(r=t.call(this,i,o)).type="CameraHelper",r.camera=e,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=l,r.update(),r}return mr(n,[{key:"update",value:function(){var e=this.geometry,t=this.pointMap;yO.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),bO("c",t,e,yO,0,0,-1),bO("t",t,e,yO,0,0,1),bO("n1",t,e,yO,-1,-1,-1),bO("n2",t,e,yO,1,-1,-1),bO("n3",t,e,yO,-1,1,-1),bO("n4",t,e,yO,1,1,-1),bO("f1",t,e,yO,-1,-1,1),bO("f2",t,e,yO,1,-1,1),bO("f3",t,e,yO,-1,1,1),bO("f4",t,e,yO,1,1,1),bO("u1",t,e,yO,.7,1.1,-1),bO("u2",t,e,yO,-.7,1.1,-1),bO("u3",t,e,yO,0,2,-1),bO("cf1",t,e,yO,-1,0,1),bO("cf2",t,e,yO,1,0,1),bO("cf3",t,e,yO,0,-1,1),bO("cf4",t,e,yO,0,1,1),bO("cn1",t,e,yO,-1,0,-1),bO("cn2",t,e,yO,1,0,-1),bO("cn3",t,e,yO,0,-1,-1),bO("cn4",t,e,yO,0,1,-1),e.getAttribute("position").needsUpdate=!0}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(sT);function bO(e,t,n,r,i,o,a){gO.set(i,o,a).unproject(r);var s=t[e];if(void 0!==s)for(var l=n.getAttribute("position"),u=0,c=s.length;u<c;u++)l.setXYZ(s[u],gO.x,gO.y,gO.z)}var xO,wO,SO=new hx,EO=function(e){eg(n,e);var t=ig(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;nm(this,n);var o=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(24),s=new Gw;return s.setIndex(new Tw(o,1)),s.setAttribute("position",new Tw(a,3)),(r=t.call(this,s,new Qk({color:i,toneMapped:!1}))).object=e,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return mr(n,[{key:"update",value:function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&SO.setFromObject(this.object),!SO.isEmpty()){var t=SO.min,n=SO.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e){return sT.prototype.copy.call(this,e),this.object=e.object,this}}]),n}(sT),MO=function(e){eg(n,e);var t=ig(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;nm(this,n);var o=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Gw;return s.setIndex(new Tw(o,1)),s.setAttribute("position",new zw(a,3)),(r=t.call(this,s,new Qk({color:i,toneMapped:!1}))).box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return mr(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),cg(tg(n.prototype),"updateMatrixWorld",this).call(this,e))}}]),n}(sT),kO=function(e){eg(n,e);var t=ig(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;nm(this,n);var a=o,s=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],l=new Gw;l.setAttribute("position",new zw(s,3)),l.computeBoundingSphere(),(r=t.call(this,l,new Qk({color:a,toneMapped:!1}))).type="PlaneHelper",r.plane=e,r.size=i;var u=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],c=new Gw;return c.setAttribute("position",new zw(u,3)),c.computeBoundingSphere(),r.add(new uS(c,new Ew({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),r}return mr(n,[{key:"updateMatrixWorld",value:function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?Sg:wg,this.lookAt(this.plane.normal),cg(tg(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(iT),TO=new lx,AO=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new lx(0,0,1),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new lx(0,0,0),o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*o,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*s;return nm(this,n),(e=t.call(this)).type="ArrowHelper",void 0===xO&&((xO=new Gw).setAttribute("position",new zw([0,0,0,0,1,0],3)),(wO=new xT(0,.5,1,5,1)).translate(0,-.5,0)),e.position.copy(i),e.line=new iT(xO,new Qk({color:a,toneMapped:!1})),e.line.matrixAutoUpdate=!1,e.add(e.line),e.cone=new uS(wO,new Ew({color:a,toneMapped:!1})),e.cone.matrixAutoUpdate=!1,e.add(e.cone),e.setDirection(r),e.setLength(o,s,l),e}return mr(n,[{key:"setDirection",value:function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{TO.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(TO,t)}}},{key:"setLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return cg(tg(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}]),n}(cw),CO=function(e){eg(n,e);var t=ig(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;nm(this,n);var i=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],o=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new Gw;a.setAttribute("position",new zw(i,3)),a.setAttribute("color",new zw(o,3));var s=new Qk({vertexColors:!0,toneMapped:!1});return(e=t.call(this,a,s)).type="AxesHelper",e}return mr(n,[{key:"setColors",value:function(e,t,n){var r=new Xb,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(sT),PO=function(){function e(){nm(this,e),this.type="ShapePath",this.color=new Xb,this.subPaths=[],this.currentPath=null}return mr(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new JT,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,o){return this.currentPath.bezierCurveTo(e,t,n,r,i,o),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=new QT;o.curves=i.curves,t.push(o)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=t[i],s=t[o],l=s.x-a.x,u=s.y-a.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(a=t[o],l=-l,s=t[i],u=-u),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var c=u*(e.x-a.x)-l*(e.y-a.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return r}var i,o,a,s=MA.isClockWise,l=this.subPaths;if(0===l.length)return[];if(!0===t)return n(l);var u=[];if(1===l.length)return o=l[0],(a=new QT).curves=o.curves,u.push(a),u;var c=!s(l[0].getPoints());c=e?!c:c;var h,p,f=[],d=[],m=[],v=0;d[v]=void 0,m[v]=[];for(var g=0,y=l.length;g<y;g++)i=s(h=(o=l[g]).getPoints()),(i=e?!i:i)?(!c&&d[v]&&v++,d[v]={s:new QT,p:h},d[v].s.curves=o.curves,c&&v++,m[v]=[]):m[v].push({h:o,p:h[0]});if(!d[0])return n(l);if(d.length>1){for(var _=!1,b=0,x=0,w=d.length;x<w;x++)f[x]=[];for(var S=0,E=d.length;S<E;S++)for(var M=m[S],k=0;k<M.length;k++){for(var T=M[k],A=!0,C=0;C<d.length;C++)r(T.p,d[C].p)&&(S!==C&&b++,A?(A=!1,f[C].push(T)):_=!0);A&&f[S].push(T)}b>0&&!1===_&&(m=f)}for(var P=0,O=d.length;P<O;P++){a=d[P].s,u.push(a);for(var R=0,I=(p=m[P]).length;R<I;R++)a.holes.push(p[R].h)}return u}}]),e}(),OO=new Float32Array(1),RO=new Int32Array(OO.buffer),IO=function(){function e(){nm(this,e)}return mr(e,null,[{key:"toHalfFloat",value:function(e){e>65504&&(console.warn("THREE.DataUtils.toHalfFloat(): value exceeds 65504."),e=65504),OO[0]=e;var t=RO[0],n=t>>16&32768,r=t>>12&2047,i=t>>23&255;return i<103?n:i>142?(n|=31744,n|=(255==i?0:1)&&8388607&t):i<113?n|=((r|=2048)>>114-i)+(r>>113-i&1):(n|=i-112<<10|r>>1,n+=1&r)}}]),e}(),LO=0,DO=1,zO=0,NO=1,BO=2;function FO(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function jO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function UO(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new dT(e,t)}function VO(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Pk(e)}function HO(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new dT(e,t)}function WO(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new uT(e)}function GO(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new uT(e)}function qO(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new uT(e)}function YO(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new lx(e,t,n)}function XO(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Tw(e,t).setUsage(cb)}function ZO(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Aw(e,t)}function KO(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Cw(e,t)}function JO(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Pw(e,t)}function QO(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Ow(e,t)}function $O(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Rw(e,t)}function eR(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Iw(e,t)}function tR(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Lw(e,t)}function nR(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new zw(e,t)}function rR(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Nw(e,t)}function iR(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new CO(e)}function oR(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new EO(e,t)}function aR(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new sT(new CT(e.geometry),new Qk({color:void 0!==t?t:16777215}))}function sR(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new sT(new jA(e.geometry),new Qk({color:void 0!==t?t:16777215}))}function lR(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new bC(e)}function uR(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new MC(e)}function cR(e,t,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new xS(e,n)}function hR(){console.error("THREE.CanvasRenderer has been removed")}function pR(){console.error("THREE.JSONLoader has been removed.")}PT.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(PT.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},JT.prototype.fromPoints=function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)},hO.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},iO.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},yC.prototype.extractUrlBase=function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),YC.extractUrlBase(e)},yC.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},ZP.prototype.center=function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},ZP.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},ZP.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},ZP.prototype.size=function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)},hx.prototype.center=function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},hx.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},hx.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},hx.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},hx.prototype.size=function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)},Zx.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")},Px.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},AS.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},QP.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},zb.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},zb.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},zb.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},zb.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},zb.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},zb.prototype.getInverse=function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},Fx.prototype.extractPosition=function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},Fx.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},Fx.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new lx).setFromMatrixColumn(this,3)},Fx.prototype.setRotationFromQuaternion=function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},Fx.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Fx.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Fx.prototype.multiplyVector4=function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Fx.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Fx.prototype.rotateAxis=function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},Fx.prototype.crossVector=function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Fx.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Fx.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Fx.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Fx.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Fx.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Fx.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Fx.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Fx.prototype.makeFrustum=function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)},Fx.prototype.getInverse=function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},MS.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},sx.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},sx.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Bx.prototype.isIntersectionBox=function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Bx.prototype.isIntersectionPlane=function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},Bx.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},xw.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},xw.prototype.barycoordFromPoint=function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},xw.prototype.midpoint=function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},xw.prototypenormal=function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},xw.prototype.plane=function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)},xw.barycoordFromPoint=function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),xw.getBarycoord(e,t,n,r,i)},xw.normal=function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),xw.getNormal(e,t,n,r)},QT.prototype.extractAllPoints=function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},QT.prototype.extrude=function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new AA(this,e)},QT.prototype.makeGeometry=function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new LA(this,e)},Db.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},Db.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},Db.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},lx.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},lx.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},lx.prototype.getPositionFromMatrix=function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},lx.prototype.getScaleFromMatrix=function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},lx.prototype.getColumnFromMatrix=function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},lx.prototype.applyProjection=function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},lx.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lx.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lx.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},ex.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},ex.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},cw.prototype.getChildByName=function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},cw.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},cw.prototype.translate=function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},cw.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},cw.prototype.applyMatrix=function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(cw.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),uS.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(uS.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),B_},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),jk.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},gS.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(TC.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Tw.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===cb},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(cb)}}}),Tw.prototype.setDynamic=function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?cb:ub),this},Tw.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Tw.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Gw.prototype.addIndex=function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},Gw.prototype.addAttribute=function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Tw(arguments[1],arguments[2])))},Gw.prototype.addDrawCall=function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},Gw.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},Gw.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},Gw.prototype.removeAttribute=function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},Gw.prototype.applyMatrix=function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(Gw.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),fk.prototype.setDynamic=function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?cb:ub),this},fk.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},AA.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},AA.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},AA.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},pk.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},jP.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(Sw.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Xb}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===Mg}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(mS.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),lk.prototype.clearTarget=function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},lk.prototype.animate=function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},lk.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},lk.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},lk.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},lk.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},lk.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},lk.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},lk.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},lk.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},lk.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},lk.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},lk.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},lk.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},lk.prototype.enableScissorTest=function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},lk.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},lk.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},lk.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},lk.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},lk.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},lk.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},lk.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},lk.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},lk.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},lk.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(lk.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?V_:U_}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}}),Object.defineProperties(KM.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(tx.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),gP.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new rP).load(e,(function(e){t.setBuffer(e)})),this},SP.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},_S.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},_S.prototype.clear=function(e,t,n,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,n,r)},Zb.crossOrigin=void 0,Zb.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new kC;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},Zb.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new EC;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},Zb.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Zb.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var fR={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function dR(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}function mR(){return console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),new Gw}function vR(){return console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),new Gw}function gR(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function yR(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function _R(){console.error("THREE.ImmediateRenderObject has been removed.")}function bR(e,t,n){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.');var r=new tx(e,t,n);return r.samples=4,r}function xR(e,t,n,r){return console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),new nx(e,t,n,r)}function wR(e,t,n,r){return console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),new ix(e,t,n,r)}function SR(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var o=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,o)}))}},i=function(){return t},o={setState:r,getState:i,subscribe:function(e,r,o){return r||o?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var a=r(t);function s(){var n=r(t);if(!o(a,n)){var i=a;e(a=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,o):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,o),o}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:hg}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=hg);var ER="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?i.useEffect:i.useLayoutEffect;function MR(e){var t="function"===typeof e?SR(e):e,n=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,o=(0,i.useReducer)((function(e){return e+1}),0),a=h(o,2),s=a[1],l=t.getState(),u=(0,i.useRef)(l),c=(0,i.useRef)(n),p=(0,i.useRef)(r),f=(0,i.useRef)(!1),d=(0,i.useRef)();void 0===d.current&&(d.current=n(l));var m=!1;(u.current!==l||c.current!==n||p.current!==r||f.current)&&(e=n(l),m=!r(d.current,e)),ER((function(){m&&(d.current=e),u.current=l,c.current=n,p.current=r,f.current=!1}));var v=(0,i.useRef)(l);ER((function(){var e=function(){try{var e=t.getState(),n=c.current(e);p.current(d.current,n)||(u.current=e,d.current=n,s())}catch(r){f.current=!0,s()}},n=t.subscribe(e);return t.getState()!==v.current&&e(),n}),[]);var g=m?e:d.current;return(0,i.useDebugValue)(g),g};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[n,t];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},n}var kR=n(258),TR=n.n(kR),AR=n(5296),CR=n(8262),PR=n.n(CR),OR=[];function RR(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=lg(t);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(PR()(n,s.args)){if(o)return;if(s.error)throw s.error;if(s.response)return s.response;throw s.promise}}}catch(u){a.e(u)}finally{a.f()}var l={args:n,promise:e.apply(void 0,co(n)).then((function(e){return l.response=null==e||e})).catch((function(e){return l.error=null!=e?e:"unknown error"})).then((function(){i>0&&setTimeout((function(){var e=t.indexOf(l);-1!==e&&t.splice(e,1)}),i)}))};if(t.push(l),!o)throw l.promise}function IR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(void 0===n||0===n.length)e.splice(0,e.length);else{var i=e.find((function(e){return PR()(n,e.args)}));if(i){var o=e.indexOf(i);-1!==o&&e.splice(o,1)}}}function LR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return RR(e,OR,n,LR.lifespan)}LR.lifespan=0,LR.clear=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return IR.apply(void 0,[OR].concat(t))},LR.preload=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];RR(e,OR,n,LR.lifespan,!0)},LR.peek=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;return null==(r=OR.find((function(e){return PR()(t,e.args)})))?void 0:r.response};var DR=function(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}},zR=n(7494),NR=n.n(zR);function BR(e){var t=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,n=t.debounce,r=t.scroll,o=t.polyfill,a=t.offsetSize,s=o||("undefined"===typeof window?mr((function e(){nm(this,e)})):window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var l=h((0,i.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),2),u=l[0],c=l[1],p=(0,i.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:u}),f=n?"number"===typeof n?n:n.scroll:null,d=n?"number"===typeof n?n:n.resize:null,m=(0,i.useRef)(!1);(0,i.useEffect)((function(){return m.current=!0,function(){m.current=!1}}));var v=h((0,i.useMemo)((function(){var e=function(){if(p.current.element){var e=p.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};p.current.element instanceof HTMLElement&&a&&(t.height=p.current.element.offsetHeight,t.width=p.current.element.offsetWidth),Object.freeze(t),m.current&&!UR(p.current.lastBounds,t)&&c(p.current.lastBounds=t)}};return[e,d?NR()(e,d):e,f?NR()(e,f):e]}),[c,a,f,d]),3),g=v[0],y=v[1],_=v[2];function b(){p.current.scrollContainers&&(p.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",_,!0)})),p.current.scrollContainers=null),p.current.resizeObserver&&(p.current.resizeObserver.disconnect(),p.current.resizeObserver=null)}function x(){p.current.element&&(p.current.resizeObserver=new s(_),p.current.resizeObserver.observe(p.current.element),r&&p.current.scrollContainers&&p.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",_,{capture:!0,passive:!0})})))}var w,S,E;return w=_,S=Boolean(r),(0,i.useEffect)((function(){if(S){var e=w;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",e,!0)}}}),[w,S]),E=y,(0,i.useEffect)((function(){var e=E;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[E]),(0,i.useEffect)((function(){b(),x()}),[r,_,y]),(0,i.useEffect)((function(){return b}),[]),[function(e){e&&e!==p.current.element&&(b(),p.current.element=e,p.current.scrollContainers=FR(e),x())},u,g]}function FR(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,co(FR(e.parentElement)))}var jR=["x","y","top","bottom","left","right","width","height"],UR=function(e,t){return jR.every((function(n){return e[n]===t[n]}))},VR=["children","key","ref"],HR=["children","key","ref"],WR=["args"],GR=["args","children"],qR=["args","children"],YR=["params"],XR=["children","fallback","tabIndex","resize","id","style","className","events"],ZR=["gl","size","mode","events","onCreated"],KR={obj:function(e){return e===Object(e)&&!KR.arr(e)&&"function"!==typeof e},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){if(typeof e!==typeof t||!!e!==!!t)return!1;if(KR.str(e)||KR.num(e)||KR.obj(e))return e===t;if(KR.arr(e)&&e==t)return!0;var n;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return!KR.und(n)||e===t}};function JR(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function QR(e,t,n,r){var i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function $R(e){var t=new lx;function n(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}))}function r(t){var n=e.getState().internal;Array.from(n.hovered.values()).forEach((function(e){if(!t.length||!t.find((function(t){return t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId}))){var r=e.eventObject.__r3f,i=null==r?void 0:r.handlers;if(n.hovered.delete(JR(e)),null!=r&&r.eventCount){var o=sg(sg({},e),{},{intersections:t||[]});null==i.onPointerOut||i.onPointerOut(o),null==i.onPointerLeave||i.onPointerLeave(o)}}}))}function i(e,t){t.forEach((function(t){var n;return null==(n=t.__r3f)||null==n.handlers.onPointerMissed?void 0:n.handlers.onPointerMissed(e)}))}return{handlePointer:function(o){switch(o){case"onPointerLeave":case"onPointerCancel":return function(){return r([])};case"onLostPointerCapture":return function(t){var n=e.getState().internal;"pointerId"in t&&!n.capturedMap.has(t.pointerId)&&(n.capturedMap.delete(t.pointerId),r([]))}}return function(a){var s=e.getState(),l=s.onPointerMissed,u=s.internal;!function(t){var n,r,i,o,a=e.getState(),s=a.raycaster,l=a.mouse,u=a.camera,c=a.size,h=null==s.computeOffsets?void 0:s.computeOffsets(t,a),p=null!=(n=null==h?void 0:h.offsetX)?n:t.offsetX,f=null!=(r=null==h?void 0:h.offsetY)?r:t.offsetY,d=null!=(i=null==h?void 0:h.width)?i:c.width,m=null!=(o=null==h?void 0:h.height)?o:c.height;l.set(p/d*2-1,-f/m*2+1),s.setFromCamera(l,u)}(a),u.lastEvent.current=a;var c="onPointerMove"===o,h="onClick"===o||"onContextMenu"===o||"onDoubleClick"===o,p=function(t,n){var r=e.getState().internal;if("pointerId"in n&&r.capturedMap.has(n.pointerId)){var i,o=lg(r.capturedMap.get(n.pointerId).values());try{for(o.s();!(i=o.n()).done;){var a=i.value;t.push(a.intersection)}}catch(s){o.e(s)}finally{o.f()}}return t}(function(t){var n=e.getState(),r=n.raycaster,i=n.internal;if(!r.enabled)return[];var o=new Set,a=[],s=t?t(i.interaction):i.interaction,l=r.intersectObjects(s,!0).filter((function(e){var t=JR(e);return!o.has(t)&&(o.add(t),!0)}));r.filter&&(l=r.filter(l,n));var u,c=lg(l);try{for(c.s();!(u=c.n()).done;)for(var h=u.value,p=h.object;p;){var f;null!=(f=p.__r3f)&&f.eventCount&&a.push(sg(sg({},h),{},{eventObject:p})),p=p.parent}}catch(d){c.e(d)}finally{c.f()}return a}(c?n:void 0),a),f=h?function(t){var n=e.getState().internal,r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(a):0;"onPointerDown"===o&&(u.initialClick=[a.offsetX,a.offsetY],u.initialHits=p.map((function(e){return e.eventObject}))),h&&!p.length&&f<=2&&(i(a,u.interaction),l&&l(a)),c&&r(p),function(n,i,o,a){var s=e.getState(),l=s.raycaster,u=s.mouse,c=s.camera,h=s.internal;n.length&&function(){var e,s=t.set(u.x,u.y,0).unproject(c),p={stopped:!1},f=lg(n);try{var d=function(){var t=e.value,f=function(e){var n,r;return null!=(n=null==(r=h.capturedMap.get(e))?void 0:r.has(t.eventObject))&&n},d=function(e){var n={intersection:t,target:i.target};h.capturedMap.has(e)?h.capturedMap.get(e).set(t.eventObject,n):h.capturedMap.set(e,new Map([[t.eventObject,n]])),i.target.setPointerCapture(e)},m=function(e){var n=h.capturedMap.get(e);n&&QR(h.capturedMap,t.eventObject,n,e)},v={};for(var g in i){var y=i[g];"function"!==typeof y&&(v[g]=y)}var _=sg(sg(sg({},t),v),{},{spaceX:u.x,spaceY:u.y,intersections:n,stopped:p.stopped,delta:o,unprojectedPoint:s,ray:l.ray,camera:c,stopPropagation:function(){var e="pointerId"in i&&h.capturedMap.get(i.pointerId);if((!e||e.has(t.eventObject))&&(_.stopped=p.stopped=!0,h.hovered.size&&Array.from(h.hovered.values()).find((function(e){return e.eventObject===t.eventObject})))){var o=n.slice(0,n.indexOf(t));r([].concat(co(o),[t]))}},target:{hasPointerCapture:f,setPointerCapture:d,releasePointerCapture:m},currentTarget:{hasPointerCapture:f,setPointerCapture:d,releasePointerCapture:m},sourceEvent:i,nativeEvent:i});if(a(_),!0===p.stopped)return"break"};for(f.s();!(e=f.n()).done&&"break"!==d(););}catch(m){f.e(m)}finally{f.f()}}()}(p,a,f,(function(e){var t=e.eventObject,n=t.__r3f,r=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(c){if(r.onPointerOver||r.onPointerEnter||r.onPointerOut||r.onPointerLeave){var s=JR(e),l=u.hovered.get(s);l?l.stopped&&e.stopPropagation():(u.hovered.set(s,e),null==r.onPointerOver||r.onPointerOver(e),null==r.onPointerEnter||r.onPointerEnter(e))}null==r.onPointerMove||r.onPointerMove(e)}else{var p=r[o];p?h&&!u.initialHits.includes(t)||(i(a,u.interaction.filter((function(e){return!u.initialHits.includes(e)}))),p(e)):h&&u.initialHits.includes(t)&&i(a,u.interaction.filter((function(e){return!u.initialHits.includes(e)})))}}))}}}}var eI=function(e){return e&&!!e.getState},tI=function(e,t){var n,r;return{root:eI(e)?e:null!=(n=null==(r=e.__r3f)?void 0:r.root)?n:t.__r3f.root,container:eI(e)?e.getState().scene:e}},nI="__default",rI={},iI={};function oI(e,t){return!(!KR.arr(e)||!KR.equ(e,t))||e===t}function aI(e,t){var n=e;return(null!=t&&t.primitive||!n.__r3f)&&(n.__r3f=sg({root:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},t)),e}var sI=function(e){return e&&e.isOrthographicCamera};function lI(e){return Array.isArray(e)?Math.min(Math.max(e[0],window.devicePixelRatio),e[1]):e}var uI,cI=i.createContext(null),hI=function(e,t,n,r){var o=r.gl,a=r.size,s=r.shadows,l=void 0!==s&&s,u=r.linear,c=void 0!==u&&u,h=r.flat,p=void 0!==h&&h,f=r.vr,d=void 0!==f&&f,m=r.orthographic,v=void 0!==m&&m,g=r.frameloop,y=void 0===g?"always":g,_=r.dpr,b=void 0===_?1:_,x=r.performance,w=r.clock,S=void 0===w?new cP:w,E=r.raycaster,M=r.camera,k=r.onPointerMissed;l&&(o.shadowMap.enabled=!0,"object"===typeof l?Object.assign(o.shadowMap,l):o.shadowMap.type=bg),c&&(o.outputEncoding=U_),p&&(o.toneMapping=ay),"never"===y&&(S.stop(),S.elapsedTime=0);var T=MR((function(a,s){var l=new HP,u=E||{},h=u.params,f=sn(u,YR);e(l,sg(sg({enabled:!0},f),{},{params:sg(sg({},l.params),h)}));var m=M instanceof vS,g=m?M:v?new US(0,0,0,0,.1,1e3):new gS(75,0,.1,1e3);m||(g.position.z=5,M&&e(g,M),null!=M&&M.rotation||g.lookAt(0,0,0));var _=lI(b),w=new lx,T=new lx,A=new lx;function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s().size,r=n.width,i=n.height,o=r/i;t instanceof lx?A.copy(t):A.set.apply(A,co(t));var a=e.getWorldPosition(w).distanceTo(A);if(sI(e))return{width:r/e.zoom,height:i/e.zoom,factor:1,distance:a,aspect:o};var l=e.fov*Math.PI/180,u=2*Math.tan(l/2)*a,c=u*(r/i);return{width:c,height:u,factor:r/c,distance:a,aspect:o}}var P=void 0,O=function(e){return a((function(t){return{performance:sg(sg({},t.performance),{},{current:e})}}))};return{gl:o,set:a,get:s,invalidate:function(){return t(s())},advance:function(e,t){return n(e,t,s())},linear:c,flat:p,scene:aI(new pk),camera:g,controls:null,raycaster:l,clock:S,mouse:new Db,vr:d,frameloop:y,onPointerMissed:k,performance:sg(sg({current:1,min:.5,max:1,debounce:200},x),{},{regress:function(){var e=s();P&&clearTimeout(P),e.performance.current!==e.performance.min&&O(e.performance.min),P=setTimeout((function(){return O(s().performance.max)}),e.performance.debounce)}}),size:{width:0,height:0},viewport:{initialDpr:_,dpr:_,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:C},setSize:function(e,t){var n={width:e,height:t};a((function(e){return{size:n,viewport:sg(sg({},e.viewport),C(g,T,n))}}))},setDpr:function(e){return a((function(t){return{viewport:sg(sg({},t.viewport),{},{dpr:lI(e)})}}))},setFrameloop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always";return a((function(){return{frameloop:e}}))},events:{connected:!1},internal:{active:!1,priority:0,frames:0,lastProps:r,lastEvent:i.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a((function(n){var r=n.internal;return{internal:sg(sg({},r),{},{priority:r.priority+(t>0?1:0),subscribers:[].concat(co(r.subscribers),[{ref:e,priority:t}]).sort((function(e,t){return e.priority-t.priority}))})}})),function(){a((function(n){var r=n.internal;return{internal:sg(sg({},r),{},{priority:r.priority-(t>0?1:0),subscribers:r.subscribers.filter((function(t){return t.ref!==e}))})}}))}}}}})),A=T.getState(),C=A.size,P=A.viewport.dpr;return T.subscribe((function(){var e=T.getState(),t=e.camera,n=e.size,r=e.viewport,i=e.internal;n===C&&r.dpr===P||(t.manual||i.lastProps.camera instanceof vS||(sI(t)?(t.left=n.width/-2,t.right=n.width/2,t.top=n.height/2,t.bottom=n.height/-2):t.aspect=n.width/n.height,t.updateProjectionMatrix(),t.updateMatrixWorld()),o.setPixelRatio(r.dpr),o.setSize(n.width,n.height),C=n,P=r.dpr)})),a&&A.setSize(a.width,a.height),T.subscribe((function(e){return t(e)})),T};var pI=[],fI=[],dI=[];function mI(e,t){for(uI=0;uI<e.length;uI++)e[uI](t)}function vI(e,t){var n=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(n=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),uI=0;uI<t.internal.subscribers.length;uI++)t.internal.subscribers[uI].ref.current(t,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function gI(e){var t=$R(e).handlePointer,n={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};return{connected:!1,handlers:Object.keys(n).reduce((function(e,n){return sg(sg({},e),{},fn({},n,t(n)))}),{}),connect:function(t){var r,i=e.getState(),o=i.set,a=i.events;null==a.disconnect||a.disconnect(),o((function(e){return{events:sg(sg({},e.events),{},{connected:t})}})),Object.entries(null!=(r=null==a?void 0:a.handlers)?r:[]).forEach((function(e){var r=h(e,2),i=r[0],o=r[1],a=h(n[i],2),s=a[0],l=a[1];t.addEventListener(s,o,{passive:l})}))},disconnect:function(){var t,r=e.getState(),i=r.set,o=r.events;o.connected&&(Object.entries(null!=(t=o.handlers)?t:[]).forEach((function(e){var t=h(e,2),r=t[0],i=t[1];if(o&&o.connected instanceof HTMLElement){var a=h(n[r],1)[0];o.connected.removeEventListener(a,i)}})),i((function(e){return{events:sg(sg({},e.events),{},{connected:!1})}})))}}}var yI="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;function _I(e){var t=e.set;return yI((function(){return t(new Promise((function(){return null}))),function(){return t(!1)}}),[]),null}var bI=function(e){eg(n,e);var t=ig(n);function n(){var e;nm(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={error:!1},e}return mr(n,[{key:"componentDidCatch",value:function(e){this.props.set(e)}},{key:"render",value:function(){return this.state.error?null:this.props.children}}]),n}(i.Component);bI.getDerivedStateFromError=function(){return{error:!0}};var xI=i.forwardRef((function(e,t){var n=e.children,r=e.fallback,o=e.tabIndex,a=e.resize,s=e.id,l=e.style,u=e.className,c=e.events,p=sn(e,XR),f=h(BR(sg({scroll:!0,debounce:{scroll:50,resize:0}},a)),2),d=f[0],m=f[1],v=m.width,g=m.height,y=i.useRef(null),_=h(i.useState(!1),2),b=_[0],x=_[1],w=h(i.useState(!1),2),S=w[0],E=w[1];if(b)throw b;if(S)throw S;return yI((function(){v>0&&g>0&&function(e,t){var n,r,o,a,s,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=l.gl,c=l.size,h=l.mode,p=void 0===h?AI[1]:h,f=l.events,d=l.onCreated,m=sn(l,ZR);c||(c={width:null!=(r=null==(o=t.parentElement)?void 0:o.clientWidth)?r:0,height:null!=(a=null==(s=t.parentElement)?void 0:s.clientHeight)?a:0});var v=TI.get(t),g=null==v?void 0:v.fiber,y=null==v?void 0:v.store,_=null==(n=y)?void 0:n.getState();if(g&&_){void 0===m.dpr||KR.equ(_.viewport.dpr,lI(m.dpr))||_.setDpr(m.dpr),_.size.width===c.width&&_.size.height===c.height||_.setSize(c.width,c.height),_.frameloop!==m.frameloop&&_.setFrameloop(m.frameloop),m.linear!==_.internal.lastProps.linear&&(NI(t),g=void 0)}if(!g){var b=DI(u,t);m.vr&&(b.xr.enabled=!0,b.setAnimationLoop((function(e){return OI(e,!0)})));var x=(y=hI(LI,PI,OI,sg({gl:b,size:c},m))).getState();g=II.createContainer(y,AI.indexOf(p),!1,null),TI.set(t,{fiber:g,store:y}),f&&x.set({events:f(y)})}if(y&&g)return II.updateContainer(i.createElement(zI,{store:y,element:e,onCreated:d,target:t}),g,null,(function(){})),y;throw"Error creating root!"}(i.createElement(bI,{set:E},i.createElement(i.Suspense,{fallback:i.createElement(_I,{set:x})},n)),y.current,sg(sg({},p),{},{size:{width:v,height:g},events:c||gI}))}),[v,g,n]),yI((function(){var e=y.current;return function(){return NI(e)}}),[]),i.createElement("div",{ref:d,id:s,className:u,tabIndex:o,style:sg({position:"relative",width:"100%",height:"100%",overflow:"hidden"},l)},i.createElement("canvas",{ref:DR([y,t]),style:{display:"block"}},r))}));function wI(){var e=i.useContext(cI);if(!e)throw"R3F hooks can only be used within the Canvas component!";return e}function SI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1?arguments[1]:void 0;return wI()(e,t)}function EI(e){var t={nodes:{},materials:{}};return e&&e.traverse((function(e){e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function MI(e,t){return function(n){var r=new n;e&&e(r);for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return Promise.all(o.map((function(e){return new Promise((function(n,i){return r.load(e,(function(e){e.scene&&Object.assign(e,EI(e.scene)),n(e)}),t,(function(t){return i("Could not load ".concat(e,": ").concat(t.message))}))}))})))}}function kI(e,t,n,r){var i=Array.isArray(t)?t:[t],o=LR.apply(void 0,[MI(n,r),e].concat(co(i)));return Array.isArray(t)?o:o[0]}kI.preload=function(e,t,n){var r=Array.isArray(t)?t:[t];return LR.preload.apply(LR,[MI(n),e].concat(co(r)))},kI.clear=function(e,t){var n=Array.isArray(t)?t:[t];return LR.clear.apply(LR,[e].concat(co(n)))};var TI=new Map,AI=["legacy","blocking","concurrent"],CI=function(e){var t,n=!1;function r(i){if(n=!0,t=0,mI(pI,i),e.forEach((function(e){var n=e.store.getState();n.internal.active&&("always"===n.frameloop||n.internal.frames>0)&&(t+=vI(i,n))})),mI(fI,i),t>0)return requestAnimationFrame(r);mI(dI,i),n=!1}return{loop:r,invalidate:function t(i){if(!i)return e.forEach((function(e){return t(e.store.getState())}));!i.vr&&i.internal.active&&"never"!==i.frameloop&&(i.internal.frames=Math.min(60,i.internal.frames+1),n||(n=!0,requestAnimationFrame(r)))},advance:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;n&&mI(pI,t),r?vI(t,r):e.forEach((function(e){return vI(t,e.store.getState())})),n&&mI(fI,t)}}}(TI),PI=CI.invalidate,OI=CI.advance,RI=function(t){function n(e,t){t.children,t.key,t.ref;var n,r=sn(t,VR),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(i.children,i.key,i.ref,sn(i,HR)),a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=null!=(n=null==e?void 0:e.__r3f)?n:{},l=Object.entries(r),u=[];if(a)for(var c=Object.keys(o),p=0;p<c.length;p++)r.hasOwnProperty(c[p])||l.unshift([c[p],nI+"remove"]);l.forEach((function(t){var n,r=h(t,2),i=r[0],a=r[1];if((null==(n=e.__r3f)||!n.primitive||"object"!==i)&&!oI(a,o[i])){if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(i))return u.push([i,a,!0,[]]);var s=[];i.includes("-")&&(s=i.split("-")),u.push([i,a,!1,s])}}));var f=sg({},r);return s.memoizedProps&&s.memoizedProps.args&&(f.args=s.memoizedProps.args),s.memoizedProps&&s.memoizedProps.attach&&(f.attach=s.memoizedProps.attach),{accumulative:a,memoized:f,changes:u}}function r(e,t){var r,a,l,p,f=null!=(r=null==e?void 0:e.__r3f)?r:{},d=f.root,m=null!=(a=null==d||null==d.getState?void 0:d.getState())?a:{},v=(p=t)&&p.memoized&&p.changes?t:n(e,t),g=v.memoized,y=v.changes,_=f.eventCount;if(e.__r3f&&(e.__r3f.memoizedProps=g),y.forEach((function(t){var n,r,o=h(t,4),a=o[0],l=o[1],p=o[2],d=o[3],v=e,y=v[a];if(d.length&&(y=d.reduce((function(e,t){return e[t]}),e),!y||!y.set)){var _=d.reverse(),b=s(r=_)||uo(r)||u(r)||c(),x=b[0];v=b.slice(1).reverse().reduce((function(e,t){return e[t]}),e),a=x}if(l===nI+"remove")if(y&&y.constructor)l=new y.constructor(g.args);else if(v.constructor){var w=new v.constructor(v.__r3f.memoizedProps.args);l=w[y],w.dispose&&w.dispose()}else l=0;var S=(null==m||null==(n=m.gl)?void 0:n.outputEncoding)===U_;if(p)l?f.handlers[a]=l:delete f.handlers[a],f.eventCount=Object.keys(f.handlers).length;else if(y&&y.set&&(y.copy||y instanceof Kx)){var E;if(Array.isArray(l))y.fromArray?y.fromArray(l):(E=y).set.apply(E,co(l));else if(y.copy&&l&&l.constructor&&y.constructor.name===l.constructor.name)y.copy(l);else if(void 0!==l){var M=y instanceof Xb;!M&&y.setScalar?y.setScalar(l):y instanceof Kx&&l instanceof Kx?y.mask=l.mask:y.set(l),!S&&M&&y.convertSRGBToLinear()}}else v[a]=l,!S&&v[a]instanceof $b&&(v[a].encoding=V_);i(e)})),f.parent&&m.internal&&e.raycast&&_!==f.eventCount){var b=m.internal.interaction.indexOf(e);b>-1&&m.internal.interaction.splice(b,1),f.eventCount&&m.internal.interaction.push(e)}return y.length&&null!=(l=e.__r3f)&&l.parent&&o(e),e}function i(e){var t,n,r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function o(e){null==e.onUpdate||e.onUpdate(e)}function a(t,n,i,o,a){var s,l=n.args,u=void 0===l?[]:l,c=sn(n,WR),h="".concat(t[0].toUpperCase()).concat(t.slice(1));if(!eI(i)&&a){i=function e(t){return t.return?e(t.return):t.stateNode&&t.stateNode.containerInfo}(a)}if(!i||!eI(i))throw"No valid root for ".concat(h,"!");if("primitive"===t){if(void 0===c.object)throw"Primitives without 'object' are invalid!";s=aI(c.object,{root:i,primitive:!0})}else{var p=iI[h]||e[h];if(!p)throw"".concat(h," is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively");if(!Array.isArray(u))throw"The args prop must be an array!";s=aI(og(p,co(u)),{root:i,memoizedProps:{args:0===u.length?null:u}})}return"attachFns"in c||(h.endsWith("Geometry")?c=sg({attach:"geometry"},c):h.endsWith("Material")&&(c=sg({attach:"material"},c))),r(s,c),s}function l(e,t){var n=!1;if(t){if(t.attachArray)KR.arr(e[t.attachArray])||(e[t.attachArray]=[]),e[t.attachArray].push(t);else if(t.attachObject)KR.obj(e[t.attachObject[0]])||(e[t.attachObject[0]]={}),e[t.attachObject[0]][t.attachObject[1]]=t;else if(t.attach&&!KR.fun(t.attach))e[t.attach]=t;else if(KR.arr(t.attachFns)){var r=h(t.attachFns,1)[0];KR.str(r)&&KR.fun(e[r])?e[r](t):KR.fun(r)&&r(t,e)}else t.isObject3D&&e.isObject3D&&(e.add(t),n=!0);n||e.__r3f.objects.push(t),t.__r3f||aI(t,{}),t.__r3f.parent=e,o(t),i(t)}}function p(e,t,n){var r=!1;if(t){if(t.attachArray){var a=e[t.attachArray];KR.arr(a)||(e[t.attachArray]=[]),a.splice(a.indexOf(n),0,t)}else{if(t.attachObject||t.attach&&!KR.fun(t.attach))return l(e,t);if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});var s=e.children.filter((function(e){return e!==t})),u=s.indexOf(n);e.children=[].concat(co(s.slice(0,u)),[t],co(s.slice(u))),r=!0}}r||e.__r3f.objects.push(t),t.__r3f||aI(t,{}),t.__r3f.parent=e,o(t),i(t)}}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&co(e).forEach((function(e){return d(t,e,n)}))}function d(e,t,n){if(t){var r,o;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((function(e){return e!==t}))),t.attachArray)e[t.attachArray]=e[t.attachArray].filter((function(e){return e!==t}));else if(t.attachObject)delete e[t.attachObject[0]][t.attachObject[1]];else if(t.attach&&!KR.fun(t.attach)&&e[t.attach]===t)e[t.attach]=null;else if(KR.arr(t.attachFns)){var a=h(t.attachFns,2)[1];KR.str(a)&&KR.fun(e[a])?e[a](t):KR.fun(a)&&a(t,e)}else if(t.isObject3D&&e.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){var n=e.getState().internal;n.interaction=n.interaction.filter((function(e){return e!==t})),n.initialHits=n.initialHits.filter((function(e){return e!==t})),n.hovered.forEach((function(e,r){e.eventObject!==t&&e.object!==t||n.hovered.delete(r)})),n.capturedMap.forEach((function(e,r){QR(n.capturedMap,t,e,r)}))}(t.__r3f.root,t)}var l,u=null==(o=t.__r3f)?void 0:o.primitive,c=void 0===n?null!==t.dispose&&!u:n;if(!u)f(null==(l=t.__r3f)?void 0:l.objects,t,c),f(t.children,t,c);t.__r3f&&(delete t.__r3f.root,delete t.__r3f.objects,delete t.__r3f.handlers,delete t.__r3f.memoizedProps,u||delete t.__r3f),c&&t.dispose&&"Scene"!==t.type&&(0,AR.unstable_runWithPriority)(AR.unstable_IdlePriority,(function(){try{t.dispose()}catch(e){}})),i(e)}}var m=TR()({now:AR.unstable_now,createInstance:a,removeChild:d,appendChild:l,appendInitialChild:l,insertBefore:p,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:KR.fun(setTimeout)?setTimeout:void 0,cancelTimeout:KR.fun(clearTimeout)?clearTimeout:void 0,setTimeout:KR.fun(setTimeout)?setTimeout:void 0,clearTimeout:KR.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendChildToContainer:function(e,t){var n=tI(e,t),r=n.container,i=n.root;r.__r3f.root=i,l(r,t)},removeChildFromContainer:function(e,t){return d(tI(e,t).container,t)},insertInContainerBefore:function(e,t,n){return p(tI(e,t).container,t,n)},prepareUpdate:function(e,t,r,i){if(e.__r3f.primitive&&i.object&&i.object!==e)return[!0];var o=i.args,a=void 0===o?[]:o,s=(i.children,sn(i,GR)),u=r.args,c=void 0===u?[]:u,h=(r.children,sn(r,qR));if(!Array.isArray(a))throw"The args prop must be an array!";if(a.some((function(e,t){return e!==c[t]})))return[!0];var p=n(e,s,h,!0);if(p.changes.length)return[!1,p];if(e.attach&&"function"!==typeof e.attach){var f=e.__r3f.parent;f&&f[e.attach]!==e&&l(f,e)}return null},commitUpdate:function(e,t,n,i,o,s){var u=h(t,2),c=u[0],p=u[1];c?function(e,t,n,r){var i,o=null==(i=e.__r3f)?void 0:i.parent;if(o){var s=a(t,n,e.__r3f.root);"primitive"!==t&&e.children&&(e.children.forEach((function(e){return l(s,e)})),e.children=[]),e.__r3f.objects.forEach((function(e){return l(s,e)})),e.__r3f.objects=[],d(o,e),l(o,s),s.raycast&&s.__r3f.eventCount&&s.__r3f.root.getState().internal.interaction.push(s),[r,r.alternate].forEach((function(e){null!==e&&(e.stateNode=s,e.ref&&("function"===typeof e.ref?e.ref(s):e.ref.current=s))}))}}(e,n,o,s):r(e,p)},hideInstance:function(e){e.isObject3D&&(e.visible=!1,i(e))},unhideInstance:function(e,t){(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0,i(e))},hideTextInstance:function(){throw new Error("Text is not allowed in the R3F tree.")},getPublicInstance:function(e){return e},getRootHostContext:function(e){return rI},getChildHostContext:function(e){return e},createTextInstance:function(){},finalizeInitialChildren:function(e){var t;return!!(null!=(t=null==e?void 0:e.__r3f)?t:{}).handlers},commitMount:function(e){var t,n=null!=(t=null==e?void 0:e.__r3f)?t:{};e.raycast&&n.handlers&&n.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},shouldDeprioritizeSubtree:function(){return!1},prepareForCommit:function(){return null},preparePortalMount:function(e){aI(e)},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1}});return{reconciler:m,applyProps:r}}(),II=RI.reconciler,LI=RI.applyProps,DI=function(e,t){var n,r="function"===typeof e?e(t):e;if(null!=(n=r)&&n.render)return r;var i=new lk(sg({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0},e));return i.outputEncoding=V_,i.toneMapping=cy,e&&LI(i,e),i};function zI(e){var t=e.store,n=e.element,r=e.onCreated,o=e.target;return i.useEffect((function(){var e=t.getState();e.set((function(e){return{internal:sg(sg({},e.internal),{},{active:!0})}})),null==e.events.connect||e.events.connect(o),r&&r(e)}),[]),i.createElement(cI.Provider,{value:t},n)}function NI(e,t){var n=TI.get(e),r=null==n?void 0:n.fiber;if(r){var i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),II.updateContainer(null,r,null,(function(){i&&setTimeout((function(){var n,r,o;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(o=i.gl)||null==o.forceContextLoss||o.forceContextLoss(),function(e){e.dispose&&"Scene"!==e.type&&e.dispose();for(var t in e){var n,r;null==(n=(r=t).dispose)||n.call(r),delete e[t]}}(i),TI.delete(e),t&&t(e)}),500)}))}}II.act;II.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:"17.0.2"});var BI=function(e,t){return(e%t+t)%t},FI=function(e){eg(n,e);var t=ig(n);function n(e,r){var i;nm(this,n),fn(yr(i=t.call(this)),"object",void 0),fn(yr(i),"domElement",void 0),fn(yr(i),"enabled",!0),fn(yr(i),"target",new lx),fn(yr(i),"minDistance",0),fn(yr(i),"maxDistance",1/0),fn(yr(i),"minZoom",0),fn(yr(i),"maxZoom",1/0),fn(yr(i),"minPolarAngle",0),fn(yr(i),"maxPolarAngle",Math.PI),fn(yr(i),"minAzimuthAngle",-1/0),fn(yr(i),"maxAzimuthAngle",1/0),fn(yr(i),"enableDamping",!1),fn(yr(i),"dampingFactor",.05),fn(yr(i),"enableZoom",!0),fn(yr(i),"zoomSpeed",1),fn(yr(i),"enableRotate",!0),fn(yr(i),"rotateSpeed",1),fn(yr(i),"enablePan",!0),fn(yr(i),"panSpeed",1),fn(yr(i),"screenSpacePanning",!0),fn(yr(i),"keyPanSpeed",7),fn(yr(i),"autoRotate",!1),fn(yr(i),"autoRotateSpeed",2),fn(yr(i),"reverseOrbit",!1),fn(yr(i),"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),fn(yr(i),"mouseButtons",{LEFT:pg.ROTATE,MIDDLE:pg.DOLLY,RIGHT:pg.PAN}),fn(yr(i),"touches",{ONE:fg.ROTATE,TWO:fg.DOLLY_PAN}),fn(yr(i),"target0",void 0),fn(yr(i),"position0",void 0),fn(yr(i),"zoom0",void 0),fn(yr(i),"_domElementKeyEvents",null),fn(yr(i),"getPolarAngle",void 0),fn(yr(i),"getAzimuthalAngle",void 0),fn(yr(i),"setPolarAngle",void 0),fn(yr(i),"setAzimuthalAngle",void 0),fn(yr(i),"getDistance",void 0),fn(yr(i),"listenToKeyEvents",void 0),fn(yr(i),"saveState",void 0),fn(yr(i),"reset",void 0),fn(yr(i),"update",void 0),fn(yr(i),"connect",void 0),fn(yr(i),"dispose",void 0),i.object=e,i.domElement=r,i.target0=i.target.clone(),i.position0=i.object.position.clone(),i.zoom0=i.object instanceof gS?i.object.zoom:1,i.getPolarAngle=function(){return p.phi},i.getAzimuthalAngle=function(){return p.theta},i.setPolarAngle=function(e){var t=BI(e,2*Math.PI),n=p.phi;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),f.phi=t-n,o.update()},i.setAzimuthalAngle=function(e){var t=BI(e,2*Math.PI),n=p.theta;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),f.theta=t-n,o.update()},i.getDistance=function(){return o.object.position.distanceTo(o.target)},i.listenToKeyEvents=function(e){e.addEventListener("keydown",Z),i._domElementKeyEvents=e},i.saveState=function(){o.target0.copy(o.target),o.position0.copy(o.object.position),o.zoom0=o.object instanceof gS?o.object.zoom:1},i.reset=function(){o.target.copy(o.target0),o.object.position.copy(o.position0),o.object instanceof gS&&(o.object.zoom=o.zoom0,o.object.updateProjectionMatrix()),o.dispatchEvent(a),o.update(),c=u.NONE},i.update=function(){var t=new lx,n=(new sx).setFromUnitVectors(e.up,new lx(0,1,0)),r=n.clone().invert(),i=new lx,s=new sx,l=2*Math.PI;return function(){var e=o.object.position;t.copy(e).sub(o.target),t.applyQuaternion(n),p.setFromVector3(t),o.autoRotate&&c===u.NONE&&C(2*Math.PI/60/60*o.autoRotateSpeed),o.enableDamping?(p.theta+=f.theta*o.dampingFactor,p.phi+=f.phi*o.dampingFactor):(p.theta+=f.theta,p.phi+=f.phi);var g=o.minAzimuthAngle,y=o.maxAzimuthAngle;return isFinite(g)&&isFinite(y)&&(g<-Math.PI?g+=l:g>Math.PI&&(g-=l),y<-Math.PI?y+=l:y>Math.PI&&(y-=l),p.theta=g<=y?Math.max(g,Math.min(y,p.theta)):p.theta>(g+y)/2?Math.max(g,p.theta):Math.min(y,p.theta)),p.phi=Math.max(o.minPolarAngle,Math.min(o.maxPolarAngle,p.phi)),p.makeSafe(),p.radius*=d,p.radius=Math.max(o.minDistance,Math.min(o.maxDistance,p.radius)),!0===o.enableDamping?o.target.addScaledVector(m,o.dampingFactor):o.target.add(m),t.setFromSpherical(p),t.applyQuaternion(r),e.copy(o.target).add(t),o.object.lookAt(o.target),!0===o.enableDamping?(f.theta*=1-o.dampingFactor,f.phi*=1-o.dampingFactor,m.multiplyScalar(1-o.dampingFactor)):(f.set(0,0,0),m.set(0,0,0)),d=1,!!(v||i.distanceToSquared(o.object.position)>h||8*(1-s.dot(o.object.quaternion))>h)&&(o.dispatchEvent(a),i.copy(o.object.position),s.copy(o.object.quaternion),v=!1,!0)}}(),i.connect=function(e){e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),o.domElement=e,o.domElement.style.touchAction="none",o.domElement.addEventListener("contextmenu",K),o.domElement.addEventListener("pointerdown",W),o.domElement.addEventListener("pointercancel",Y),o.domElement.addEventListener("wheel",X)},i.dispose=function(){var e,t,n,r,i,a;null===(e=o.domElement)||void 0===e||e.removeEventListener("contextmenu",K),null===(t=o.domElement)||void 0===t||t.removeEventListener("pointerdown",W),null===(n=o.domElement)||void 0===n||n.removeEventListener("pointercancel",Y),null===(r=o.domElement)||void 0===r||r.removeEventListener("wheel",X),null===(i=o.domElement)||void 0===i||i.ownerDocument.removeEventListener("pointermove",G),null===(a=o.domElement)||void 0===a||a.ownerDocument.removeEventListener("pointerup",q),null!==o._domElementKeyEvents&&o._domElementKeyEvents.removeEventListener("keydown",Z)};var o=yr(i),a={type:"change"},s={type:"start"},l={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},c=u.NONE,h=1e-6,p=new qP,f=new qP,d=1,m=new lx,v=!1,g=new Db,y=new Db,_=new Db,b=new Db,x=new Db,w=new Db,S=new Db,E=new Db,M=new Db,k=[],T={};function A(){return Math.pow(.95,o.zoomSpeed)}function C(e){o.reverseOrbit?f.theta+=e:f.theta-=e}function P(e){o.reverseOrbit?f.phi+=e:f.phi-=e}var O=function(){var e=new lx;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),m.add(e)}}(),R=function(){var e=new lx;return function(t,n){!0===o.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(o.object.up,e)),e.multiplyScalar(t),m.add(e)}}(),I=function(){var e=new lx;return function(t,n){var r=o.domElement;if(r&&o.object instanceof gS&&o.object.isPerspectiveCamera){var i=o.object.position;e.copy(i).sub(o.target);var a=e.length();a*=Math.tan(o.object.fov/2*Math.PI/180),O(2*t*a/r.clientHeight,o.object.matrix),R(2*n*a/r.clientHeight,o.object.matrix)}else r&&o.object instanceof US&&o.object.isOrthographicCamera?(O(t*(o.object.right-o.object.left)/o.object.zoom/r.clientWidth,o.object.matrix),R(n*(o.object.top-o.object.bottom)/o.object.zoom/r.clientHeight,o.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),o.enablePan=!1)}}();function L(e){o.object instanceof gS&&o.object.isPerspectiveCamera?d/=e:o.object instanceof US&&o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom*e)),o.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function D(e){o.object instanceof gS&&o.object.isPerspectiveCamera?d*=e:o.object instanceof US&&o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/e)),o.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function z(e){g.set(e.clientX,e.clientY)}function N(e){b.set(e.clientX,e.clientY)}function B(){if(1==k.length)g.set(k[0].pageX,k[0].pageY);else{var e=.5*(k[0].pageX+k[1].pageX),t=.5*(k[0].pageY+k[1].pageY);g.set(e,t)}}function F(){if(1==k.length)b.set(k[0].pageX,k[0].pageY);else{var e=.5*(k[0].pageX+k[1].pageX),t=.5*(k[0].pageY+k[1].pageY);b.set(e,t)}}function j(){var e=k[0].pageX-k[1].pageX,t=k[0].pageY-k[1].pageY,n=Math.sqrt(e*e+t*t);S.set(0,n)}function U(e){if(1==k.length)y.set(e.pageX,e.pageY);else{var t=$(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);y.set(n,r)}_.subVectors(y,g).multiplyScalar(o.rotateSpeed);var i=o.domElement;i&&(C(2*Math.PI*_.x/i.clientHeight),P(2*Math.PI*_.y/i.clientHeight)),g.copy(y)}function V(e){if(1==k.length)x.set(e.pageX,e.pageY);else{var t=$(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);x.set(n,r)}w.subVectors(x,b).multiplyScalar(o.panSpeed),I(w.x,w.y),b.copy(x)}function H(e){var t=$(e),n=e.pageX-t.x,r=e.pageY-t.y,i=Math.sqrt(n*n+r*r);E.set(0,i),M.set(0,Math.pow(E.y/S.y,o.zoomSpeed)),L(M.y),S.copy(E)}function W(e){if(!1!==o.enabled){var t,n;if(0===k.length)null===(t=o.domElement)||void 0===t||t.ownerDocument.addEventListener("pointermove",G),null===(n=o.domElement)||void 0===n||n.ownerDocument.addEventListener("pointerup",q);!function(e){k.push(e)}(e),"touch"===e.pointerType?function(e){switch(Q(e),k.length){case 1:switch(o.touches.ONE){case fg.ROTATE:if(!1===o.enableRotate)return;B(),c=u.TOUCH_ROTATE;break;case fg.PAN:if(!1===o.enablePan)return;F(),c=u.TOUCH_PAN;break;default:c=u.NONE}break;case 2:switch(o.touches.TWO){case fg.DOLLY_PAN:if(!1===o.enableZoom&&!1===o.enablePan)return;o.enableZoom&&j(),o.enablePan&&F(),c=u.TOUCH_DOLLY_PAN;break;case fg.DOLLY_ROTATE:if(!1===o.enableZoom&&!1===o.enableRotate)return;o.enableZoom&&j(),o.enableRotate&&B(),c=u.TOUCH_DOLLY_ROTATE;break;default:c=u.NONE}break;default:c=u.NONE}c!==u.NONE&&o.dispatchEvent(s)}(e):function(e){var t;switch(e.button){case 0:t=o.mouseButtons.LEFT;break;case 1:t=o.mouseButtons.MIDDLE;break;case 2:t=o.mouseButtons.RIGHT;break;default:t=-1}switch(t){case pg.DOLLY:if(!1===o.enableZoom)return;!function(e){S.set(e.clientX,e.clientY)}(e),c=u.DOLLY;break;case pg.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===o.enablePan)return;N(e),c=u.PAN}else{if(!1===o.enableRotate)return;z(e),c=u.ROTATE}break;case pg.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===o.enableRotate)return;z(e),c=u.ROTATE}else{if(!1===o.enablePan)return;N(e),c=u.PAN}break;default:c=u.NONE}c!==u.NONE&&o.dispatchEvent(s)}(e)}}function G(e){!1!==o.enabled&&("touch"===e.pointerType?function(e){switch(Q(e),c){case u.TOUCH_ROTATE:if(!1===o.enableRotate)return;U(e),o.update();break;case u.TOUCH_PAN:if(!1===o.enablePan)return;V(e),o.update();break;case u.TOUCH_DOLLY_PAN:if(!1===o.enableZoom&&!1===o.enablePan)return;!function(e){o.enableZoom&&H(e),o.enablePan&&V(e)}(e),o.update();break;case u.TOUCH_DOLLY_ROTATE:if(!1===o.enableZoom&&!1===o.enableRotate)return;!function(e){o.enableZoom&&H(e),o.enableRotate&&U(e)}(e),o.update();break;default:c=u.NONE}}(e):function(e){if(!1===o.enabled)return;switch(c){case u.ROTATE:if(!1===o.enableRotate)return;!function(e){y.set(e.clientX,e.clientY),_.subVectors(y,g).multiplyScalar(o.rotateSpeed);var t=o.domElement;t&&(C(2*Math.PI*_.x/t.clientHeight),P(2*Math.PI*_.y/t.clientHeight)),g.copy(y),o.update()}(e);break;case u.DOLLY:if(!1===o.enableZoom)return;!function(e){E.set(e.clientX,e.clientY),M.subVectors(E,S),M.y>0?L(A()):M.y<0&&D(A()),S.copy(E),o.update()}(e);break;case u.PAN:if(!1===o.enablePan)return;!function(e){x.set(e.clientX,e.clientY),w.subVectors(x,b).multiplyScalar(o.panSpeed),I(w.x,w.y),b.copy(x),o.update()}(e)}}(e))}function q(e){var t,n,r;(J(e),0===k.length)&&(null===(t=o.domElement)||void 0===t||t.releasePointerCapture(e.pointerId),null===(n=o.domElement)||void 0===n||n.ownerDocument.removeEventListener("pointermove",G),null===(r=o.domElement)||void 0===r||r.ownerDocument.removeEventListener("pointerup",q));o.dispatchEvent(l),c=u.NONE}function Y(e){J(e)}function X(e){!1===o.enabled||!1===o.enableZoom||c!==u.NONE&&c!==u.ROTATE||(e.preventDefault(),o.dispatchEvent(s),function(e){e.deltaY<0?D(A()):e.deltaY>0&&L(A()),o.update()}(e),o.dispatchEvent(l))}function Z(e){!1!==o.enabled&&!1!==o.enablePan&&function(e){var t=!1;switch(e.code){case o.keys.UP:I(0,o.keyPanSpeed),t=!0;break;case o.keys.BOTTOM:I(0,-o.keyPanSpeed),t=!0;break;case o.keys.LEFT:I(o.keyPanSpeed,0),t=!0;break;case o.keys.RIGHT:I(-o.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),o.update())}(e)}function K(e){!1!==o.enabled&&e.preventDefault()}function J(e){delete T[e.pointerId];for(var t=0;t<k.length;t++)if(k[t].pointerId==e.pointerId)return void k.splice(t,1)}function Q(e){var t=T[e.pointerId];void 0===t&&(t=new Db,T[e.pointerId]=t),t.set(e.pageX,e.pageY)}function $(e){var t=e.pointerId===k[0].pointerId?k[1]:k[0];return T[t.pointerId]}return void 0!==r&&i.connect(r),i.update(),i}return mr(n)}(xb),jI=["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"],UI=(0,i.forwardRef)((function(e,t){var n=e.makeDefault,r=e.camera,o=e.regress,a=e.domElement,s=e.enableDamping,l=void 0===s||s,u=e.onChange,c=e.onStart,h=e.onEnd,f=sn(e,jI),d=SI((function(e){return e.invalidate})),m=SI((function(e){return e.camera})),v=SI((function(e){return e.gl})),g=SI((function(e){return e.events})),y=SI((function(e){return e.set})),_=SI((function(e){return e.get})),b=SI((function(e){return e.performance})),x=r||m,w=a||("boolean"!==typeof g.connected?g.connected:v.domElement),S=(0,i.useMemo)((function(){return new FI(x)}),[x]);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=wI().getState().internal.subscribe,r=i.useRef(e);i.useLayoutEffect((function(){r.current=e}),[e]),i.useLayoutEffect((function(){return n(r,t)}),[t,n])}((function(){S.enabled&&S.update()})),(0,i.useEffect)((function(){var e=function(e){d(),o&&b.regress(),u&&u(e)};return S.connect(w),S.addEventListener("change",e),c&&S.addEventListener("start",c),h&&S.addEventListener("end",h),function(){S.removeEventListener("change",e),c&&S.removeEventListener("start",c),h&&S.removeEventListener("end",h),S.dispose()}}),[w,u,c,h,o,S,d]),(0,i.useEffect)((function(){if(n){var e=_().controls;return y({controls:S}),function(){return y({controls:e})}}}),[n,S]),i.createElement("primitive",p({ref:t,object:S,enableDamping:l},f))})),VI=new(ad().Ros)({url:"ws://localhost:9090"}),HI=new(ad().Topic)({ros:VI,name:"/os_cloud_node/points",messageType:"sensor_msgs/PointCloud2",compression:"cbor",queue_length:1});function WI(e){var t=e.pointCloud,n=h((0,i.useState)([]),2),r=n[0],o=n[1],a=h((0,i.useState)([]),2),s=(a[0],a[1]),l=(0,i.useRef)();return(0,i.useEffect)((function(){var e=t,n=new Float32Array(t.length).fill(2);o(e),s(n),l.current&&(l.current.attributes.position.needsUpdate=!0)}),[t]),(0,rn.jsxs)("points",{position:[0,0,0],rotation:[0,0,Math.PI/2],children:[(0,rn.jsx)("bufferGeometry",{attach:"geometry",ref:l,children:(0,rn.jsx)("bufferAttribute",{attachObject:["attributes","position"],count:r.length/3,array:r,itemSize:3})}),(0,rn.jsx)("pointsMaterial",{attach:"material",color:"#fffff",size:.1,sizeAttenuation:!0})]})}function GI(e){var t=1e5,n=h((0,i.useState)(!1),2),r=n[0],o=n[1],a=h((0,i.useState)(new Float32Array(3e5)),2),s=a[0],l=a[1],u=[],c=[];return!r&&e.sub&&(o(!0),HI.subscribe((function(e){var n=t*e.point_step,r=0;e.data.buffer&&(u=e.data.slice(0,Math.min(e.data.byteLength,n)),r=Math.min(e.height*e.width,s.length/3)),c.length<r&&function(e,t,n){e.concat(new Array(t).fill(n)).slice(0,t)}(c,r,0);for(var i,o=new DataView(u.buffer),a=!e.is_bigendian,h=e.fields[0].offset,p=e.fields[1].offset,f=e.fields[2].offset,d=0;d<r;d+=5)i=d*e.point_step,c[3*d]=o.getFloat32(i+h,a),c[3*d+1]=o.getFloat32(i+p,a),c[3*d+2]=o.getFloat32(i+f,a);l(new Float32Array(c))}))),r&&!e.sub&&(o(!1),HI.unsubscribe()),(0,rn.jsxs)(xI,{camera:{position:[0,-5,10],fov:100},onCreated:function(e){var t=e.camera;e.scene;t.lookAt(0,0,0)},children:[(0,rn.jsx)(UI,{}),(0,rn.jsx)("ambientLight",{intensity:.5}),(0,rn.jsx)(WI,{pointCloud:s})]})}var qI=n(1052),YI=n(2007),XI=n.n(YI);function ZI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZI(Object(n),!0).forEach((function(t){fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JI(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return QI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QI(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function QI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $I=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function eL(e){if(!e)return null;if("string"===typeof e)return e;e.toJS&&(e=e.toJS());var t,n={},r=JI(e.layers);try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i.id]=i}}catch(a){r.e(a)}finally{r.f()}var o=e.layers.map((function(e){var t=n[e.ref],r=null;if("interactive"in e&&delete(r=KI({},e)).interactive,t){delete(r=r||KI({},e)).ref;var i,o=JI($I);try{for(o.s();!(i=o.n()).done;){var s=i.value;s in t&&(r[s]=t[s])}}catch(a){o.e(a)}finally{o.f()}}return r||e}));return KI(KI({},e),{},{layers:o})}var tL=1e-6,nL="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});!function(){var e=function(){var e=new nL(4);return nL!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}()}();function rL(e,t){var n=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}([],t,e);return function(e,t,n){e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n}(n,n,1/n[3]),n}function iL(e,t){var n=e%t;return n<0?t+n:n}function oL(e,t,n){return n*t+(1-n)*e}function aL(e,t,n){return e<t?t:e>n?n:e}var sL=Math.log2||function(e){return Math.log(e)*Math.LOG2E};function lL(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],p=t[9],f=t[10],d=t[11],m=t[12],v=t[13],g=t[14],y=t[15],_=n[0],b=n[1],x=n[2],w=n[3];return e[0]=_*r+b*s+x*h+w*m,e[1]=_*i+b*l+x*p+w*v,e[2]=_*o+b*u+x*f+w*g,e[3]=_*a+b*c+x*d+w*y,_=n[4],b=n[5],x=n[6],w=n[7],e[4]=_*r+b*s+x*h+w*m,e[5]=_*i+b*l+x*p+w*v,e[6]=_*o+b*u+x*f+w*g,e[7]=_*a+b*c+x*d+w*y,_=n[8],b=n[9],x=n[10],w=n[11],e[8]=_*r+b*s+x*h+w*m,e[9]=_*i+b*l+x*p+w*v,e[10]=_*o+b*u+x*f+w*g,e[11]=_*a+b*c+x*d+w*y,_=n[12],b=n[13],x=n[14],w=n[15],e[12]=_*r+b*s+x*h+w*m,e[13]=_*i+b*l+x*p+w*v,e[14]=_*o+b*u+x*f+w*g,e[15]=_*a+b*c+x*d+w*y,e}function uL(e,t,n){var r,i,o,a,s,l,u,c,h,p,f,d,m=n[0],v=n[1],g=n[2];return t===e?(e[12]=t[0]*m+t[4]*v+t[8]*g+t[12],e[13]=t[1]*m+t[5]*v+t[9]*g+t[13],e[14]=t[2]*m+t[6]*v+t[10]*g+t[14],e[15]=t[3]*m+t[7]*v+t[11]*g+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],p=t[9],f=t[10],d=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=h,e[9]=p,e[10]=f,e[11]=d,e[12]=r*m+s*v+h*g+t[12],e[13]=i*m+l*v+p*g+t[13],e[14]=o*m+u*v+f*g+t[14],e[15]=a*m+c*v+d*g+t[15]),e}function cL(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function hL(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],m=e[13],v=e[14],g=e[15],y=t[0],_=t[1],b=t[2],x=t[3],w=t[4],S=t[5],E=t[6],M=t[7],k=t[8],T=t[9],A=t[10],C=t[11],P=t[12],O=t[13],R=t[14],I=t[15];return Math.abs(n-y)<=tL*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(r-_)<=tL*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(i-b)<=tL*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(o-x)<=tL*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-w)<=tL*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-S)<=tL*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(l-E)<=tL*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(u-M)<=tL*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(c-k)<=tL*Math.max(1,Math.abs(c),Math.abs(k))&&Math.abs(h-T)<=tL*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(p-A)<=tL*Math.max(1,Math.abs(p),Math.abs(A))&&Math.abs(f-C)<=tL*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(d-P)<=tL*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(m-O)<=tL*Math.max(1,Math.abs(m),Math.abs(O))&&Math.abs(v-R)<=tL*Math.max(1,Math.abs(v),Math.abs(R))&&Math.abs(g-I)<=tL*Math.max(1,Math.abs(g),Math.abs(I))}function pL(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function fL(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function dL(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function mL(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}var vL=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e};!function(){var e=function(){var e=new nL(2);return nL!=Float32Array&&(e[0]=0,e[1]=0),e}()}();function gL(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}var yL=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e};!function(){var e=function(){var e=new nL(3);return nL!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}()}();function _L(e,t){if(!e)throw new Error(t||"@math.gl/web-mercator: assertion failed.")}var bL=Math.PI,xL=bL/4,wL=bL/180,SL=180/bL,EL=512,ML=85.051129;function kL(e){return Math.pow(2,e)}function TL(e){return sL(e)}function AL(e){var t=h(e,2),n=t[0],r=t[1];_L(Number.isFinite(n)),_L(Number.isFinite(r)&&r>=-90&&r<=90,"invalid latitude");var i=r*wL;return[EL*(n*wL+bL)/(2*bL),EL*(bL+Math.log(Math.tan(xL+.5*i)))/(2*bL)]}function CL(e){var t=h(e,2),n=t[0],r=t[1],i=n/EL*(2*bL)-bL,o=2*(Math.atan(Math.exp(r/EL*(2*bL)-bL))-xL);return[i*SL,o*SL]}function PL(e){var t=e.latitude,n=e.longitude,r=e.highPrecision,i=void 0!==r&&r;_L(Number.isFinite(t)&&Number.isFinite(n));var o={},a=Math.cos(t*wL),s=512/360,l=s/a,u=12790407194604047e-21/a;if(o.unitsPerMeter=[u,u,u],o.metersPerUnit=[1/u,1/u,1/u],o.unitsPerDegree=[s,l,u],o.degreesPerUnit=[.703125,1/l,1/u],i){var c=wL*Math.tan(t*wL)/a,h=s*c/2,p=12790407194604047e-21*c,f=p/l*u;o.unitsPerDegree2=[0,h,p],o.unitsPerMeter2=[f,0,f]}return o}function OL(e){var t=e.height,n=e.pitch,r=e.bearing,i=e.altitude,o=e.scale,a=e.center,s=void 0===a?null:a,l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return uL(l,l,[0,0,-i]),function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],h=t[10],p=t[11];t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+u*r,e[5]=a*i+c*r,e[6]=s*i+h*r,e[7]=l*i+p*r,e[8]=u*i-o*r,e[9]=c*i-a*r,e[10]=h*i-s*r,e[11]=p*i-l*r}(l,l,-n*wL),function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5],h=t[6],p=t[7];t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+u*r,e[1]=a*i+c*r,e[2]=s*i+h*r,e[3]=l*i+p*r,e[4]=u*i-o*r,e[5]=c*i-a*r,e[6]=h*i-s*r,e[7]=p*i-l*r}(l,l,r*wL),cL(l,l,[o/=t,o,o]),s&&uL(l,l,function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}([],s)),l}function RL(e){var t=e.width,n=e.height,r=e.pitch,i=function(e){var t=e.width,n=e.height,r=e.fovy,i=void 0===r?IL(1.5):r,o=e.altitude,a=e.pitch,s=void 0===a?0:a,l=e.nearZMultiplier,u=void 0===l?1:l,c=e.farZMultiplier,h=void 0===c?1:c;void 0!==o&&(i=IL(o));var p=.5*i*wL,f=LL(i),d=s*wL,m=Math.sin(p)*f/Math.sin(Math.min(Math.max(Math.PI/2-d-p,.01),Math.PI-.01));return{fov:2*p,aspect:t/n,focalDistance:f,near:u,far:(Math.sin(d)*m+f)*h}}({width:t,height:n,altitude:e.altitude,fovy:e.fovy,pitch:r,nearZMultiplier:e.nearZMultiplier,farZMultiplier:e.farZMultiplier}),o=function(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e}([],i.fov,i.aspect,i.near,i.far);return o}function IL(e){return 2*Math.atan(.5/e)*SL}function LL(e){return.5/Math.tan(.5*e*wL)}function DL(e,t){var n=h(e,3),r=n[0],i=n[1],o=n[2],a=void 0===o?0:o;return _L(Number.isFinite(r)&&Number.isFinite(i)&&Number.isFinite(a)),rL(t,[r,i,a,1])}function zL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=h(e,3),i=r[0],o=r[1],a=r[2];if(_L(Number.isFinite(i)&&Number.isFinite(o),"invalid pixel coordinate"),Number.isFinite(a)){var s=rL(t,[i,o,a,1]);return s}var l=rL(t,[i,o,0,1]),u=rL(t,[i,o,1,1]),c=l[2],p=u[2],f=c===p?0:((n||0)-c)/(p-c);return mL([],l,u,f)}function NL(e){var t=e.width,n=e.height,r=e.bounds,i=e.minExtent,o=void 0===i?0:i,a=e.maxZoom,s=void 0===a?24:a,l=e.padding,u=void 0===l?0:l,c=e.offset,p=void 0===c?[0,0]:c,f=h(r,2),d=h(f[0],2),m=d[0],v=d[1],g=h(f[1],2),y=g[0],_=g[1];if(Number.isFinite(u)){u={top:u,bottom:u,left:u,right:u}}else _L(Number.isFinite(u.top)&&Number.isFinite(u.bottom)&&Number.isFinite(u.left)&&Number.isFinite(u.right));var b=AL([m,aL(_,-85.051129,ML)]),x=AL([y,aL(v,-85.051129,ML)]),w=[Math.max(Math.abs(x[0]-b[0]),o),Math.max(Math.abs(x[1]-b[1]),o)],S=[t-u.left-u.right-2*Math.abs(p[0]),n-u.top-u.bottom-2*Math.abs(p[1])];_L(S[0]>0&&S[1]>0);var E=S[0]/w[0],M=S[1]/w[1],k=(u.right-u.left)/2/E,T=(u.bottom-u.top)/2/M,A=CL([(x[0]+b[0])/2+k,(x[1]+b[1])/2+T]),C=Math.min(s,sL(Math.abs(Math.min(E,M))));return _L(Number.isFinite(C)),{longitude:A[0],latitude:A[1],zoom:C}}var BL=Math.PI/180;function FL(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.width,o=e.height,a=e.unproject,s={targetZ:r},l=a([0,o],s),u=a([i,o],s),c=e.fovy?.5*e.fovy*BL:Math.atan(.5/e.altitude),h=(90-e.pitch)*BL;return c>h-.01?(t=jL(e,0,r),n=jL(e,i,r)):(t=a([0,0],s),n=a([i,0],s)),[l,u,n,t]}function jL(e,t,n){var r=e.pixelUnprojectionMatrix,i=rL(r,[t,0,1,1]),o=rL(r,[t,e.height,1,1]),a=CL(mL([],i,o,(n*e.distanceScales.unitsPerMeter[2]-i[2])/(o[2]-i[2])));return a[2]=n,a}var UL=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:1,height:1},n=t.width,r=t.height,i=t.latitude,o=void 0===i?0:i,a=t.longitude,s=void 0===a?0:a,l=t.zoom,u=void 0===l?0:l,c=t.pitch,h=void 0===c?0:c,p=t.bearing,f=void 0===p?0:p,d=t.altitude,m=void 0===d?null:d,v=t.fovy,g=void 0===v?null:v,y=t.position,_=void 0===y?null:y,b=t.nearZMultiplier,x=void 0===b?.02:b,w=t.farZMultiplier,S=void 0===w?1.01:w;nm(this,e),n=n||1,r=r||1,null===g&&null===m?g=IL(m=1.5):null===g?g=IL(m):null===m&&(m=LL(g));var E=kL(u);m=Math.max(.75,m);var M=PL({longitude:s,latitude:o}),k=AL([s,o]);k[2]=0,_&&gL(k,k,yL([],_,M.unitsPerMeter)),this.projectionMatrix=RL({width:n,height:r,pitch:h,fovy:g,nearZMultiplier:x,farZMultiplier:S}),this.viewMatrix=OL({height:r,scale:E,center:k,pitch:h,bearing:f,altitude:m}),this.width=n,this.height=r,this.scale=E,this.latitude=o,this.longitude=s,this.zoom=u,this.pitch=h,this.bearing=f,this.altitude=m,this.fovy=g,this.center=k,this.meterOffset=_||[0,0,0],this.distanceScales=M,this._initMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),Object.freeze(this)}return mr(e,[{key:"_initMatrices",value:function(){var e=this.width,t=this.height,n=this.projectionMatrix,r=this.viewMatrix,i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];lL(i,i,n),lL(i,i,r),this.viewProjectionMatrix=i;var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];cL(o,o,[e/2,-t/2,1]),uL(o,o,[1,-1,0]),lL(o,o,i);var a=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=t[9],p=t[10],f=t[11],d=t[12],m=t[13],v=t[14],g=t[15],y=n*s-r*a,_=n*l-i*a,b=n*u-o*a,x=r*l-i*s,w=r*u-o*s,S=i*u-o*l,E=c*m-h*d,M=c*v-p*d,k=c*g-f*d,T=h*v-p*m,A=h*g-f*m,C=p*g-f*v,P=y*C-_*A+b*T+x*k-w*M+S*E;return P?(P=1/P,e[0]=(s*C-l*A+u*T)*P,e[1]=(i*A-r*C-o*T)*P,e[2]=(m*S-v*w+g*x)*P,e[3]=(p*w-h*S-f*x)*P,e[4]=(l*k-a*C-u*M)*P,e[5]=(n*C-i*k+o*M)*P,e[6]=(v*b-d*S-g*_)*P,e[7]=(c*S-p*b+f*_)*P,e[8]=(a*A-s*k+u*E)*P,e[9]=(r*k-n*A-o*E)*P,e[10]=(d*w-m*b+g*y)*P,e[11]=(h*b-c*w-f*y)*P,e[12]=(s*M-a*T-l*E)*P,e[13]=(n*T-r*M+i*E)*P,e[14]=(m*_-d*x-v*y)*P,e[15]=(c*x-h*_+p*y)*P,e):null}([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o);if(!a)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=o,this.pixelUnprojectionMatrix=a}},{key:"equals",value:function(t){return t instanceof e&&(t.width===this.width&&t.height===this.height&&hL(t.projectionMatrix,this.projectionMatrix)&&hL(t.viewMatrix,this.viewMatrix))}},{key:"project",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0===n||n,i=this.projectPosition(e),o=DL(i,this.pixelProjectionMatrix),a=h(o,2),s=a[0],l=a[1],u=r?l:this.height-l;return 2===e.length?[s,u]:[s,u,o[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0===n||n,i=t.targetZ,o=void 0===i?void 0:i,a=h(e,3),s=a[0],l=a[1],u=a[2],c=r?l:this.height-l,p=o&&o*this.distanceScales.unitsPerMeter[2],f=zL([s,c,u],this.pixelUnprojectionMatrix,p),d=this.unprojectPosition(f),m=h(d,3),v=m[0],g=m[1],y=m[2];return Number.isFinite(u)?[v,g,y]:Number.isFinite(o)?[v,g,o]:[v,g]}},{key:"projectPosition",value:function(e){var t=h(AL(e),2);return[t[0],t[1],(e[2]||0)*this.distanceScales.unitsPerMeter[2]]}},{key:"unprojectPosition",value:function(e){var t=h(CL(e),2);return[t[0],t[1],(e[2]||0)*this.distanceScales.metersPerUnit[2]]}},{key:"projectFlat",value:function(e){return AL(e)}},{key:"unprojectFlat",value:function(e){return CL(e)}},{key:"getMapCenterByLngLatPosition",value:function(e){var t=e.lngLat,n=zL(e.pos,this.pixelUnprojectionMatrix),r=pL([],AL(t),function(e,t){return e[0]=-t[0],e[1]=-t[1],e}([],n));return CL(pL([],this.center,r))}},{key:"getLocationAtPoint",value:function(e){var t=e.lngLat,n=e.pos;return this.getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:"fitBounds",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,o=NL(Object.assign({width:r,height:i,bounds:t},n)),a=o.longitude,s=o.latitude,l=o.zoom;return new e({width:r,height:i,longitude:a,latitude:s,zoom:l})}},{key:"getBounds",value:function(e){var t=this.getBoundingRegion(e),n=Math.min.apply(Math,co(t.map((function(e){return e[0]})))),r=Math.max.apply(Math,co(t.map((function(e){return e[0]}))));return[[n,Math.min.apply(Math,co(t.map((function(e){return e[1]}))))],[r,Math.max.apply(Math,co(t.map((function(e){return e[1]}))))]]}},{key:"getBoundingRegion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return FL(this,e.z||0)}}]),e}();var VL=.01,HL=["longitude","latitude","zoom"],WL={curve:1.414,speed:1.2};function GL(e,t,n){var r=(n=Object.assign({},WL,n)).curve,i=e.zoom,o=[e.longitude,e.latitude],a=kL(i),s=t.zoom,l=[t.longitude,t.latitude],u=kL(s-i),c=AL(o),h=AL(l),p=vL([],h,c),f=Math.max(e.width,e.height),d=f/u,m=dL(p)*a,v=Math.max(m,VL),g=r*r,y=(d*d-f*f+g*g*v*v)/(2*f*g*v),_=(d*d-f*f-g*g*v*v)/(2*d*g*v),b=Math.log(Math.sqrt(y*y+1)-y),x=Math.log(Math.sqrt(_*_+1)-_);return{startZoom:i,startCenterXY:c,uDelta:p,w0:f,u1:m,S:(x-b)/r,rho:r,rho2:g,r0:b,r1:x}}var qL=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},YL=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),XL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZL=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},KL=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},JL=void 0;JL="undefined"!==typeof window?window:"undefined"!==typeof self?self:n.g;var QL=null,$L=null,eD=JL.clearTimeout,tD=JL.setTimeout,nD=JL.cancelAnimationFrame||JL.mozCancelAnimationFrame||JL.webkitCancelAnimationFrame,rD=JL.requestAnimationFrame||JL.mozRequestAnimationFrame||JL.webkitRequestAnimationFrame;function iD(e){var t=void 0,n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,l="undefined"!==typeof document&&document.attachEvent;if(!l){a=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},o=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},s=function(e){if(!(e.target.className&&"function"===typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;a(this),this.__resizeRAF__&&QL(this.__resizeRAF__),this.__resizeRAF__=$L((function(){o(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}};var u=!1,c="";r="animationstart";var h="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f=document.createElement("fakeelement");if(void 0!==f.style.animationName&&(u=!0),!1===u)for(var d=0;d<h.length;d++)if(void 0!==f.style[h[d]+"AnimationName"]){c="-"+h[d].toLowerCase()+"-",r=p[d],u=!0;break}t="@"+c+"keyframes "+(n="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",i=c+"animation: 1ms "+n+"; "}return{addResizeListener:function(o,u){if(l)o.attachEvent("onresize",u);else{if(!o.__resizeTriggers__){var c=o.ownerDocument,h=JL.getComputedStyle(o);h&&"static"===h.position&&(o.style.position="relative"),function(n){if(!n.getElementById("detectElementResize")){var r=(t||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=n.head||n.getElementsByTagName("head")[0],a=n.createElement("style");a.id="detectElementResize",a.type="text/css",null!=e&&a.setAttribute("nonce",e),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(n.createTextNode(r)),o.appendChild(a)}}(c),o.__resizeLast__={},o.__resizeListeners__=[],(o.__resizeTriggers__=c.createElement("div")).className="resize-triggers";var p=c.createElement("div");p.className="expand-trigger",p.appendChild(c.createElement("div"));var f=c.createElement("div");f.className="contract-trigger",o.__resizeTriggers__.appendChild(p),o.__resizeTriggers__.appendChild(f),o.appendChild(o.__resizeTriggers__),a(o),o.addEventListener("scroll",s,!0),r&&(o.__resizeTriggers__.__animationListener__=function(e){e.animationName===n&&a(o)},o.__resizeTriggers__.addEventListener(r,o.__resizeTriggers__.__animationListener__))}o.__resizeListeners__.push(u)}},removeResizeListener:function(e,t){if(l)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(r,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(n){}}}}}null==nD||null==rD?(QL=eD,$L=function(e){return tD(e,20)}):(QL=function(e){var t=KL(e,2),n=t[0],r=t[1];nD(n),eD(r)},$L=function(e){var t=rD((function(){eD(n),e()})),n=tD((function(){nD(t),e()}),20);return[t,n]});var oD=function(e){function t(){var e,n,r;qL(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=ZL(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var e=r.props,t=e.disableHeight,n=e.disableWidth,i=e.onResize;if(r._parentNode){var o=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,s=window.getComputedStyle(r._parentNode)||{},l=parseInt(s.paddingLeft,10)||0,u=parseInt(s.paddingRight,10)||0,c=parseInt(s.paddingTop,10)||0,h=parseInt(s.paddingBottom,10)||0,p=o-c-h,f=a-l-u;(!t&&r.state.height!==p||!n&&r.state.width!==f)&&(r.setState({height:o-c-h,width:a-l-u}),i({height:o,width:a}))}},r._setRef=function(e){r._autoSizer=e},ZL(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),YL(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=iD(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.disableHeight,o=e.disableWidth,a=e.style,s=this.state,l=s.height,u=s.width,c={overflow:"visible"},h={},p=!1;return r||(0===l&&(p=!0),c.height=0,h.height=l),o||(0===u&&(p=!0),c.width=0,h.width=u),(0,i.createElement)("div",{className:n,ref:this._setRef,style:XL({},c,a)},!p&&t(h))}}]),t}(i.PureComponent);oD.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};var aD=oD,sD="undefined"!==typeof window?window:n.g,lD=("undefined"!==typeof n.g?n.g:window,"undefined"!==typeof document?document:{});var uD={container:XI().object,gl:XI().object,mapboxApiAccessToken:XI().string,mapboxApiUrl:XI().string,attributionControl:XI().bool,preserveDrawingBuffer:XI().bool,reuseMaps:XI().bool,transformRequest:XI().func,mapOptions:XI().object,mapStyle:XI().oneOfType([XI().string,XI().object]),visible:XI().bool,asyncRender:XI().bool,onLoad:XI().func,onError:XI().func,width:XI().number,height:XI().number,viewState:XI().object,longitude:XI().number,latitude:XI().number,zoom:XI().number,bearing:XI().number,pitch:XI().number,altitude:XI().number},cD={container:lD.body,mapboxApiAccessToken:function(){var e=null;if("undefined"!==typeof window&&window.location){var t=window.location.search.match(/access_token=([^&\/]*)/);e=t&&t[1]}e||"undefined"===typeof process||(e=e||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_KAKAOMAP_KEY:"8cb64e55145d76a66e9726f912694f86",REACT_APP_OPENWEATHER_KEY:"bb3de0e0ab8e5cf7b04cf794a64f2118",REACT_APP_MAPBOX_KEY:"eyJ1Ijoia2thLW5hIiwiYSI6ImNrcmJ2dGR0NDR3cWkzMHJ1d3R5eW1uOXoifQ.pDGlZ7BuCc1qd4cCHqnu0w"}.MapboxAccessToken||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_KAKAOMAP_KEY:"8cb64e55145d76a66e9726f912694f86",REACT_APP_OPENWEATHER_KEY:"bb3de0e0ab8e5cf7b04cf794a64f2118",REACT_APP_MAPBOX_KEY:"eyJ1Ijoia2thLW5hIiwiYSI6ImNrcmJ2dGR0NDR3cWkzMHJ1d3R5eW1uOXoifQ.pDGlZ7BuCc1qd4cCHqnu0w"}.REACT_APP_MAPBOX_ACCESS_TOKEN);return e||"no-token"}(),mapboxApiUrl:"https://api.mapbox.com",preserveDrawingBuffer:!1,attributionControl:!0,reuseMaps:!1,mapOptions:{},mapStyle:"mapbox://styles/mapbox/light-v8",visible:!0,asyncRender:!1,onLoad:function(){},onError:function(e){e&&console.error(e.error)},width:0,height:0,longitude:0,latitude:0,zoom:0,bearing:0,pitch:0,altitude:1.5};function hD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component";e.debug&&XI().checkPropTypes(uD,e,"prop",t)}var pD=function(){function e(t){var n=this;if(nm(this,e),fn(this,"mapboxgl",void 0),fn(this,"props",cD),fn(this,"_map",null),fn(this,"width",0),fn(this,"height",0),fn(this,"_fireLoadEvent",(function(){n.props.onLoad({type:"load",target:n._map})})),!t.mapboxgl)throw new Error("Mapbox not available");this.mapboxgl=t.mapboxgl,e.initialized||(e.initialized=!0,this._checkStyleSheet(this.mapboxgl.version)),this._initialize(t)}return mr(e,[{key:"finalize",value:function(){return this._destroy(),this}},{key:"setProps",value:function(e){return this._update(this.props,e),this}},{key:"resize",value:function(){return this._map.resize(),this}},{key:"redraw",value:function(){var e=this._map;e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}},{key:"getMap",value:function(){return this._map}},{key:"_reuse",value:function(t){this._map=e.savedMap;var n=this._map.getContainer(),r=t.container;for(r.classList.add("mapboxgl-map");n.childNodes.length>0;)r.appendChild(n.childNodes[0]);this._map._container=r,e.savedMap=null,t.mapStyle&&this._map.setStyle(t.mapStyle,{diff:!1}),this._map.isStyleLoaded()?this._fireLoadEvent():this._map.once("styledata",this._fireLoadEvent)}},{key:"_create",value:function(t){if(t.reuseMaps&&e.savedMap)this._reuse(t);else{if(t.gl){var n=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=n,t.gl}}var r={container:t.container,center:[0,0],zoom:8,pitch:0,bearing:0,maxZoom:24,style:t.mapStyle,interactive:!1,trackResize:!1,attributionControl:t.attributionControl,preserveDrawingBuffer:t.preserveDrawingBuffer};t.transformRequest&&(r.transformRequest=t.transformRequest),this._map=new this.mapboxgl.Map(Object.assign({},r,t.mapOptions)),this._map.once("load",t.onLoad),this._map.on("error",t.onError)}return this}},{key:"_destroy",value:function(){this._map&&(e.savedMap?this._map.remove():(e.savedMap=this._map,this._map.off("load",this.props.onLoad),this._map.off("error",this.props.onError),this._map.off("styledata",this._fireLoadEvent)),this._map=null)}},{key:"_initialize",value:function(e){var t=this;hD(e=Object.assign({},cD,e),"Mapbox"),this.mapboxgl.accessToken=e.mapboxApiAccessToken||cD.mapboxApiAccessToken,this.mapboxgl.baseApiUrl=e.mapboxApiUrl,this._create(e);var n=e.container;Object.defineProperty(n,"offsetWidth",{get:function(){return t.width}}),Object.defineProperty(n,"clientWidth",{get:function(){return t.width}}),Object.defineProperty(n,"offsetHeight",{get:function(){return t.height}}),Object.defineProperty(n,"clientHeight",{get:function(){return t.height}});var r=this._map.getCanvas();r&&(r.style.outline="none"),this._updateMapViewport({},e),this._updateMapSize({},e),this.props=e}},{key:"_update",value:function(e,t){if(this._map){hD(t=Object.assign({},this.props,t),"Mapbox");var n=this._updateMapViewport(e,t),r=this._updateMapSize(e,t);t.asyncRender||!n&&!r||this.redraw(),this.props=t}}},{key:"_updateMapSize",value:function(e,t){var n=e.width!==t.width||e.height!==t.height;return n&&(this.width=t.width,this.height=t.height,this.resize()),n}},{key:"_updateMapViewport",value:function(e,t){var n=this._getViewState(e),r=this._getViewState(t),i=r.latitude!==n.latitude||r.longitude!==n.longitude||r.zoom!==n.zoom||r.pitch!==n.pitch||r.bearing!==n.bearing||r.altitude!==n.altitude;return i&&(this._map.jumpTo(this._viewStateToMapboxProps(r)),r.altitude!==n.altitude&&(this._map.transform.altitude=r.altitude)),i}},{key:"_getViewState",value:function(e){var t=e.viewState||e,n=t.longitude,r=t.latitude,i=t.zoom,o=t.pitch,a=void 0===o?0:o,s=t.bearing,l=void 0===s?0:s,u=t.altitude;return{longitude:n,latitude:r,zoom:i,pitch:a,bearing:l,altitude:void 0===u?1.5:u}}},{key:"_checkStyleSheet",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.47.0";if("undefined"!==typeof lD)try{var t=lD.createElement("div");t.className="mapboxgl-map",t.style.display="none",lD.body.appendChild(t);var n="static"!==window.getComputedStyle(t).position;if(!n){var r=lD.createElement("link");r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href","https://api.tiles.mapbox.com/mapbox-gl-js/v".concat(e,"/mapbox-gl.css")),lD.head.appendChild(r)}}catch(i){}}},{key:"_viewStateToMapboxProps",value:function(e){return{center:[e.longitude,e.latitude],zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}}}]),e}();fn(pD,"initialized",!1),fn(pD,"propTypes",uD),fn(pD,"defaultProps",cD),fn(pD,"savedMap",null);var fD=n(5483),dD=n.n(fD);function mD(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function vD(e,t){if(e===t)return!0;if(mD(e)&&mD(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!vD(e[n],t[n]))return!1;return!0}return Math.abs(e-t)<=1e-7}function gD(e,t,n){return Math.max(t,Math.min(n,e))}function yD(e,t,n){return mD(e)?e.map((function(e,r){return yD(e,t[r],n)})):n*t+(1-n)*e}function _D(e,t){if(!e)throw new Error(t||"react-map-gl: assertion failed.")}function bD(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return xD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xD(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function xD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wD=function(){function e(){nm(this,e),fn(this,"propNames",[])}return mr(e,[{key:"arePropsEqual",value:function(e,t){var n,r=bD(this.propNames||[]);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!vD(e[i],t[i]))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}},{key:"initializeProps",value:function(e,t){return{start:e,end:t}}},{key:"interpolateProps",value:function(e,t,n){_D(!1,"interpolateProps is not implemented")}},{key:"getDuration",value:function(e,t){return t.transitionDuration}}]),e}(),SD={longitude:1,bearing:1};function ED(e){return Number.isFinite(e)||Array.isArray(e)}function MD(e,t,n){return function(e){return e in SD}(e)&&Math.abs(n-t)>180&&(n=n<0?n+360:n-360),n}function kD(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return TD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TD(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function TD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AD(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tg(e);if(t){var i=tg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rg(this,n)}}var CD=["longitude","latitude","zoom","bearing","pitch"],PD=["latitude","longitude","zoom","width","height"],OD=["bearing","pitch"],RD={speed:1.2,curve:1.414};!function(e){eg(n,e);var t=AD(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nm(this,n),fn(yr(e=t.call(this)),"speed",void 0),fn(yr(e),"propNames",CD),fn(yr(e),"props",void 0),e.props=Object.assign({},RD,r),e}mr(n,[{key:"initializeProps",value:function(e,t){var n,r={},i={},o=kD(PD);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=e[a],l=t[a];_D(ED(s)&&ED(l),"".concat(a," must be supplied for transition")),r[a]=s,i[a]=MD(a,s,l)}}catch(d){o.e(d)}finally{o.f()}var u,c=kD(OD);try{for(c.s();!(u=c.n()).done;){var h=u.value,p=e[h]||0,f=t[h]||0;r[h]=p,i[h]=MD(h,p,f)}}catch(d){c.e(d)}finally{c.f()}return{start:r,end:i}}},{key:"interpolateProps",value:function(e,t,n){var r,i=function(e,t,n){var r={},i=GL(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),o=i.startZoom,a=i.startCenterXY,s=i.uDelta,l=i.w0,u=i.u1,c=i.S,h=i.rho,p=i.rho2,f=i.r0;if(u<VL){var d,m=lg(HL);try{for(m.s();!(d=m.n()).done;){var v=d.value,g=e[v],y=t[v];r[v]=oL(g,y,n)}}catch(M){m.e(M)}finally{m.f()}return r}var _=n*c,b=Math.cosh(f)/Math.cosh(f+h*_),x=l*((Math.cosh(f)*Math.tanh(f+h*_)-Math.sinh(f))/p)/u,w=o+TL(1/b),S=fL([],s,x);pL(S,S,a);var E=CL(S);return r.longitude=E[0],r.latitude=E[1],r.zoom=w,r}(e,t,n,this.props),o=kD(OD);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]=yD(e[a],t[a],n)}}catch(s){o.e(s)}finally{o.f()}return i}},{key:"getDuration",value:function(e,t){var n=t.transitionDuration;return"auto"===n&&(n=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r=Object.assign({},WL,r),o=i.screenSpeed,a=i.speed,s=i.maxDuration,l=GL(e,t,r),u=l.S,c=l.rho,h=1e3*u;return n=Number.isFinite(o)?h/(o/c):h/a,Number.isFinite(s)&&n>s?0:n}(e,t,this.props)),n}}])}(wD);function ID(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return LD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LD(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function LD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DD(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tg(e);if(t){var i=tg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rg(this,n)}}var zD=["longitude","latitude","zoom","bearing","pitch"],ND=function(e){eg(n,e);var t=DD(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nm(this,n),fn(yr(e=t.call(this)),"around",void 0),Array.isArray(r)&&(r={transitionProps:r}),e.propNames=r.transitionProps||zD,r.around&&(e.around=r.around),e}return mr(n,[{key:"initializeProps",value:function(e,t){var n={},r={};if(this.around){n.around=this.around;var i=new UL(e).unproject(this.around);Object.assign(r,t,{around:new UL(t).project(i),aroundLngLat:i})}var o,a=ID(this.propNames);try{for(a.s();!(o=a.n()).done;){var s=o.value,l=e[s],u=t[s];_D(ED(l)&&ED(u),"".concat(s," must be supplied for transition")),n[s]=l,r[s]=MD(s,l,u)}}catch(c){a.e(c)}finally{a.f()}return{start:n,end:r}}},{key:"interpolateProps",value:function(e,t,n){var r,i={},o=ID(this.propNames);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]=yD(e[a],t[a],n)}}catch(c){o.e(c)}finally{o.f()}if(t.around){var s=h(new UL(Object.assign({},t,i)).getMapCenterByLngLatPosition({lngLat:t.aroundLngLat,pos:yD(e.around,t.around,n)}),2),l=s[0],u=s[1];i.longitude=l,i.latitude=u}return i}}]),n}(wD),BD={minZoom:0,maxZoom:24,minPitch:0,maxPitch:60},FD=0,jD=0,UD=1.5,VD=function(){function e(t){var n=t.width,r=t.height,i=t.latitude,o=t.longitude,a=t.zoom,s=t.bearing,l=void 0===s?jD:s,u=t.pitch,c=void 0===u?FD:u,h=t.altitude,p=void 0===h?UD:h,f=t.maxZoom,d=void 0===f?BD.maxZoom:f,m=t.minZoom,v=void 0===m?BD.minZoom:m,g=t.maxPitch,y=void 0===g?BD.maxPitch:g,_=t.minPitch,b=void 0===_?BD.minPitch:_,x=t.transitionDuration,w=t.transitionEasing,S=t.transitionInterpolator,E=t.transitionInterruption,M=t.startPanLngLat,k=t.startZoomLngLat,T=t.startBearing,A=t.startPitch,C=t.startZoom;nm(this,e),fn(this,"_viewportProps",void 0),fn(this,"_interactiveState",void 0),_D(Number.isFinite(n),"`width` must be supplied"),_D(Number.isFinite(r),"`height` must be supplied"),_D(Number.isFinite(o),"`longitude` must be supplied"),_D(Number.isFinite(i),"`latitude` must be supplied"),_D(Number.isFinite(a),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:n,height:r,latitude:i,longitude:o,zoom:a,bearing:l,pitch:c,altitude:p,maxZoom:d,minZoom:v,maxPitch:y,minPitch:b,transitionDuration:x,transitionEasing:w,transitionInterpolator:S,transitionInterruption:E}),this._interactiveState={startPanLngLat:M,startZoomLngLat:k,startBearing:T,startPitch:A,startZoom:C}}return mr(e,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(e){var t=e.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(t)})}},{key:"pan",value:function(e){var t=e.pos,n=e.startPos,r=this._interactiveState.startPanLngLat||this._unproject(n);if(!r)return this;var i=h(this._calculateNewLngLat({startPanLngLat:r,pos:t}),2),o=i[0],a=i[1];return this._getUpdatedMapState({longitude:o,latitude:a})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(e){e.pos;return this._getUpdatedMapState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(e){var t=e.deltaScaleX,n=void 0===t?0:t,r=e.deltaScaleY,i=void 0===r?0:r,o=this._interactiveState,a=o.startBearing,s=o.startPitch;if(!Number.isFinite(a)||!Number.isFinite(s))return this;var l=this._calculateNewPitchAndBearing({deltaScaleX:n,deltaScaleY:i,startBearing:a||0,startPitch:s||0}),u=l.pitch,c=l.bearing;return this._getUpdatedMapState({bearing:c,pitch:u})}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(t),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(e){var t=e.pos,n=e.startPos,r=e.scale;_D(r>0,"`scale` must be a positive number");var i=this._interactiveState,o=i.startZoom,a=i.startZoomLngLat;Number.isFinite(o)||(o=this._viewportProps.zoom,a=this._unproject(n)||this._unproject(t)),_D(a,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var s=this._calculateNewZoom({scale:r,startZoom:o||0}),l=h(new UL(Object.assign({},this._viewportProps,{zoom:s})).getMapCenterByLngLatPosition({lngLat:a,pos:t}),2),u=l[0],c=l[1];return this._getUpdatedMapState({zoom:s,longitude:u,latitude:c})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(t){return new e(Object.assign({},this._viewportProps,this._interactiveState,t))}},{key:"_applyConstraints",value:function(e){var t=e.maxZoom,n=e.minZoom,r=e.zoom;e.zoom=gD(r,n,t);var i=e.maxPitch,o=e.minPitch,a=e.pitch;return e.pitch=gD(a,o,i),Object.assign(e,function(e){var t=e.width,n=e.height,r=e.longitude,i=e.latitude,o=e.zoom,a=e.pitch,s=void 0===a?0:a,l=e.bearing,u=void 0===l?0:l;(r<-180||r>180)&&(r=iL(r+180,360)-180),(u<-180||u>180)&&(u=iL(u+180,360)-180);var c=sL(n/512);if(o<=c)o=c,i=0;else{var h=n/2/Math.pow(2,o),p=CL([0,h])[1];if(i<p)i=p;else{var f=CL([0,512-h])[1];i>f&&(i=f)}}return{width:t,height:n,longitude:r,latitude:i,zoom:o,pitch:s,bearing:u}}(e)),e}},{key:"_unproject",value:function(e){var t=new UL(this._viewportProps);return e&&t.unproject(e)}},{key:"_calculateNewLngLat",value:function(e){var t=e.startPanLngLat,n=e.pos;return new UL(this._viewportProps).getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:"_calculateNewZoom",value:function(e){var t=e.scale,n=e.startZoom,r=this._viewportProps,i=r.maxZoom,o=r.minZoom;return gD(n+Math.log2(t),o,i)}},{key:"_calculateNewPitchAndBearing",value:function(e){var t=e.deltaScaleX,n=e.deltaScaleY,r=e.startBearing,i=e.startPitch;n=gD(n,-1,1);var o=this._viewportProps,a=o.minPitch,s=o.maxPitch,l=i;return n>0?l=i+n*(s-i):n<0&&(l=i-n*(a-i)),{pitch:l,bearing:r+180*t}}}]),e}();function HD(e){return e[0].toLowerCase()+e.slice(1)}var WD=(0,i.createContext)({viewport:null,map:null,mapContainer:null,onViewportChange:null,onViewStateChange:null,eventManager:null,isDragging:!1});function GD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GD(Object(n),!0).forEach((function(t){fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YD(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tg(e);if(t){var i=tg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rg(this,n)}}var XD="A valid API access token is required to use Mapbox data";var ZD={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},KD=Object.assign({},pD.propTypes,{width:XI().oneOfType([XI().number,XI().string]),height:XI().oneOfType([XI().number,XI().string]),onResize:XI().func,preventStyleDiffing:XI().bool,disableTokenWarning:XI().bool,visible:XI().bool,className:XI().string,style:XI().object,visibilityConstraints:XI().object}),JD=Object.assign({},pD.defaultProps,{preventStyleDiffing:!1,disableTokenWarning:!1,visible:!0,onResize:function(){},className:"",style:null,visibilityConstraints:BD}),QD=function(e){eg(n,e);var t=YD(n);function n(){var e;nm(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return fn(yr(e=t.call.apply(t,[this].concat(o))),"state",{accessTokenInvalid:!1}),fn(yr(e),"_mapbox",null),fn(yr(e),"_map",null),fn(yr(e),"_mapboxMapRef",(0,i.createRef)()),fn(yr(e),"_mapContainerRef",(0,i.createRef)()),fn(yr(e),"_queryParams",{}),fn(yr(e),"_width",0),fn(yr(e),"_height",0),fn(yr(e),"getMap",(function(){return e._map})),fn(yr(e),"queryRenderedFeatures",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e._map.queryRenderedFeatures(t,n)})),fn(yr(e),"_mapboxMapError",(function(t){401!==(t.error&&t.error.status||t.status)||e.state.accessTokenInvalid||(console.error(XD),e.setState({accessTokenInvalid:!0})),e.props.onError(t)})),e}return mr(n,[{key:"componentDidMount",value:function(){if(n.supported()){var e=this.props.mapStyle;this._mapbox=new pD(Object.assign({},this.props,{mapboxgl:dD(),width:this._width,height:this._height,container:this._mapboxMapRef.current,onError:this._mapboxMapError,mapStyle:eL(e)})),this._map=this._mapbox.getMap()}}},{key:"componentDidUpdate",value:function(e){this._mapbox&&(this._updateMapStyle(e,this.props),this._updateMapProps(this.props))}},{key:"componentWillUnmount",value:function(){this._mapbox&&(this._mapbox.finalize(),this._mapbox=null,this._map=null)}},{key:"_updateMapSize",value:function(e,t){this._width===e&&this._height===t||(this._width=e,this._height=t,this._updateMapProps(this.props))}},{key:"_updateMapStyle",value:function(e,t){var n=t.mapStyle;n!==e.mapStyle&&n&&this._map.setStyle(eL(n),{diff:!this.props.preventStyleDiffing})}},{key:"_updateMapProps",value:function(e){this._mapbox&&this._mapbox.setProps(Object.assign({},e,{width:this._width,height:this._height}))}},{key:"_renderNoTokenWarning",value:function(){if(this.state.accessTokenInvalid&&!this.props.disableTokenWarning){return i.createElement("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},i.createElement("h3",{key:"header"},"NO_TOKEN_WARNING"),i.createElement("div",{key:"text"},"For information on setting up your basemap, read"),i.createElement("a",{key:"link",href:"https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens"},"Note on Map Tokens"))}return null}},{key:"_renderOverlays",value:function(e){var t=this,n=e.width,r=e.height;return this._updateMapSize(n,r),i.createElement(WD.Consumer,null,(function(e){var o=qD(qD({},e),{},{viewport:new UL(qD(qD(qD({},t.props),t.props.viewState),{},{width:n,height:r})),map:t._map,mapContainer:e.mapContainer||t._mapContainerRef.current});return i.createElement(WD.Provider,{value:o},i.createElement("div",{key:"map-overlays",className:"overlays",style:ZD},t.props.children))}))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.width,r=e.height,o=e.style,a=e.visibilityConstraints,s=Object.assign({position:"relative"},o,{width:n,height:r}),l=this.props.visible&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:BD;for(var n in t){var r=n.slice(0,3),i=HD(n.slice(3));if("min"===r&&e[i]<t[n])return!1;if("max"===r&&e[i]>t[n])return!1}return!0}(this.props.viewState||this.props,a),u=Object.assign({},ZD,{visibility:l?"inherit":"hidden"});return i.createElement("div",{key:"map-container",style:s,ref:this._mapContainerRef},i.createElement("div",{key:"map-mapbox",ref:this._mapboxMapRef,style:u,className:t}),i.createElement(aD,{key:"autosizer",onResize:this.props.onResize},this._renderOverlays.bind(this)),this._renderNoTokenWarning())}}],[{key:"supported",value:function(){return dD()&&dD().supported()}}]),n}(i.PureComponent);fn(QD,"propTypes",KD),fn(QD,"defaultProps",JD);var $D=function(){};var ez=1,tz=2,nz=3,rz=4,iz={transitionDuration:0,transitionEasing:function(e){return e},transitionInterpolator:new ND,transitionInterruption:ez,onTransitionStart:$D,onTransitionInterrupt:$D,onTransitionEnd:$D,onViewportChange:$D,onStateChange:$D},oz=function(){function e(t,n){var r=this;nm(this,e),fn(this,"props",void 0),fn(this,"state",void 0),fn(this,"time",void 0),fn(this,"_animationFrame",null),fn(this,"_onTransitionFrame",(function(){r._animationFrame=requestAnimationFrame(r._onTransitionFrame),r._updateViewport()})),t&&(this.props=t),this.time=n||Date.now}return mr(e,[{key:"getViewportInTransition",value:function(){return this._animationFrame?this.state.propsInTransition:null}},{key:"processViewportChange",value:function(e){var t=this.props;if(this.props=e,this._shouldIgnoreViewportChange(t,e))return!1;if(this._isTransitionEnabled(e)){var n=Object.assign({},t),r=Object.assign({},e);if(this._isTransitionInProgress()&&(t.onTransitionInterrupt(),this.state.interruption===tz?Object.assign(n,this.state.endProps):Object.assign(n,this.state.propsInTransition),this.state.interruption===rz)){var i=this.time(),o=(i-this.state.startTime)/this.state.duration;r.transitionDuration=this.state.duration-(i-this.state.startTime),r.transitionEasing=function(e,t){var n=e(t);return function(r){return 1/(1-n)*(e(r*(1-t)+t)-n)}}(this.state.easing,o),r.transitionInterpolator=n.transitionInterpolator}return r.onTransitionStart(),this._triggerTransition(n,r),!0}return this._isTransitionInProgress()&&(t.onTransitionInterrupt(),this._endTransition()),!1}},{key:"_isTransitionInProgress",value:function(){return Boolean(this._animationFrame)}},{key:"_isTransitionEnabled",value:function(e){var t=e.transitionDuration,n=e.transitionInterpolator;return(t>0||"auto"===t)&&Boolean(n)}},{key:"_isUpdateDueToCurrentTransition",value:function(e){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(e,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(e,t){return!e||(this._isTransitionInProgress()?this.state.interruption===nz||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t))}},{key:"_triggerTransition",value:function(e,t){_D(this._isTransitionEnabled(t)),this._animationFrame&&cancelAnimationFrame(this._animationFrame);var n=t.transitionInterpolator,r=n.getDuration?n.getDuration(e,t):t.transitionDuration;if(0!==r){var i=t.transitionInterpolator.initializeProps(e,t),o={inTransition:!0,isZooming:e.zoom!==t.zoom,isPanning:e.longitude!==t.longitude||e.latitude!==t.latitude,isRotating:e.bearing!==t.bearing||e.pitch!==t.pitch};this.state={duration:r,easing:t.transitionEasing,interpolator:t.transitionInterpolator,interruption:t.transitionInterruption,startTime:this.time(),startProps:i.start,endProps:i.end,animation:null,propsInTransition:{},interactionState:o},this._onTransitionFrame(),this.props.onStateChange(o)}}},{key:"_endTransition",value:function(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this.props.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1})}},{key:"_updateViewport",value:function(){var e=this.time(),t=this.state,n=t.startTime,r=t.duration,i=t.easing,o=t.interpolator,a=t.startProps,s=t.endProps,l=!1,u=(e-n)/r;u>=1&&(u=1,l=!0),u=i(u);var c=o.interpolateProps(a,s,u),h=new VD(Object.assign({},this.props,c));this.state.propsInTransition=h.getViewportProps(),this.props.onViewportChange(this.state.propsInTransition,this.state.interactionState,this.props),l&&(this._endTransition(),this.props.onTransitionEnd())}}]),e}();fn(oz,"defaultProps",iz);var az=n(4097),sz=n.n(az),lz={mousedown:1,mousemove:2,mouseup:4};!function(e){var t=e.prototype.handler;e.prototype.handler=function(e){var n=this.store;e.button>0&&"pointerdown"===e.type&&(function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}(n,(function(t){return t.pointerId===e.pointerId}))||n.push(e)),t.call(this,e)}}(sz().PointerEventInput),sz().MouseInput.prototype.handler=function(e){var t=lz[e.type];1&t&&e.button>=0&&(this.pressed=!0),2&t&&0===e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))};var uz=sz().Manager,cz=sz(),hz=cz?[[cz.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[cz.Rotate,{enable:!1}],[cz.Pinch,{enable:!1}],[cz.Swipe,{enable:!1}],[cz.Pan,{threshold:0,enable:!1}],[cz.Press,{enable:!1}],[cz.Tap,{event:"doubletap",taps:2,enable:!1}],[cz.Tap,{event:"anytap",enable:!1}],[cz.Tap,{enable:!1}]]:null,pz={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},fz={doubletap:["tap"]},dz={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},mz=["keydown","keyup"],vz=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],gz=["wheel","mousewheel"],yz={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},_z={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},bz="undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",xz="undefined"!==typeof window?window:n.g,wz=("undefined"!==typeof n.g?n.g:window,"undefined"!==typeof document&&document,!1);try{var Sz={get passive(){return wz=!0,!0}};xz.addEventListener("test",Sz,Sz),xz.removeEventListener("test",Sz,Sz)}catch(p2){}var Ez=-1!==bz.indexOf("firefox"),Mz=gz,kz="wheel",Tz=4.000244140625,Az=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};nm(this,e),this.element=t,this.callback=n,this.options=Object.assign({enable:!0},i),this.events=Mz.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(e){return t.addEventListener(e,r.handleEvent,!!wz&&{passive:!1})}))}return mr(e,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===kz&&(this.options.enable=t)}},{key:"handleEvent",value:function(e){if(this.options.enable){var t=e.deltaY;xz.WheelEvent&&(Ez&&e.deltaMode===xz.WheelEvent.DOM_DELTA_PIXEL&&(t/=xz.devicePixelRatio),e.deltaMode===xz.WheelEvent.DOM_DELTA_LINE&&(t*=40));var n={x:e.clientX,y:e.clientY};0!==t&&t%Tz===0&&(t=Math.floor(t/Tz)),e.shiftKey&&t&&(t*=.25),this._onWheel(e,-t,n)}}},{key:"_onWheel",value:function(e,t,n){this.callback({type:kz,center:n,delta:t,srcEvent:e,pointerType:"mouse",target:e.target})}}]),e}(),Cz=vz,Pz="pointermove",Oz="pointerover",Rz="pointerout",Iz="pointerleave",Lz=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};nm(this,e),this.element=t,this.callback=n,this.pressed=!1,this.options=Object.assign({enable:!0},i),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.enableOutEvent=this.options.enable,this.enableOverEvent=this.options.enable,this.events=Cz.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(e){return t.addEventListener(e,r.handleEvent)}))}return mr(e,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===Pz&&(this.enableMoveEvent=t),e===Oz&&(this.enableOverEvent=t),e===Rz&&(this.enableOutEvent=t),e===Iz&&(this.enableLeaveEvent=t)}},{key:"handleEvent",value:function(e){this.handleOverEvent(e),this.handleOutEvent(e),this.handleLeaveEvent(e),this.handleMoveEvent(e)}},{key:"handleOverEvent",value:function(e){this.enableOverEvent&&"mouseover"===e.type&&this.callback({type:Oz,srcEvent:e,pointerType:"mouse",target:e.target})}},{key:"handleOutEvent",value:function(e){this.enableOutEvent&&"mouseout"===e.type&&this.callback({type:Rz,srcEvent:e,pointerType:"mouse",target:e.target})}},{key:"handleLeaveEvent",value:function(e){this.enableLeaveEvent&&"mouseleave"===e.type&&this.callback({type:Iz,srcEvent:e,pointerType:"mouse",target:e.target})}},{key:"handleMoveEvent",value:function(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":0===e.which&&(this.pressed=!1),this.pressed||this.callback({type:Pz,srcEvent:e,pointerType:"mouse",target:e.target});break;case"mouseup":this.pressed=!1}}}]),e}(),Dz=mz,zz="keydown",Nz="keyup",Bz=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};nm(this,e),this.element=t,this.callback=n,this.options=Object.assign({enable:!0},i),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=Dz.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),t.tabIndex=i.tabIndex||0,t.style.outline="none",this.events.forEach((function(e){return t.addEventListener(e,r.handleEvent)}))}return mr(e,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===zz&&(this.enableDownEvent=t),e===Nz&&(this.enableUpEvent=t)}},{key:"handleEvent",value:function(e){var t=e.target||e.srcElement;"INPUT"===t.tagName&&"text"===t.type||"TEXTAREA"===t.tagName||(this.enableDownEvent&&"keydown"===e.type&&this.callback({type:zz,srcEvent:e,key:e.key,target:e.target}),this.enableUpEvent&&"keyup"===e.type&&this.callback({type:Nz,srcEvent:e,key:e.key,target:e.target}))}}]),e}(),Fz="contextmenu",jz=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};nm(this,e),this.element=t,this.callback=n,this.options=Object.assign({enable:!0},r),this.handleEvent=this.handleEvent.bind(this),t.addEventListener("contextmenu",this.handleEvent)}return mr(e,[{key:"destroy",value:function(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"enableEventType",value:function(e,t){e===Fz&&(this.options.enable=t)}},{key:"handleEvent",value:function(e){this.options.enable&&this.callback({type:Fz,center:{x:e.clientX,y:e.clientY},srcEvent:e,pointerType:"mouse",target:e.target})}}]),e}(),Uz={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};var Vz={srcElement:"root",priority:0},Hz=function(){function e(t){nm(this,e),this.eventManager=t,this.handlers=[],this.handlersByElement=new Map,this.handleEvent=this.handleEvent.bind(this),this._active=!1}return mr(e,[{key:"isEmpty",value:function(){return!this._active}},{key:"add",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.handlers,a=this.handlersByElement;n&&("object"!==typeof n||n.addEventListener)&&(n={srcElement:n}),n=n?Object.assign({},Vz,n):Vz;var s=a.get(n.srcElement);s||(s=[],a.set(n.srcElement,s));var l={type:e,handler:t,srcElement:n.srcElement,priority:n.priority};r&&(l.once=!0),i&&(l.passive=!0),o.push(l),this._active=this._active||!l.passive;for(var u=s.length-1;u>=0&&!(s[u].priority>=l.priority);)u--;s.splice(u+1,0,l)}},{key:"remove",value:function(e,t){for(var n=this.handlers,r=this.handlersByElement,i=n.length-1;i>=0;i--){var o=n[i];if(o.type===e&&o.handler===t){n.splice(i,1);var a=r.get(o.srcElement);a.splice(a.indexOf(o),1),0===a.length&&r.delete(o.srcElement)}}this._active=n.some((function(e){return!e.passive}))}},{key:"handleEvent",value:function(e){if(!this.isEmpty()){for(var t=this._normalizeEvent(e),n=e.srcEvent.target;n&&n!==t.rootElement;){if(this._emit(t,n),t.handled)return;n=n.parentNode}this._emit(t,"root")}}},{key:"_emit",value:function(e,t){var n=this.handlersByElement.get(t);if(n){for(var r=!1,i=function(){e.handled=!0},o=function(){e.handled=!0,r=!0},a=[],s=0;s<n.length;s++){var l=n[s],u=l.type,c=l.handler,h=l.once;if(c(Object.assign({},e,{type:u,stopPropagation:i,stopImmediatePropagation:o})),h&&a.push(n[s]),r)break}for(var p=0;p<a.length;p++){var f=a[p],d=f.type,m=f.handler;this.remove(d,m)}}}},{key:"_normalizeEvent",value:function(e){var t=this.eventManager.element;return Object.assign({},e,function(e){var t=Uz[e.srcEvent.type];if(!t)return null;var n=e.srcEvent,r=n.buttons,i=n.button,o=n.which,a=!1,s=!1,l=!1;return 4===t||2===t&&!Number.isFinite(r)?(a=1===o,s=2===o,l=3===o):2===t?(a=Boolean(1&r),s=Boolean(4&r),l=Boolean(2&r)):1===t&&(a=0===i,s=1===i,l=2===i),{leftButton:a,middleButton:s,rightButton:l}}(e),function(e,t){var n=e.srcEvent;if(!e.center&&!Number.isFinite(n.clientX))return null;var r=e.center||{x:n.clientX,y:n.clientY},i=t.getBoundingClientRect(),o=i.width/t.offsetWidth||1,a=i.height/t.offsetHeight||1;return{center:r,offsetCenter:{x:(r.x-i.left-t.clientLeft)/o,y:(r.y-i.top-t.clientTop)/a}}}(e,t),{handled:!1,rootElement:t})}}]),e}(),Wz={events:null,recognizers:null,recognizerOptions:{},Manager:uz,touchAction:"none",tabIndex:0},Gz=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};nm(this,e),this.options=Object.assign({},Wz,n),this.events=new Map,this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(t);var r=n.events;r&&this.on(r)}return mr(e,[{key:"setElement",value:function(e){var t=this;if(this.element&&this.destroy(),this.element=e,e){var n=this.options,r=n.Manager;for(var i in this.manager=new r(e,{touchAction:n.touchAction,recognizers:n.recognizers||hz}).on("hammer.input",this._onBasicInput),n.recognizers||Object.keys(pz).forEach((function(e){var n=t.manager.get(e);n&&pz[e].forEach((function(e){n.recognizeWith(e)}))})),n.recognizerOptions){var o=this.manager.get(i);if(o){var a=n.recognizerOptions[i];delete a.enable,o.set(a)}}this.wheelInput=new Az(e,this._onOtherEvent,{enable:!1}),this.moveInput=new Lz(e,this._onOtherEvent,{enable:!1}),this.keyInput=new Bz(e,this._onOtherEvent,{enable:!1,tabIndex:n.tabIndex}),this.contextmenuInput=new jz(e,this._onOtherEvent,{enable:!1});var s,l=lg(this.events);try{for(l.s();!(s=l.n()).done;){var u=h(s.value,2),c=u[0],p=u[1];p.isEmpty()||(this._toggleRecognizer(p.recognizerName,!0),this.manager.on(c,p.handleEvent))}}catch(p2){l.e(p2)}finally{l.f()}}}},{key:"destroy",value:function(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(e,t,n){this._addEventHandler(e,t,n,!1)}},{key:"once",value:function(e,t,n){this._addEventHandler(e,t,n,!0)}},{key:"watch",value:function(e,t,n){this._addEventHandler(e,t,n,!1,!0)}},{key:"off",value:function(e,t){this._removeEventHandler(e,t)}},{key:"_toggleRecognizer",value:function(e,t){var n=this.manager;if(n){var r=n.get(e);if(r&&r.options.enable!==t){r.set({enable:t});var i=fz[e];i&&!this.options.recognizers&&i.forEach((function(i){var o=n.get(i);t?(o.requireFailure(e),r.dropRequireFailure(i)):o.dropRequireFailure(e)}))}this.wheelInput.enableEventType(e,t),this.moveInput.enableEventType(e,t),this.keyInput.enableEventType(e,t),this.contextmenuInput.enableEventType(e,t)}}},{key:"_addEventHandler",value:function(e,t,n,r,i){if("string"===typeof e){var o=this.manager,a=this.events,s=_z[e]||e,l=a.get(s);l||(l=new Hz(this),a.set(s,l),l.recognizerName=yz[s]||s,o&&o.on(s,l.handleEvent)),l.add(e,t,n,r,i),l.isEmpty()||this._toggleRecognizer(l.recognizerName,!0)}else for(var u in n=t,e)this._addEventHandler(u,e[u],n,r,i)}},{key:"_removeEventHandler",value:function(e,t){if("string"===typeof e){var n=this.events,r=_z[e]||e,i=n.get(r);if(i&&(i.remove(e,t),i.isEmpty())){var o,a=i.recognizerName,s=!1,l=lg(n.values());try{for(l.s();!(o=l.n()).done;){var u=o.value;if(u.recognizerName===a&&!u.isEmpty()){s=!0;break}}}catch(p2){l.e(p2)}finally{l.f()}s||this._toggleRecognizer(a,!1)}}else for(var c in e)this._removeEventHandler(c,e[c])}},{key:"_onBasicInput",value:function(e){var t=e.srcEvent,n=dz[t.type];n&&this.manager.emit(n,e)}},{key:"_onOtherEvent",value:function(e){this.manager.emit(e.type,e)}}]),e}();var qz={transitionDuration:0},Yz={transitionDuration:300,transitionEasing:function(e){return e},transitionInterpolator:new ND,transitionInterruption:ez},Xz=["wheel"],Zz=["panstart","panmove","panend"],Kz=["pinchstart","pinchmove","pinchend","pinchcancel"],Jz=["doubletap"],Qz=["keydown"],$z=function(){function e(){var t=this;nm(this,e),fn(this,"events",[]),fn(this,"mapState",void 0),fn(this,"onViewportChange",void 0),fn(this,"onStateChange",void 0),fn(this,"mapStateProps",void 0),fn(this,"eventManager",void 0),fn(this,"scrollZoom",!0),fn(this,"dragPan",!0),fn(this,"dragRotate",!0),fn(this,"doubleClickZoom",!0),fn(this,"touchZoom",!0),fn(this,"touchRotate",!1),fn(this,"keyboard",!0),fn(this,"_state",{isDragging:!1}),fn(this,"_events",{}),fn(this,"_transitionManager",new oz),fn(this,"setState",(function(e){Object.assign(t._state,e),t.onStateChange&&t.onStateChange(t._state)})),this.handleEvent=this.handleEvent.bind(this),this._onWheelEnd=function(e,t){var n,r,i,o=function(){return i=null,e.apply(n,r)};return function(){n=this,r=arguments,i&&clearTimeout(i),i=setTimeout(o,t)}}(this._onWheelEnd,100)}return mr(e,[{key:"handleEvent",value:function(e){switch(this.mapState=this.getMapState(),e.type){case"panstart":return this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchcancel":case"pinchend":return this._onPinchEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}},{key:"getCenter",value:function(e){var t=e.offsetCenter;return[t.x,t.y]}},{key:"isFunctionKeyPressed",value:function(e){var t=e.srcEvent;return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}},{key:"updateViewport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.mapState?this.mapState.getViewportProps():{},i=Object.assign({},e.getViewportProps(),t),o=Object.keys(i).some((function(e){return r[e]!==i[e]}));o&&this.onViewportChange(i,n,r),this.setState(Object.assign({},e.getInteractiveState(),n))}},{key:"getMapState",value:function(e){return new VD(Object.assign({},this.mapStateProps,this._state,e))}},{key:"setOptions",value:function(e){var t=e.onViewportChange,n=e.onStateChange,r=e.eventManager,i=void 0===r?this.eventManager:r,o=e.isInteractive,a=void 0===o||o,s=e.scrollZoom,l=void 0===s?this.scrollZoom:s,u=e.dragPan,c=void 0===u?this.dragPan:u,h=e.dragRotate,p=void 0===h?this.dragRotate:h,f=e.doubleClickZoom,d=void 0===f?this.doubleClickZoom:f,m=e.touchZoom,v=void 0===m?this.touchZoom:m,g=e.touchRotate,y=void 0===g?this.touchRotate:g,_=e.keyboard,b=void 0===_?this.keyboard:_;this.onViewportChange=t,this.onStateChange=n;var x=!this.mapStateProps||this.mapStateProps.height!==e.height;this.mapStateProps=e,x&&this.updateViewport(new VD(e)),this._transitionManager.processViewportChange(Object.assign({},e,{onStateChange:this.setState})),this.eventManager!==i&&(this.eventManager=i,this._events={},this.toggleEvents(this.events,!0)),this.toggleEvents(Xz,a&&l),this.toggleEvents(Zz,a&&(c||p)),this.toggleEvents(Kz,a&&(v||y)),this.toggleEvents(Jz,a&&d),this.toggleEvents(Qz,a&&b),this.scrollZoom=l,this.dragPan=c,this.dragRotate=p,this.doubleClickZoom=d,this.touchZoom=v,this.touchRotate=y,this.keyboard=b}},{key:"toggleEvents",value:function(e,t){var n=this;this.eventManager&&e.forEach((function(e){n._events[e]!==t&&(n._events[e]=t,t?n.eventManager.on(e,n.handleEvent):n.eventManager.off(e,n.handleEvent))}))}},{key:"_onPanStart",value:function(e){var t=this.getCenter(e),n=this.mapState.panStart({pos:t}).rotateStart({pos:t});return this.updateViewport(n,qz,{isDragging:!0}),!0}},{key:"_onPan",value:function(e){return this.isFunctionKeyPressed(e)||e.rightButton?this._onPanRotate(e):this._onPanMove(e)}},{key:"_onPanEnd",value:function(e){var t=this.mapState.panEnd().rotateEnd();return this.updateViewport(t,null,{isDragging:!1,isPanning:!1,isRotating:!1}),!0}},{key:"_onPanMove",value:function(e){if(!this.dragPan)return!1;var t=this.getCenter(e),n=this.mapState.pan({pos:t});return this.updateViewport(n,qz,{isPanning:!0}),!0}},{key:"_onPanRotate",value:function(e){if(!this.dragRotate)return!1;var t=e.deltaX,n=e.deltaY,r=h(this.getCenter(e),2)[1],i=r-n,o=this.mapState.getViewportProps(),a=o.width,s=o.height,l=t/a,u=0;n>0?Math.abs(s-i)>5&&(u=n/(i-s)*1.2):n<0&&i>5&&(u=1-r/i),u=Math.min(1,Math.max(-1,u));var c=this.mapState.rotate({deltaScaleX:l,deltaScaleY:u});return this.updateViewport(c,qz,{isRotating:!0}),!0}},{key:"_onWheel",value:function(e){if(!this.scrollZoom)return!1;e.preventDefault();var t=this.getCenter(e),n=e.delta,r=2/(1+Math.exp(-Math.abs(.01*n)));n<0&&0!==r&&(r=1/r);var i=this.mapState.zoom({pos:t,scale:r});return this.updateViewport(i,qz,{isZooming:!0}),this._onWheelEnd(),!0}},{key:"_onWheelEnd",value:function(){this.setState({isZooming:!1})}},{key:"_onPinchStart",value:function(e){var t=this.getCenter(e),n=this.mapState.zoomStart({pos:t}).rotateStart({pos:t});return this._state.startPinchRotation=e.rotation,this.updateViewport(n,qz,{isDragging:!0}),!0}},{key:"_onPinch",value:function(e){if(!this.touchZoom&&!this.touchRotate)return!1;var t=this.mapState;if(this.touchZoom){var n=e.scale,r=this.getCenter(e);t=t.zoom({pos:r,scale:n})}if(this.touchRotate){var i=e.rotation,o=this._state.startPinchRotation;t=t.rotate({deltaScaleX:-(i-o)/180})}return this.updateViewport(t,qz,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),!0}},{key:"_onPinchEnd",value:function(e){var t=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(t,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),!0}},{key:"_onDoubleTap",value:function(e){if(!this.doubleClickZoom)return!1;var t=this.getCenter(e),n=this.isFunctionKeyPressed(e),r=this.mapState.zoom({pos:t,scale:n?.5:2});return this.updateViewport(r,Object.assign({},Yz,{transitionInterpolator:new ND({around:t})}),{isZooming:!0}),!0}},{key:"_onKeyDown",value:function(e){if(!this.keyboard)return!1;var t,n=this.isFunctionKeyPressed(e),r=this.mapStateProps;switch(e.srcEvent.keyCode){case 189:t=n?this.getMapState({zoom:r.zoom-2}):this.getMapState({zoom:r.zoom-1});break;case 187:t=n?this.getMapState({zoom:r.zoom+2}):this.getMapState({zoom:r.zoom+1});break;case 37:t=n?this.getMapState({bearing:r.bearing-15}):this.mapState.pan({pos:[100,0],startPos:[0,0]});break;case 39:t=n?this.getMapState({bearing:r.bearing+15}):this.mapState.pan({pos:[-100,0],startPos:[0,0]});break;case 38:t=n?this.getMapState({pitch:r.pitch+10}):this.mapState.pan({pos:[0,100],startPos:[0,0]});break;case 40:t=n?this.getMapState({pitch:r.pitch-10}):this.mapState.pan({pos:[0,-100],startPos:[0,0]});break;default:return!1}return this.updateViewport(t,Yz)}}]),e}(),eN=[{old:"onChangeViewport",new:"onViewportChange"},{old:"perspectiveEnabled",new:"dragRotate"},{old:"onHoverFeatures",new:"onHover"},{old:"onClickFeatures",new:"onClick"},{old:"touchZoomRotate",new:"touchZoom, touchRotate"},{old:"mapControls",new:"controller"}];function tN(e){return"react-map-gl: `".concat(e,"` is removed.")}function nN(e){return"Use `".concat(e,"` instead.")}function rN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};eN.forEach((function(t){if(e.hasOwnProperty(t.old)){var n=tN(t.old);t.new&&(n="".concat(n," ").concat(nN(t.new))),console.warn(n)}}))}function iN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tg(e);if(t){var i=tg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rg(this,n)}}var oN=Object.assign({},QD.propTypes,{maxZoom:XI().number,minZoom:XI().number,maxPitch:XI().number,minPitch:XI().number,onViewStateChange:XI().func,onViewportChange:XI().func,onInteractionStateChange:XI().func,transitionDuration:XI().oneOfType([XI().number,XI().string]),transitionInterpolator:XI().object,transitionInterruption:XI().number,transitionEasing:XI().func,onTransitionStart:XI().func,onTransitionInterrupt:XI().func,onTransitionEnd:XI().func,scrollZoom:XI().bool,dragPan:XI().bool,dragRotate:XI().bool,doubleClickZoom:XI().bool,touchZoom:XI().bool,touchRotate:XI().bool,keyboard:XI().bool,onHover:XI().func,onClick:XI().func,onDblClick:XI().func,onContextMenu:XI().func,onMouseDown:XI().func,onMouseMove:XI().func,onMouseUp:XI().func,onTouchStart:XI().func,onTouchMove:XI().func,onTouchEnd:XI().func,onMouseEnter:XI().func,onMouseLeave:XI().func,onMouseOut:XI().func,onWheel:XI().func,touchAction:XI().string,clickRadius:XI().number,interactiveLayerIds:XI().array,getCursor:XI().func,controller:XI().instanceOf($z)}),aN=Object.assign({},QD.defaultProps,BD,oz.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onNativeClick:null,onHover:null,onContextMenu:function(e){return e.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!1,keyboard:!0,touchAction:"none",clickRadius:0,getCursor:function(e){var t=e.isDragging,n=e.isHovering;return t?"grabbing":n?"pointer":"grab"}}),sN=function(e){eg(n,e);var t=iN(n);function n(e){var r;return nm(this,n),fn(yr(r=t.call(this,e)),"state",{isLoaded:!1,isDragging:!1,isHovering:!1}),fn(yr(r),"_controller",void 0),fn(yr(r),"_eventManager",void 0),fn(yr(r),"_interactiveContext",void 0),fn(yr(r),"_width",0),fn(yr(r),"_height",0),fn(yr(r),"_eventCanvasRef",(0,i.createRef)()),fn(yr(r),"_staticMapRef",(0,i.createRef)()),fn(yr(r),"getMap",(function(){return r._staticMapRef.current?r._staticMapRef.current.getMap():null})),fn(yr(r),"queryRenderedFeatures",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.getMap();return n&&n.queryRenderedFeatures(e,t)})),fn(yr(r),"_onInteractionStateChange",(function(e){var t=e.isDragging,n=void 0!==t&&t;n!==r.state.isDragging&&(r._updateInteractiveContext({isDragging:n}),r.setState({isDragging:n}));var i=r.props.onInteractionStateChange;i&&i(e)})),fn(yr(r),"_onResize",(function(e){var t=e.width,n=e.height;r._width=t,r._height=n,r._setControllerProps(r.props),r.props.onResize({width:t,height:n})})),fn(yr(r),"_onViewportChange",(function(e,t,n){var i=r.props,o=i.onViewStateChange,a=i.onViewportChange;o&&o({viewState:e,interactionState:t,oldViewState:n}),a&&a(e,t,n)})),fn(yr(r),"_onLoad",(function(e){r.setState({isLoaded:!0}),r.props.onLoad(e)})),fn(yr(r),"_onEvent",(function(e,t){var n=r.props[e];n&&n(r._normalizeEvent(t))})),fn(yr(r),"_onPointerDown",(function(e){if("touch"===e.pointerType)r._onEvent("onTouchStart",e);else r._onEvent("onMouseDown",e)})),fn(yr(r),"_onPointerUp",(function(e){if("touch"===e.pointerType)r._onEvent("onTouchEnd",e);else r._onEvent("onMouseUp",e)})),fn(yr(r),"_onPointerMove",(function(e){if("touch"===e.pointerType)r._onEvent("onTouchMove",e);else r._onEvent("onMouseMove",e);if(!r.state.isDragging){var t,n=r.props,i=n.onHover,o=n.interactiveLayerIds;e=r._normalizeEvent(e),r.state.isLoaded&&(o||i)&&(t=r._getFeatures({pos:e.point,radius:r.props.clickRadius})),i&&(e.features=t,i(e));var a=Boolean(o&&t&&t.length>0),s=a&&!r.state.isHovering,l=!a&&r.state.isHovering;s&&r._onEvent("onMouseEnter",e),l&&r._onEvent("onMouseLeave",e),(s||l)&&r.setState({isHovering:a})}})),fn(yr(r),"_onClick",(function(e){var t=r.props,n=t.onClick,i=t.onNativeClick,o=t.onDblClick,a=t.doubleClickZoom,s=[],l=o||a;switch(e.type){case"anyclick":s.push(i),l||s.push(n);break;case"click":l&&s.push(n)}(s=s.filter(Boolean)).length&&((e=r._normalizeEvent(e)).features=r._getFeatures({pos:e.point,radius:r.props.clickRadius}),s.forEach((function(t){return t(e)})))})),rN(e),r._controller=e.controller||new $z,r._eventManager=new Gz(null,{touchAction:e.touchAction}),r._updateInteractiveContext({isDragging:!1,eventManager:r._eventManager}),r}return mr(n,null,[{key:"supported",value:function(){return QD.supported()}}]),mr(n,[{key:"componentDidMount",value:function(){var e=this._eventManager,t=this._eventCanvasRef.current;e.setElement(t),e.on({pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerup:this._onPointerUp,pointerleave:this._onEvent.bind(this,"onMouseOut"),click:this._onClick,anyclick:this._onClick,dblclick:this._onEvent.bind(this,"onDblClick"),wheel:this._onEvent.bind(this,"onWheel"),contextmenu:this._onEvent.bind(this,"onContextMenu")}),this._setControllerProps(this.props),this._updateInteractiveContext({mapContainer:t})}},{key:"componentDidUpdate",value:function(){this._setControllerProps(this.props)}},{key:"componentWillUnmount",value:function(){this._eventManager.destroy()}},{key:"_setControllerProps",value:function(e){e=Object.assign({},e,e.viewState,{isInteractive:Boolean(e.onViewStateChange||e.onViewportChange),onViewportChange:this._onViewportChange,onStateChange:this._onInteractionStateChange,eventManager:this._eventManager,width:this._width,height:this._height}),this._controller.setOptions(e);var t=this._interactiveContext;t.onViewportChange=e.onViewportChange,t.onViewStateChange=e.onViewStateChange}},{key:"_getFeatures",value:function(e){var t,n=e.pos,r=e.radius,i={},o=this.getMap();if(this.props.interactiveLayerIds&&(i.layers=this.props.interactiveLayerIds),r){var a=r,s=[[n[0]-a,n[1]+a],[n[0]+a,n[1]-a]];t=o&&o.queryRenderedFeatures(s,i)}else t=o&&o.queryRenderedFeatures(n,i);return t}},{key:"_updateInteractiveContext",value:function(e){this._interactiveContext=Object.assign({},this._interactiveContext,e)}},{key:"_normalizeEvent",value:function(e){if(e.lngLat)return e;var t=e.offsetCenter,n=[t.x,t.y],r=new UL(Object.assign({},this.props,{width:this._width,height:this._height}));return e.point=n,e.lngLat=r.unproject(n),e}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=e.style,o=e.getCursor,a=Object.assign({position:"relative"},r,{width:t,height:n,cursor:o(this.state)});return i.createElement(WD.Provider,{value:this._interactiveContext},i.createElement("div",{key:"event-canvas",ref:this._eventCanvasRef,style:a},i.createElement(QD,p({},this.props,{width:"100%",height:"100%",style:null,onResize:this._onResize,onLoad:this._onLoad,ref:this._staticMapRef}),this.props.children)))}}]),n}(i.PureComponent);function lN(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!lN(e[n],t[n]))return!1;return!0}if(Array.isArray(t))return!1;if("object"===ln(e)&&"object"===ln(t)){var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var o=0,a=r;o<a.length;o++){var s=a[o];if(!t.hasOwnProperty(s))return!1;if(!lN(e[s],t[s]))return!1}return!0}return!1}function uN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tg(e);if(t){var i=tg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rg(this,n)}}fn(sN,"propTypes",oN),fn(sN,"defaultProps",aN);var cN={type:XI().string.isRequired,id:XI().string},hN=0,pN=function(e){eg(n,e);var t=uN(n);function n(e){var r;return nm(this,n),fn(yr(r=t.call(this,e)),"id",void 0),fn(yr(r),"type",void 0),fn(yr(r),"_map",null),fn(yr(r),"_sourceOptions",{}),fn(yr(r),"_updateSource",(function(){var e=yr(r),t=e.type;if(e._map){var n=yr(r),i=n._sourceOptions,o=n.props;_D(!o.id||o.id===r.id,"source id changed"),_D(o.type===t,"source type changed");var a="",s=0;for(var l in o)"children"===l||"id"===l||lN(i[l],o[l])||(i[l]=o[l],a=l,s++);var u=r.getSource();if(u){if(s)if("geojson"===t)u.setData(i.data);else if("image"===t)u.updateImage({url:i.url,coordinates:i.coordinates});else if("canvas"!==t&&"video"!==t||1!==s||"coordinates"!==a)if("vector"===t&&u.setUrl)switch(a){case"url":u.setUrl(i.url);break;case"tiles":u.setTiles(i.tiles)}else console.warn("Unable to update <Source> prop: ".concat(a));else u.setCoordinates(i.coordinates)}else r._createSource(i)}})),r.id=e.id||"jsx-source-".concat(hN++),r.type=e.type,r}return mr(n,[{key:"componentWillUnmount",value:function(){var e=this,t=this._map;t&&(t.off("styledata",this._updateSource),requestAnimationFrame((function(){t.style&&t.style._loaded&&t.removeSource(e.id)})))}},{key:"getSource",value:function(){var e=this._map;return e&&e.style&&e.getSource(this.id)}},{key:"_createSource",value:function(e){var t=this._map;t.style&&t.style._loaded&&t.addSource(this.id,e)}},{key:"_render",value:function(e){var t=this;return!this._map&&e.map&&(this._map=e.map,this._map.on("styledata",this._updateSource)),this._updateSource(),i.Children.map(this.props.children,(function(e){return e&&(0,i.cloneElement)(e,{source:t.id})}))}},{key:"render",value:function(){return i.createElement(WD.Consumer,null,this._render.bind(this))}}]),n}(i.PureComponent);function fN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tg(e);if(t){var i=tg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rg(this,n)}}fn(pN,"propTypes",cN);var dN={type:XI().oneOf(Object.keys({fill:"fill",line:"line",symbol:"symbol",circle:"circle","fill-extrusion":"fill-extrusion",raster:"raster",background:"background",heatmap:"heatmap",hillshade:"hillshade"})).isRequired,id:XI().string,source:XI().string,beforeId:XI().string};var mN=0,vN=function(e){eg(n,e);var t=fN(n);function n(e){var r;return nm(this,n),fn(yr(r=t.call(this,e)),"id",void 0),fn(yr(r),"type",void 0),fn(yr(r),"_map",null),fn(yr(r),"_layerOptions",{}),fn(yr(r),"_updateLayer",(function(){var e=r._map;if(e){var t=yr(r),n=t.props,i=t._layerOptions;if(_D(!n.id||n.id===r.id,"layer id changed"),_D(n.type===r.type,"layer type changed"),r.getLayer())try{!function(e,t,n,r){var i=n.layout,o=void 0===i?{}:i,a=n.paint,s=void 0===a?{}:a,l=n.filter,u=n.minzoom,c=n.maxzoom,h=n.beforeId,p=sn(n,["layout","paint","filter","minzoom","maxzoom","beforeId"]);if(h!==r.beforeId&&e.moveLayer(t,h),o!==r.layout){var f=r.layout||{};for(var d in o)lN(o[d],f[d])||e.setLayoutProperty(t,d,o[d]);for(var m in f)o.hasOwnProperty(m)||e.setLayoutProperty(t,m,void 0)}if(s!==r.paint){var v=r.paint||{};for(var g in s)lN(s[g],v[g])||e.setPaintProperty(t,g,s[g]);for(var y in v)s.hasOwnProperty(y)||e.setPaintProperty(t,y,void 0)}for(var _ in lN(l,r.filter)||e.setFilter(t,l),u===r.minzoom&&c===r.maxzoom||e.setLayerZoomRange(t,u,c),p)lN(p[_],r[_])||e.setLayerProperty(t,_,p[_])}(e,r.id,n,i),Object.assign(i,n)}catch(o){console.warn(o)}else r._createLayer()}})),r.id=e.id||"jsx-layer-".concat(mN++),r.type=e.type,r}return mr(n,[{key:"componentDidMount",value:function(){this._updateLayer()}},{key:"componentDidUpdate",value:function(){this._updateLayer()}},{key:"componentWillUnmount",value:function(){var e=this._map;e&&(e.off("styledata",this._updateLayer),e.style&&e.style._loaded&&e.removeLayer(this.id))}},{key:"getLayer",value:function(){var e=this._map;return e&&e.style&&e.getLayer(this.id)}},{key:"_createLayer",value:function(){var e=this._map;if(e.style&&e.style._loaded){var t=Object.assign({},this.props);t.id=this.id,delete t.beforeId,e.addLayer(t,this.props.beforeId),this._layerOptions=t}}},{key:"_render",value:function(e){return!this._map&&e.map&&(this._map=e.map,this._map.on("styledata",this._updateLayer)),null}},{key:"render",value:function(){return i.createElement(WD.Consumer,null,this._render.bind(this))}}]),n}(i.PureComponent);function gN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tg(e);if(t){var i=tg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rg(this,n)}}fn(vN,"propTypes",dN);var yN={captureScroll:XI().bool,captureDrag:XI().bool,captureClick:XI().bool,captureDoubleClick:XI().bool,capturePointerMove:XI().bool},_N=function(e){eg(n,e);var t=gN(n);function n(){var e;nm(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return fn(yr(e=t.call.apply(t,[this].concat(o))),"_context",{}),fn(yr(e),"_events",null),fn(yr(e),"_containerRef",(0,i.createRef)()),fn(yr(e),"_onScroll",(function(t){e.props.captureScroll&&t.stopPropagation()})),fn(yr(e),"_onDragStart",(function(t){e.props.captureDrag&&t.stopPropagation()})),fn(yr(e),"_onDblClick",(function(t){e.props.captureDoubleClick&&t.stopPropagation()})),fn(yr(e),"_onClick",(function(t){e.props.captureClick&&t.stopPropagation()})),fn(yr(e),"_onPointerMove",(function(t){e.props.capturePointerMove&&t.stopPropagation()})),e}return mr(n,[{key:"componentDidMount",value:function(){var e=this._containerRef.current;if(e){var t=this._context.eventManager;t&&(this._events={wheel:this._onScroll,panstart:this._onDragStart,anyclick:this._onClick,click:this._onClick,dblclick:this._onDblClick,pointermove:this._onPointerMove},t.watch(this._events,e))}}},{key:"componentWillUnmount",value:function(){var e=this._context.eventManager;e&&this._events&&e.off(this._events)}},{key:"_render",value:function(){throw new Error("_render() not implemented")}},{key:"render",value:function(){var e=this;return i.createElement(WD.Consumer,null,(function(t){return e._context=t,e._render()}))}}]),n}(i.PureComponent);function bN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tg(e);if(t){var i=tg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rg(this,n)}}fn(_N,"propTypes",yN),fn(_N,"defaultProps",{captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0,capturePointerMove:!1});var xN=Object.assign({},_N.propTypes,{draggable:XI().bool,onDrag:XI().func,onDragEnd:XI().func,onDragStart:XI().func,offsetLeft:XI().number,offsetTop:XI().number}),wN=Object.assign({},_N.defaultProps,{draggable:!1,offsetLeft:0,offsetTop:0}),SN=function(e){eg(n,e);var t=bN(n);function n(){var e;nm(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return fn(yr(e=t.call.apply(t,[this].concat(i))),"state",{dragPos:null,dragOffset:null}),fn(yr(e),"_dragEvents",null),fn(yr(e),"_onDragStart",(function(t){var n=e.props,r=n.draggable,i=n.captureDrag;if((r||i)&&t.stopPropagation(),r){var o=e._getDragEventPosition(t),a=e._getDragEventOffset(t);e.setState({dragPos:o,dragOffset:a}),e._setupDragEvents();var s=e.props.onDragStart;if(s&&a){var l=Object.assign({},t);l.lngLat=e._getDragLngLat(o,a),s(l)}}})),fn(yr(e),"_onDrag",(function(t){t.stopPropagation();var n=e._getDragEventPosition(t);e.setState({dragPos:n});var r=e.props.onDrag,i=e.state.dragOffset;if(r&&i){var o=Object.assign({},t);o.lngLat=e._getDragLngLat(n,i),r(o)}})),fn(yr(e),"_onDragEnd",(function(t){var n=e.state,r=n.dragPos,i=n.dragOffset;t.stopPropagation(),e.setState({dragPos:null,dragOffset:null}),e._removeDragEvents();var o=e.props.onDragEnd;if(o&&r&&i){var a=Object.assign({},t);a.lngLat=e._getDragLngLat(r,i),o(a)}})),fn(yr(e),"_onDragCancel",(function(t){t.stopPropagation(),e.setState({dragPos:null,dragOffset:null}),e._removeDragEvents()})),e}return mr(n,[{key:"componentWillUnmount",value:function(){cg(tg(n.prototype),"componentWillUnmount",this).call(this),this._removeDragEvents()}},{key:"_setupDragEvents",value:function(){var e=this._context.eventManager;e&&(this._dragEvents={panmove:this._onDrag,panend:this._onDragEnd,pancancel:this._onDragCancel},e.on(this._dragEvents))}},{key:"_removeDragEvents",value:function(){var e=this._context.eventManager;e&&this._dragEvents&&(e.off(this._dragEvents),this._dragEvents=null)}},{key:"_getDragEventPosition",value:function(e){var t=e.offsetCenter;return[t.x,t.y]}},{key:"_getDragEventOffset",value:function(e){var t=e.center,n=t.x,r=t.y,i=this._containerRef.current;if(i){var o=i.getBoundingClientRect();return[o.left-n,o.top-r]}return null}},{key:"_getDraggedPosition",value:function(e,t){return[e[0]+t[0],e[1]+t[1]]}},{key:"_getDragLngLat",value:function(e,t){var n=this.props,r=n.offsetLeft,i=n.offsetTop,o=h(this._getDraggedPosition(e,t),2),a=o[0],s=o[1];return this._context.viewport.unproject([a-r,s-i])}}]),n}(_N);fn(SN,"propTypes",xN),fn(SN,"defaultProps",wN);var EN="undefined"!==typeof window&&window.devicePixelRatio||1,MN=function(e){return Math.round(e*EN)/EN},kN=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";if(null===e)return t;var r="x"===n?e.offsetWidth:e.offsetHeight;return MN(t/100*r)/r*100};function TN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tg(e);if(t){var i=tg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rg(this,n)}}var AN=Object.assign({},SN.propTypes,{className:XI().string,longitude:XI().number.isRequired,latitude:XI().number.isRequired}),CN=Object.assign({},SN.defaultProps,{className:""}),PN=function(e){eg(n,e);var t=TN(n);function n(){var e;nm(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return fn(yr(e=t.call.apply(t,[this].concat(i))),"_control",null),e}return mr(n,[{key:"_getPosition",value:function(){var e=this.props,t=e.longitude,n=e.latitude,r=e.offsetLeft,i=e.offsetTop,o=this.state,a=o.dragPos,s=o.dragOffset;if(a&&s)return this._getDraggedPosition(a,s);var l=h(this._context.viewport.project([t,n]),2),u=l[0],c=l[1];return[u+=r,c+=i]}},{key:"_render",value:function(){var e=h(this._getPosition(),2),t=e[0],n=e[1],r="translate(".concat(MN(t),"px, ").concat(MN(n),"px)"),o=this._containerRef.current;if(this._control&&o)o.style.transform=r;else{var a=this.props,s=a.className,l=a.draggable,u=this.state.dragPos,c={position:"absolute",left:0,top:0,transform:r,cursor:l?u?"grabbing":"grab":"auto"};this._control=i.createElement("div",{className:"mapboxgl-marker ".concat(s),ref:this._containerRef,style:c},this.props.children)}return this._control}},{key:"render",value:function(){return this._control=null,cg(tg(n.prototype),"render",this).call(this)}}]),n}(SN);fn(PN,"propTypes",AN),fn(PN,"defaultProps",CN);var ON={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},RN=Object.keys(ON);function IN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tg(e);if(t){var i=tg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rg(this,n)}}var LN=Object.assign({},_N.propTypes,{className:XI().string,longitude:XI().number.isRequired,latitude:XI().number.isRequired,altitude:XI().number,offsetLeft:XI().number,offsetTop:XI().number,tipSize:XI().number,closeButton:XI().bool,closeOnClick:XI().bool,anchor:XI().oneOf(Object.keys(ON)),dynamicPosition:XI().bool,sortByDepth:XI().bool,onClose:XI().func}),DN=Object.assign({},_N.defaultProps,{className:"",altitude:0,offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}}),zN=function(e){eg(n,e);var t=IN(n);function n(){var e;nm(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return fn(yr(e=t.call.apply(t,[this].concat(o))),"_closeOnClick",!1),fn(yr(e),"_contentRef",(0,i.createRef)()),fn(yr(e),"_onClick",(function(t){if(e.props.captureClick&&t.stopPropagation(),e.props.closeOnClick||"mapboxgl-popup-close-button"===t.target.className){e.props.onClose();var n=e._context.eventManager;n&&n.once("click",(function(e){return e.stopPropagation()}),t.target)}})),e}return mr(n,[{key:"componentDidMount",value:function(){cg(tg(n.prototype),"componentDidMount",this).call(this),this.forceUpdate()}},{key:"_getPosition",value:function(e,t){var n=this._context.viewport,r=this.props,i=r.anchor,o=r.dynamicPosition,a=r.tipSize,s=this._contentRef.current;return s&&o?function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.selfWidth,a=e.selfHeight,s=e.anchor,l=e.padding,u=void 0===l?0:l,c=ON[s],h=c.x,p=c.y,f=n-p*a,d=f+a,m=Math.max(0,u-f)+Math.max(0,d-i+u);if(m>0){var v=p,g=m;for(p=0;p<=1;p+=.5)d=(f=n-p*a)+a,(m=Math.max(0,u-f)+Math.max(0,d-i+u))<g&&(g=m,v=p);p=v}var y=.5;.5===p&&(h=Math.floor(h),y=1);var _=t-h*o,b=_+o,x=Math.max(0,u-_)+Math.max(0,b-r+u);if(x>0){var w=h,S=x;for(h=0;h<=1;h+=y)b=(_=t-h*o)+o,(x=Math.max(0,u-_)+Math.max(0,b-r+u))<S&&(S=x,w=h);h=w}return RN.find((function(e){var t=ON[e];return t.x===h&&t.y===p}))||s}({x:e,y:t,anchor:i,padding:a,width:n.width,height:n.height,selfWidth:s.clientWidth,selfHeight:s.clientHeight}):i}},{key:"_getContainerStyle",value:function(e,t,n,r){var i=this._context.viewport,o=this.props,a=o.offsetLeft,s=o.offsetTop,l=o.sortByDepth,u=ON[r],c=e+a,h=t+s,p=this._containerRef.current,f=kN(p,100*-u.x),d=kN(p,100*-u.y,"y"),m={position:"absolute",transform:"\n        translate(".concat(f,"%, ").concat(d,"%)\n        translate(").concat(MN(c),"px, ").concat(MN(h),"px)\n      "),display:void 0,zIndex:void 0};return l?(n>1||n<-1||e<0||e>i.width||t<0||t>i.height?m.display="none":m.zIndex=Math.floor((1-n)/2*1e5),m):m}},{key:"_renderTip",value:function(e){var t=this.props.tipSize;return i.createElement("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:t}})}},{key:"_renderContent",value:function(){var e=this.props,t=e.closeButton,n=e.children,r=this._context.eventManager?null:this._onClick;return i.createElement("div",{key:"content",ref:this._contentRef,className:"mapboxgl-popup-content",onClick:r},t&&i.createElement("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button"},"\xd7"),n)}},{key:"_render",value:function(){var e=this.props,t=e.className,n=e.longitude,r=e.latitude,o=e.altitude,a=h(this._context.viewport.project([n,r,o]),3),s=a[0],l=a[1],u=a[2],c=this._getPosition(s,l),p=this._getContainerStyle(s,l,u,c);return i.createElement("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(c," ").concat(t),style:p,ref:this._containerRef},this._renderTip(c),this._renderContent())}}]),n}(_N);function NN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tg(e);if(t){var i=tg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rg(this,n)}}fn(zN,"propTypes",LN),fn(zN,"defaultProps",DN);var BN,FN=Object.assign({},_N.propTypes,{className:XI().string,container:XI().object,label:XI().string}),jN=Object.assign({},_N.defaultProps,{className:"",container:null,label:"Toggle fullscreen"}),UN=function(e){eg(n,e);var t=NN(n);function n(){var e;nm(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return fn(yr(e=t.call.apply(t,[this].concat(i))),"state",{isFullscreen:!1,showButton:!1}),fn(yr(e),"_mapboxFullscreenControl",null),fn(yr(e),"_onFullscreenChange",(function(){var t=!e._mapboxFullscreenControl._fullscreen;e._mapboxFullscreenControl._fullscreen=t,e.setState({isFullscreen:t})})),fn(yr(e),"_onClickFullscreen",(function(){e._mapboxFullscreenControl._onClickFullscreen()})),e}return mr(n,[{key:"componentDidMount",value:function(){var e=this.props.container||this._context.mapContainer;this._mapboxFullscreenControl=new(dD().FullscreenControl)({container:e}),this.setState({showButton:this._mapboxFullscreenControl._checkFullscreenSupport()}),lD.addEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"componentWillUnmount",value:function(){lD.removeEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"_renderButton",value:function(e,t,n){return i.createElement("button",{key:e,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(e),type:"button",title:t,onClick:n},i.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}},{key:"_render",value:function(){if(!this.state.showButton)return null;var e=this.props,t=e.className,n=e.label,r=this.state.isFullscreen?"shrink":"fullscreen";return i.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(t),ref:this._containerRef},this._renderButton(r,n,this._onClickFullscreen))}}]),n}(_N);function VN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tg(e);if(t){var i=tg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rg(this,n)}}fn(UN,"propTypes",FN),fn(UN,"defaultProps",jN);var HN=Object.assign({},oz.defaultProps,{transitionDuration:500}),WN=function(){},GN=Object.assign({},_N.propTypes,{className:XI().string,style:XI().object,label:XI().string,auto:XI().bool,positionOptions:XI().object,fitBoundsOptions:XI().object,trackUserLocation:XI().bool,showUserLocation:XI().bool,onViewStateChange:XI().func,onViewportChange:XI().func,onGeolocate:XI().func}),qN=Object.assign({},_N.defaultProps,{className:"",style:{},label:"Geolocate",auto:!1,positionOptions:null,fitBoundsOptions:null,trackUserLocation:!1,showUserLocation:!0,onGeolocate:function(){}}),YN=function(e){eg(n,e);var t=VN(n);function n(){var e;nm(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return fn(yr(e=t.call.apply(t,[this].concat(o))),"state",{supportsGeolocation:!1,markerPosition:null}),fn(yr(e),"_mapboxGeolocateControl",null),fn(yr(e),"_geolocateButtonRef",(0,i.createRef)()),fn(yr(e),"_setupMapboxGeolocateControl",(function(t){if(t){var n={showUserLocation:!1};["positionOptions","fitBoundsOptions","trackUserLocation"].forEach((function(t){t in e.props&&null!==e.props[t]&&(n[t]=e.props[t])}));var r=new(dD().GeolocateControl)(n);e._mapboxGeolocateControl=r,r._watchState="OFF",r._geolocateButton=e._geolocateButtonRef.current,r.options.trackUserLocation&&r._geolocateButton&&r._geolocateButton.setAttribute("aria-pressed","false"),r._updateMarker=e._updateMarker,r._updateCamera=e._updateCamera,r._setup=!0;var i=e._context.eventManager;r.options.trackUserLocation&&i&&i.on("panstart",(function(){"ACTIVE_LOCK"===r._watchState&&(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"))})),r.on("geolocate",e.props.onGeolocate)}else console.warn("Geolocation support is not available, the GeolocateControl will not be visible.")})),fn(yr(e),"_triggerGeolocate",(function(){var t=e._mapboxGeolocateControl;return t._map=e._context.map,e.props.showUserLocation&&(t.on("geolocate",e._updateMarker),t.on("trackuserlocationend",e._updateMarker)),e._mapboxGeolocateControl.trigger()})),fn(yr(e),"_updateMarker",(function(t){t&&e.setState({markerPosition:t.coords})})),fn(yr(e),"_getBounds",(function(e){var t=new(dD().LngLat)(e.coords.longitude,e.coords.latitude),n=e.coords.accuracy,r=t.toBounds(n);return[[r._ne.lng,r._ne.lat],[r._sw.lng,r._sw.lat]]})),fn(yr(e),"_updateCamera",(function(t){var n=e._context.viewport,r=e._getBounds(t),i=new UL(n).fitBounds(r),o=i.longitude,a=i.latitude,s=i.zoom,l=Object.assign({},n,{longitude:o,latitude:a,zoom:s}),u=new VD(l),c=Object.assign({},u.getViewportProps(),HN),h=e.props.onViewportChange||e._context.onViewportChange||WN;(e.props.onViewStateChange||e._context.onViewStateChange||WN)({viewState:c}),h(c)})),fn(yr(e),"_renderButton",(function(t,n,r){return i.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),ref:e._geolocateButtonRef,type:"button",title:n,onClick:r},i.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))})),fn(yr(e),"_renderMarker",(function(){var t=e.state.markerPosition,n=e.props.showUserLocation;return t&&n?i.createElement(PN,{key:"location-maker",longitude:t.longitude,latitude:t.latitude,captureDrag:!1,captureDoubleClick:!1},i.createElement("div",{className:"mapboxgl-user-location-dot",style:{transform:"translate(-50%, -50%)"}})):null})),e}return mr(n,[{key:"componentDidMount",value:function(){var e=this;(void 0!==BN?Promise.resolve(BN):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((function(e){return BN="denied"!==e.state})):(BN=Boolean(window.navigator.geolocation),Promise.resolve(BN))).then((function(t){e.setState({supportsGeolocation:t}),e._setupMapboxGeolocateControl(t),t&&e.props.auto&&e._triggerGeolocate()}))}},{key:"componentDidUpdate",value:function(e){this.state.supportsGeolocation&&!e.auto&&this.props.auto&&this._triggerGeolocate()}},{key:"componentWillUnmount",value:function(){if(this._mapboxGeolocateControl){var e=this._mapboxGeolocateControl._geolocationWatchID;void 0!==e&&(window.navigator.geolocation.clearWatch(e),this._mapboxGeolocateControl._geolocationWatchID=void 0)}}},{key:"_render",value:function(){if(!this.state.supportsGeolocation)return null;var e=this.props,t=e.className,n=e.style,r=e.label;return i.createElement("div",null,this._renderMarker(),i.createElement("div",{key:"geolocate-control",className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(t),ref:this._containerRef,style:n},this._renderButton("geolocate",r,this._triggerGeolocate)))}}]),n}(_N);function XN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tg(e);if(t){var i=tg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rg(this,n)}}fn(YN,"propTypes",GN),fn(YN,"defaultProps",qN);var ZN=function(){},KN=Object.assign({},_N.propTypes,{className:XI().string,onViewStateChange:XI().func,onViewportChange:XI().func,showCompass:XI().bool,showZoom:XI().bool,zoomInLabel:XI().string,zoomOutLabel:XI().string,compassLabel:XI().string}),JN=Object.assign({},_N.defaultProps,{className:"",showCompass:!0,showZoom:!0,zoomInLabel:"Zoom In",zoomOutLabel:"Zoom Out",compassLabel:"Reset North"});function QN(e){return function(e,t){for(var n=(e||"").split(".").map(Number),r=(t||"").split(".").map(Number),i=0;i<3;i++){var o=n[i]||0,a=r[i]||0;if(o<a)return-1;if(o>a)return 1}return 0}(e,"1.6.0")>=0?2:1}var $N=function(e){eg(n,e);var t=XN(n);function n(e){var r;return nm(this,n),fn(yr(r=t.call(this,e)),"_uiVersion",void 0),fn(yr(r),"_onZoomIn",(function(){r._updateViewport({zoom:r._context.viewport.zoom+1})})),fn(yr(r),"_onZoomOut",(function(){r._updateViewport({zoom:r._context.viewport.zoom-1})})),fn(yr(r),"_onResetNorth",(function(){r._updateViewport({bearing:0,pitch:0})})),rN(e),r}return mr(n,[{key:"_updateViewport",value:function(e){var t=this._context.viewport,n=new VD(Object.assign({},t,e)),r=Object.assign({},n.getViewportProps(),Yz),i=this.props.onViewportChange||this._context.onViewportChange||ZN;(this.props.onViewStateChange||this._context.onViewStateChange||ZN)({viewState:r}),i(r)}},{key:"_renderCompass",value:function(){var e=this._context.viewport.bearing,t={transform:"rotate(".concat(-e,"deg)")};return 2===this._uiVersion?i.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true",style:t}):i.createElement("span",{className:"mapboxgl-ctrl-compass-arrow",style:t})}},{key:"_renderButton",value:function(e,t,n,r){return i.createElement("button",{key:e,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(e),type:"button",title:t,onClick:n},r||i.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}},{key:"_render",value:function(){var e=this.props,t=e.className,n=e.showCompass,r=e.showZoom,o=e.zoomInLabel,a=e.zoomOutLabel,s=e.compassLabel;if(!this._uiVersion){var l=this._context.map;this._uiVersion=l?QN(l.version):2}return i.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(t),ref:this._containerRef},r&&this._renderButton("zoom-in",o,this._onZoomIn),r&&this._renderButton("zoom-out",a,this._onZoomOut),n&&this._renderButton("compass",s,this._onResetNorth,this._renderCompass()))}}]),n}(_N);function eB(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tg(e);if(t){var i=tg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rg(this,n)}}fn($N,"propTypes",KN),fn($N,"defaultProps",JN);var tB=Object.assign({},_N.propTypes,{maxWidth:XI().number,unit:XI().oneOf(["imperial","metric","nautical"])}),nB=Object.assign({},_N.defaultProps,{maxWidth:100,unit:"metric"}),rB=function(e){eg(n,e);var t=eB(n);function n(){var e;nm(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return fn(yr(e=t.call.apply(t,[this].concat(i))),"_control",null),fn(yr(e),"_mapboxScaleControl",null),e}return mr(n,[{key:"componentDidMount",value:function(){var e=new(dD().ScaleControl);e._map=this._context.map,e._container=this._containerRef.current,this._mapboxScaleControl=e,this._update()}},{key:"_update",value:function(){var e=this._mapboxScaleControl;e&&(e.options=this.props,e._onMove())}},{key:"_render",value:function(){return this._control=this._control||i.createElement("div",{ref:this._containerRef,className:"mapboxgl-ctrl mapboxgl-ctrl-scale"}),this._update(),this._control}}]),n}(_N);function iB(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tg(e);if(t){var i=tg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rg(this,n)}}fn(rB,"propTypes",tB),fn(rB,"defaultProps",nB);var oB=Object.assign({},_N.propTypes,{redraw:XI().func.isRequired}),aB=function(e){eg(n,e);var t=iB(n);function n(){var e;nm(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return fn(yr(e=t.call.apply(t,[this].concat(i))),"_canvas",void 0),fn(yr(e),"_ctx",void 0),fn(yr(e),"_redraw",(function(){var t=e._ctx;if(t){var n=sD.devicePixelRatio||1;t.save(),t.scale(n,n);var r=e._context,i=r.viewport,o=r.isDragging;e.props.redraw({width:i.width,height:i.height,ctx:t,isDragging:o,project:i.project.bind(i),unproject:i.unproject.bind(i)}),t.restore()}})),e}return mr(n,[{key:"componentDidMount",value:function(){var e=this._containerRef.current;e&&(this._canvas=e,this._ctx=e.getContext("2d")),this._redraw()}},{key:"_render",value:function(){var e=sD.devicePixelRatio||1,t=this._context.viewport,n=t.width,r=t.height;return this._redraw(),i.createElement("canvas",{ref:this._containerRef,width:n*e,height:r*e,style:{width:"".concat(n,"px"),height:"".concat(r,"px"),position:"absolute",left:0,top:0}})}}]),n}(_N);function sB(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tg(e);if(t){var i=tg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rg(this,n)}}fn(aB,"propTypes",oB),fn(aB,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1});var lB=Object.assign({},_N.propTypes,{redraw:XI().func.isRequired,style:XI().object}),uB=function(e){eg(n,e);var t=sB(n);function n(){return nm(this,n),t.apply(this,arguments)}return mr(n,[{key:"_render",value:function(){var e=this._context,t=e.viewport,n=e.isDragging,r=Object.assign({position:"absolute",left:0,top:0,width:t.width,height:t.height},this.props.style);return i.createElement("div",{ref:this._containerRef,style:r},this.props.redraw({width:t.width,height:t.height,isDragging:n,project:t.project.bind(t),unproject:t.unproject.bind(t)}))}}]),n}(_N);function cB(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tg(e);if(t){var i=tg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rg(this,n)}}fn(uB,"propTypes",lB),fn(uB,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1});var hB=Object.assign({},_N.propTypes,{redraw:XI().func.isRequired,style:XI().object}),pB=function(e){eg(n,e);var t=cB(n);function n(){return nm(this,n),t.apply(this,arguments)}return mr(n,[{key:"_render",value:function(){var e=this._context,t=e.viewport,n=e.isDragging,r=Object.assign({position:"absolute",left:0,top:0},this.props.style);return i.createElement("svg",{width:t.width,height:t.height,ref:this._containerRef,style:r},this.props.redraw({width:t.width,height:t.height,isDragging:n,project:t.project.bind(t),unproject:t.unproject.bind(t)}))}}]),n}(_N);fn(pB,"propTypes",hB),fn(pB,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1});dD()&&dD().setRTLTextPlugin;var fB=new(ad().Ros)({url:"ws://localhost:9090"}),dB=new(ad().Topic)({ros:fB,name:"/gps",messageType:"geometry_msgs/Vector3"}),mB=ka((function(e){return{marker:{backgroundColor:"#C81F30",width:"1.8rem",height:"1.8rem",borderRadius:"50%"}}}));function vB(e){var t=mB(),n=h((0,i.useState)(!1),2),r=n[0],o=n[1],a=h((0,i.useState)({latitude:37.450585,longitude:126.656955}),2),s=a[0],l=a[1],u=h((0,i.useState)({latitude:37.450585,longitude:126.656955,pitch:45,bearing:-65,zoom:17}),2),c=u[0],p=u[1];return!r&&e.sub&&(o(!0),dB.subscribe((function(e){l({latitude:e.x,longitude:e.y}),p({latitude:e.x,longitude:e.y,pitch:c.pitch,bearing:-65,zoom:c.zoom})}))),r&&!e.sub&&(o(!1),dB.unsubscribe()),(0,rn.jsx)(qI.Z,{children:(0,rn.jsx)(sN,sg(sg({},c),{},{mapStyle:"mapbox://styles/kka-na/ckrbxk1fd0z5z18ljxdswgu1s",mapboxApiAccessToken:"pk.eyJ1Ijoia2thLW5hIiwiYSI6ImNrcmJ2dGR0NDR3cWkzMHJ1d3R5eW1uOXoifQ.pDGlZ7BuCc1qd4cCHqnu0w",onViewportChange:function(e){p(e)},children:(0,rn.jsx)(PN,sg(sg({},s),{},{children:(0,rn.jsx)("div",{className:t.marker})}))}))})}var gB=new(ad().Ros)({url:"ws://localhost:9090"}),yB=new(ad().Topic)({ros:gB,name:"/gmsl_camera/dev/video0/compressed",messageType:"sensor_msgs/CompressedImage"}),_B=new(ad().Topic)({ros:gB,name:"/gmsl_camera/dev/video1/compressed",messageType:"sensor_msgs/CompressedImage"}),bB=new(ad().Topic)({ros:gB,name:"/gps",messageType:"geometry_msgs/Vector3"}),xB=function(e){var t=Lv(),n=h((0,i.useState)([]),2),r=n[0],o=n[1],a=h((0,i.useState)([]),2),s=a[0],l=a[1],u=h((0,i.useState)(!1),2),c=u[0],p=u[1],f=h((0,i.useState)({center:{lat:37.450585,lng:126.656955},isPanto:!1}),2),d=(f[0],f[1]);return!c&&e.sub&&(p(!0),yB.subscribe((function(e){var t=new Image;t.src="data:image/jpg;base64,"+e.data,o(t)})),_B.subscribe((function(e){var t=new Image;t.src="data:image/jpg;base64,"+e.data,l(t)})),bB.subscribe((function(e){d({center:{lat:e.x,lng:e.y},isPanto:!1})}))),c&&!e.sub&&(p(!1),yB.unsubscribe(),_B.unsubscribe(),bB.unsubscribe()),(0,rn.jsx)("div",{children:(0,rn.jsxs)(Ba,{item:!0,xs:!0,container:!0,spacing:1,children:[(0,rn.jsx)(Ba,{item:!0,xs:4,children:(0,rn.jsx)($v,{component:"img",className:t.media,image:r.src})}),(0,rn.jsx)(Ba,{item:!0,xs:4,children:(0,rn.jsx)(ps,{className:t.map,flex:!0,children:(0,rn.jsx)(vB,{sub:e.sub})})}),(0,rn.jsx)(Ba,{item:!0,xs:4,children:(0,rn.jsx)($v,{component:"img",className:t.media,image:s.src})}),(0,rn.jsx)(Ba,{item:!0,xs:12,className:t.card_lidar,children:(0,rn.jsx)(GI,{sub:e.sub})})]})})},wB=function(){return(0,rn.jsxs)("footer",{display:"flex",align:"center",height:"40px",children:[(0,rn.jsx)("h4",{style:{mt:"0.5rem",color:"#fff",fontSize:"12px"},children:"Copyright.2022 A.Eye team @ CVLab of INHA University"}),(0,rn.jsx)("img",{src:"/pngs/aeye.png",width:"80px",alt:"aeyelogo"})]})},SB=function(){var e=h((0,i.useState)(!1),2),t=e[0],n=e[1];return(0,rn.jsxs)(ps,{m:3,mt:1,children:[(0,rn.jsx)(id,{addSub:function(e){n(e)}}),(0,rn.jsx)(ps,{mt:1}),(0,rn.jsxs)(Ba,{container:!0,spacing:2,children:[(0,rn.jsx)(Ba,{item:!0,xs:1,children:(0,rn.jsx)(pd,{sub:t})}),(0,rn.jsx)(Ba,{item:!0,xs:2,children:(0,rn.jsx)(Kv,{sub:t})}),(0,rn.jsx)(Ba,{item:!0,xs:9,children:(0,rn.jsx)(xB,{sub:t})})]}),(0,rn.jsx)(wB,{})]})},EB=new(ad().Ros)({url:"ws://localhost:9090"}),MB=new(ad().Topic)({ros:EB,name:"/mode",messageType:"std_msgs/Int8"}),kB=function(e){var t=e.addSub,n=qf(),r=h((0,i.useState)([]),2),o=r[0],a=r[1],s=h((0,i.useState)(!1),2),l=s[0],u=s[1];return(0,rn.jsxs)(Jh,{container:!0,spacing:2,children:[(0,rn.jsx)(Jh,{item:!0,xs:3,className:n.text,children:(0,rn.jsx)(nd,{})}),(0,rn.jsx)(Jh,{item:!0,xs:1}),(0,rn.jsx)(Jh,{item:!0,xs:4,className:n.mode_text,children:(0,rn.jsx)(Dv,{mode:o})}),(0,rn.jsx)(Jh,{item:!0,xs:2}),(0,rn.jsx)(Jh,{item:!0,xs:2,className:n.grid,children:(0,rn.jsxs)(Ff,{className:n.toggle_button_group,value:l,exclusive:!0,onChange:function(e,n){var r;null===n?r=l:n?(r=n,t(!0),MB.subscribe((function(e){a(e.data)}))):n||(r=n,t(!1),MB.unsubscribe()),u(r)},fullWidth:!0,children:[(0,rn.jsx)(Gf,{className:n.toggle_button,value:!0,children:"Subscribe"}),(0,rn.jsx)(Gf,{className:n.toggle_button,value:!1,children:"Unsubscribe"})]})})]})},TB=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.component,a=void 0===o?"div":o,s=e.disableGutters,l=void 0!==s&&s,u=e.fixed,c=void 0!==u&&u,h=e.maxWidth,f=void 0===h?"lg":h,d=sn(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return i.createElement(a,p({className:Ca(n.root,r,c&&n.fixed,l&&n.disableGutters,!1!==f&&n["maxWidth".concat(vd(String(f)))]),ref:t},d))})),AB=Ra((function(e){return{root:fn({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,n){var r=e.breakpoints.values[n];return 0!==r&&(t[e.breakpoints.up(n)]={maxWidth:r}),t}),{}),maxWidthXs:fn({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:fn({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:fn({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:fn({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:fn({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(TB),CB=ka((function(e){return{map:{height:"30rem",padding:"0",width:"100%"},mode_toggle_button_group:{"& .MuiToggleButtonGroup-grouped":{borderRadius:"4px !important"}},mode_toggle_button:{"&.MuiToggleButton-root":{fontFamily:"Rajdhani, sans-serif",fontSize:"1.6rem",height:"6.5rem",backgroundColor:"#0c1024",color:"#fff",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a","&.Mui-selected":{backgroundColor:"#85def5",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",color:"#0c1024","&:hover":{backgroundColor:"#85def5",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",color:"#0c1024"}}}},diag_paper:{background:'url("/gifs/red_car.gif") no-repeat center center, linear-gradient(rgba(12,16,36,1), rgba(12,16,36,1))',position:"relative",height:"100%"},diag_paper_stop:{background:'url("/pngs/red_car_lane.png") no-repeat center center, linear-gradient(rgba(12,16,36,1), rgba(12,16,36,1))',position:"relative",height:"100%"},diag_paper_undefined:{background:'url("/pngs/red_car.png") no-repeat center center, linear-gradient(rgba(12,16,36,1), rgba(12,16,36,1))',position:"relative",height:"100%"}}})),PB=ka((function(e){return{basic_card:{backgroundColor:"#0c1024",color:"#fff",height:"6.5rem",display:"flex",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",verticalAlign:"middle",justifyContent:"center",alignItems:"center"},warn_card:{backgroundColor:"#fe86e3",color:"#0c1024",height:"6.5rem",display:"flex",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",verticalAlign:"middle",justifyContent:"center",alignItems:"center"}}})),OB=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.raised,a=void 0!==o&&o,s=sn(e,["classes","className","raised"]);return i.createElement(Om,p({className:Ca(n.root,r),elevation:a?8:1,ref:t},s))})),RB=Ra({root:{overflow:"hidden"}},{name:"MuiCard"})(OB);function IB(e){return jh("MuiCardContent",e)}Uh("MuiCardContent",["root"]);var LB=["className","component"],DB=kh("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),zB=i.forwardRef((function(e,t){var n=Dh({props:e,name:"MuiCardContent"}),r=n.className,i=n.component,o=void 0===i?"div":i,a=an(n,LB),s=p({},n,{component:o}),l=function(e){return Nl({root:["root"]},IB,e.classes)}(s);return(0,rn.jsx)(DB,p({as:o,className:Ca(l.root,r),ownerState:s,ref:t},a))})),NB=function(e){var t=PB(),n=h((0,i.useState)(t.basic_card),2),r=n[0],o=n[1],a=h((0,i.useState)(["Stable State","Sensor Anomalies Detected","Emergency Stop Request","System Anomalies Detected","Another Anomalied Detected"]),2),s=a[0],l=(a[1],h((0,i.useState)(0),2)),u=l[0],c=l[1];return(0,i.useEffect)((function(){var n;n=0===e.type?t.basic_card:t.warn_card,o(n),c(e.type)}),[e.type]),(0,rn.jsx)(RB,{className:r,children:(0,rn.jsx)(zB,{children:(0,rn.jsx)(sp,{sx:{fontSize:23,align:"center"},children:s[u]})})})},BB=ka((function(e){return{basic16:{position:"relative",display:"flex",marginTop:"0.5rem",marginRight:"0.45rem",height:"4rem",width:"16.666%",fontFamily:"Rajdhani, sans-serif",fontSize:"1rem",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",backgroundColor:"#0c1024",color:"#fff","&:hover":{borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",backgroundColor:"#0c1024",color:"#fff"}},pink16:{position:"relative",display:"flex",marginTop:"0.5rem",marginRight:"0.45rem",height:"4rem",fontFamily:"Rajdhani, sans-serif",fontSize:"1rem",width:"16.666%",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",backgroundColor:"#fe86e3",color:"#0c1024","&:hover":{borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",backgroundColor:"#fe86e3",color:"#0c1024"}},basic50:{position:"relative",display:"flex",marginTop:"0.5rem",marginRight:"0.45rem",height:"4rem",width:"50%",fontFamily:"Rajdhani, sans-serif",fontSize:"1rem",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",backgroundColor:"#0c1024",color:"#fff","&:hover":{borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",backgroundColor:"#0c1024",color:"#fff"}},purple50:{position:"relative",display:"flex",marginTop:"0.5rem",marginRight:"0.45rem",height:"4rem",fontFamily:"Rajdhani, sans-serif",fontSize:"1rem",width:"50%",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",backgroundColor:"#6569d7",color:"#fff","&:hover":{borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",backgroundColor:"#6569d7",color:"#fff"}},basic33:{position:"relative",display:"flex",marginTop:"0.8rem",height:"6.5rem",width:"33.333%",fontFamily:"Rajdhani, sans-serif",fontSize:"1.2rem",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",backgroundColor:"#0c1024",color:"#fff","&:hover":{borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",backgroundColor:"#0c1024",color:"#fff"}},pink33:{position:"relative",display:"flex",marginTop:"0.8rem",height:"6.5rem",fontFamily:"Rajdhani, sans-serif",fontSize:"1.2rem",width:"33.333%",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",backgroundColor:"#fe86e3",color:"#0c1024","&:hover":{borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",backgroundColor:"#fe86e3",color:"#0c1024"}},purple33:{position:"relative",marginTop:"0.8rem",height:"6.5rem",width:"31.333%",fontFamily:"Rajdhani, sans-serif",fontSize:"1.2rem",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",backgroundColor:"#0c1024",color:"#fff","&:hover":{borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",backgroundColor:"#6569d7",color:"#fff"}}}}));var FB=function(e){var t=BB(),n=t.basic16;return"basic16"===e.class_name?n=t.basic16:"basic50"===e.class_name?n=t.basic50:"blue"===e.class_name?n=t.blue:"purple50"===e.class_name?n=t.purple50:"pink16"===e.class_name?n=t.pink16:"blue_hover"===e.class_name?n=t.blue_hover:"pink_hover"===e.class_name?n=t.pink_hover:"basic33"===e.class_name?n=t.basic33:"pink33"===e.class_name?n=t.pink33:"purple33"===e.class_name&&(n=t.purple33),(0,rn.jsx)(Iv,{className:n,variant:"contained",children:e.name})};var jB=function(e){var t=h((0,i.useState)(["basic33","basic33","basic33"]),2),n=t[0],r=t[1];return(0,i.useEffect)((function(){var t=n;e.state.map((function(e,n){t[n]=e?"pink33":"basic33"})),r(t)}),[e.state]),(0,rn.jsx)(Jh,{children:(0,rn.jsxs)(Jh,{sx:{display:"flex",position:"relative"},children:[(0,rn.jsx)(FB,{name:"Sensing",class_name:n[0]}),(0,rn.jsx)(ps,{sx:{mr:"0.5rem"}}),(0,rn.jsx)(FB,{name:"Perception",class_name:n[1]}),(0,rn.jsx)(ps,{sx:{mr:"0.5rem"}}),(0,rn.jsx)(FB,{name:"Decision",class_name:n[2]})]})})},UB=ka((function(e){return{target_vel:{color:"#fff",height:"1.5rem",marginBottom:"0.5rem",display:"flex",verticalAlign:"middle",justifyContent:"center",alignItems:"center",fontSize:"1.2rem"},vel:{color:"#fff",height:"4.5rem",display:"flex",borderBottom:"3px solid #737d8c",verticalAlign:"middle",justifyContent:"center",alignItems:"center",fontSize:"2.2rem"},purple33:{position:"relative",marginTop:"0.8rem",height:"6.5rem",width:"31.333%",fontFamily:"Rajdhani, sans-serif",fontSize:"1.2rem",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",backgroundColor:"#0c1024",color:"#fff","&:hover":{borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",backgroundColor:"#6569d7",color:"#fff"}}}})),VB=new(ad().Ros)({url:"ws://localhost:9090"}),HB=new(ad().Topic)({ros:VB,name:"/target_vel",messageType:"std_msgs/Float32"}),WB=function(e){var t=UB(),n=h((0,i.useState)(!1),2),r=n[0],o=n[1],a=h((0,i.useState)(40),2),s=a[0],l=a[1];return!r&&e.sub&&o(!0),r&&!e.sub&&o(!1),(0,rn.jsxs)(Ba,{container:!0,children:[(0,rn.jsxs)(Ba,{item:!0,xs:12,children:[(0,rn.jsx)("div",{className:t.target_vel,children:"Target Velocity"}),(0,rn.jsxs)("div",{className:t.vel,children:[s," km/h"]})]}),(0,rn.jsxs)(Ba,{container:!0,direction:"row",children:[(0,rn.jsx)(Iv,{className:t.purple33,onClick:function(){s>0&&l((function(e){return e-5}))},children:"Down"}),(0,rn.jsx)(ps,{sx:{mr:"0.5rem"}}),(0,rn.jsx)(Iv,{className:t.purple33,onClick:function(){var e=s;r&&HB.publish({data:e})},children:"Set"}),(0,rn.jsx)(ps,{sx:{mr:"0.5rem"}}),(0,rn.jsx)(Iv,{className:t.purple33,onClick:function(){s<60&&l((function(e){return e+5}))},children:"Up"})]})]})};var GB=function(e){return"string"===typeof e};function qB(e){return jh("MuiBackdrop",e)}Uh("MuiBackdrop",["root","invisible"]);var YB=["classes","className","invisible","component","components","componentsProps","theme"],XB=i.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.invisible,o=void 0!==i&&i,a=e.component,s=void 0===a?"div":a,l=e.components,u=void 0===l?{}:l,c=e.componentsProps,h=void 0===c?{}:c,f=e.theme,d=an(e,YB),m=p({},e,{classes:n,invisible:o}),v=function(e){var t=e.classes;return Nl({root:["root",e.invisible&&"invisible"]},qB,t)}(m),g=u.Root||s,y=h.root||{};return(0,rn.jsx)(g,p({"aria-hidden":!0},y,!GB(g)&&{as:s,ownerState:p({},m,y.ownerState),theme:f},{ref:t},d,{className:Ca(v.root,y.className,r)}))}));function ZB(e,t){var n,r,i=e.timeout,o=e.easing,a=e.style,s=void 0===a?{}:a;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}var KB=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],JB={entering:{opacity:1},entered:{opacity:1}},QB=i.forwardRef((function(e,t){var n=Ih(Sh),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},o=e.addEndListener,a=e.appear,s=void 0===a||a,l=e.children,u=e.easing,c=e.in,h=e.onEnter,f=e.onEntered,d=e.onEntering,m=e.onExit,v=e.onExited,g=e.onExiting,y=e.style,_=e.timeout,b=void 0===_?r:_,x=e.TransitionComponent,w=void 0===x?Em:x,S=an(e,KB),E=i.useRef(null),M=vp(l.ref,t),k=vp(E,M),T=function(e){return function(t){if(e){var n=E.current;void 0===t?e(n):e(n,t)}}},A=T(d),C=T((function(e,t){!function(e){e.scrollTop}(e);var r=ZB({style:y,timeout:b,easing:u},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),h&&h(e,t)})),P=T(f),O=T(g),R=T((function(e){var t=ZB({style:y,timeout:b,easing:u},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),m&&m(e)})),I=T(v);return(0,rn.jsx)(w,p({appear:s,in:c,nodeRef:E,onEnter:C,onEntered:P,onEntering:A,onExit:R,onExited:I,onExiting:O,addEndListener:function(e){o&&o(E.current,e)},timeout:b},S,{children:function(e,t){return i.cloneElement(l,p({style:p({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},JB[e],y,l.props.style),ref:k},t))}}))})),$B=QB,eF=["children","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],tF=kh("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){return p({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.ownerState.invisible&&{backgroundColor:"transparent"})})),nF=i.forwardRef((function(e,t){var n,r=Dh({props:e,name:"MuiBackdrop"}),i=r.children,o=r.components,a=void 0===o?{}:o,s=r.componentsProps,l=void 0===s?{}:s,u=r.className,c=r.invisible,h=void 0!==c&&c,f=r.open,d=r.transitionDuration,m=r.TransitionComponent,v=void 0===m?$B:m,g=an(r,eF),y=function(e){return e.classes}(p({},r,{invisible:h}));return(0,rn.jsx)(v,p({in:f,timeout:d},g,{children:(0,rn.jsx)(XB,{className:u,invisible:h,components:p({Root:tF},a),componentsProps:{root:p({},l.root,(!a.Root||!GB(a.Root))&&{ownerState:p({},null==(n=l.root)?void 0:n.ownerState)})},classes:y,ref:t,children:i})}))})),rF=n(4425),iF=function(e){var t=e.isRedWarn,n=e.isYellowWarn;window.soundManager.setup({debugMode:!1});var r=h((0,i.useState)(0),2),o=r[0],a=r[1],s=h((0,i.useState)(rF.Z.status.STOPPED),2),l=s[0],u=s[1],c=h((0,i.useState)(),2),p=c[0],f=c[1],d=h((0,i.useState)(),2),m=(d[0],d[1]),v=function(){a(!1),u(rF.Z.status.STOPPED)},g=function(){a(!o),u(rF.Z.status.PLAYING)};return(0,i.useEffect)((function(){t?(f("/gifs/red.gif"),g(),m(t)):(v(),m(t))}),[t]),(0,i.useEffect)((function(){n?(f("/gifs/blue.gif"),g()):v()}),[n]),(0,rn.jsxs)(nF,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:o,children:[(0,rn.jsx)("img",{src:p,alt:"placeholder"}),(0,rn.jsx)(rF.Z,{url:"/wavs/alarm.wav",playStatus:l,loop:!0})]})};var oF=function(e){var t=h((0,i.useState)("False"),2),n=t[0],r=t[1],o=h((0,i.useState)(0),2),a=o[0],s=o[1];return(0,i.useEffect)((function(){0===e.state.x?r("False"):r("True"),s(e.state.y)}),[e.state]),(0,rn.jsxs)(Ba,{item:!0,xs:!0,container:!0,spacing:2,children:[(0,rn.jsx)(Ba,{xs:6,children:(0,rn.jsxs)("div",{style:{marginLeft:"1rem",color:"#fff",fontSize:"18px"},children:["RTK Fixed : ",n]})}),(0,rn.jsx)(Ba,{xs:6,children:(0,rn.jsxs)("div",{style:{color:"#fff",fontSize:"18px"},children:["GPS Accuracy : ",a,"%"]})})]})},aF=new(ad().Ros)({url:"ws://localhost:9090"}),sF=new(ad().Topic)({ros:aF,name:"/mode",messageType:"std_msgs/Int8"}),lF=new(ad().Topic)({ros:aF,name:"/mode_set",messageType:"std_msgs/Int8"}),uF=new(ad().Topic)({ros:aF,name:"/sensor_state",messageType:"std_msgs/Int8MultiArray"}),cF=new(ad().Topic)({ros:aF,name:"/system_state",messageType:"std_msgs/Int8MultiArray"}),hF=new(ad().Topic)({ros:aF,name:"/estop",messageType:"std_msgs/Int8"}),pF=new(ad().Topic)({ros:aF,name:"/gps_accuracy",messageType:"geometry_msgs/Point"}),fF=function(e){var t=CB(),n=h((0,i.useState)(!1),2),r=n[0],o=n[1],a=h((0,i.useState)(0),2),s=a[0],l=a[1],u=h((0,i.useState)(0),2),c=u[0],p=u[1],f=h((0,i.useState)(!1),2),d=f[0],m=f[1],v=h((0,i.useState)(!1),2),g=v[0],y=v[1],_=h((0,i.useState)(!1),2),b=_[0],x=_[1],w=h((0,i.useState)([!1,!1,!1]),2),S=w[0],E=w[1],M=h((0,i.useState)([0,0]),2),k=M[0],T=M[1],A=0,C=[{id:1,value:!1},{id:2,value:!1},{id:3,value:!1}];var P=0,O=function(e,t){e.includes(1)?(p(t),P=t,C[t-1].value=!0,C.some((function(e){return!0===e.value}))&&m(!0),1===A&&y(!0)):(C[t-1].value=!1,C.every((function(e){return!1===e.value}))?(p(0),P=0,m(!1),x(!1)):C[0].value?C[2].value?C[1].value||(C[0].value?p(C[0].id):C[2].value&&p(C[2].id)):C[0].value?p(C[0].id):C[1].value&&p(C[1].id):C[2].value?p(C[2].id):C[1].value&&p(C[1].id),1===A&&y(!1))};return!r&&e.sub&&(o(!0),sF.subscribe((function(e){var t=parseInt(e.data);A!==t&&(A=t),console.log(P),0===t&&0===P&&y(!1),l(Number(t))})),uF.subscribe((function(e){O(e.data,1)})),cF.subscribe((function(e){var t=e.data;O(t,3),E(t)})),hF.subscribe((function(e){var t=Number(e.data),n=[];n.push(t),1===t&&O(n,2)})),pF.subscribe((function(e){T(e)}))),r&&!e.sub&&(o(!1),sF.unsubscribe(),uF.unsubscribe(),cF.unsubscribe(),hF.unsubscribe(),pF.unsubscribe()),(0,rn.jsxs)(rn.Fragment,{children:[(0,rn.jsx)(iF,{isRedWarn:g,isYellowWarn:b}),(0,rn.jsxs)(Ba,{item:!0,xs:!0,container:!0,spacing:2,children:[(0,rn.jsx)(Ba,{item:!0,xs:4,children:(0,rn.jsxs)(Ff,{orientation:"vertical",value:s,onChange:function(e,t){var n;null===t?n=s:0===Number(s)&&1===Number(t)&&d?(x(!0),n=s):n=t,A!==n&&(A=n),l(n),r&&lF.publish({data:n})},className:t.mode_toggle_button_group,exclusive:!0,fullWidth:!0,children:[(0,rn.jsx)(Gf,{className:t.mode_toggle_button,value:0,children:"Manual Mode"}),(0,rn.jsx)(ps,{sx:{mb:"0.8rem"}}),(0,rn.jsx)(Gf,{className:t.mode_toggle_button,value:1,disabled:d,children:"Autopilot Mode"})]})}),(0,rn.jsx)(Ba,{item:!0,xs:4,children:(0,rn.jsx)(WB,{sub:e.sub})}),(0,rn.jsxs)(Ba,{item:!0,xs:4,children:[(0,rn.jsx)(NB,{type:c}),(0,rn.jsx)(jB,{state:S})]}),(0,rn.jsx)(Ba,{item:!0,xs:8}),(0,rn.jsx)(Ba,{item:!0,xs:4,children:(0,rn.jsx)(oF,{state:k})}),(0,rn.jsx)(Ba,{item:!0,xs:12,children:(0,rn.jsx)(AB,{className:t.map,maxWidth:"lg",children:(0,rn.jsx)(vB,{sub:e.sub})})})]})]})};function dF(e){return jh("MuiPaper",e)}Uh("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var mF=["className","component","elevation","square","variant"],vF=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},gF=kh("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t=e.theme,n=e.ownerState;return p({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat(t.palette.divider)},"elevation"===n.variant&&p({boxShadow:t.shadows[n.elevation]},"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat(Gc("#fff",vF(n.elevation)),", ").concat(Gc("#fff",vF(n.elevation)),")")}))})),yF=i.forwardRef((function(e,t){var n=Dh({props:e,name:"MuiPaper"}),r=n.className,i=n.component,o=void 0===i?"div":i,a=n.elevation,s=void 0===a?1:a,l=n.square,u=void 0!==l&&l,c=n.variant,h=void 0===c?"elevation":c,f=an(n,mF),d=p({},n,{component:o,elevation:s,square:u,variant:h}),m=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes;return Nl({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},dF,i)}(d);return(0,rn.jsx)(gF,p({as:o,ownerState:d,className:Ca(m.root,r),ref:t},f))})),_F=yF;function bF(e){return jh("MuiButton",e)}var xF=Uh("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var wF=i.createContext({}),SF=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],EF=function(e){return p({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},MF=kh(lf,{shouldForwardProp:function(e){return Eh(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(ep(n.color))],t["size".concat(ep(n.size))],t["".concat(n.variant,"Size").concat(ep(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n=e.theme,r=e.ownerState;return p({},n.typography.button,(fn(t={minWidth:64,padding:"6px 16px",borderRadius:n.shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":p({textDecoration:"none",backgroundColor:Gc(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===r.variant&&"inherit"!==r.color&&{backgroundColor:Gc(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===r.variant&&"inherit"!==r.color&&{border:"1px solid ".concat(n.palette[r.color].main),backgroundColor:Gc(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===r.variant&&{backgroundColor:n.palette.grey.A100,boxShadow:n.shadows[4],"@media (hover: none)":{boxShadow:n.shadows[2],backgroundColor:n.palette.grey[300]}},"contained"===r.variant&&"inherit"!==r.color&&{backgroundColor:n.palette[r.color].dark,"@media (hover: none)":{backgroundColor:n.palette[r.color].main}}),"&:active":p({},"contained"===r.variant&&{boxShadow:n.shadows[8]})},"&.".concat(xF.focusVisible),p({},"contained"===r.variant&&{boxShadow:n.shadows[6]})),fn(t,"&.".concat(xF.disabled),p({color:n.palette.action.disabled},"outlined"===r.variant&&{border:"1px solid ".concat(n.palette.action.disabledBackground)},"outlined"===r.variant&&"secondary"===r.color&&{border:"1px solid ".concat(n.palette.action.disabled)},"contained"===r.variant&&{color:n.palette.action.disabled,boxShadow:n.shadows[0],backgroundColor:n.palette.action.disabledBackground})),t),"text"===r.variant&&{padding:"6px 8px"},"text"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].main},"outlined"===r.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].main,border:"1px solid ".concat(Gc(n.palette[r.color].main,.5))},"contained"===r.variant&&{color:n.palette.getContrastText(n.palette.grey[300]),backgroundColor:n.palette.grey[300],boxShadow:n.shadows[2]},"contained"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].contrastText,backgroundColor:n.palette[r.color].main},"inherit"===r.color&&{color:"inherit",borderColor:"currentColor"},"small"===r.size&&"text"===r.variant&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"text"===r.variant&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"outlined"===r.variant&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"outlined"===r.variant&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"contained"===r.variant&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"contained"===r.variant&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},r.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(fn(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(xF.focusVisible),{boxShadow:"none"}),fn(t,"&:active",{boxShadow:"none"}),fn(t,"&.".concat(xF.disabled),{boxShadow:"none"}),t)})),kF=kh("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(ep(n.size))]]}})((function(e){var t=e.ownerState;return p({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},EF(t))})),TF=kh("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(ep(n.size))]]}})((function(e){var t=e.ownerState;return p({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},EF(t))})),AF=i.forwardRef((function(e,t){var n=i.useContext(wF),r=Dh({props:Th(n,e),name:"MuiButton"}),o=r.children,a=r.color,s=void 0===a?"primary":a,l=r.component,u=void 0===l?"button":l,c=r.className,h=r.disabled,f=void 0!==h&&h,d=r.disableElevation,m=void 0!==d&&d,v=r.disableFocusRipple,g=void 0!==v&&v,y=r.endIcon,_=r.focusVisibleClassName,b=r.fullWidth,x=void 0!==b&&b,w=r.size,S=void 0===w?"medium":w,E=r.startIcon,M=r.type,k=r.variant,T=void 0===k?"text":k,A=an(r,SF),C=p({},r,{color:s,component:u,disabled:f,disableElevation:m,disableFocusRipple:g,fullWidth:x,size:S,type:M,variant:T}),P=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,o=e.variant,a=e.classes;return p({},a,Nl({root:["root",o,"".concat(o).concat(ep(t)),"size".concat(ep(i)),"".concat(o,"Size").concat(ep(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(ep(i))],endIcon:["endIcon","iconSize".concat(ep(i))]},bF,a))}(C),O=E&&(0,rn.jsx)(kF,{className:P.startIcon,ownerState:C,children:E}),R=y&&(0,rn.jsx)(TF,{className:P.endIcon,ownerState:C,children:y});return(0,rn.jsxs)(MF,p({ownerState:C,className:Ca(c,n.className),component:u,disabled:f,focusRipple:!g,focusVisibleClassName:Ca(P.focusVisible,_),ref:t,type:M},A,{classes:P,children:[O,o,R]}))})),CF=AF;var PF=function(e){var t;return t=void 0!==e.error?e.error?"error":"success":"secondary",(0,rn.jsx)(oc,{theme:cr,children:(0,rn.jsx)(CF,{sx:{position:"absolute",top:e.y,left:e.x,width:100,height:70,fontSize:"1.2rem",fontWeight:"600"},color:t,variant:"contained",children:e.name})})},OF=new(ad().Ros)({url:"ws://localhost:9090"}),RF=new(ad().Topic)({ros:OF,name:"/sensor_state",messageType:"std_msgs/Int8MultiArray"}),IF=new(ad().Topic)({ros:OF,name:"/can_vel",messageType:"std_msgs/Int8"});var LF=function(e){var t=CB(),n=h((0,i.useState)(!1),2),r=n[0],o=n[1],a=h((0,i.useState)([!1,!1,!1,!1,!1]),2),s=a[0],l=a[1],u=h((0,i.useState)(0),2),c=(u[0],u[1]),p=h((0,i.useState)(t.diag_paper_undefined),2),f=p[0],d=p[1];return!r&&e.sub&&(o(!0),RF.subscribe((function(e){var t=s;e.data.map((function(e,n){t[n]=1==e})),c((function(e){return e+1})),l(t)})),IF.subscribe((function(e){e.data>0?d(t.diag_paper):e.data<=0&&d(t.diag_paper_stop)}))),r&&!e.sub&&(o(!1),RF.unsubscribe(),IF.unsubscribe(),d(t.diag_paper_undefined)),(0,rn.jsx)(rn.Fragment,{children:e.sub?(0,rn.jsxs)(_F,{className:f,children:[(0,rn.jsx)(PF,{x:"32%",y:"41%",name:"Wide Camera",error:s[0]}),(0,rn.jsx)(PF,{x:"52.5%",y:"41%",name:"Narrow Camera",error:s[1]}),(0,rn.jsx)(PF,{x:"42.5%",y:"53%",name:"LiDAR",error:s[2]}),(0,rn.jsx)(PF,{x:"42.5%",y:"68%",name:"IMU",error:s[3]}),(0,rn.jsx)(PF,{x:"42.5%",y:"83%",name:"INS",error:s[4]})]}):(0,rn.jsxs)(_F,{className:f,children:[(0,rn.jsx)(PF,{x:"32%",y:"41%",name:"Wide Camera"}),(0,rn.jsx)(PF,{x:"52.5%",y:"41%",name:"Narrow Camera"}),(0,rn.jsx)(PF,{x:"42.5%",y:"53%",name:"LiDAR"}),(0,rn.jsx)(PF,{x:"42.5%",y:"68%",name:"IMU"}),(0,rn.jsx)(PF,{x:"42.5%",y:"83%",name:"INS"})]})})},DF=function(){var e=h((0,i.useState)(!1),2),t=e[0],n=e[1];return(0,rn.jsxs)(ps,{m:3,mt:1,children:[(0,rn.jsx)(kB,{addSub:function(e){console.log("Add Sub"),n(e)}}),(0,rn.jsx)(ps,{mt:1}),(0,rn.jsxs)(Ba,{container:!0,spacing:2,children:[(0,rn.jsx)(Ba,{item:!0,xs:1,children:(0,rn.jsx)(pd,{sub:t})}),(0,rn.jsx)(Ba,{item:!0,xs:4,children:(0,rn.jsx)(LF,{sub:t})}),(0,rn.jsx)(Ba,{item:!0,xs:7,children:(0,rn.jsx)(fF,{sub:t})})]}),(0,rn.jsx)(wB,{})]})},zF=ka((function(e){return{map:{marginTop:"0.5rem",height:"30rem"},card:{backgroundColor:"#0f152e",color:"#fffff3",height:"0",paddingBottom:"56.25%"},media:{width:"100%",height:"auto",aspectRatio:"16 / 9"},card_lidar:{backgroundColor:"#0f152e",color:"#fffff3",height:"0",paddingBottom:"66.66%"},mode_toggle_button_group:{"& .MuiToggleButtonGroup-grouped":{marginBottom:"0.8rem",borderRadius:"4px !important"}},mode_toggle_button:{"&.MuiToggleButton-root":{fontFamily:"Rajdhani, sans-serif",fontSize:"1.2rem",backgroundColor:"#0c1024",color:"#fff",height:"4rem",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a","&.Mui-selected":{backgroundColor:"#85def5",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",color:"#0c1024","&:hover":{backgroundColor:"#85def5",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",color:"#0c1024"}}}},toggle_button_group:{"& .MuiToggleButtonGroup-grouped":{margin:"0.5rem",borderRadius:"4px !important",height:"4rem"}},toggle_button:{"&.MuiToggleButton-root":{fontFamily:"Rajdhani, sans-serif",fontSize:"1.2rem",backgroundColor:"#0c1024",color:"#fff",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a","&:hover":{backgroundColor:"#6569d7",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",color:"#fff"},"&.Mui-selected":{backgroundColor:"#362577",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",color:"#fff","&:hover":{backgroundColor:"#0c1024",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",color:"#6569d7"}}}},apply_button:{fontFamily:"Rajdhani, sans-serif",fontSize:"1.2rem",backgroundColor:"#0c1024",color:"#fff",marginTop:"0.5rem",borderRadius:"4px",height:"4rem",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a","&:hover":{backgroundColor:"#6569d7",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",color:"#0c1024"}},scenario_toggle_button_group:{"& .MuiToggleButtonGroup-grouped":{marginTop:"0.3rem",marginRight:"0.5rem",marginBottom:"0.3rem",borderRadius:"4px !important"}},scenario_toggle_button:{"&.MuiToggleButton-root":{fontFamily:"Rajdhani, sans-serif",fontSize:"1rem",backgroundColor:"#0c1024",color:"#fff",height:"4rem",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a","&.Mui-selected":{backgroundColor:"#85def5",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",color:"#0c1024","&:hover":{backgroundColor:"#85def5",borderRadius:"4px",boxShadow:"5px 5px 7px #05060e, -5px -5px 7px #131a3a",color:"#0c1024"}}}},state_text:{display:"flex",marginTop:"0.5rem",verticalAlign:"middle",color:"#fff",fontSize:"1.2rem"},set_value:{display:"flex",verticalAlign:"middle",justifyContent:"center",alignItems:"center",color:"#fff",fontSize:"1.2em"},full_button:{marginTop:"1.2rem",display:"flex",justifyContent:"center",alignItems:"center"},input_grid:{display:"flex",justifyContent:"center",alignItems:"center"},text_field:{"& label":{color:"white",fontSize:"1.2rem"},"& label.Mui-focused":{color:"#3b7bea"},"& .MuiInputBase-root":{color:"white",height:"4rem",fontSize:"1.2rem"},"& .MuiOutlinedInput-root":{"& fieldset":{border:"1px solid rgba(255,255,255,.7)"},"&:hover fieldset":{borderColor:"#3b7bea"},"&.Mui-focused fieldset":{borderColor:"#3b7bea"}}}}})),NF=new(ad().Ros)({url:"ws://localhost:9090"}),BF=new(ad().Topic)({ros:NF,name:"/mode",messageType:"geometry_msgs/Vector3"}),FF=new(ad().Topic)({ros:NF,name:"/mode_set",messageType:"geometry_msgs/Vector3"}),jF=new(ad().Topic)({ros:NF,name:"/speed",messageType:"geometry_msgs/Vector3"}),UF=new(ad().Topic)({ros:NF,name:"/steering",messageType:"geometry_msgs/Vector3"}),VF=new(ad().Topic)({ros:NF,name:"/esp_speed",messageType:"geometry_msgs/Vector3"}),HF=new(ad().Topic)({ros:NF,name:"/pid",messageType:"geometry_msgs/Vector3"}),WF=function(e){var t=zF(),n=h((0,i.useState)([]),2),r=n[0],o=n[1],a=h((0,i.useState)(!1),2),s=a[0],l=a[1],u=h((0,i.useState)(0),2),c=u[0],p=u[1],f=h((0,i.useState)(0),2),d=f[0],m=f[1],v=h((0,i.useState)(0),2),g=v[0],y=v[1],_=h((0,i.useState)(0),2),b=_[0],x=_[1],w=h((0,i.useState)(0),2),S=w[0],E=w[1],M=h((0,i.useState)(0),2),k=M[0],T=M[1];return!s&&e.sub&&(l(!0),BF.subscribe((function(e){o(e.x)}))),s&&!e.sub&&(l(!1),BF.unsubscribe()),(0,rn.jsxs)(Ba,{item:!0,xs:!0,container:!0,direction:"column",className:t.set_value,spacing:1,children:[(0,rn.jsxs)(Ff,{exclusive:!0,orientation:"vertical",value:r,onChange:function(e,t){var n=parseInt(t);o(n),s&&FF.publish({x:n,y:0,z:0})},className:t.mode_toggle_button_group,fullWidth:!0,children:[(0,rn.jsx)(Gf,{className:t.mode_toggle_button,value:0,children:"Manual Mode"}),(0,rn.jsx)(Gf,{className:t.mode_toggle_button,value:1,children:"Autopilot Mode"}),(0,rn.jsx)(Gf,{className:t.mode_toggle_button,value:2,children:"Test Mode"}),(0,rn.jsx)(Gf,{className:t.mode_toggle_button,value:3,children:"License Mode"})]}),(0,rn.jsx)(Ba,{item:!0,xs:!0,className:t.input_grid,fullWidth:!0,children:(0,rn.jsx)(mv,{label:"Speed",onChange:function(e){p(parseFloat(e.target.value))},variant:"outlined",className:t.text_field})}),(0,rn.jsx)(Ba,{item:!0,xs:!0,className:t.input_grid,fullWidth:!0,children:(0,rn.jsx)(mv,{label:"Steering",onChange:function(e){m(parseFloat(e.target.value))},variant:"outlined",className:t.text_field})}),(0,rn.jsx)(Ba,{item:!0,xs:!0,className:t.input_grid,fullWidth:!0,children:(0,rn.jsx)(mv,{label:"ESP Speed",onChange:function(e){y(parseFloat(e.target.value))},variant:"outlined",className:t.text_field})}),(0,rn.jsxs)(Ba,{item:!0,xs:!0,className:t.input_grid,fullWidth:!0,children:[(0,rn.jsx)(mv,{label:"Kp",onChange:function(e){x(parseFloat(e.target.value))},variant:"outlined",className:t.text_field}),(0,rn.jsx)(mv,{label:"Ki",onChange:function(e){E(parseFloat(e.target.value))},variant:"outlined",className:t.text_field}),(0,rn.jsx)(mv,{label:"Kd",onChange:function(e){T(parseFloat(e.target.value))},variant:"outlined",className:t.text_field})]}),(0,rn.jsx)(ps,{mt:1}),(0,rn.jsx)(Iv,{className:t.apply_button,onClick:function(){s&&(jF.publish({x:c,y:0,z:0}),UF.publish({x:d,y:0,z:0}),VF.publish({x:g,y:0,z:0}),HF.publish({x:b,y:S,z:k}))},variant:"contained",fullWidth:!0,children:"Apply"}),(0,rn.jsx)(Iv,{className:t.apply_button,onClick:function(){},variant:"contained",fullWidth:!0,children:"AEB"})]})},GF=n(8573),qF=n.n(GF),YF=n(1694),XF=n.n(YF),ZF=n(7719),KF=n(6181),JF=n.n(KF),QF=n(3629),$F=n.n(QF),ej=n(2066),tj=n.n(ej),nj=n(298),rj=n.n(nj),ij=n(6769),oj=n.n(ij),aj=function(e){return 0===e?0:e>0?1:-1},sj=function(e){return oj()(e)&&e.indexOf("%")===e.length-1},lj=function(e){return rj()(e)&&!tj()(e)},uj=function(e){return lj(e)||oj()(e)},cj=0,hj=function(e){var t=++cj;return"".concat(e||"").concat(t)},pj=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!lj(e)&&!oj()(e))return r;if(sj(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return tj()(n)&&(n=r),i&&n>t&&(n=t),n},fj=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},dj=function(e,t){return lj(e)&&lj(t)?function(n){return e+n*(t-e)}:function(){return t}};function mj(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):JF()(e,t))===n})):null}var vj=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};function gj(){return gj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gj.apply(this,arguments)}function yj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(p2){i=!0,o=p2}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bj=(0,i.forwardRef)((function(e,t){var n=e.aspect,r=e.width,o=void 0===r?"100%":r,a=e.height,s=void 0===a?"100%":a,l=e.minWidth,u=e.minHeight,c=e.maxHeight,h=e.children,p=e.debounce,f=void 0===p?0:p,d=e.id,m=e.className,v=yj((0,i.useState)({containerWidth:-1,containerHeight:-1}),2),g=v[0],y=v[1],_=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,(function(){return _}),[_]);var b=yj((0,i.useState)(!1),2),x=b[0],w=b[1],S=function(){return _.current?{containerWidth:_.current.clientWidth,containerHeight:_.current.clientHeight}:null},E=function(){if(x){var e=S();if(e){var t=g.containerWidth,n=g.containerHeight,r=e.containerWidth,i=e.containerHeight;r===t&&i===n||y({containerWidth:r,containerHeight:i})}}},M=f>0?qF()(E,f):E;(0,i.useEffect)((function(){if(x){var e=S();e&&y(e)}}),[x]),(0,i.useEffect)((function(){w(!0)}),[]);var k={width:o,height:s,minWidth:l,minHeight:u,maxHeight:c};return i.createElement(ZF.ZP,{handleWidth:!0,handleHeight:!0,onResize:M,targetRef:_},i.createElement("div",gj({},null!=d?{id:"".concat(d)}:{},{className:XF()("recharts-responsive-container",m),style:k,ref:_}),function(){var e=g.containerWidth,t=g.containerHeight;if(e<0||t<0)return null;vj(sj(o)||sj(s),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",o,s),vj(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=sj(o)?e:o,a=sj(s)?t:s;return n&&n>0&&(r?a=r/n:a&&(r=a*n),c&&a>c&&(a=c)),vj(r>0||a>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,a,o,s,l,u,n),(0,i.cloneElement)(h,{width:r,height:a})}()))})),xj=n(2730),wj=n.n(xj),Sj=n(1211),Ej=n.n(Sj),Mj=n(4786),kj=n.n(Mj),Tj=n(3038),Aj=n.n(Tj),Cj=n(4286),Pj=n.n(Cj),Oj=n(6222),Rj=n.n(Oj),Ij=n(5633),Lj=n.n(Ij),Dj=n(5127),zj=n.n(Dj),Nj=n(8092),Bj=n.n(Nj);function Fj(e){return Fj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fj(e)}var jj=["viewBox","children"],Uj=["className","color","height","id","lang","max","media","method","min","name","style","target","type","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","points","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Vj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Hj=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,i.isValidElement)(e)&&(r=e.props),!Bj()(r))return null;var o={};return Object.keys(r).forEach((function(e){(Uj.includes(e)||n&&jj.includes(e)||t&&Vj.includes(e))&&(o[e]=r[e])})),o},Wj=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,i.isValidElement)(e)&&(n=e.props),!Bj()(n))return null;var r={};return Object.keys(n).forEach((function(e){Vj.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})})),r},Gj=function(e,t,n){if(!Bj()(e)||"object"!==Fj(e))return null;var r=null;return Object.keys(e).forEach((function(i){var o=e[i];Vj.includes(i)&&"function"===typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))})),r};function qj(){return qj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qj.apply(this,arguments)}function Yj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xj(e){var t=e.children,n=e.width,r=e.height,o=e.viewBox,a=e.className,s=e.style,l=Yj(e,["children","width","height","viewBox","className","style"]),u=o||{width:n,height:r,x:0,y:0},c=XF()("recharts-surface",a);return i.createElement("svg",qj({},Hj(l,!0,!0),{className:c,width:n,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height),version:"1.1"}),t)}function Zj(){return Zj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zj.apply(this,arguments)}function Kj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jj(e){var t=e.children,n=e.className,r=Kj(e,["children","className"]),o=XF()("recharts-layer",n);return i.createElement("g",Zj({className:o},Hj(r,!0)),t)}var Qj=n(6339),$j=n.n(Qj),eU=n(5244),tU=n(5475),nU=n.n(tU);function rU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1,r=function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):nU()(r)};nU()(r)}function iU(e){return iU="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iU(e)}function oU(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return aU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aU(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sU(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=oU(r),o=i[0],a=i.slice(1);return"number"===typeof o?void rU(n.bind(null,a),o):(n(o),void rU(n.bind(null,a)))}"object"===iU(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function lU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lU(Object(n),!0).forEach((function(t){cU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hU=["Webkit","Moz","O","ms"],pU=["-webkit-","-moz-","-o-","-ms-"],fU=["transform","transformOrigin","transition"],dU=function(e){return e},mU=function(e,t){return Object.keys(t).reduce((function(n,r){return uU(uU({},n),{},cU({},r,e(r,t[r])))}),{})},vU=function(e){return Object.keys(e).reduce((function(e,t){return uU(uU({},e),function(e,t){if(-1===fU.indexOf(e))return cU({},e,t);var n="transition"===e,r=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),i=t;return hU.reduce((function(e,o,a){return n&&(i=t.replace(/(transform|transform-origin)/gim,"".concat(pU[a],"$1"))),uU(uU({},e),{},cU({},o+r,i))}),{})}(t,e[t]))}),e)},gU=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function yU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(p2){i=!0,o=p2}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||bU(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _U(e){return function(e){if(Array.isArray(e))return xU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||bU(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bU(e,t){if(e){if("string"===typeof e)return xU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xU(e,t):void 0}}function xU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wU=1e-4,SU=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},EU=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},MU=function(e,t){return function(n){var r=SU(e,t);return EU(r,n)}},kU=function(e,t){return function(n){var r=SU(e,t),i=[].concat(_U(r.map((function(e,t){return e*t})).slice(1)),[0]);return EU(i,n)}},TU=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),u=yU(l,4);r=u[0],i=u[1],o=u[2],a=u[3]}}[r,o,i,a].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var c=MU(r,o),h=MU(i,a),p=kU(r,o),f=function(e){return e>1?1:e<0?0:e},d=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=c(n)-t,o=p(n);if(Math.abs(i-t)<wU||o<wU)return h(n);n=f(n-i/o)}return h(n)};return d.isStepper=!1,d},AU=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<wU&&Math.abs(o)<wU?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s};function CU(e){return function(e){if(Array.isArray(e))return DU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||LU(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PU(Object(n),!0).forEach((function(t){RU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(p2){i=!0,o=p2}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||LU(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LU(e,t){if(e){if("string"===typeof e)return DU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DU(e,t):void 0}}function DU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zU=function(e,t,n){return e+(t-e)*n},NU=function(e){return e.from!==e.to},BU=function e(t,n,r){var i=mU((function(e,n){if(NU(n)){var r=IU(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return OU(OU({},n),{},{from:i,velocity:o})}return n}),n);return r<1?mU((function(e,t){return NU(t)?OU(OU({},t),{},{velocity:zU(t.velocity,i[e].velocity,r),from:zU(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)},FU=function(e,t,n,r,i){var o,a,s,l,u=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),c=u.reduce((function(n,r){return OU(OU({},n),{},RU({},r,[e[r],t[r]]))}),{}),h=u.reduce((function(n,r){return OU(OU({},n),{},RU({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),p=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;h=BU(n,h,o),i(OU(OU(OU({},e),t),mU((function(e,t){return t.from}),h))),s=r,Object.values(h).filter(NU).length&&(p=nU()(f))}:function(o){l||(l=o);var a=(o-l)/r,s=mU((function(e,t){return zU.apply(void 0,CU(t).concat([n(a)]))}),c);if(i(OU(OU(OU({},e),t),s)),a<1)p=nU()(f);else{var u=mU((function(e,t){return zU.apply(void 0,CU(t).concat([n(1)]))}),c);i(OU(OU(OU({},e),t),u))}},function(){return nU()(f),function(){(0,tU.cancel)(p)}}};function jU(e){return jU="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jU(e)}function UU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VU(e){return function(e){if(Array.isArray(e))return HU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return HU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HU(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WU(Object(n),!0).forEach((function(t){qU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XU(e,t){return XU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},XU(e,t)}function ZU(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=QU(e);if(t){var i=QU(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return KU(this,n)}}function KU(e,t){return!t||"object"!==jU(t)&&"function"!==typeof t?JU(e):t}function JU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QU(e){return QU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},QU(e)}var $U=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XU(e,t)}(a,e);var t,n,r,o=ZU(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=o.call(this,e,t)).props,i=r.isActive,s=r.attributeName,l=r.from,u=r.to,c=r.steps,h=r.children;if(n.handleStyleChange=n.handleStyleChange.bind(JU(n)),n.changeStyle=n.changeStyle.bind(JU(n)),!i)return n.state={style:{}},"function"===typeof h&&(n.state={style:u}),KU(n);if(c&&c.length)n.state={style:c[0].style};else if(l){if("function"===typeof h)return n.state={style:l},KU(n);n.state={style:s?qU({},s,l):l}}else n.state={style:{}};return n}return t=a,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate;if(r)if(n){if(!((0,eU.deepEqual)(e.to,this.props.to)&&e.canBegin&&e.isActive)){var a=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var s=a||o?this.props.from:e.to;if(this.state&&this.state.style){var l={style:i?qU({},i,s):s};(i&&this.state.style[i]!==s||!i&&this.state.style!==s)&&this.setState(l)}this.runAnimation(GU(GU({},this.props),{},{from:s,begin:0}))}}else{var u={style:i?qU({},i,this.props.to):this.props.to};this.state&&this.state.style&&(i&&this.state.style[i]!==this.props.to||!i&&this.state.style!==this.props.to)&&this.setState(u)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation()}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,u=FU(n,r,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TU(r);case"spring":return AU();default:if("cubic-bezier"===r.split("(")[0])return TU(r)}return"function"===typeof r?r:null}(o),i,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=u()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([i].concat(VU(n.reduce((function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,u=r.properties,c=r.onAnimationEnd,h=i>0?n[i-1]:r,p=u||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(VU(e),[t.runJSAnimation.bind(t,{from:h.style,to:l,duration:o,easing:s}),o]);var f=gU(p,o,s),d=GU(GU(GU({},h.style),l),{},{transition:f});return[].concat(VU(e),[d,o,c]).filter(dU)}),[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=sU());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,u=e.children,c=this.manager;if(this.unSubscribe=c.subscribe(this.handleStyleChange),"function"!==typeof o&&"function"!==typeof u&&"spring"!==o)if(l.length>1)this.runStepAnimation(e);else{var h=r?qU({},r,i):i,p=gU(Object.keys(h),n,o);c.start([a,t,GU(GU({},h),{},{transition:p}),n,s])}else this.runJSAnimation(e)}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration,e.attributeName,e.easing,e.isActive),r=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,UU(e,["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"])),o=i.Children.count(t),a=vU(this.state.style);if("function"===typeof t)return t(a);if(!n||0===o)return t;var s=function(e){var t=e.props,n=t.style,o=void 0===n?{}:n,s=t.className;return(0,i.cloneElement)(e,GU(GU({},r),{},{style:GU(GU({},o),a),className:s}))};return 1===o?s(i.Children.only(t)):i.createElement("div",null,i.Children.map(t,(function(e){return s(e)})))}}],n&&YU(t.prototype,n),r&&YU(t,r),a}(i.PureComponent);$U.displayName="Animate",$U.propTypes={from:XI().oneOfType([XI().object,XI().string]),to:XI().oneOfType([XI().object,XI().string]),attributeName:XI().string,duration:XI().number,begin:XI().number,easing:XI().oneOfType([XI().string,XI().func]),steps:XI().arrayOf(XI().shape({duration:XI().number.isRequired,style:XI().object.isRequired,easing:XI().oneOfType([XI().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),XI().func]),properties:XI().arrayOf("string"),onAnimationEnd:XI().func})),children:XI().oneOfType([XI().node,XI().func]),isActive:XI().bool,canBegin:XI().bool,onAnimationEnd:XI().func,shouldReAnimate:XI().bool,onAnimationStart:XI().func,onAnimationReStart:XI().func},$U.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};var eV=$U,tV=n(5937);function nV(e){return nV="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nV(e)}function rV(){return rV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rV.apply(this,arguments)}function iV(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oV(Object(n),!0).forEach((function(t){sV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sV(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cV(e,t){return cV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cV(e,t)}function hV(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fV(e);if(t){var i=fV(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pV(this,n)}}function pV(e,t){return!t||"object"!==nV(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fV(e){return fV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fV(e)}void 0===Number.isFinite&&(Number.isFinite=function(e){return"number"===typeof e&&isFinite(e)});var dV=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.steps,n=e.duration;return t&&t.length?t.reduce((function(e,t){return e+(Number.isFinite(t.duration)&&t.duration>0?t.duration:0)}),0):Number.isFinite(n)?n:0},mV=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cV(e,t)}(a,e);var t,n,r,o=hV(a);function a(){var e;lV(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={isActive:!1},e.handleEnter=function(t,n){var r=e.props,i=r.appearOptions,o=r.enterOptions;e.handleStyleActive(n?i:o)},e.handleExit=function(){e.handleStyleActive(e.props.leaveOptions)},e}return t=a,n=[{key:"handleStyleActive",value:function(e){if(e){var t=e.onAnimationEnd?function(){e.onAnimationEnd()}:null;this.setState(aV(aV({},e),{},{onAnimationEnd:t,isActive:!0}))}}},{key:"parseTimeout",value:function(){var e=this.props,t=e.appearOptions,n=e.enterOptions,r=e.leaveOptions;return dV(t)+dV(n)+dV(r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=(t.appearOptions,t.enterOptions,t.leaveOptions,iV(t,["children","appearOptions","enterOptions","leaveOptions"]));return i.createElement(tV.Transition,rV({},r,{onEnter:this.handleEnter,onExit:this.handleExit,timeout:this.parseTimeout()}),(function(){return i.createElement(eV,e.state,i.Children.only(n))}))}}],n&&uV(t.prototype,n),r&&uV(t,r),a}(i.Component);mV.propTypes={appearOptions:XI().object,enterOptions:XI().object,leaveOptions:XI().object,children:XI().element};var vV=mV;function gV(e){var t=e.component,n=e.children,r=e.appear,o=e.enter,a=e.leave;return i.createElement(tV.TransitionGroup,{component:t},i.Children.map(n,(function(e,t){return i.createElement(vV,{appearOptions:r,enterOptions:o,leaveOptions:a,key:"child-".concat(t)},e)})))}gV.propTypes={appear:XI().object,enter:XI().object,leave:XI().object,children:XI().oneOfType([XI().array,XI().element]),component:XI().any},gV.defaultProps={component:"span"};var yV=eV;function _V(e){return _V="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_V(e)}function bV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(p2){i=!0,o=p2}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return xV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xV(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wV(Object(n),!0).forEach((function(t){EV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function EV(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TV(e,t){return TV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},TV(e,t)}function AV(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=PV(e);if(t){var i=PV(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return CV(this,n)}}function CV(e,t){return!t||"object"!==_V(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function PV(e){return PV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},PV(e)}function OV(e){return $F()(e)&&uj(e[0])&&uj(e[1])?e.join(" ~ "):e}var RV=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TV(e,t)}(a,e);var t,n,r,o=AV(a);function a(){return MV(this,a),o.apply(this,arguments)}return t=a,n=[{key:"renderContent",value:function(){var e=this.props,t=e.payload,n=e.separator,r=e.formatter,o=e.itemStyle,a=e.itemSorter;if(t&&t.length){var s=(a?Pj()(t,a):t).map((function(e,a){if("none"===e.type)return null;var s=SV({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},o),l=e.formatter||r||OV,u=e.name,c=e.value;if(l){var h=l(c,u,e,a,t);if(Array.isArray(h)){var p=bV(h,2);c=p[0],u=p[1]}else c=h}return i.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(a),style:s},uj(u)?i.createElement("span",{className:"recharts-tooltip-item-name"},u):null,uj(u)?i.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,i.createElement("span",{className:"recharts-tooltip-item-value"},c),i.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return i.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},s)}return null}},{key:"render",value:function(){var e=this.props,t=e.wrapperClassName,n=e.contentStyle,r=e.labelClassName,o=e.labelStyle,a=e.label,s=e.labelFormatter,l=e.payload,u=SV({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),c=SV({margin:0},o),h=!Lj()(a),p=h?a:"",f=XF()("recharts-default-tooltip",t),d=XF()("recharts-tooltip-label",r);return h&&s&&(p=s(a,l)),i.createElement("div",{className:f,style:u},i.createElement("p",{className:d,style:c},i.isValidElement(p)?p:"".concat(p)),this.renderContent())}}],n&&kV(t.prototype,n),r&&kV(t,r),a}(i.PureComponent);RV.displayName="DefaultTooltipContent",RV.defaultProps={separator:" : ",contentStyle:{},itemStyle:{},labelStyle:{}};var IV={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return IV[e]},set:function(e,t){if("string"===typeof e)IV[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){IV[t]=e[t]}))}}};function LV(e){return LV="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LV(e)}function DV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DV(Object(n),!0).forEach((function(t){NV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NV(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jV(e,t){return jV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jV(e,t)}function UV(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=HV(e);if(t){var i=HV(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return VV(this,n)}}function VV(e,t){return!t||"object"!==LV(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function HV(e){return HV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},HV(e)}var WV="recharts-tooltip-wrapper";function GV(e){return e.dataKey}var qV=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jV(e,t)}(a,e);var t,n,r,o=UV(a);function a(){var e;BV(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={boxWidth:-1,boxHeight:-1},e.wrapperNode=void 0,e.getTranslate=function(t){var n=t.key,r=t.tooltipDimension,i=t.viewBoxDimension,o=e.props,a=o.allowEscapeViewBox,s=o.coordinate,l=o.offset,u=o.position,c=o.viewBox;if(u&&lj(u[n]))return u[n];var h=s[n]-r-l,p=s[n]+l;return a[n]?p:s[n]+r+l>c[n]+i?Math.max(h,c[n]):Math.max(p,c[n])},e}return t=a,n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"updateBBox",value:function(){var e=this.state,t=e.boxWidth,n=e.boxHeight;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-t)>1||Math.abs(r.height-n)>1)&&this.setState({boxWidth:r.width,boxHeight:r.height})}else-1===t&&-1===n||this.setState({boxWidth:-1,boxHeight:-1})}},{key:"render",value:function(){var e,t,n,r=this,o=this.props,a=o.payload,s=o.isAnimationActive,l=o.animationDuration,u=o.animationEasing,c=o.filterNull,h=function(e,t){return!0===e?$j()(t,GV):kj()(e)?$j()(t,e):t}(o.payloadUniqBy,c&&a&&a.length?a.filter((function(e){return!Lj()(e.value)})):a),p=h&&h.length,f=this.props,d=f.content,m=f.viewBox,v=f.coordinate,g=f.position,y=f.active,_=zV({pointerEvents:"none",visibility:y&&p?"visible":"hidden",position:"absolute",top:0,left:0},f.wrapperStyle);if(g&&lj(g.x)&&lj(g.y))t=g.x,n=g.y;else{var b=this.state,x=b.boxWidth,w=b.boxHeight;x>0&&w>0&&v?(t=this.getTranslate({key:"x",tooltipDimension:x,viewBoxDimension:m.width}),n=this.getTranslate({key:"y",tooltipDimension:w,viewBoxDimension:m.height})):_.visibility="hidden"}_=zV(zV({},vU({transform:this.props.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")})),_),s&&y&&(_=zV(zV({},vU({transition:"transform ".concat(l,"ms ").concat(u)})),_));var S=XF()(WV,(NV(e={},"".concat(WV,"-right"),lj(t)&&v&&lj(v.x)&&t>=v.x),NV(e,"".concat(WV,"-left"),lj(t)&&v&&lj(v.x)&&t<v.x),NV(e,"".concat(WV,"-bottom"),lj(n)&&v&&lj(v.y)&&n>=v.y),NV(e,"".concat(WV,"-top"),lj(n)&&v&&lj(v.y)&&n<v.y),e));return i.createElement("div",{className:S,style:_,ref:function(e){r.wrapperNode=e}},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):kj()(e)?i.createElement(e,t):i.createElement(RV,t)}(d,zV(zV({},this.props),{},{payload:h})))}}],n&&FV(t.prototype,n),r&&FV(t,r),a}(i.PureComponent);qV.displayName="Tooltip",qV.defaultProps={active:!1,allowEscapeViewBox:{x:!1,y:!1},offset:10,viewBox:{x1:0,x2:0,y1:0,y2:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},contentStyle:{},itemStyle:{},labelStyle:{},cursor:!0,trigger:"hover",isAnimationActive:!IV.isSsr,animationEasing:"ease",animationDuration:400,filterNull:!0,useTranslate3d:!1};var YV=n(2085),XV=n.n(YV),ZV=(Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt,Math.PI),KV=2*ZV;var JV={draw:function(e,t){var n=Math.sqrt(t/ZV);e.moveTo(n,0),e.arc(0,0,n,0,KV)}},QV={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},$V=Math.sqrt(1/3),eH=2*$V,tH={draw:function(e,t){var n=Math.sqrt(t/eH),r=n*$V;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},nH={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},rH=Math.sin(ZV/10)/Math.sin(7*ZV/10),iH=Math.sin(KV/10)*rH,oH=-Math.cos(KV/10)*rH,aH={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=iH*n,i=oH*n;e.moveTo(0,-n),e.lineTo(r,i);for(var o=1;o<5;++o){var a=KV*o/5,s=Math.cos(a),l=Math.sin(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},sH=Math.sqrt(3),lH={draw:function(e,t){var n=-Math.sqrt(t/(3*sH));e.moveTo(0,2*n),e.lineTo(-sH*n,-n),e.lineTo(sH*n,-n),e.closePath()}},uH=-.5,cH=Math.sqrt(3)/2,hH=1/Math.sqrt(12),pH=3*(hH/2+1),fH={draw:function(e,t){var n=Math.sqrt(t/pH),r=n/2,i=n*hH,o=r,a=n*hH+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(uH*r-cH*i,cH*r+uH*i),e.lineTo(uH*o-cH*a,cH*o+uH*a),e.lineTo(uH*s-cH*l,cH*s+uH*l),e.lineTo(uH*r+cH*i,uH*i-cH*r),e.lineTo(uH*o+cH*a,uH*a-cH*o),e.lineTo(uH*s+cH*l,uH*l-cH*s),e.closePath()}},dH=Math.PI,mH=2*dH,vH=1e-6,gH=mH-vH;function yH(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function _H(){return new yH}yH.prototype=_H.prototype={constructor:yH,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,l=r-t,u=o-e,c=a-t,h=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>vH)if(Math.abs(c*s-l*u)>vH&&i){var p=n-o,f=r-a,d=s*s+l*l,m=p*p+f*f,v=Math.sqrt(d),g=Math.sqrt(h),y=i*Math.tan((dH-Math.acos((d+h-m)/(2*v*g)))/2),_=y/g,b=y/v;Math.abs(_-1)>vH&&(this._+="L"+(e+_*u)+","+(t+_*c)),this._+="A"+i+","+i+",0,0,"+ +(c*p>u*f)+","+(this._x1=e+b*s)+","+(this._y1=t+b*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=e+a,u=t+s,c=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>vH||Math.abs(this._y1-u)>vH)&&(this._+="L"+l+","+u),n&&(h<0&&(h=h%mH+mH),h>gH?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):h>vH&&(this._+="A"+n+","+n+",0,"+ +(h>=dH)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var bH=_H;function xH(e){return function(){return e}}function wH(e){return wH="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wH(e)}function SH(){return SH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SH.apply(this,arguments)}function EH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kH(e,t){return kH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},kH(e,t)}function TH(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=CH(e);if(t){var i=CH(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return AH(this,n)}}function AH(e,t){return!t||"object"!==wH(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function CH(e){return CH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},CH(e)}var PH={symbolCircle:JV,symbolCross:QV,symbolDiamond:tH,symbolSquare:nH,symbolStar:aH,symbolTriangle:lH,symbolWye:fH},OH=Math.PI/180,RH=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kH(e,t)}(a,e);var t,n,r,o=TH(a);function a(){return EH(this,a),o.apply(this,arguments)}return t=a,n=[{key:"getPath",value:function(){var e=this.props,t=e.size,n=e.sizeType,r=e.type,i=function(e){var t="symbol".concat(XV()(e));return PH[t]||JV}(r),o=function(e,t){var n=null;function r(){var r;if(n||(n=r=bH()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"===typeof e?e:xH(e||JV),t="function"===typeof t?t:xH(void 0===t?64:+t),r.type=function(t){return arguments.length?(e="function"===typeof t?t:xH(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:xH(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}().type(i).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*OH;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(t,n,r));return o()}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cx,r=e.cy,o=e.size;return n===+n&&r===+r&&o===+o?i.createElement("path",SH({},Hj(this.props,!0),{className:XF()("recharts-symbols",t),transform:"translate(".concat(n,", ").concat(r,")"),d:this.getPath()})):null}}],n&&MH(t.prototype,n),r&&MH(t,r),a}(i.PureComponent);function IH(e){return IH="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IH(e)}function LH(){return LH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LH.apply(this,arguments)}function DH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FH(e,t){return FH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},FH(e,t)}function jH(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=VH(e);if(t){var i=VH(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return UH(this,n)}}function UH(e,t){return!t||"object"!==IH(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function VH(e){return VH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},VH(e)}RH.defaultProps={type:"circle",size:64,sizeType:"area"},RH.registerSymbol=function(e,t){PH["symbol".concat(XV()(e))]=t};var HH=32,WH=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FH(e,t)}(a,e);var t,n,r,o=jH(a);function a(){return NH(this,a),o.apply(this,arguments)}return t=a,n=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=HH/6,o=HH/3,a=e.inactive?t:e.color;if("plainline"===e.type)return i.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:HH,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return i.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(n,"h").concat(o,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*o,",").concat(n,"\n            H").concat(HH,"M").concat(2*o,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(o,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return i.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(HH,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(i.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DH(Object(n),!0).forEach((function(t){zH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete s.legendIcon,i.cloneElement(e.legendIcon,s)}return i.createElement(RH,{fill:a,cx:n,cy:n,size:HH,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,o=t.layout,a=t.formatter,s=t.inactiveColor,l={x:0,y:0,width:HH,height:HH},u={display:"horizontal"===o?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var o,h=t.formatter||a,p=XF()((zH(o={"recharts-legend-item":!0},"legend-item-".concat(n),!0),zH(o,"inactive",t.inactive),o));if("none"===t.type)return null;var f=t.inactive?s:t.color;return i.createElement("li",LH({className:p,style:u,key:"legend-item-".concat(n)},Gj(e.props,t,n)),i.createElement(Xj,{width:r,height:r,viewBox:l,style:c},e.renderIcon(t)),i.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},h?h(t.value,t,n):t.value))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return i.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],n&&BH(t.prototype,n),r&&BH(t,r),a}(i.PureComponent);function GH(e){return GH="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GH(e)}function qH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qH(Object(n),!0).forEach((function(t){XH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JH(e,t){return JH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},JH(e,t)}function QH(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=eW(e);if(t){var i=eW(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $H(this,n)}}function $H(e,t){return!t||"object"!==GH(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eW(e){return eW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},eW(e)}function tW(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nW(e){return e.value}function rW(e,t){return!0===e?$j()(t,nW):kj()(e)?$j()(t,e):t}WH.displayName="Legend",WH.defaultProps={iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"};var iW=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JH(e,t)}(a,e);var t,n,r,o=QH(a);function a(){var e;ZH(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).wrapperNode=void 0,e.state={boxWidth:-1,boxHeight:-1},e}return t=a,n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"getBBoxSnapshot",value:function(){var e=this.state,t=e.boxWidth,n=e.boxHeight;return t>=0&&n>=0?{width:t,height:n}:null}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,u=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((l||0)-(this.getBBoxSnapshot()||{width:0}).width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((u||0)-(this.getBBoxSnapshot()||{height:0}).height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),YH(YH({},t),n)}},{key:"updateBBox",value:function(){var e=this.state,t=e.boxWidth,n=e.boxHeight,r=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-t)>1||Math.abs(i.height-n)>1)&&this.setState({boxWidth:i.width,boxHeight:i.height},(function(){r&&r(i)}))}else-1===t&&-1===n||this.setState({boxWidth:-1,boxHeight:-1},(function(){r&&r(null)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,o=t.height,a=t.wrapperStyle,s=t.payloadUniqBy,l=t.payload,u=YH(YH({position:"absolute",width:r||"auto",height:o||"auto"},this.getDefaultPosition(a)),a);return i.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(t){e.wrapperNode=t}},function(e,t){if(i.isValidElement(e))return i.cloneElement(e,t);if(kj()(e))return i.createElement(e,t);t.ref;var n=tW(t,["ref"]);return i.createElement(WH,n)}(n,YH(YH({},this.props),{},{payload:rW(s,l)})))}}],r=[{key:"getWithHeight",value:function(e,t){var n=e.props.layout;return"vertical"===n&&lj(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],n&&KH(t.prototype,n),r&&KH(t,r),a}(i.PureComponent);function oW(){}function aW(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function sW(e){this._context=e}function lW(e){this._context=e}function uW(e){this._context=e}function cW(e){this._context=e}function hW(e){this._context=e}function pW(e){return new hW(e)}function fW(e){return e<0?-1:1}function dW(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(fW(o)+fW(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function mW(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function vW(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function gW(e){this._context=e}function yW(e){this._context=new _W(e)}function _W(e){this._context=e}function bW(e){this._context=e}function xW(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function wW(e,t){this._context=e,this._t=t}iW.displayName="Legend",iW.defaultProps={iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"},sW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:aW(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:aW(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},lW.prototype={areaStart:oW,areaEnd:oW,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:aW(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},uW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:aW(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},cW.prototype={areaStart:oW,areaEnd:oW,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},hW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},gW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vW(this,this._t0,mW(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,vW(this,mW(this,n=dW(this,e,t)),n);break;default:vW(this,this._t0,n=dW(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(yW.prototype=Object.create(gW.prototype)).point=function(e,t){gW.prototype.point.call(this,t,e)},_W.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},bW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=xW(e),i=xW(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},wW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};Array.prototype.slice;function SW(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function EW(e){return e[0]}function MW(e){return e[1]}function kW(e,t){var n=xH(!0),r=null,i=pW,o=null;function a(a){var s,l,u,c=(a=SW(a)).length,h=!1;for(null==r&&(o=i(u=bH())),s=0;s<=c;++s)!(s<c&&n(l=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(l,s,a),+t(l,s,a));if(u)return o=null,u+""||null}return e="function"===typeof e?e:void 0===e?EW:xH(e),t="function"===typeof t?t:void 0===t?MW:xH(t),a.x=function(t){return arguments.length?(e="function"===typeof t?t:xH(+t),a):e},a.y=function(e){return arguments.length?(t="function"===typeof e?e:xH(+e),a):t},a.defined=function(e){return arguments.length?(n="function"===typeof e?e:xH(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a}function TW(e,t,n){var r=null,i=xH(!0),o=null,a=pW,s=null;function l(l){var u,c,h,p,f,d=(l=SW(l)).length,m=!1,v=new Array(d),g=new Array(d);for(null==o&&(s=a(f=bH())),u=0;u<=d;++u){if(!(u<d&&i(p=l[u],u,l))===m)if(m=!m)c=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=c;--h)s.point(v[h],g[h]);s.lineEnd(),s.areaEnd()}m&&(v[u]=+e(p,u,l),g[u]=+t(p,u,l),s.point(r?+r(p,u,l):v[u],n?+n(p,u,l):g[u]))}if(f)return s=null,f+""||null}function u(){return kW().defined(i).curve(a).context(o)}return e="function"===typeof e?e:void 0===e?EW:xH(+e),t="function"===typeof t?t:xH(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?MW:xH(+n),l.x=function(t){return arguments.length?(e="function"===typeof t?t:xH(+t),r=null,l):e},l.x0=function(t){return arguments.length?(e="function"===typeof t?t:xH(+t),l):e},l.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:xH(+e),l):r},l.y=function(e){return arguments.length?(t="function"===typeof e?e:xH(+e),n=null,l):t},l.y0=function(e){return arguments.length?(t="function"===typeof e?e:xH(+e),l):t},l.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:xH(+e),l):n},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(n)},l.lineX1=function(){return u().x(r).y(t)},l.defined=function(e){return arguments.length?(i="function"===typeof e?e:xH(!!e),l):i},l.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),l):a},l.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),l):o},l}function AW(e){return AW="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AW(e)}function CW(){return CW=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CW.apply(this,arguments)}function PW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PW(Object(n),!0).forEach((function(t){RW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DW(e,t){return DW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},DW(e,t)}function zW(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=BW(e);if(t){var i=BW(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return NW(this,n)}}function NW(e,t){return!t||"object"!==AW(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function BW(e){return BW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},BW(e)}var FW={curveBasisClosed:function(e){return new lW(e)},curveBasisOpen:function(e){return new uW(e)},curveBasis:function(e){return new sW(e)},curveLinearClosed:function(e){return new cW(e)},curveLinear:pW,curveMonotoneX:function(e){return new gW(e)},curveMonotoneY:function(e){return new yW(e)},curveNatural:function(e){return new bW(e)},curveStep:function(e){return new wW(e,.5)},curveStepAfter:function(e){return new wW(e,1)},curveStepBefore:function(e){return new wW(e,0)}},jW=function(e){return e.x===+e.x&&e.y===+e.y},UW=function(e){return e.x},VW=function(e){return e.y},HW=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DW(e,t)}(a,e);var t,n,r,o=zW(a);function a(){return IW(this,a),o.apply(this,arguments)}return t=a,n=[{key:"getPath",value:function(){var e,t=this.props,n=t.type,r=t.points,i=t.baseLine,o=t.layout,a=t.connectNulls,s=function(e,t){if(kj()(e))return e;var n="curve".concat(XV()(e));return"curveMonotone"===n&&t?FW["".concat(n).concat("vertical"===t?"Y":"X")]:FW[n]||pW}(n,o),l=a?r.filter((function(e){return jW(e)})):r;if($F()(i)){var u=a?i.filter((function(e){return jW(e)})):i,c=l.map((function(e,t){return OW(OW({},e),{},{base:u[t]})}));return(e="vertical"===o?TW().y(VW).x1(UW).x0((function(e){return e.base.x})):TW().x(UW).y1(VW).y0((function(e){return e.base.y}))).defined(jW).curve(s),e(c)}return(e="vertical"===o&&lj(i)?TW().y(VW).x1(UW).x0(i):lj(i)?TW().x(UW).y1(VW).y0(i):kW().x(UW).y(VW)).defined(jW).curve(s),e(l)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.points,r=e.path,o=e.pathRef;if((!n||!n.length)&&!r)return null;var a=n&&n.length?this.getPath():r;return i.createElement("path",CW({},Hj(this.props),Wj(this.props),{className:XF()("recharts-curve",t),d:a,ref:o}))}}],n&&LW(t.prototype,n),r&&LW(t,r),a}(i.PureComponent);function WW(e){return WW="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WW(e)}function GW(){return GW=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GW.apply(this,arguments)}function qW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XW(e,t){return XW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},XW(e,t)}function ZW(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=JW(e);if(t){var i=JW(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return KW(this,n)}}function KW(e,t){return!t||"object"!==WW(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function JW(e){return JW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},JW(e)}HW.defaultProps={type:"linear",points:[],connectNulls:!1};var QW=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XW(e,t)}(a,e);var t,n,r,o=ZW(a);function a(){return qW(this,a),o.apply(this,arguments)}return t=a,n=[{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,s=e.top,l=e.left,u=e.className;return lj(t)&&lj(n)&&lj(r)&&lj(o)&&lj(s)&&lj(l)?i.createElement("path",GW({},Hj(this.props,!0),{className:XF()("recharts-cross",u),d:a.getPath(t,n,r,o,s,l)})):null}}],r=[{key:"getPath",value:function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)}}],n&&YW(t.prototype,n),r&&YW(t,r),a}(i.PureComponent);function $W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$W(Object(n),!0).forEach((function(t){tG(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}QW.defaultProps={x:0,y:0,top:0,left:0,width:0,height:0};var nG=Math.PI/180,rG=function(e){return 180*e/Math.PI},iG=function(e,t,n,r){return{x:e+Math.cos(-nG*r)*n,y:t+Math.sin(-nG*r)*n}},oG=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:rG(l),angleInRadian:l}},aG=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},sG=function(e,t){var n=e.x,r=e.y,i=oG({x:n,y:r},t),o=i.radius,a=i.angle,s=t.innerRadius,l=t.outerRadius;if(o<s||o>l)return!1;if(0===o)return!0;var u,c=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),h=c.startAngle,p=c.endAngle,f=a;if(h<=p){for(;f>p;)f-=360;for(;f<h;)f+=360;u=f>=h&&f<=p}else{for(;f>h;)f-=360;for(;f<p;)f+=360;u=f>=p&&f<=h}return u?eG(eG({},t),{},{radius:o,angle:aG(f,t)}):null};function lG(e){return lG="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lG(e)}function uG(){return uG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uG.apply(this,arguments)}function cG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pG(e,t){return pG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pG(e,t)}function fG(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mG(e);if(t){var i=mG(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dG(this,n)}}function dG(e,t){return!t||"object"!==lG(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mG(e){return mG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mG(e)}var vG=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,u=s*(a?1:-1)+r,c=Math.asin(s/u)/nG,h=l?i:i+o*c,p=l?i-o*c:i;return{center:iG(t,n,u,h),circleTangency:iG(t,n,r,h),lineTangency:iG(t,n,u*Math.cos(c*nG),p),theta:c}},gG=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return aj(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,l=iG(t,n,i,o),u=iG(t,n,i,s),c="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=iG(t,n,r,o),p=iG(t,n,r,s);c+="L ".concat(p.x,",").concat(p.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(h.x,",").concat(h.y," Z")}else c+="L ".concat(t,",").concat(n," Z");return c},yG=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pG(e,t)}(a,e);var t,n,r,o=fG(a);function a(){return cG(this,a),o.apply(this,arguments)}return t=a,n=[{key:"render",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,h=e.className;if(o<r||u===c)return null;var p,f=XF()("recharts-sector",h),d=o-r,m=pj(a,d,0,!0);return p=m>0&&Math.abs(u-c)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,u=e.endAngle,c=aj(u-l),h=vG({cx:t,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:s}),p=h.circleTangency,f=h.lineTangency,d=h.theta,m=vG({cx:t,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:s}),v=m.circleTangency,g=m.lineTangency,y=m.theta,_=s?Math.abs(l-u):Math.abs(l-u)-d-y;if(_<0)return a?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):gG({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var b="M ".concat(f.x,",").concat(f.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(c<0),",").concat(v.x,",").concat(v.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(g.x,",").concat(g.y,"\n  ");if(r>0){var x=vG({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),w=x.circleTangency,S=x.lineTangency,E=x.theta,M=vG({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),k=M.circleTangency,T=M.lineTangency,A=M.theta,C=s?Math.abs(l-u):Math.abs(l-u)-E-A;if(C<0&&0===o)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(T.x,",").concat(T.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(k.x,",").concat(k.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(C>180),",").concat(+(c>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(S.x,",").concat(S.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b}({cx:t,cy:n,innerRadius:r,outerRadius:o,cornerRadius:Math.min(m,d/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):gG({cx:t,cy:n,innerRadius:r,outerRadius:o,startAngle:u,endAngle:c}),i.createElement("path",uG({},Hj(this.props,!0),{className:f,d:p}))}}],n&&hG(t.prototype,n),r&&hG(t,r),a}(i.PureComponent);function _G(e){return _G="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_G(e)}function bG(){return bG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bG.apply(this,arguments)}function xG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SG(e,t){return SG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},SG(e,t)}function EG(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kG(e);if(t){var i=kG(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return MG(this,n)}}function MG(e,t){return!t||"object"!==_G(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kG(e){return kG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kG(e)}yG.defaultProps={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1};var TG=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SG(e,t)}(a,e);var t,n,r,o=EG(a);function a(){return xG(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.r,o=e.className,a=XF()("recharts-dot",o);return t===+t&&n===+n&&r===+r?i.createElement("circle",bG({},Hj(this.props),Wj(this.props),{className:a,cx:t,cy:n,r:r})):null}}])&&wG(t.prototype,n),r&&wG(t,r),a}(i.PureComponent);function AG(e){return AG="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AG(e)}function CG(){return CG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CG.apply(this,arguments)}function PG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RG(e,t){return RG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},RG(e,t)}function IG(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=DG(e);if(t){var i=DG(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return LG(this,n)}}function LG(e,t){return!t||"object"!==AG(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function DG(e){return DG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},DG(e)}var zG=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var c=[0,0,0,0],h=0;h<4;h++)c[h]=i[h]>a?a:i[h];o="M".concat(e,",").concat(t+s*c[0]),c[0]>0&&(o+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(e+l*c[0],",").concat(t)),o+="L ".concat(e+n-l*c[1],",").concat(t),c[1]>0&&(o+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,",\n        ").concat(e+n,",").concat(t+s*c[1])),o+="L ".concat(e+n,",").concat(t+r-s*c[2]),c[2]>0&&(o+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,",\n        ").concat(e+n-l*c[2],",").concat(t+r)),o+="L ".concat(e+l*c[3],",").concat(t+r),c[3]>0&&(o+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,",\n        ").concat(e,",").concat(t+r-s*c[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var p=Math.min(a,i);o="M ".concat(e,",").concat(t+s*p,"\n            A ").concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+l*p,",").concat(t,"\n            L ").concat(e+n-l*p,",").concat(t,"\n            A ").concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n,",").concat(t+s*p,"\n            L ").concat(e+n,",").concat(t+r-s*p,"\n            A ").concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n-l*p,",").concat(t+r,"\n            L ").concat(e+l*p,",").concat(t+r,"\n            A ").concat(p,",").concat(p,",0,0,").concat(u,",").concat(e,",").concat(t+r-s*p," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},NG=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(i,i+a),u=Math.max(i,i+a),c=Math.min(o,o+s),h=Math.max(o,o+s);return n>=l&&n<=u&&r>=c&&r<=h}return!1},BG=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RG(e,t)}(a,e);var t,n,r,o=IG(a);function a(){var e;PG(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={totalLength:-1},e.node=void 0,e}return t=a,n=[{key:"componentDidMount",value:function(){if(this.node&&this.node.getTotalLength)try{var e=this.node.getTotalLength();e&&this.setState({totalLength:e})}catch(p2){}}},{key:"render",value:function(){var e=this,t=this.props,n=t.x,r=t.y,o=t.width,a=t.height,s=t.radius,l=t.className,u=this.state.totalLength,c=this.props,h=c.animationEasing,p=c.animationDuration,f=c.animationBegin,d=c.isAnimationActive,m=c.isUpdateAnimationActive;if(n!==+n||r!==+r||o!==+o||a!==+a||0===o||0===a)return null;var v=XF()("recharts-rectangle",l);return m?i.createElement(yV,{canBegin:u>0,from:{width:o,height:a,x:n,y:r},to:{width:o,height:a,x:n,y:r},duration:p,animationEasing:h,isActive:m},(function(t){var n=t.width,r=t.height,o=t.x,a=t.y;return i.createElement(yV,{canBegin:u>0,from:"0px ".concat(-1===u?1:u,"px"),to:"".concat(u,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:p,isActive:d,easing:h},i.createElement("path",CG({},Hj(e.props,!0),{className:v,d:zG(o,a,n,r,s),ref:function(t){e.node=t}})))})):i.createElement("path",CG({},Hj(this.props,!0),{className:v,d:zG(n,r,o,a,s)}))}}],n&&OG(t.prototype,n),r&&OG(t,r),a}(i.PureComponent);BG.defaultProps={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"};var FG=n(8493);function jG(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function UG(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var VG={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},HG=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},WG=null,GG=null,qG=function e(t){if(t===WG&&$F()(GG))return GG;var n=[];return i.Children.forEach(t,(function(t){Lj()(t)||((0,FG.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))})),GG=n,WG=t,n},YG=function(e,t){var n=[],r=[];return r=$F()(t)?t.map((function(e){return HG(e)})):[HG(t)],qG(e).forEach((function(e){var t=JF()(e,"type.displayName")||JF()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n},XG=function(e,t){var n=YG(e,t);return n&&n[0]},ZG=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!lj(n)||n<=0||!lj(r)||r<=0)},KG=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],JG=function(e){return e&&e.type&&oj()(e.type)&&KG.indexOf(e.type)>=0},QG=function e(t,n){if(t===n)return!0;var r=i.Children.count(t);if(r!==i.Children.count(n))return!1;if(0===r)return!0;if(1===r)return $G($F()(t)?t[0]:t,$F()(n)?n[0]:n);for(var o=0;o<r;o++){var a=t[o],s=n[o];if($F()(a)||$F()(s)){if(!e(a,s))return!1}else if(!$G(a,s))return!1}return!0},$G=function(e,t){if(Lj()(e)&&Lj()(t))return!0;if(!Lj()(e)&&!Lj()(t)){var n=e.props||{},r=n.children,i=UG(n,["children"]),o=t.props||{},a=o.children,s=UG(o,["children"]);return r&&a?jG(i,s)&&QG(r,a):!r&&!a&&jG(i,s)}return!1},eq=function(e,t){var n=[],r={};return qG(e).forEach((function(e,i){if(JG(e))n.push(e);else if(e){var o=HG(e.type),a=t[o]||{},s=a.handler,l=a.once;if(s&&(!l||!r[o])){var u=s(e,o,i);n.push(u),r[o]=!0}}})),n};function tq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tq(Object(n),!0).forEach((function(t){rq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iq(e){return function(e){if(Array.isArray(e))return oq(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return oq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oq(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var aq={widthCache:{},cacheCount:0},sq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lq=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],uq="recharts_measurement_span";var cq=function(e){return Object.keys(e).reduce((function(t,n){return"".concat(t).concat((r=n,r.split("").reduce((function(e,t){return t===t.toUpperCase()?[].concat(iq(e),["-",t.toLowerCase()]):[].concat(iq(e),[t])}),[]).join("")),":").concat(function(e,t){return lq.indexOf(e)>=0&&t===+t?"".concat(t,"px"):t}(n,e[n]),";");var r}),"")},hq=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||IV.isSsr)return{width:0,height:0};var n="".concat(e),r=cq(t),i="".concat(n,"-").concat(r);if(aq.widthCache[i])return aq.widthCache[i];try{var o=document.getElementById(uq);o||((o=document.createElement("span")).setAttribute("id",uq),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=nq(nq({},sq),t);Object.keys(a).map((function(e){return o.style[e]=a[e],e})),o.textContent=n;var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return aq.widthCache[i]=l,++aq.cacheCount>2e3&&(aq.cacheCount=0,aq.widthCache={}),l}catch(u){return{width:0,height:0}}},pq=n(2692),fq=n.n(pq);function dq(e){return dq="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dq(e)}function mq(){return mq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mq.apply(this,arguments)}function vq(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _q(e,t){return _q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_q(e,t)}function bq(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wq(e);if(t){var i=wq(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xq(this,n)}}function xq(e,t){return!t||"object"!==dq(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wq(e){return wq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wq(e)}function Sq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(p2){i=!0,o=p2}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Eq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eq(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mq(Object(n),!0).forEach((function(t){Tq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Aq=/[ \f\n\r\t\v\u2028\u2029]+/,Cq=function(e){try{var t=[];return Lj()(e.children)||(t=e.breakAll?e.children.toString().split(""):e.children.toString().split(Aq)),{wordsWithComputedWidth:t.map((function(t){return{word:t,width:hq(t,e.style).width}})),spaceWidth:e.breakAll?0:hq("\xa0",e.style).width}}catch(n){return null}},Pq=function(e){return[{words:Lj()(e)?[]:e.toString().split(Aq)}]},Oq=function(e,t){if((e.width||e.scaleToFit)&&!IV.isSsr&&t){var n=Cq(e);return n?function(e,t,n,r,i){var o=lj(e.maxLines),a=e.children,s=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<r))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e}),[])},l=s(t);if(!o)return l;for(var u,c=function(t){var n=a.slice(0,t),i=Cq(kq(kq({},e),{},{children:n+"\u2026"})).wordsWithComputedWidth,o=s(i),l=o.length>e.maxLines||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(o).width>r;return[l,o]},h=0,p=a.length-1,f=0;h<=p&&f<=a.length-1;){var d=Math.floor((h+p)/2),m=Sq(c(d-1),2),v=m[0],g=m[1],y=Sq(c(d),1)[0];if(v||y||(h=d+1),v&&y&&(p=d-1),!v&&y){u=g;break}f++}return u||l}(e,n.wordsWithComputedWidth,n.spaceWidth,e.width,e.scaleToFit):Pq(e.children)}return Pq(e.children)},Rq=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_q(e,t)}(a,e);var t,n,r,o=bq(a);function a(){var e;gq(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={},e}return t=a,n=[{key:"render",value:function(){var e=this.props,t=e.dx,n=e.dy,r=e.textAnchor,o=e.verticalAnchor,a=e.scaleToFit,s=e.angle,l=e.lineHeight,u=e.capHeight,c=e.className,h=e.breakAll,p=vq(e,["dx","dy","textAnchor","verticalAnchor","scaleToFit","angle","lineHeight","capHeight","className","breakAll"]),f=this.state.wordsByLines;if(!uj(p.x)||!uj(p.y))return null;var d,m=p.x+(lj(t)?t:0),v=p.y+(lj(n)?n:0);switch(o){case"start":d=fq()("calc(".concat(u,")"));break;case"middle":d=fq()("calc(".concat((f.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:d=fq()("calc(".concat(f.length-1," * -").concat(l,")"))}var g=[];if(a){var y=f[0].width,_=this.props.width;g.push("scale(".concat((lj(_)?_/y:1)/y,")"))}return s&&g.push("rotate(".concat(s,", ").concat(m,", ").concat(v,")")),g.length&&(p.transform=g.join(" ")),i.createElement("text",mq({},Hj(p,!0),{x:m,y:v,className:XF()("recharts-text",c),textAnchor:r}),f.map((function(e,t){return i.createElement("tspan",{x:m,dy:0===t?d:l,key:t},e.words.join(h?"":" "))})))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){if(e.width!==t.prevWidth||e.scaleToFit!==t.prevScaleToFit||e.children!==t.prevChildren||e.style!==t.prevStyle||e.breakAll!==t.prevBreakAll){var n=e.children!==t.prevChildren||e.style!==t.prevStyle||e.breakAll!==t.prevBreakAll;return{prevWidth:e.width,prevScaleToFit:e.scaleToFit,prevChildren:e.children,prevStyle:e.style,wordsByLines:Oq(e,n)}}return null}}],n&&yq(t.prototype,n),r&&yq(t,r),a}(i.Component);function Iq(e){return function(e){if(Array.isArray(e))return Lq(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Lq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lq(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dq(Object(n),!0).forEach((function(t){Nq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bq(){return Bq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bq.apply(this,arguments)}Rq.defaultProps={x:0,y:0,lineHeight:"1em",capHeight:"0.71em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end"};var Fq=function(e,t,n){var r,o,a=e.position,s=e.viewBox,l=e.offset,u=e.className,c=s,h=c.cx,p=c.cy,f=c.innerRadius,d=c.outerRadius,m=c.startAngle,v=c.endAngle,g=c.clockWise,y=(f+d)/2,_=function(e,t){return aj(t-e)*Math.min(Math.abs(t-e),360)}(m,v),b=_>=0?1:-1;"insideStart"===a?(r=m+b*l,o=g):"insideEnd"===a?(r=v-b*l,o=!g):"end"===a&&(r=v+b*l,o=g),o=_<=0?o:!o;var x=iG(h,p,y,r),w=iG(h,p,y,r+359*(o?1:-1)),S="M".concat(x.x,",").concat(x.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(o?0:1,",\n    ").concat(w.x,",").concat(w.y),E=Lj()(e.id)?hj("recharts-radial-line-"):e.id;return i.createElement("text",Bq({},n,{dominantBaseline:"central",className:XF()("recharts-radial-bar-label",u)}),i.createElement("defs",null,i.createElement("path",{id:E,d:S})),i.createElement("textPath",{xlinkHref:"#".concat(E)},t))};function jq(e){var t,n=e.viewBox,r=e.position,o=e.value,a=e.children,s=e.content,l=e.className,u=void 0===l?"":l,c=e.textBreakAll;if(!n||Lj()(o)&&Lj()(a)&&!(0,i.isValidElement)(s)&&!kj()(s))return null;if((0,i.isValidElement)(s))return(0,i.cloneElement)(s,e);if(kj()(s)){if(t=(0,i.createElement)(s,e),(0,i.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=Lj()(e.children)?t:e.children;return kj()(n)?n(r):r}(e);var h=function(e){return lj(e.cx)}(n),p=Hj(e,!0);if(h&&("insideStart"===r||"insideEnd"===r||"end"===r))return Fq(e,t,p);var f=h?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,l=i.outerRadius,u=(i.startAngle+i.endAngle)/2;if("outside"===r){var c=iG(o,a,l+n,u),h=c.x;return{x:h,y:c.y,textAnchor:h>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=iG(o,a,(s+l)/2,u);return{x:p.x,y:p.y,textAnchor:"middle",verticalAnchor:"middle"}}(e):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,l=o.width,u=o.height,c=u>=0?1:-1,h=c*r,p=c>0?"end":"start",f=c>0?"start":"end",d=l>=0?1:-1,m=d*r,v=d>0?"end":"start",g=d>0?"start":"end";if("top"===i)return zq(zq({},{x:a+l/2,y:s-c*r,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return zq(zq({},{x:a+l/2,y:s+u+h,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+u),0),width:l}:{});if("left"===i){var y={x:a-m,y:s+u/2,textAnchor:v,verticalAnchor:"middle"};return zq(zq({},y),n?{width:Math.max(y.x-n.x,0),height:u}:{})}if("right"===i){var _={x:a+l+m,y:s+u/2,textAnchor:g,verticalAnchor:"middle"};return zq(zq({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:u}:{})}var b=n?{width:l,height:u}:{};return"insideLeft"===i?zq({x:a+m,y:s+u/2,textAnchor:g,verticalAnchor:"middle"},b):"insideRight"===i?zq({x:a+l-m,y:s+u/2,textAnchor:v,verticalAnchor:"middle"},b):"insideTop"===i?zq({x:a+l/2,y:s+h,textAnchor:"middle",verticalAnchor:f},b):"insideBottom"===i?zq({x:a+l/2,y:s+u-h,textAnchor:"middle",verticalAnchor:p},b):"insideTopLeft"===i?zq({x:a+m,y:s+h,textAnchor:g,verticalAnchor:f},b):"insideTopRight"===i?zq({x:a+l-m,y:s+h,textAnchor:v,verticalAnchor:f},b):"insideBottomLeft"===i?zq({x:a+m,y:s+u-h,textAnchor:g,verticalAnchor:p},b):"insideBottomRight"===i?zq({x:a+l-m,y:s+u-h,textAnchor:v,verticalAnchor:p},b):Bj()(i)&&(lj(i.x)||sj(i.x))&&(lj(i.y)||sj(i.y))?zq({x:a+pj(i.x,l),y:s+pj(i.y,u),textAnchor:"end",verticalAnchor:"end"},b):zq({x:a+l/2,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(e);return i.createElement(Rq,Bq({className:XF()("recharts-label",u)},p,f,{breakAll:c}),t)}jq.displayName="Label",jq.defaultProps={offset:5};var Uq=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,l=e.innerRadius,u=e.outerRadius,c=e.x,h=e.y,p=e.top,f=e.left,d=e.width,m=e.height,v=e.clockWise,g=e.labelViewBox;if(g)return g;if(lj(d)&&lj(m)){if(lj(c)&&lj(h))return{x:c,y:h,width:d,height:m};if(lj(p)&&lj(f))return{x:p,y:f,width:d,height:m}}return lj(c)&&lj(h)?{x:c,y:h,width:0,height:0}:lj(t)&&lj(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:u||s||a||0,clockWise:v}:e.viewBox?e.viewBox:{}},Vq=function(e,t){return e?!0===e?i.createElement(jq,{key:"label-implicit",viewBox:t}):uj(e)?i.createElement(jq,{key:"label-implicit",viewBox:t,value:e}):(0,i.isValidElement)(e)?e.type===jq?(0,i.cloneElement)(e,{key:"label-implicit",viewBox:t}):i.createElement(jq,{key:"label-implicit",content:e,viewBox:t}):kj()(e)?i.createElement(jq,{key:"label-implicit",content:e,viewBox:t}):Bj()(e)?i.createElement(jq,Bq({viewBox:t},e,{key:"label-implicit"})):null:null};function Hq(e){return Hq="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hq(e)}function Wq(){return Wq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wq.apply(this,arguments)}function Gq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gq(Object(n),!0).forEach((function(t){Yq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xq(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jq(e,t){return Jq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Jq(e,t)}function Qq(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=eY(e);if(t){var i=eY(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $q(this,n)}}function $q(e,t){return!t||"object"!==Hq(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eY(e){return eY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},eY(e)}jq.parseViewBox=Uq,jq.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,o=Uq(e),a=YG(r,jq.displayName).map((function(e,n){return(0,i.cloneElement)(e,{viewBox:t||o,key:"label-".concat(n)})}));if(!n)return a;var s=Vq(e.label,t||o);return[s].concat(Iq(a))};var tY=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jq(e,t)}(a,e);var t,n,r,o=Qq(a);function a(){return Zq(this,a),o.apply(this,arguments)}return t=a,n=[{key:"shouldComponentUpdate",value:function(e){var t=e.viewBox,n=Xq(e,["viewBox"]),r=this.props,i=r.viewBox,o=Xq(r,["viewBox"]);return!jG(t,i)||!jG(n,o)}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,l=s.x,u=s.y,c=s.width,h=s.height,p=s.orientation,f=s.tickSize,d=s.mirror,m=s.tickMargin,v=d?-1:1,g=e.tickSize||f,y=lj(e.tickCoord)?e.tickCoord:e.coordinate;switch(p){case"top":t=n=e.coordinate,a=(r=(i=u+ +!d*h)-v*g)-v*m,o=y;break;case"left":r=i=e.coordinate,o=(t=(n=l+ +!d*c)-v*g)-v*m,a=y;break;case"right":r=i=e.coordinate,o=(t=(n=l+ +d*c)+v*g)+v*m,a=y;break;default:t=n=e.coordinate,a=(r=(i=u+ +d*h)+v*g)+v*m,o=y}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.orientation,s=e.mirror,l=e.axisLine,u=qq(qq(qq({},Hj(this.props)),Hj(l)),{},{fill:"none"});if("top"===a||"bottom"===a){var c=+("top"===a&&!s||"bottom"===a&&s);u=qq(qq({},u),{},{x1:t,y1:n+c*o,x2:t+r,y2:n+c*o})}else{var h=+("left"===a&&!s||"right"===a&&s);u=qq(qq({},u),{},{x1:t+h*r,y1:n,x2:t+h*r,y2:n+o})}return i.createElement("line",Wq({},u,{className:XF()("recharts-cartesian-axis-line",JF()(l,"className"))}))}},{key:"renderTicks",value:function(e){var t=this,n=this.props,r=n.tickLine,o=n.stroke,s=n.tick,l=n.tickFormatter,u=n.unit,c=a.getTicks(qq(qq({},this.props),{},{ticks:e})),h=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),f=Hj(this.props),d=Hj(s),m=qq(qq({},f),{},{fill:"none"},Hj(r)),v=c.map((function(e,n){var v=t.getTickLineCoord(e),g=v.line,y=v.tick,_=qq(qq(qq(qq({textAnchor:h,verticalAnchor:p},f),{},{stroke:"none",fill:o},d),y),{},{index:n,payload:e,visibleTicksCount:c.length,tickFormatter:l});return i.createElement(Jj,Wq({className:"recharts-cartesian-axis-tick",key:"tick-".concat(n)},Gj(t.props,e,n)),r&&i.createElement("line",Wq({},m,g,{className:XF()("recharts-cartesian-axis-tick-line",JF()(r,"className"))})),s&&a.renderTickItem(s,_,"".concat(kj()(l)?l(e.value,n):e.value).concat(u||"")))}));return i.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this.props,t=e.axisLine,n=e.width,r=e.height,o=e.ticksGenerator,a=e.className;if(e.hide)return null;var s=this.props,l=s.ticks,u=Xq(s,["ticks"]),c=l;return kj()(o)&&(c=l&&l.length>0?o(this.props):o(u)),n<=0||r<=0||!c||!c.length?null:i.createElement(Jj,{className:XF()("recharts-cartesian-axis",a)},t&&this.renderAxisLine(),this.renderTicks(c),jq.renderCallByParent(this.props))}}],r=[{key:"getTicks",value:function(e){var t=e.tick,n=e.ticks,r=e.viewBox,i=e.minTickGap,o=e.orientation,s=e.interval,l=e.tickFormatter,u=e.unit;return n&&n.length&&t?lj(s)||IV.isSsr?a.getNumberIntervalTicks(n,"number"===typeof s&&lj(s)?s:0):"preserveStartEnd"===s?a.getTicksStart({ticks:n,tickFormatter:l,viewBox:r,orientation:o,minTickGap:i,unit:u},!0):"preserveStart"===s?a.getTicksStart({ticks:n,tickFormatter:l,viewBox:r,orientation:o,minTickGap:i,unit:u}):a.getTicksEnd({ticks:n,tickFormatter:l,viewBox:r,orientation:o,minTickGap:i,unit:u}):[]}},{key:"getNumberIntervalTicks",value:function(e,t){return e.filter((function(e,n){return n%(t+1)===0}))}},{key:"getTicksStart",value:function(e,t){var n,r,i=e.ticks,o=e.tickFormatter,a=e.viewBox,s=e.orientation,l=e.minTickGap,u=e.unit,c=a.x,h=a.y,p=a.width,f=a.height,d="top"===s||"bottom"===s?"width":"height",m=(i||[]).slice(),v=u&&"width"===d?hq(u)[d]:0,g=m.length,y=g>=2?aj(m[1].coordinate-m[0].coordinate):1;if(1===y?(n="width"===d?c:h,r="width"===d?c+p:h+f):(n="width"===d?c+p:h+f,r="width"===d?c:h),t){var _=i[g-1],b=kj()(o)?o(_.value,g-1):_.value,x=hq(b)[d]+v,w=y*(_.coordinate+y*x/2-r);m[g-1]=_=qq(qq({},_),{},{tickCoord:w>0?_.coordinate-w*y:_.coordinate}),y*(_.tickCoord-y*x/2-n)>=0&&y*(_.tickCoord+y*x/2-r)<=0&&(r=_.tickCoord-y*(x/2+l),m[g-1]=qq(qq({},_),{},{isShow:!0}))}for(var S=t?g-1:g,E=0;E<S;E++){var M=m[E],k=kj()(o)?o(M.value,E):M.value,T=hq(k)[d]+v;if(0===E){var A=y*(M.coordinate-y*T/2-n);m[E]=M=qq(qq({},M),{},{tickCoord:A<0?M.coordinate-A*y:M.coordinate})}else m[E]=M=qq(qq({},M),{},{tickCoord:M.coordinate});y*(M.tickCoord-y*T/2-n)>=0&&y*(M.tickCoord+y*T/2-r)<=0&&(n=M.tickCoord+y*(T/2+l),m[E]=qq(qq({},M),{},{isShow:!0}))}return m.filter((function(e){return e.isShow}))}},{key:"getTicksEnd",value:function(e){var t,n,r=e.ticks,i=e.tickFormatter,o=e.viewBox,a=e.orientation,s=e.minTickGap,l=e.unit,u=o.x,c=o.y,h=o.width,p=o.height,f="top"===a||"bottom"===a?"width":"height",d=l&&"width"===f?hq(l)[f]:0,m=(r||[]).slice(),v=m.length,g=v>=2?aj(m[1].coordinate-m[0].coordinate):1;1===g?(t="width"===f?u:c,n="width"===f?u+h:c+p):(t="width"===f?u+h:c+p,n="width"===f?u:c);for(var y=v-1;y>=0;y--){var _=m[y],b=kj()(i)?i(_.value,v-y-1):_.value,x=hq(b)[f]+d;if(y===v-1){var w=g*(_.coordinate+g*x/2-n);m[y]=_=qq(qq({},_),{},{tickCoord:w>0?_.coordinate-w*g:_.coordinate})}else m[y]=_=qq(qq({},_),{},{tickCoord:_.coordinate});g*(_.tickCoord-g*x/2-t)>=0&&g*(_.tickCoord+g*x/2-n)<=0&&(n=_.tickCoord-g*(x/2+s),m[y]=qq(qq({},_),{},{isShow:!0}))}return m.filter((function(e){return e.isShow}))}},{key:"renderTickItem",value:function(e,t,n){return i.isValidElement(e)?i.cloneElement(e,t):kj()(e)?e(t):i.createElement(Rq,Wq({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],n&&Kq(t.prototype,n),r&&Kq(t,r),a}(i.Component);function nY(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}function rY(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function iY(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}tY.displayName="CartesianAxis",tY.defaultProps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};var oY=Symbol("implicit");function aY(){var e=new Map,t=[],n=[],r=oY;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==oY)return r;e.set(o,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r,o=lg(n);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a+"";e.has(s)||e.set(s,t.push(a))}}catch(p2){o.e(p2)}finally{o.f()}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return aY(t,n).unknown(r)},rY.apply(i,arguments),i}function sY(){var e,t,n=aY().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,u=0,c=.5;function p(){var n=r().length,h=a<o,p=h?a:o,f=h?o:a;e=(f-p)/Math.max(1,n-l+2*u),s&&(e=Math.floor(e)),p+=(f-p-e*(n-l))*c,t=e*(1-l),s&&(p=Math.round(p),t=Math.round(t));var d=nY(n).map((function(t){return p+e*t}));return i(h?d.reverse():d)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),p()):r()},n.range=function(e){var t;return arguments.length?(t=h(e,2),o=t[0],a=t[1],o=+o,a=+a,p()):[o,a]},n.rangeRound=function(e){var t;return t=h(e,2),o=t[0],a=t[1],o=+o,a=+a,s=!0,p()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,p()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,u=+e),p()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),p()):l},n.paddingOuter=function(e){return arguments.length?(u=+e,p()):u},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),p()):c},n.copy=function(){return sY(r(),[o,a]).round(s).paddingInner(l).paddingOuter(u).align(c)},rY.apply(p(),arguments)}function lY(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return lY(t())},e}function uY(){return lY(sY.apply(null,arguments).paddingInner(1))}var cY=n(8111),hY=n.n(cY),pY=n(9627),fY=n.n(pY),dY=n(6452),mY=n.n(dY),vY=n(5008),gY=n.n(vY),yY=n(4234),_Y=n.n(yY);function bY(e){return function(e){if(Array.isArray(e))return xY(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return xY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xY(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wY=function(e){return e},SY={"@@functional/placeholder":!0},EY=function(e){return e===SY},MY=function(e){return function t(){return 0===arguments.length||1===arguments.length&&EY(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},kY=function e(t,n){return 1===t?n:MY((function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter((function(e){return e!==SY})).length;return a>=t?n.apply(void 0,i):e(t-a,MY((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map((function(e){return EY(e)?t.shift():e}));return n.apply(void 0,bY(o).concat(t))})))}))},TY=function(e){return kY(e.length,e)},AY=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},CY=TY((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),PY=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return wY;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}},OY=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},RY=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};var IY=TY((function(e,t,n){var r=+e;return r+n*(+t-r)})),LY=TY((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),DY=TY((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))})),zY={rangeStep:function(e,t,n){for(var r=new(_Y())(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new(_Y())(e).abs().log(10).toNumber())+1},interpolateNumber:IY,uninterpolateNumber:LY,uninterpolateTruncation:DY};function NY(e){return function(e){if(Array.isArray(e))return jY(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||FY(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(p2){i=!0,o=p2}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||FY(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FY(e,t){if(e){if("string"===typeof e)return jY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jY(e,t):void 0}}function jY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UY(e){var t=BY(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function VY(e,t,n){if(e.lte(0))return new(_Y())(0);var r=zY.getDigitCount(e.toNumber()),i=new(_Y())(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new(_Y())(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new(_Y())(Math.ceil(s))}function HY(e,t,n){var r=1,i=new(_Y())(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new(_Y())(10).pow(zY.getDigitCount(e)-1),i=new(_Y())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(_Y())(Math.floor(e)))}else 0===e?i=new(_Y())(Math.floor((t-1)/2)):n||(i=new(_Y())(Math.floor(e)));var a=Math.floor((t-1)/2);return PY(CY((function(e){return i.add(new(_Y())(e-a).mul(r)).toNumber()})),AY)(0,t)}function WY(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(_Y())(0),tickMin:new(_Y())(0),tickMax:new(_Y())(0)};var o,a=VY(new(_Y())(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new(_Y())(0):(o=new(_Y())(e).add(t).div(2)).sub(new(_Y())(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new(_Y())(t).sub(o).div(a).toNumber()),u=s+l+1;return u>n?WY(e,t,n,r,i+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:a,tickMin:o.sub(new(_Y())(s).mul(a)),tickMax:o.add(new(_Y())(l).mul(a))})}var GY=RY((function(e){var t=BY(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=UY([n,r]),l=BY(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var h=c===1/0?[u].concat(NY(AY(0,i-1).map((function(){return 1/0})))):[].concat(NY(AY(0,i-1).map((function(){return-1/0}))),[c]);return n>r?OY(h):h}if(u===c)return HY(u,i,o);var p=WY(u,c,a,o),f=p.step,d=p.tickMin,m=p.tickMax,v=zY.rangeStep(d,m.add(new(_Y())(.1).mul(f)),f);return n>r?OY(v):v})),qY=(RY((function(e){var t=BY(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=UY([n,r]),l=BY(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0)return[n,r];if(u===c)return HY(u,i,o);var h=VY(new(_Y())(c).sub(u).div(a-1),o,0),p=PY(CY((function(e){return new(_Y())(u).add(new(_Y())(e).mul(h)).toNumber()})),AY),f=p(0,a).filter((function(e){return e>=u&&e<=c}));return n>r?OY(f):f})),RY((function(e,t){var n=BY(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=UY([r,i]),s=BY(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(t,2),h=VY(new(_Y())(u).sub(l).div(c-1),o,0),p=[].concat(NY(zY.rangeStep(new(_Y())(l),new(_Y())(u).sub(new(_Y())(.99).mul(h)),h)),[u]);return r>i?OY(p):p}))),YY=Math.sqrt(50),XY=Math.sqrt(10),ZY=Math.sqrt(2);function KY(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=JY(e,t,n))||!isFinite(a))return[];if(a>0){var l=Math.round(e/a),u=Math.round(t/a);for(l*a<e&&++l,u*a>t&&--u,o=new Array(i=u-l+1);++s<i;)o[s]=(l+s)*a}else{a=-a;var c=Math.round(e*a),h=Math.round(t*a);for(c/a<e&&++c,h/a>t&&--h,o=new Array(i=h-c+1);++s<i;)o[s]=(c+s)/a}return r&&o.reverse(),o}function JY(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=YY?10:o>=XY?5:o>=ZY?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=YY?10:o>=XY?5:o>=ZY?2:1)}function QY(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=YY?i*=10:o>=XY?i*=5:o>=ZY&&(i*=2),t<e?-i:i}function $Y(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function eX(e){var t=e,n=e;function r(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;n(e[o],t)<0?r=o+1:i=o}return r}return 1===e.length&&(t=function(t,n){return e(t)-n},n=function(e){return function(t,n){return $Y(e(t),n)}}(e)),{left:r,center:function(e,n,i,o){null==i&&(i=0),null==o&&(o=e.length);var a=r(e,n,i,o-1);return a>i&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;n(e[o],t)>0?i=o:r=o+1}return r}}}var tX=Kf().mark(rX);function nX(e){return null===e?NaN:+e}function rX(e,t){var n,r,i,o,a,s,l;return Kf().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(void 0!==t){u.next=21;break}n=lg(e),u.prev=2,n.s();case 4:if((r=n.n()).done){u.next=11;break}if(!(null!=(i=r.value)&&(i=+i)>=i)){u.next=9;break}return u.next=9,i;case 9:u.next=4;break;case 11:u.next=16;break;case 13:u.prev=13,u.t0=u.catch(2),n.e(u.t0);case 16:return u.prev=16,n.f(),u.finish(16);case 19:u.next=40;break;case 21:o=-1,a=lg(e),u.prev=23,a.s();case 25:if((s=a.n()).done){u.next=32;break}if(l=s.value,!(null!=(l=t(l,++o,e))&&(l=+l)>=l)){u.next=30;break}return u.next=30,l;case 30:u.next=25;break;case 32:u.next=37;break;case 34:u.prev=34,u.t1=u.catch(23),a.e(u.t1);case 37:return u.prev=37,a.f(),u.finish(37);case 40:case"end":return u.stop()}}),tX,null,[[2,13,16,19],[23,34,37,40]])}var iX=eX($Y),oX=iX.right,aX=(iX.left,eX(nX).center,oX);function sX(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function lX(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function uX(){}var cX=.7,hX=1/cX,pX="\\s*([+-]?\\d+)\\s*",fX="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",dX="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mX=/^#([0-9a-f]{3,8})$/,vX=new RegExp("^rgb\\("+[pX,pX,pX]+"\\)$"),gX=new RegExp("^rgb\\("+[dX,dX,dX]+"\\)$"),yX=new RegExp("^rgba\\("+[pX,pX,pX,fX]+"\\)$"),_X=new RegExp("^rgba\\("+[dX,dX,dX,fX]+"\\)$"),bX=new RegExp("^hsl\\("+[fX,dX,dX]+"\\)$"),xX=new RegExp("^hsla\\("+[fX,dX,dX,fX]+"\\)$"),wX={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function SX(){return this.rgb().formatHex()}function EX(){return this.rgb().formatRgb()}function MX(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=mX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?kX(t):3===n?new PX(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?TX(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?TX(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=vX.exec(e))?new PX(t[1],t[2],t[3],1):(t=gX.exec(e))?new PX(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=yX.exec(e))?TX(t[1],t[2],t[3],t[4]):(t=_X.exec(e))?TX(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=bX.exec(e))?LX(t[1],t[2]/100,t[3]/100,1):(t=xX.exec(e))?LX(t[1],t[2]/100,t[3]/100,t[4]):wX.hasOwnProperty(e)?kX(wX[e]):"transparent"===e?new PX(NaN,NaN,NaN,0):null}function kX(e){return new PX(e>>16&255,e>>8&255,255&e,1)}function TX(e,t,n,r){return r<=0&&(e=t=n=NaN),new PX(e,t,n,r)}function AX(e){return e instanceof uX||(e=MX(e)),e?new PX((e=e.rgb()).r,e.g,e.b,e.opacity):new PX}function CX(e,t,n,r){return 1===arguments.length?AX(e):new PX(e,t,n,null==r?1:r)}function PX(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function OX(){return"#"+IX(this.r)+IX(this.g)+IX(this.b)}function RX(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function IX(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function LX(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new zX(e,t,n,r)}function DX(e){if(e instanceof zX)return new zX(e.h,e.s,e.l,e.opacity);if(e instanceof uX||(e=MX(e)),!e)return new zX;if(e instanceof zX)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new zX(a,s,l,e.opacity)}function zX(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function NX(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function BX(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}sX(uX,MX,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:SX,formatHex:SX,formatHsl:function(){return DX(this).formatHsl()},formatRgb:EX,toString:EX}),sX(PX,CX,lX(uX,{brighter:function(e){return e=null==e?hX:Math.pow(hX,e),new PX(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?cX:Math.pow(cX,e),new PX(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:OX,formatHex:OX,formatRgb:RX,toString:RX})),sX(zX,(function(e,t,n,r){return 1===arguments.length?DX(e):new zX(e,t,n,null==r?1:r)}),lX(uX,{brighter:function(e){return e=null==e?hX:Math.pow(hX,e),new zX(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?cX:Math.pow(cX,e),new zX(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new PX(NX(e>=240?e-240:e+120,i,r),NX(e,i,r),NX(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var FX=function(e){return function(){return e}};function jX(e,t){return function(n){return e+n*t}}function UX(e){return 1===(e=+e)?VX:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):FX(isNaN(t)?n:t)}}function VX(e,t){var n=t-e;return n?jX(e,n):FX(isNaN(e)?t:e)}var HX=function e(t){var n=UX(t);function r(e,t){var r=n((e=CX(e)).r,(t=CX(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=VX(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function WX(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=CX(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}WX((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return BX((n-r/t)*t,a,i,o,s)}})),WX((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return BX((n-r/t)*t,i,o,a,s)}}));function GX(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=$X(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function qX(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function YX(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function XX(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=$X(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var ZX=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,KX=new RegExp(ZX.source,"g");function JX(e,t){var n,r,i,o=ZX.lastIndex=KX.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=ZX.exec(e))&&(r=KX.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:YX(n,r)})),o=KX.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function QX(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function $X(e,t){var n,r=typeof t;return null==t||"boolean"===r?FX(t):("number"===r?YX:"string"===r?(n=MX(t))?(t=n,HX):JX:t instanceof MX?HX:t instanceof Date?qX:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?QX:Array.isArray(t)?GX:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?XX:YX)(e,t)}function eZ(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function tZ(e){return+e}var nZ=[0,1];function rZ(e){return e}function iZ(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function oZ(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=iZ(i,r),o=n(a,o)):(r=iZ(r,i),o=n(o,a)),function(e){return o(r(e))}}function aZ(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=iZ(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=aX(e,t,1,r)-1;return o[n](i[n](t))}}function sZ(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function lZ(){var e,t,n,r,i,o,a=nZ,s=nZ,l=$X,u=rZ;function c(){var e=Math.min(a.length,s.length);return u!==rZ&&(u=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?aZ:oZ,i=o=null,h}function h(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(u(t)))}return h.invert=function(n){return u(t((o||(o=r(s,a.map(e),YX)))(n)))},h.domain=function(e){return arguments.length?(a=Array.from(e,tZ),c()):a.slice()},h.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},h.rangeRound=function(e){return s=Array.from(e),l=eZ,c()},h.clamp=function(e){return arguments.length?(u=!!e||rZ,c()):u!==rZ},h.interpolate=function(e){return arguments.length?(l=e,c()):l},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,c()}}function uZ(){return lZ()(rZ,rZ)}var cZ,hZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pZ(e){if(!(t=hZ.exec(e)))throw new Error("invalid format: "+e);var t;return new fZ({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function fZ(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function dZ(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function mZ(e){return(e=dZ(Math.abs(e)))?e[1]:NaN}function vZ(e,t){var n=dZ(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}pZ.prototype=fZ.prototype,fZ.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var gZ={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return vZ(100*e,t)},r:vZ,s:function(e,t){var n=dZ(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(cZ=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+dZ(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function yZ(e){return e}var _Z,bZ,xZ,wZ=Array.prototype.map,SZ=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function EZ(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?yZ:(t=wZ.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?yZ:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(wZ.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"\u2212":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=pZ(e)).fill,n=e.align,h=e.sign,p=e.symbol,f=e.zero,d=e.width,m=e.comma,v=e.precision,g=e.trim,y=e.type;"n"===y?(m=!0,y="g"):gZ[y]||(void 0===v&&(v=12),g=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var _="$"===p?i:"#"===p&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===p?o:/[%p]/.test(y)?l:"",x=gZ[y],w=/[defgprs%]/.test(y);function S(e){var i,o,l,p=_,S=b;if("c"===y)S=x(e)+S,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:x(Math.abs(e),v),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==h&&(E=!1),p=(E?"("===h?h:u:"-"===h||"("===h?"":h)+p,S=("s"===y?SZ[8+cZ/3]:"")+S+(E&&"("===h?")":""),w)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){S=(46===l?a+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var M=p.length+e.length+S.length,k=M<d?new Array(d-M+1).join(t):"";switch(m&&f&&(e=r(k+e,k.length?d-S.length:1/0),k=""),n){case"<":e=p+e+S+k;break;case"=":e=p+k+e+S;break;case"^":e=k.slice(0,M=k.length>>1)+p+e+S+k.slice(M);break;default:e=k+p+e+S}return s(e)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),S.toString=function(){return e+""},S}return{format:h,formatPrefix:function(e,t){var n=h(((e=pZ(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(mZ(t)/3))),i=Math.pow(10,-r),o=SZ[8+r/3];return function(e){return n(i*e)+o}}}}function MZ(e,t,n,r){var i,o=QY(e,t,n);switch((r=pZ(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(mZ(t)/3)))-mZ(Math.abs(e)))}(o,a))||(r.precision=i),xZ(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mZ(t)-mZ(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-mZ(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return bZ(r)}function kZ(e){var t=e.domain;return e.ticks=function(e){var n=t();return KY(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return MZ(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],u=o[s],c=10;for(u<l&&(i=l,l=u,u=i,i=a,a=s,s=i);c-- >0;){if((i=JY(l,u,n))===r)return o[a]=l,o[s]=u,t(o);if(i>0)l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i}r=i}return e},e}function TZ(){var e=uZ();return e.copy=function(){return sZ(e,TZ())},rY.apply(e,arguments),kZ(e)}function AZ(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,tZ),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return AZ(e).unknown(t)},e=arguments.length?Array.from(e,tZ):[0,1],kZ(n)}function CZ(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function PZ(e){return Math.log(e)}function OZ(e){return Math.exp(e)}function RZ(e){return-Math.log(-e)}function IZ(e){return-Math.exp(-e)}function LZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function DZ(e){return function(t){return-e(-t)}}function zZ(e){var t,n,r=e(PZ,OZ),i=r.domain,o=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(o),n=function(e){return 10===e?LZ:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(o),i()[0]<0?(t=DZ(t),n=DZ(n),e(RZ,IZ)):e(PZ,OZ),r}return r.base=function(e){return arguments.length?(o=+e,a()):o},r.domain=function(e){return arguments.length?(i(e),a()):i()},r.ticks=function(e){var r,a=i(),s=a[0],l=a[a.length-1];(r=l<s)&&(p=s,s=l,l=p);var u,c,h,p=t(s),f=t(l),d=null==e?10:+e,m=[];if(!(o%1)&&f-p<d){if(p=Math.floor(p),f=Math.ceil(f),s>0){for(;p<=f;++p)for(c=1,u=n(p);c<o;++c)if(!((h=u*c)<s)){if(h>l)break;m.push(h)}}else for(;p<=f;++p)for(c=o-1,u=n(p);c>=1;--c)if(!((h=u*c)<s)){if(h>l)break;m.push(h)}2*m.length<d&&(m=KY(s,l,d))}else m=KY(p,f,Math.min(f-p,d)).map(n);return r?m.reverse():m},r.tickFormat=function(e,i){if(null==i&&(i=10===o?".0e":","),"function"!==typeof i&&(i=bZ(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,o*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*o<o-.5&&(r*=o),r<=a?i(e):""}},r.nice=function(){return i(CZ(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function NZ(){var e=zZ(lZ()).domain([1,10]);return e.copy=function(){return sZ(e,NZ()).base(e.base())},rY.apply(e,arguments),e}function BZ(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function FZ(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function jZ(e){var t=1,n=e(BZ(t),FZ(t));return n.constant=function(n){return arguments.length?e(BZ(t=+n),FZ(t)):t},kZ(n)}function UZ(){var e=jZ(lZ());return e.copy=function(){return sZ(e,UZ()).constant(e.constant())},rY.apply(e,arguments)}function VZ(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function HZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function WZ(e){return e<0?-e*e:e*e}function GZ(e){var t=e(rZ,rZ),n=1;function r(){return 1===n?e(rZ,rZ):.5===n?e(HZ,WZ):e(VZ(n),VZ(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},kZ(t)}function qZ(){var e=GZ(lZ());return e.copy=function(){return sZ(e,qZ()).exponent(e.exponent())},rY.apply(e,arguments),e}function YZ(){return qZ.apply(null,arguments).exponent(.5)}function XZ(e){return Math.sign(e)*e*e}function ZZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function KZ(){var e,t=uZ(),n=[0,1],r=!1;function i(n){var i=ZZ(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(XZ(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,tZ)).map(XZ)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return KZ(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},rY.apply(i,arguments),kZ(i)}function JZ(e,t){var n;if(void 0===t){var r,i=lg(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n<o||void 0===n&&o>=o)&&(n=o)}}catch(p2){i.e(p2)}finally{i.f()}}else{var a,s=-1,l=lg(e);try{for(l.s();!(a=l.n()).done;){var u=a.value;null!=(u=t(u,++s,e))&&(n<u||void 0===n&&u>=u)&&(n=u)}}catch(p2){l.e(p2)}finally{l.f()}}return n}function QZ(e,t){var n;if(void 0===t){var r,i=lg(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n>o||void 0===n&&o>=o)&&(n=o)}}catch(p2){i.e(p2)}finally{i.f()}}else{var a,s=-1,l=lg(e);try{for(l.s();!(a=l.n()).done;){var u=a.value;null!=(u=t(u,++s,e))&&(n>u||void 0===n&&u>=u)&&(n=u)}}catch(p2){l.e(p2)}finally{l.f()}}return n}function $Z(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$Y;r>n;){if(r-n>600){var o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1),c=Math.max(n,Math.floor(t-a*l/o+u)),h=Math.min(r,Math.floor(t+(o-a)*l/o+u));$Z(e,t,c,h,i)}var p=e[t],f=n,d=r;for(eK(e,n,t),i(e[r],p)>0&&eK(e,n,r);f<d;){for(eK(e,f,d),++f,--d;i(e[f],p)<0;)++f;for(;i(e[d],p)>0;)--d}0===i(e[n],p)?eK(e,n,d):eK(e,++d,r),d<=t&&(n=d+1),t<=d&&(r=d-1)}return e}function eK(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function tK(e,t,n){if(r=(e=Float64Array.from(rX(e,n))).length){if((t=+t)<=0||r<2)return QZ(e);if(t>=1)return JZ(e);var r,i=(r-1)*t,o=Math.floor(i),a=JZ($Z(e,o).subarray(0,o+1));return a+(QZ(e.subarray(o+1))-a)*(i-o)}}function nK(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nX;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function rK(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=nK(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[aX(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];var n,r=lg(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;null==o||isNaN(o=+o)||t.push(o)}}catch(p2){r.e(p2)}finally{r.f()}return t.sort($Y),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return rK().domain(t).range(n).unknown(e)},rY.apply(o,arguments)}function iK(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function a(t){return null!=t&&t<=t?o[aX(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){var r;return arguments.length?(r=h(e,2),t=r[0],n=r[1],t=+t,n=+n,s()):[t,n]},a.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,s()):o.slice()},a.invertExtent=function(e){var a=o.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return iK().domain([t,n]).range(o).unknown(e)},rY.apply(kZ(a),arguments)}function oK(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[aX(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return oK().domain(t).range(n).unknown(e)},rY.apply(i,arguments)}_Z=EZ({thousands:",",grouping:[3],currency:["$",""]}),bZ=_Z.format,xZ=_Z.formatPrefix;var aK=1e3,sK=6e4,lK=36e5,uK=864e5,cK=6048e5,hK=2592e6,pK=31536e6,fK=new Date,dK=new Date;function mK(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return mK((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return fK.setTime(+t),dK.setTime(+r),e(fK),e(dK),Math.floor(n(fK,dK))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var vK=mK((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));vK.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?mK((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):vK:null};var gK=vK,yK=(vK.range,mK((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*aK)}),(function(e,t){return(t-e)/aK}),(function(e){return e.getUTCSeconds()}))),_K=yK,bK=(yK.range,mK((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*aK)}),(function(e,t){e.setTime(+e+t*sK)}),(function(e,t){return(t-e)/sK}),(function(e){return e.getMinutes()}))),xK=bK,wK=(bK.range,mK((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*aK-e.getMinutes()*sK)}),(function(e,t){e.setTime(+e+t*lK)}),(function(e,t){return(t-e)/lK}),(function(e){return e.getHours()}))),SK=wK,EK=(wK.range,mK((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sK)/uK}),(function(e){return e.getDate()-1}))),MK=EK;EK.range;function kK(e){return mK((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sK)/cK}))}var TK=kK(0),AK=kK(1),CK=kK(2),PK=kK(3),OK=kK(4),RK=kK(5),IK=kK(6),LK=(TK.range,AK.range,CK.range,PK.range,OK.range,RK.range,IK.range,mK((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),DK=LK,zK=(LK.range,mK((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));zK.every=function(e){return isFinite(e=Math.floor(e))&&e>0?mK((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var NK=zK,BK=(zK.range,mK((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*sK)}),(function(e,t){return(t-e)/sK}),(function(e){return e.getUTCMinutes()}))),FK=BK,jK=(BK.range,mK((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*lK)}),(function(e,t){return(t-e)/lK}),(function(e){return e.getUTCHours()}))),UK=jK,VK=(jK.range,mK((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/uK}),(function(e){return e.getUTCDate()-1}))),HK=VK;VK.range;function WK(e){return mK((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/cK}))}var GK=WK(0),qK=WK(1),YK=WK(2),XK=WK(3),ZK=WK(4),KK=WK(5),JK=WK(6),QK=(GK.range,qK.range,YK.range,XK.range,ZK.range,KK.range,JK.range,mK((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),$K=QK,eJ=(QK.range,mK((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));eJ.every=function(e){return isFinite(e=Math.floor(e))&&e>0?mK((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var tJ=eJ;eJ.range;function nJ(e,t,n,r,i,o){var a=[[_K,1,aK],[_K,5,5e3],[_K,15,15e3],[_K,30,3e4],[o,1,sK],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,lK],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,uK],[r,2,1728e5],[n,1,cK],[t,1,hK],[t,3,7776e6],[e,1,pK]];function s(t,n,r){var i=Math.abs(n-t)/r,o=eX((function(e){return h(e,3)[2]})).right(a,i);if(o===a.length)return e.every(QY(t/pK,n/pK,r));if(0===o)return gK.every(Math.max(QY(t,n,r),1));var s=h(a[i/a[o-1][2]<a[o][2]/i?o-1:o],2),l=s[0],u=s[1];return l.every(u)}return[function(e,t,n){var r=t<e;if(r){var i=[t,e];e=i[0],t=i[1]}var o=n&&"function"===typeof n.range?n:s(e,t,n),a=o?o.range(e,+t+1):[];return r?a.reverse():a},s]}var rJ=h(nJ(tJ,$K,GK,HK,UK,FK),2),iJ=rJ[0],oJ=rJ[1],aJ=h(nJ(NK,DK,TK,MK,SK,xK),2),sJ=aJ[0],lJ=aJ[1];function uJ(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function cJ(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hJ(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var pJ,fJ,dJ,mJ={"-":"",_:" ",0:"0"},vJ=/^\s*\d+/,gJ=/^%/,yJ=/[\\^$*+?|[\]().{}]/g;function _J(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function bJ(e){return e.replace(yJ,"\\$&")}function xJ(e){return new RegExp("^(?:"+e.map(bJ).join("|")+")","i")}function wJ(e){return new Map(e.map((function(e,t){return[e.toLowerCase(),t]})))}function SJ(e,t,n){var r=vJ.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function EJ(e,t,n){var r=vJ.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function MJ(e,t,n){var r=vJ.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function kJ(e,t,n){var r=vJ.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function TJ(e,t,n){var r=vJ.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function AJ(e,t,n){var r=vJ.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function CJ(e,t,n){var r=vJ.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function PJ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function OJ(e,t,n){var r=vJ.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function RJ(e,t,n){var r=vJ.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function IJ(e,t,n){var r=vJ.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function LJ(e,t,n){var r=vJ.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function DJ(e,t,n){var r=vJ.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function zJ(e,t,n){var r=vJ.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function NJ(e,t,n){var r=vJ.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function BJ(e,t,n){var r=vJ.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function FJ(e,t,n){var r=vJ.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jJ(e,t,n){var r=gJ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function UJ(e,t,n){var r=vJ.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function VJ(e,t,n){var r=vJ.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function HJ(e,t){return _J(e.getDate(),t,2)}function WJ(e,t){return _J(e.getHours(),t,2)}function GJ(e,t){return _J(e.getHours()%12||12,t,2)}function qJ(e,t){return _J(1+MK.count(NK(e),e),t,3)}function YJ(e,t){return _J(e.getMilliseconds(),t,3)}function XJ(e,t){return YJ(e,t)+"000"}function ZJ(e,t){return _J(e.getMonth()+1,t,2)}function KJ(e,t){return _J(e.getMinutes(),t,2)}function JJ(e,t){return _J(e.getSeconds(),t,2)}function QJ(e){var t=e.getDay();return 0===t?7:t}function $J(e,t){return _J(TK.count(NK(e)-1,e),t,2)}function eQ(e){var t=e.getDay();return t>=4||0===t?OK(e):OK.ceil(e)}function tQ(e,t){return e=eQ(e),_J(OK.count(NK(e),e)+(4===NK(e).getDay()),t,2)}function nQ(e){return e.getDay()}function rQ(e,t){return _J(AK.count(NK(e)-1,e),t,2)}function iQ(e,t){return _J(e.getFullYear()%100,t,2)}function oQ(e,t){return _J((e=eQ(e)).getFullYear()%100,t,2)}function aQ(e,t){return _J(e.getFullYear()%1e4,t,4)}function sQ(e,t){var n=e.getDay();return _J((e=n>=4||0===n?OK(e):OK.ceil(e)).getFullYear()%1e4,t,4)}function lQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_J(t/60|0,"0",2)+_J(t%60,"0",2)}function uQ(e,t){return _J(e.getUTCDate(),t,2)}function cQ(e,t){return _J(e.getUTCHours(),t,2)}function hQ(e,t){return _J(e.getUTCHours()%12||12,t,2)}function pQ(e,t){return _J(1+HK.count(tJ(e),e),t,3)}function fQ(e,t){return _J(e.getUTCMilliseconds(),t,3)}function dQ(e,t){return fQ(e,t)+"000"}function mQ(e,t){return _J(e.getUTCMonth()+1,t,2)}function vQ(e,t){return _J(e.getUTCMinutes(),t,2)}function gQ(e,t){return _J(e.getUTCSeconds(),t,2)}function yQ(e){var t=e.getUTCDay();return 0===t?7:t}function _Q(e,t){return _J(GK.count(tJ(e)-1,e),t,2)}function bQ(e){var t=e.getUTCDay();return t>=4||0===t?ZK(e):ZK.ceil(e)}function xQ(e,t){return e=bQ(e),_J(ZK.count(tJ(e),e)+(4===tJ(e).getUTCDay()),t,2)}function wQ(e){return e.getUTCDay()}function SQ(e,t){return _J(qK.count(tJ(e)-1,e),t,2)}function EQ(e,t){return _J(e.getUTCFullYear()%100,t,2)}function MQ(e,t){return _J((e=bQ(e)).getUTCFullYear()%100,t,2)}function kQ(e,t){return _J(e.getUTCFullYear()%1e4,t,4)}function TQ(e,t){var n=e.getUTCDay();return _J((e=n>=4||0===n?ZK(e):ZK.ceil(e)).getUTCFullYear()%1e4,t,4)}function AQ(){return"+0000"}function CQ(){return"%"}function PQ(e){return+e}function OQ(e){return Math.floor(+e/1e3)}function RQ(e){return new Date(e)}function IQ(e){return e instanceof Date?+e:+new Date(+e)}function LQ(e,t,n,r,i,o,a,s,l,u){var c=uZ(),h=c.invert,p=c.domain,f=u(".%L"),d=u(":%S"),m=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),y=u("%b %d"),_=u("%B"),b=u("%Y");function x(e){return(l(e)<e?f:s(e)<e?d:a(e)<e?m:o(e)<e?v:r(e)<e?i(e)<e?g:y:n(e)<e?_:b)(e)}return c.invert=function(e){return new Date(h(e))},c.domain=function(e){return arguments.length?p(Array.from(e,IQ)):p().map(RQ)},c.ticks=function(t){var n=p();return e(n[0],n[n.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?x:u(t)},c.nice=function(e){var n=p();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?p(CZ(n,e)):c},c.copy=function(){return sZ(c,LQ(e,t,n,r,i,o,a,s,l,u))},c}function DQ(){return rY.apply(LQ(sJ,lJ,NK,DK,TK,MK,SK,xK,_K,fJ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zQ(){return rY.apply(LQ(iJ,oJ,tJ,$K,GK,HK,UK,FK,_K,dJ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function NQ(){var e,t,n,r,i,o=0,a=1,s=rZ,l=!1;function u(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function c(e){return function(t){var n,r,i;return arguments.length?(r=(n=h(t,2))[0],i=n[1],s=e(r,i),u):[s(0),s(1)]}}return u.domain=function(i){var s;return arguments.length?(s=h(i,2),o=s[0],a=s[1],e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),u):[o,a]},u.clamp=function(e){return arguments.length?(l=!!e,u):l},u.interpolator=function(e){return arguments.length?(s=e,u):s},u.range=c($X),u.rangeRound=c(eZ),u.unknown=function(e){return arguments.length?(i=e,u):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),u}}function BQ(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function FQ(){var e=kZ(NQ()(rZ));return e.copy=function(){return BQ(e,FQ())},iY.apply(e,arguments)}function jQ(){var e=zZ(NQ()).domain([1,10]);return e.copy=function(){return BQ(e,jQ()).base(e.base())},iY.apply(e,arguments)}function UQ(){var e=jZ(NQ());return e.copy=function(){return BQ(e,UQ()).constant(e.constant())},iY.apply(e,arguments)}function VQ(){var e=GZ(NQ());return e.copy=function(){return BQ(e,VQ()).exponent(e.exponent())},iY.apply(e,arguments)}function HQ(){return VQ.apply(null,arguments).exponent(.5)}function WQ(){var e=[],t=rZ;function n(n){if(null!=n&&!isNaN(n=+n))return t((aX(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];var r,i=lg(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;null==o||isNaN(o=+o)||e.push(o)}}catch(p2){i.e(p2)}finally{i.f()}return e.sort($Y),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((function(n,r){return t(r/(e.length-1))}))},n.quantiles=function(t){return Array.from({length:t+1},(function(n,r){return tK(e,r/t)}))},n.copy=function(){return WQ(t).domain(e)},iY.apply(n,arguments)}function GQ(e,t){void 0===t&&(t=e,e=$X);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}function qQ(){var e,t,n,r,i,o,a,s=0,l=.5,u=1,c=1,p=rZ,f=!1;function d(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(c*e<c*t?r:i),p(f?Math.max(0,Math.min(1,e)):e))}function m(e){return function(t){var n,r,i,o;return arguments.length?(r=(n=h(t,3))[0],i=n[1],o=n[2],p=GQ(e,[r,i,o]),d):[p(0),p(.5),p(1)]}}return d.domain=function(a){var p;return arguments.length?(p=h(a,3),s=p[0],l=p[1],u=p[2],e=o(s=+s),t=o(l=+l),n=o(u=+u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),c=t<e?-1:1,d):[s,l,u]},d.clamp=function(e){return arguments.length?(f=!!e,d):f},d.interpolator=function(e){return arguments.length?(p=e,d):p},d.range=m($X),d.rangeRound=m(eZ),d.unknown=function(e){return arguments.length?(a=e,d):a},function(a){return o=a,e=a(s),t=a(l),n=a(u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),c=t<e?-1:1,d}}function YQ(){var e=kZ(qQ()(rZ));return e.copy=function(){return BQ(e,YQ())},iY.apply(e,arguments)}function XQ(){var e=zZ(qQ()).domain([.1,1,10]);return e.copy=function(){return BQ(e,XQ()).base(e.base())},iY.apply(e,arguments)}function ZQ(){var e=jZ(qQ());return e.copy=function(){return BQ(e,ZQ()).constant(e.constant())},iY.apply(e,arguments)}function KQ(){var e=GZ(qQ());return e.copy=function(){return BQ(e,KQ()).exponent(e.exponent())},iY.apply(e,arguments)}function JQ(){return KQ.apply(null,arguments).exponent(.5)}function QQ(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function $Q(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function e$(e,t){return e[t]}function t$(e){var t=[];return t.key=e,t}function n$(e){return function(e){if(Array.isArray(e))return r$(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return r$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r$(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i$(Object(n),!0).forEach((function(t){a$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s$(e,t,n){return Lj()(e)||Lj()(t)?n:uj(t)?JF()(e,t,n):kj()(t)?t(e):n}function l$(e,t,n,r){var i=gY()(e,(function(e){return s$(e,t)}));if("number"===n){var o=i.filter((function(e){return lj(e)||parseFloat(e)}));return o.length?[mY()(o),fY()(o)]:[1/0,-1/0]}return(r?i.filter((function(e){return!Lj()(e)})):i).map((function(e){return uj(e)||e instanceof Date?e:""}))}!function(e){pJ=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=xJ(i),c=wJ(i),h=xJ(o),p=wJ(o),f=xJ(a),d=wJ(a),m=xJ(s),v=wJ(s),g=xJ(l),y=wJ(l),_={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:HJ,e:HJ,f:XJ,g:oQ,G:sQ,H:WJ,I:GJ,j:qJ,L:YJ,m:ZJ,M:KJ,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:PQ,s:OQ,S:JJ,u:QJ,U:$J,V:tQ,w:nQ,W:rQ,x:null,X:null,y:iQ,Y:aQ,Z:lQ,"%":CQ},b={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:uQ,e:uQ,f:dQ,g:MQ,G:TQ,H:cQ,I:hQ,j:pQ,L:fQ,m:mQ,M:vQ,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:PQ,s:OQ,S:gQ,u:yQ,U:_Q,V:xQ,w:wQ,W:SQ,x:null,X:null,y:EQ,Y:kQ,Z:AQ,"%":CQ},x={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:IJ,e:IJ,f:FJ,g:CJ,G:AJ,H:DJ,I:DJ,j:LJ,L:BJ,m:RJ,M:zJ,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:OJ,Q:UJ,s:VJ,S:NJ,u:EJ,U:MJ,V:kJ,w:SJ,W:TJ,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:CJ,Y:AJ,Z:PJ,"%":jJ};function w(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=mJ[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function S(e,t){return function(n){var r,i,o=hJ(1900,void 0,1);if(E(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=cJ(hJ(o.y,0,1))).getUTCDay(),r=i>4||0===i?qK.ceil(r):qK(r),r=HK.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=uJ(hJ(o.y,0,1))).getDay(),r=i>4||0===i?AK.ceil(r):AK(r),r=MK.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?cJ(hJ(o.y,0,1)).getUTCDay():uJ(hJ(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,cJ(o)):uJ(o)}}function E(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in mJ?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=w(n,_),_.X=w(r,_),_.c=w(t,_),b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),{format:function(e){var t=w(e+="",_);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),fJ=pJ.format,pJ.parse,dJ=pJ.utcFormat,pJ.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var u$=function(e){var t,n=e.type.displayName,r=e.props,i=r.stroke,o=r.fill;switch(n){case"Line":t=i;break;case"Area":case"Radar":t=i&&"none"!==i?i:o;break;default:t=o}return t},c$=function(e){var t,n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=XG(n,iW.displayName);return a?(t=a.props&&a.props.payload?a.props&&a.props.payload:"children"===o?(r||[]).reduce((function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map((function(e){return{type:a.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(r||[]).map((function(e){var t=e.item,n=t.props,r=n.dataKey,i=n.name,o=n.legendType;return{inactive:n.hide,dataKey:r,type:a.props.iconType||o||"square",color:u$(t),value:i||r,payload:t.props}})),o$(o$(o$({},a.props),iW.getWithHeight(a,i)),{},{payload:t,item:a})):null},h$=function(e,t,n,r){var i=t.props.children,o=YG(i,"ErrorBar").filter((function(e){var t=e.props.direction;return!(!Lj()(t)&&!Lj()(r))||r.indexOf(t)>=0}));if(o&&o.length){var a=o.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=s$(t,n,0),i=$F()(r)?[mY()(r),fY()(r)]:[r,r],o=a.reduce((function(e,n){var r=s$(t,n,0),o=i[0]-Math.abs($F()(r)?r[0]:r),a=i[1]+Math.abs($F()(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]}),[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]}),[1/0,-1/0])}return null},p$=function(e,t,n,r){var i=t.map((function(t){var i=t.props.dataKey;return"number"===n&&i&&h$(e,t,i)||l$(e,i,n,r)}));if("number"===n)return i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var o={};return i.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)o[t[n]]||(o[t[n]]=!0,e.push(t[n]));return e}),[])},f$=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},d$=function(e,t,n){var r,i,o=e.map((function(e){return e.coordinate===t&&(r=!0),e.coordinate===n&&(i=!0),e.coordinate}));return r||o.push(t),i||o.push(n),o},m$=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/2:0;return s="angleAxis"===e.axisType?2*aj(a[0]-a[1])*s:s,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+s,value:e,offset:s}})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+s,value:e,index:t,offset:s}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+s,value:e,offset:s}})):r.domain().map((function(e,t){return{coordinate:r(e)+s,value:i?i[e]:e,index:t,offset:s}}))},v$=function(e,t,n){var r;return kj()(n)?r=n:kj()(t)&&(r=t),kj()(e)||r?function(t,n,i,o){kj()(e)&&e(t,n,i,o),kj()(r)&&r(t,n,i,o)}:null},g$=1e-4,y$={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=tj()(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}QQ(e,t)}},none:QQ,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}QQ(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,u=0;s<i;++s){for(var c=e[t[s]],h=c[a][1]||0,p=(h-(c[a-1][1]||0))/2,f=0;f<s;++f){var d=e[t[f]];p+=(d[a][1]||0)-(d[a-1][1]||0)}l+=h,u+=p*h}n[a-1][1]+=n[a-1][0]=o,l&&(o-=u/l)}n[a-1][1]+=n[a-1][0]=o,QQ(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=tj()(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},_$=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),i=function(){var e=xH([]),t=$Q,n=QQ,r=e$;function i(i){var o,a,s,l=Array.from(e.apply(this,arguments),t$),u=l.length,c=-1,h=lg(i);try{for(h.s();!(s=h.n()).done;){var p=s.value;for(o=0,++c;o<u;++o)(l[o][c]=[0,+r(p,l[o].key,c,i)]).data=p}}catch(p2){h.e(p2)}finally{h.f()}for(o=0,a=SW(t(l));o<u;++o)l[a[o]].index=o;return n(l,a),l}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:xH(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:xH(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?$Q:"function"===typeof e?e:xH(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?QQ:e,i):n},i}().keys(r).value((function(e,t){return+s$(e,t,0)})).order($Q).offset(y$[n]);return i(e)},b$=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=e.domain();if(!l.length)return null;var u=GY(l,i,a);return e.domain(function(e,t){return"number"===t?[mY()(e),fY()(e)]:e}(u,r)),{niceTicks:u}}if(i&&"number"===r){var c=e.domain();return{niceTicks:qY(c,i,a)}}return null},x$=function(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Lj()(i[t.dataKey])){var s=mj(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=s$(i,Lj()(a)?t.dataKey:a);return Lj()(l)?null:t.scale(l)},w$=function(e,t,n){return Object.keys(e).reduce((function(r,i){var o=e[i].stackedData.reduce((function(e,r){var i=r.slice(t,n+1).reduce((function(e,t){return[mY()(t.concat([e[0]]).filter(lj)),fY()(t.concat([e[1]]).filter(lj))]}),[1/0,-1/0]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},S$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,E$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,M$=function(e,t,n){if(kj()(e))return e(t,n);if(!$F()(e))return t;var r=[];if(lj(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(S$.test(e[0])){var i=+S$.exec(e[0])[1];r[0]=t[0]-i}else kj()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(lj(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(E$.test(e[1])){var o=+E$.exec(e[1])[1];r[1]=t[1]+o}else kj()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},k$=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Pj()(t,(function(e){return e.coordinate})),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],u=i[a-1];o=Math.min((l.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},T$=function(e,t,n){return e&&e.length?hY()(e,JF()(n,"type.defaultProps.domain"))?t:e:t},A$=function(e,t){var n=e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType;return o$(o$({},Hj(e)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:u$(e),value:s$(t,r),type:s,payload:t,chartType:l})};function C$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C$(Object(n),!0).forEach((function(t){O$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R$=["Webkit","Moz","O","ms"];function I$(e){return I$="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I$(e)}function L$(){return L$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L$.apply(this,arguments)}function D$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D$(Object(n),!0).forEach((function(t){N$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F$(e,t){return F$=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},F$(e,t)}function j$(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H$(e);if(t){var i=H$(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return U$(this,n)}}function U$(e,t){return!t||"object"!==I$(t)&&"function"!==typeof t?V$(e):t}function V$(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H$(e){return H$=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},H$(e)}var W$=function(e){return e.changedTouches&&!!e.changedTouches.length},G$=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F$(e,t)}(a,e);var t,n,r,o=j$(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).leaveTimer=void 0,t.travellerDragStartHandlers=void 0,t.handleDrag=function(e){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(e):t.state.isSlideMoving&&t.handleSlideDrag(e)},t.handleTouchMove=function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleDrag(e.changedTouches[0])},t.handleDragEnd=function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1}),t.detachDragEndListener()},t.handleLeaveWrapper=function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))},t.handleEnterSlideOrTraveller=function(){t.setState({isTextActive:!0})},t.handleLeaveSlideOrTraveller=function(){t.setState({isTextActive:!1})},t.handleSlideDragStart=function(e){var n=W$(e)?e.changedTouches[0]:e;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:n.pageX}),t.attachDragEndListener()},t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(V$(t),"startX"),endX:t.handleTravellerDragStart.bind(V$(t),"endX")},t.state={},t}return t=a,n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var t=e.startX,n=e.endX,r=this.state.scaleValues,i=this.props,o=i.gap,s=i.data.length-1,l=Math.min(t,n),u=Math.max(t,n),c=a.getIndexInRange(r,l),h=a.getIndexInRange(r,u);return{startIndex:c-c%o,endIndex:h===s?s:h-h%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=s$(n[e],i,e);return kj()(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,l=o.travellerWidth,u=o.startIndex,c=o.endIndex,h=o.onChange,p=e.pageX-n;p>0?p=Math.min(p,a+s-l-i,a+s-l-r):p<0&&(p=Math.max(p,a-r,a-i));var f=this.getIndex({startX:r+p,endX:i+p});f.startIndex===u&&f.endIndex===c||!h||h(f),this.setState({startX:r+p,endX:i+p,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=W$(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t,n=this.state,r=n.brushMoveStartX,i=n.movingTravellerId,o=n.endX,a=n.startX,s=this.state[i],l=this.props,u=l.x,c=l.width,h=l.travellerWidth,p=l.onChange,f=l.gap,d=l.data,m={startX:this.state.startX,endX:this.state.endX},v=e.pageX-r;v>0?v=Math.min(v,u+c-h-s):v<0&&(v=Math.max(v,u-s)),m[i]=s+v;var g=this.getIndex(m),y=g.startIndex,_=g.endIndex;this.setState((N$(t={},i,s+v),N$(t,"brushMoveStartX",e.pageX),t),(function(){p&&function(){var e=d.length-1;return"startX"===i&&(o>a?y%f===0:_%f===0)||o<a&&_===e||"endX"===i&&(o>a?_%f===0:y%f===0)||o>a&&_===e}()&&p(g)}))}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.fill,s=e.stroke;return i.createElement("rect",{stroke:s,fill:a,x:t,y:n,width:r,height:o})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.data,s=e.children,l=e.padding,u=i.Children.only(s);return u?i.cloneElement(u,{x:t,y:n,width:r,height:o,margin:l,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,t){var n=this.props,r=n.y,o=n.travellerWidth,s=n.height,l=n.traveller,u=Math.max(e,this.props.x),c=z$(z$({},Hj(this.props)),{},{x:u,y:r,width:o,height:s});return i.createElement(Jj,{className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[t],onTouchStart:this.travellerDragStartHandlers[t],style:{cursor:"col-resize"}},a.renderTraveller(l,c))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,o=n.height,a=n.stroke,s=n.travellerWidth,l=Math.min(e,t)+s,u=Math.max(Math.abs(t-e)-s,0);return i.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:l,y:r,width:u,height:o})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,o=e.height,a=e.travellerWidth,s=e.stroke,l=this.state,u=l.startX,c=l.endX,h={pointerEvents:"none",fill:s};return i.createElement(Jj,{className:"recharts-brush-texts"},i.createElement(Rq,L$({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,c)-5,y:r+o/2},h),this.getTextOfTick(t)),i.createElement(Rq,L$({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,c)+a+5,y:r+o/2},h),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,o=e.x,a=e.y,s=e.width,l=e.height,u=e.alwaysShowText,c=this.state,h=c.startX,p=c.endX,f=c.isTextActive,d=c.isSlideMoving,m=c.isTravellerMoving;if(!t||!t.length||!lj(o)||!lj(a)||!lj(s)||!lj(l)||s<=0||l<=0)return null;var v=XF()("recharts-brush",n),g=1===i.Children.count(r),y=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=R$.reduce((function(e,r){return P$(P$({},e),{},O$({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return i.createElement(Jj,{className:v,onMouseMove:this.handleDrag,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:y},this.renderBackground(),g&&this.renderPanorama(),this.renderSlide(h,p),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(p,"endX"),(f||d||m||u)&&this.renderText())}}],r=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,o=e.height,a=e.stroke,s=Math.floor(n+o/2)-1;return i.createElement(i.Fragment,null,i.createElement("rect",{x:t,y:n,width:r,height:o,fill:a,stroke:"none"}),i.createElement("line",{x1:t+1,y1:s,x2:t+r-1,y2:s,fill:"none",stroke:"#fff"}),i.createElement("line",{x1:t+1,y1:s+2,x2:t+r-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):kj()(e)?e(t):a.renderDefaultTraveller(t)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return z$({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=uY().domain(Rj()(0,s)).range([i,i+o-a]),u=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,startX:l(n),endX:l(r),scale:l,scaleValues:u}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var u=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:u}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],n&&B$(t.prototype,n),r&&B$(t,r),a}(i.PureComponent);G$.displayName="Brush",G$.defaultProps={height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1};var q$=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},Y$=n(7702),X$=n.n(Y$);function Z$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K$(Object(n),!0).forEach((function(t){Q$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $$=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},e0=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=void 0,this.scale=t}var t,n,r;return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&Z$(t.prototype,n),r&&Z$(t,r),e}();e0.EPS=1e-4;var t0=function(e){var t=Object.keys(e).reduce((function(t,n){return J$(J$({},t),{},Q$({},n,e0.create(e[n])))}),{});return J$(J$({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return X$()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return wj()(e,(function(e,n){return t[n].isInRange(e)}))}})};function n0(){return n0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n0.apply(this,arguments)}function r0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r0(Object(n),!0).forEach((function(t){o0(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a0(e){var t=e.x,n=e.y,r=e.r,o=e.alwaysShow,a=e.clipPathId,s=uj(t),l=uj(n);if(vj(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!l)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=t0({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return q$(e,"discard")&&!o.isInRange(a)?null:a}(e);if(!u)return null;var c=u.x,h=u.y,p=e.shape,f=e.className,d=i0(i0({clipPath:q$(e,"hidden")?"url(#".concat(a,")"):void 0},Hj(e,!0)),{},{cx:c,cy:h});return i.createElement(Jj,{className:XF()("recharts-reference-dot",f)},a0.renderDot(p,d),jq.renderCallByParent(e,{x:c-r,y:h-r,width:2*r,height:2*r}))}a0.displayName="ReferenceDot",a0.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1},a0.renderDot=function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):kj()(e)?e(t):i.createElement(TG,n0({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))};var s0=n(4064),l0=n.n(s0);function u0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u0(Object(n),!0).forEach((function(t){h0(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(p2){i=!0,o=p2}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f0(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d0(){return d0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d0.apply(this,arguments)}function m0(e){var t=e.x,n=e.y,r=e.segment,o=e.xAxis,a=e.yAxis,s=e.shape,l=e.className,u=e.alwaysShow,c=e.clipPathId;vj(void 0===u,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=function(e,t,n,r,i){var o=i.viewBox,a=o.x,s=o.y,l=o.width,u=o.height,c=i.position;if(n){var h=i.y,p=i.yAxis.orientation,f=e.y.apply(h,{position:c});if(q$(i,"discard")&&!e.y.isInRange(f))return null;var d=[{x:a+l,y:f},{x:a,y:f}];return"left"===p?d.reverse():d}if(t){var m=i.x,v=i.xAxis.orientation,g=e.x.apply(m,{position:c});if(q$(i,"discard")&&!e.x.isInRange(g))return null;var y=[{x:g,y:s+u},{x:g,y:s}];return"top"===v?y.reverse():y}if(r){var _=i.segment.map((function(t){return e.apply(t,{position:c})}));return q$(i,"discard")&&l0()(_,(function(t){return!e.isInRange(t)}))?null:_}return null}(t0({x:o.scale,y:a.scale}),uj(t),uj(n),r&&2===r.length,e);if(!h)return null;var p=p0(h,2),f=p[0],d=f.x,m=f.y,v=p[1],g=v.x,y=v.y,_=c0(c0({clipPath:q$(e,"hidden")?"url(#".concat(c,")"):void 0},Hj(e,!0)),{},{x1:d,y1:m,x2:g,y2:y});return i.createElement(Jj,{className:XF()("recharts-reference-line",l)},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):kj()(e)?e(t):i.createElement("line",d0({},t,{className:"recharts-reference-line-line"}))}(s,_),jq.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return $$({x:t,y:n},{x:r,y:i})}({x1:d,y1:m,x2:g,y2:y})))}function v0(){return v0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v0.apply(this,arguments)}function g0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g0(Object(n),!0).forEach((function(t){_0(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}m0.displayName="ReferenceLine",m0.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function b0(e){var t=e.x1,n=e.x2,r=e.y1,o=e.y2,a=e.className,s=e.alwaysShow,l=e.clipPathId;vj(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=uj(t),c=uj(n),h=uj(r),p=uj(o),f=e.shape;if(!u&&!c&&!h&&!p&&!f)return null;var d=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,l=i.y2,u=i.xAxis,c=i.yAxis;if(!u||!c)return null;var h=t0({x:u.scale,y:c.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(s,{position:"start"}):h.y.rangeMin},f={x:t?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:r?h.y.apply(l,{position:"end"}):h.y.rangeMax};return!q$(i,"discard")||h.isInRange(p)&&h.isInRange(f)?$$(p,f):null}(u,c,h,p,e);if(!d&&!f)return null;var m=q$(e,"hidden")?"url(#".concat(l,")"):void 0;return i.createElement(Jj,{className:XF()("recharts-reference-area",a)},b0.renderRect(f,y0(y0({clipPath:m},Hj(e,!0)),d)),jq.renderCallByParent(e,d))}b0.displayName="ReferenceArea",b0.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1},b0.renderRect=function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):kj()(e)?e(t):i.createElement(BG,v0({},t,{className:"recharts-reference-area-rect"}))};var x0=function(e,t,n,r,i){var o=YG(e,m0.displayName),a=YG(e,a0.displayName),s=o.concat(a),l=YG(e,b0.displayName),u="".concat(r,"Id"),c=r[0],h=t;if(s.length&&(h=s.reduce((function(e,t){if(t.props[u]===n&&q$(t.props,"extendDomain")&&lj(t.props[c])){var r=t.props[c];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),h)),l.length){var p="".concat(c,"1"),f="".concat(c,"2");h=l.reduce((function(e,t){if(t.props[u]===n&&q$(t.props,"extendDomain")&&lj(t.props[p])&&lj(t.props[f])){var r=t.props[p],i=t.props[f];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),h)}return i&&i.length&&(h=i.reduce((function(e,t){return lj(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),h)),h},w0=n(7143),S0=new(n.n(w0)());S0.setMaxListeners&&S0.setMaxListeners(10);var E0="recharts.syncMouseEvents";function M0(e){return M0="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M0(e)}function k0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(p2){i=!0,o=p2}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||z0(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T0(){return T0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T0.apply(this,arguments)}function A0(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function C0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P0(e,t){return P0=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},P0(e,t)}function O0(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L0(e);if(t){var i=L0(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return R0(this,n)}}function R0(e,t){return!t||"object"!==M0(t)&&"function"!==typeof t?I0(e):t}function I0(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L0(e){return L0=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},L0(e)}function D0(e){return function(e){if(Array.isArray(e))return N0(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||z0(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z0(e,t){if(e){if("string"===typeof e)return N0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N0(e,t):void 0}}function N0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B0(Object(n),!0).forEach((function(t){j0(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U0={xAxis:["bottom","top"],yAxis:["left","right"]},V0={x:0,y:0},H0=Number.isFinite?Number.isFinite:isFinite,W0="function"===typeof requestAnimationFrame?requestAnimationFrame:"function"===typeof setImmediate?setImmediate:setTimeout,G0="function"===typeof cancelAnimationFrame?cancelAnimationFrame:"function"===typeof clearImmediate?clearImmediate:clearTimeout,q0=function(e,t,n){var r=t.graphicalItems,i=t.dataStartIndex,o=t.dataEndIndex,a=(r||[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(D0(e),D0(n)):e}),[]);return a&&a.length>0?a:n&&n.props&&n.props.data&&n.props.data.length>0?n.props.data:e&&e.length&&lj(i)&&lj(o)?e.slice(i,o+1):[]},Y0=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=q0(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce((function(e,t){if(t.props.hide)return e;var i,s=t.props.data;o.dataKey&&!o.allowDuplicatedCategory?i=mj(void 0===s?a:s,o.dataKey,r):i=s&&s[n]||a[n];return i?[].concat(D0(e),[A$(t,i)]):e}),[])},X0=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(a>1){if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<a;l++){var u=l>0?r[l-1].coordinate:r[a-1].coordinate,c=r[l].coordinate,h=l>=a-1?r[0].coordinate:r[l+1].coordinate,p=void 0;if(aj(c-u)!==aj(h-c)){var f=[];if(aj(h-c)===aj(s[1]-s[0])){p=h;var d=c+s[1]-s[0];f[0]=Math.min(d,(d+u)/2),f[1]=Math.max(d,(d+u)/2)}else{p=u;var m=h+s[1]-s[0];f[0]=Math.min(c,(m+c)/2),f[1]=Math.max(c,(m+c)/2)}var v=[Math.min(c,(p+c)/2),Math.max(c,(p+c)/2)];if(e>v[0]&&e<=v[1]||e>=f[0]&&e<=f[1]){o=r[l].index;break}}else{var g=Math.min(u,h),y=Math.max(u,h);if(e>(g+c)/2&&e<=(y+c)/2){o=r[l].index;break}}}else for(var _=0;_<a;_++)if(0===_&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<a-1&&e>(n[_].coordinate+n[_-1].coordinate)/2&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_===a-1&&e>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}}else o=0;return o}(o,a,l,s);if(u>=0&&l){var c=l[u]&&l[u].value,h=Y0(e,t,u,c),p=function(e,t,n,r){var i=t.find((function(e){return e&&e.index===n}));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return F0(F0(F0({},r),iG(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,l=r.angle;return F0(F0(F0({},r),iG(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return V0}(n,a,u,i);return{activeTooltipIndex:u,activeLabel:c,activePayload:h,activeCoordinate:p}}return null},Z0=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.layout,c=e.children,h=e.stackOffset,p=f$(u,i),f=n.reduce((function(t,n){var f=n.props,d=f.type,m=f.dataKey,v=f.allowDataOverflow,g=f.allowDuplicatedCategory,y=f.scale,_=f.ticks,b=n.props[o],x=q0(e.data,{graphicalItems:r.filter((function(e){return e.props[o]===b})),dataStartIndex:s,dataEndIndex:l}),w=x.length;if(!t[b]){var S,E,M;if(m){if(S=l$(x,m,d),"category"===d&&p){var k=function(e){if(!$F()(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(S);g&&k?(E=S,S=Rj()(0,w)):g||(S=T$(n.props.domain,S,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(D0(e),[t])}),[]))}else if("category"===d)S=g?S.filter((function(e){return""!==e&&!Lj()(e)})):T$(n.props.domain,S,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||Lj()(t)?e:[].concat(D0(e),[t])}),[]);else if("number"===d){var T=function(e,t,n,r){var i=t.map((function(t){return h$(e,t,n,r)})).filter((function(e){return!Lj()(e)}));return i&&i.length?i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(x,r.filter((function(e){return e.props[o]===b&&!e.props.hide})),m,i);T&&(S=T)}!p||"number"!==d&&"auto"===y||(M=l$(x,m,"category"))}else S=p?Rj()(0,w):a&&a[b]&&a[b].hasStack&&"number"===d?"expand"===h?[0,1]:w$(a[b].stackGroups,s,l):p$(x,r.filter((function(e){return e.props[o]===b&&!e.props.hide})),d,!0);if("number"===d)S=x0(c,S,b,i,_),n.props.domain&&(S=M$(n.props.domain,S,v));else if("category"===d&&n.props.domain){var A=n.props.domain;S.every((function(e){return A.indexOf(e)>=0}))&&(S=A)}return F0(F0({},t),{},j0({},b,F0(F0({},n.props),{},{axisType:i,domain:S,categoricalDomain:M,duplicateDomain:E,originalDomain:n.props.domain,isCategorical:p,layout:u})))}return t}),{});return f},K0=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.children,c="".concat(r,"Id"),h=YG(u,i),p={};return h&&h.length?p=Z0(e,{axes:h,graphicalItems:o,axisType:r,axisIdKey:c,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(p=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.layout,c=e.children,h=q0(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),p=h.length,f=f$(u,i),d=-1;return n.reduce((function(e,t){var m,v=t.props[o];return e[v]?e:(d++,f?m=Rj()(0,p):a&&a[v]&&a[v].hasStack?(m=w$(a[v].stackGroups,s,l),m=x0(c,m,v,i)):(m=M$(r.defaultProps.domain,p$(h,n.filter((function(e){return e.props[o]===v&&!e.props.hide})),"number"),r.defaultProps.allowDataOverflow),m=x0(c,m,v,i)),F0(F0({},e),{},j0({},v,F0(F0({axisType:i},r.defaultProps),{},{hide:!0,orientation:JF()(U0,"".concat(i,".").concat(d%2),null),domain:m,originalDomain:r.defaultProps.domain,isCategorical:f,layout:u}))))}),{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:c,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),p},J0=function(e){var t=e.children,n=e.defaultShowTooltip,r=XG(t,G$.displayName);return{chartX:0,chartY:0,dataStartIndex:r&&r.props&&r.props.startIndex||0,dataEndIndex:r&&r.props&&r.props.endIndex||e.data&&e.data.length-1||0,activeTooltipIndex:-1,isTooltipActive:!Lj()(n)&&n}},Q0=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$0=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,l=n.height,u=n.children,c=n.margin||{},h=XG(u,G$.displayName),p=XG(u,iW.displayName),f=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:F0(F0({},e),{},j0({},r,e[r]+n.width))}),{left:c.left||0,right:c.right||0}),d=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:F0(F0({},e),{},j0({},r,JF()(e,"".concat(r))+n.height))}),{top:c.top||0,bottom:c.bottom||0}),m=F0(F0({},d),f),v=m.bottom;return h&&(m.bottom+=h.props.height||G$.defaultProps.height),p&&t&&(m=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),l=c$({children:i,legendWidth:s}),u=e;if(l){var c=r||{},h=l.align,p=l.verticalAlign,f=l.layout;("vertical"===f||"horizontal"===f&&"center"===p)&&lj(e[h])&&(u=o$(o$({},e),{},a$({},h,u[h]+(c.width||0)))),("horizontal"===f||"vertical"===f&&"center"===h)&&lj(e[p])&&(u=o$(o$({},e),{},a$({},p,u[p]+(c.height||0))))}return u}(m,0,n,t)),F0(F0({brushBottom:v},m),{},{width:s-m.left-m.right,height:l-m.top-m.bottom})},e1=n(5727),t1=n.n(e1);function n1(e){return function(e){if(Array.isArray(e))return r1(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return r1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r1(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i1(){return i1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i1.apply(this,arguments)}function o1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o1(Object(n),!0).forEach((function(t){s1(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l1(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u1={valueAccessor:function(e){return $F()(e.value)?t1()(e.value):e.value}};function c1(e){var t=e.data,n=e.valueAccessor,r=e.dataKey,o=e.clockWise,a=e.id,s=e.textBreakAll,l=l1(e,["data","valueAccessor","dataKey","clockWise","id","textBreakAll"]);return t&&t.length?i.createElement(Jj,{className:"recharts-label-list"},t.map((function(e,t){var u=Lj()(r)?n(e,t):s$(e&&e.payload,r),c=Lj()(a)?{}:{id:"".concat(a,"-").concat(t)};return i.createElement(jq,i1({},Hj(e,!0),l,c,{parentViewBox:e.parentViewBox,index:t,value:u,textBreakAll:s,viewBox:jq.parseViewBox(Lj()(o)?e:a1(a1({},e),{},{clockWise:o})),key:"label-".concat(t)}))}))):null}function h1(e,t){return e?!0===e?i.createElement(c1,{key:"labelList-implicit",data:t}):i.isValidElement(e)||kj()(e)?i.createElement(c1,{key:"labelList-implicit",data:t,content:e}):Bj()(e)?i.createElement(c1,i1({data:t},e,{key:"labelList-implicit"})):null:null}function p1(){return p1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p1.apply(this,arguments)}function f1(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(p2){i=!0,o=p2}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d1(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m1(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v1(e){var t=e.offset,n=e.layout,r=e.width,o=e.dataKey,a=e.data,s=e.dataPointFormatter,l=e.xAxis,u=e.yAxis,c=m1(e,["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"]),h=Hj(c),p=a.map((function(e,a){var c=s(e,o),p=c.x,f=c.y,d=c.value,m=c.errorVal;if(!m)return null;var v,g,y=[];if(Array.isArray(m)){var _=f1(m,2);v=_[0],g=_[1]}else v=g=m;if("vertical"===n){var b=l.scale,x=f+t,w=x+r,S=x-r,E=b(d-v),M=b(d+g);y.push({x1:M,y1:w,x2:M,y2:S}),y.push({x1:E,y1:x,x2:M,y2:x}),y.push({x1:E,y1:w,x2:E,y2:S})}else if("horizontal"===n){var k=u.scale,T=p+t,A=T-r,C=T+r,P=k(d-v),O=k(d+g);y.push({x1:A,y1:O,x2:C,y2:O}),y.push({x1:T,y1:P,x2:T,y2:O}),y.push({x1:A,y1:P,x2:C,y2:P})}return i.createElement(Jj,p1({className:"recharts-errorBar",key:"bar-".concat(a)},h),y.map((function(e,t){return i.createElement("line",p1({},e,{key:"line-".concat(t)}))})))}));return i.createElement(Jj,{className:"recharts-errorBars"},p)}function g1(e){return g1="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g1(e)}function y1(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _1(){return _1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_1.apply(this,arguments)}function b1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b1(Object(n),!0).forEach((function(t){w1(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S1(e){return function(e){if(Array.isArray(e))return E1(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return E1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E1(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T1(e,t){return T1=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},T1(e,t)}function A1(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P1(e);if(t){var i=P1(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C1(this,n)}}function C1(e,t){return!t||"object"!==g1(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P1(e){return P1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P1(e)}c1.displayName="LabelList",c1.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,o=YG(r,c1.displayName).map((function(e,n){return(0,i.cloneElement)(e,{data:t,key:"labelList-".concat(n)})}));if(!n)return o;var a=h1(e.label,t);return[a].concat(n1(o))},c1.defaultProps=u1,v1.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"},v1.displayName="ErrorBar";var O1=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T1(e,t)}(a,e);var t,n,r,o=A1(a);function a(){var e;M1(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).mainCurve=void 0,e.state={isAnimationFinished:!0,totalLength:0},e.getStrokeDasharray=function(e,t,n){for(var r=n.reduce((function(e,t){return e+t})),i=Math.floor(e/r),o=e%r,s=t-e,l=[],u=0,c=0;;c+=n[u],++u)if(c+n[u]>o){l=[].concat(S1(n.slice(0,u)),[o-c]);break}var h=l.length%2===0?[0,s]:[s];return[].concat(S1(a.repeat(n,i)),S1(l),h).map((function(e){return"".concat(e,"px")})).join(", ")},e.id=hj("recharts-line-"),e.pathRef=function(t){e.mainCurve=t},e.handleAnimationEnd=function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()},e.handleAnimationStart=function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()},e}return t=a,n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(p2){return 0}}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,t=e.points,n=e.xAxis,r=e.yAxis,o=e.layout,a=e.children,s=YG(a,v1.displayName);if(!s)return null;function l(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:s$(e.payload,t)}}return s.map((function(e,a){return i.cloneElement(e,{key:"bar-".concat(a),data:t,xAxis:n,yAxis:r,layout:o,dataPointFormatter:l})}))}},{key:"renderDots",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.dot,o=n.points,s=n.dataKey,l=Hj(this.props),u=Hj(r,!0),c=o.map((function(e,t){var n=x1(x1(x1({key:"dot-".concat(t),r:3},l),u),{},{value:e.value,dataKey:s,cx:e.x,cy:e.y,index:t,payload:e.payload});return a.renderDotItem(r,n)})),h={clipPath:e?"url(#clipPath-".concat(t,")"):null};return i.createElement(Jj,_1({className:"recharts-line-dots",key:"dots"},h),c)}},{key:"renderCurveStatically",value:function(e,t,n,r){var o=this.props,a=o.type,s=o.layout,l=o.connectNulls,u=(o.ref,y1(o,["type","layout","connectNulls","ref"])),c=x1(x1(x1({},Hj(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:a,layout:s,connectNulls:l});return i.createElement(HW,_1({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,o=r.points,a=r.strokeDasharray,s=r.isAnimationActive,l=r.animationBegin,u=r.animationDuration,c=r.animationEasing,h=r.animationId,p=r.animateNewValues,f=r.width,d=r.height,m=this.state,v=m.prevPoints,g=m.totalLength;return i.createElement(yV,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var i=r.t;if(v){var s=v.length/o.length,l=o.map((function(e,t){var n=Math.floor(t*s);if(v[n]){var r=v[n],o=dj(r.x,e.x),a=dj(r.y,e.y);return x1(x1({},e),{},{x:o(i),y:a(i)})}if(p){var l=dj(2*f,e.x),u=dj(d/2,e.y);return x1(x1({},e),{},{x:l(i),y:u(i)})}return x1(x1({},e),{},{x:e.x,y:e.y})}));return n.renderCurveStatically(l,e,t)}var u,c=dj(0,g)(i);if(a){var h="".concat(a).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));u=n.getStrokeDasharray(c,g,h)}else u="".concat(c,"px ").concat(g-c,"px");return n.renderCurveStatically(o,e,t,{strokeDasharray:u})}))}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,o=this.state,a=o.prevPoints,s=o.totalLength;return i&&r&&r.length&&(!a&&s>0||!hY()(a,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.dot,r=e.points,o=e.className,a=e.xAxis,s=e.yAxis,l=e.top,u=e.left,c=e.width,h=e.height,p=e.isAnimationActive,f=e.id;if(t||!r||!r.length)return null;var d=this.state.isAnimationFinished,m=1===r.length,v=XF()("recharts-line",o),g=a&&a.allowDataOverflow||s&&s.allowDataOverflow,y=Lj()(f)?this.id:f;return i.createElement(Jj,{className:v},g?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(y)},i.createElement("rect",{x:u,y:l,width:c,height:h}))):null,!m&&this.renderCurve(g,y),this.renderErrorBar(),(m||n)&&this.renderDots(g,y),(!p||d)&&c1.renderCallByParent(this.props,r))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(S1(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(S1(r),S1(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if(kj()(e))n=e(t);else{var r=XF()("recharts-line-dot",e?e.className:"");n=i.createElement(TG,_1({},t,{className:r}))}return n}}],n&&k1(t.prototype,n),r&&k1(t,r),a}(i.PureComponent);O1.displayName="Line",O1.defaultProps={xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!IV.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1},O1.getComposedData=function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,l=e.displayedData,u=e.offset,c=t.layout,h=l.map((function(e,t){var l=s$(e,a);return"horizontal"===c?{x:x$({axis:n,ticks:i,bandSize:s,entry:e,index:t}),y:Lj()(l)?null:r.scale(l),value:l,payload:e}:{x:Lj()(l)?null:n.scale(l),y:x$({axis:r,ticks:o,bandSize:s,entry:e,index:t}),value:l,payload:e}}));return x1({points:h,layout:c},u)};var R1=function(){return null};R1.displayName="XAxis",R1.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",domain:[0,"auto"],padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var I1=function(){return null};I1.displayName="YAxis",I1.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",domain:[0,"auto"],padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var L1=function(e){var t,n,r=e.chartName,o=e.GraphicalChild,a=e.defaultTooltipEventType,s=void 0===a?"axis":a,l=e.validateTooltipEventTypes,u=void 0===l?["axis"]:l,c=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,f=e.defaultProps,d=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,s=t.dataEndIndex,l=e.barSize,u=e.layout,h=e.barGap,p=e.barCategoryGap,f=e.maxBarSize,d=Q0(u),m=d.numericAxisName,v=d.cateAxisName,g=function(e){return!(!e||!e.length)&&e.some((function(e){var t=HG(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),y=g&&function(e){var t=e.barSize,n=e.stackGroups,r=void 0===n?{}:n;if(!r)return{};for(var i={},o=Object.keys(r),a=0,s=o.length;a<s;a++)for(var l=r[o[a]].stackGroups,u=Object.keys(l),c=0,h=u.length;c<h;c++){var p=l[u[c]],f=p.items,d=p.cateAxisId,m=f.filter((function(e){return HG(e.type).indexOf("Bar")>=0}));if(m&&m.length){var v=m[0].props.barSize,g=m[0].props[d];i[g]||(i[g]=[]),i[g].push({item:m[0],stackList:m.slice(1),barSize:Lj()(v)?t:v})}}return i}({barSize:l,stackGroups:r}),_=[];return n.forEach((function(n,l){var d=q0(e.data,{dataStartIndex:a,dataEndIndex:s},n),g=n.props,b=g.dataKey,x=g.maxBarSize,w=n.props["".concat(m,"Id")],S=n.props["".concat(v,"Id")],E=c.reduce((function(e,r){var i,o=t["".concat(r.axisType,"Map")],a=n.props["".concat(r.axisType,"Id")],s=o&&o[a];return F0(F0({},e),{},(j0(i={},r.axisType,s),j0(i,"".concat(r.axisType,"Ticks"),m$(s)),i))}),{}),M=E[v],k=E["".concat(v,"Ticks")],T=r&&r[w]&&r[w].hasStack&&function(e,t){var n=e.props.stackId;if(uj(n)){var r=t[n];if(r&&r.items.length){for(var i=-1,o=0,a=r.items.length;o<a;o++)if(r.items[o]===e){i=o;break}return i>=0?r.stackedData[i]:null}}return null}(n,r[w].stackGroups),A=HG(n.type).indexOf("Bar")>=0,C=k$(M,k),P=[];if(A){var O,R,I=Lj()(x)?f:x,L=null!==(O=null!==(R=k$(M,k,!0))&&void 0!==R?R:I)&&void 0!==O?O:0;P=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var l,u=pj(t,r,0,!0);if(o[0].barSize===+o[0].barSize){var c=!1,h=r/s,p=o.reduce((function(e,t){return e+t.barSize||0}),0);(p+=(s-1)*u)>=r&&(p-=(s-1)*u,u=0),p>=r&&h>0&&(c=!0,p=s*(h*=.9));var f={offset:((r-p)/2>>0)-u,size:0};l=o.reduce((function(e,t){var n=[].concat(n$(e),[{item:t.item,position:{offset:f.offset+f.size+u,size:c?h:t.barSize}}]);return f=n[n.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){n.push({item:e,position:f})})),n}),[])}else{var d=pj(n,r,0,!0);r-2*d-(s-1)*u<=0&&(u=0);var m=(r-2*d-(s-1)*u)/s;m>1&&(m>>=0);var v=a===+a?Math.min(m,a):m;l=o.reduce((function(e,t,n){var r=[].concat(n$(e),[{item:t.item,position:{offset:d+(m+u)*n+(m-v)/2,size:v}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),[])}return l}({barGap:h,barCategoryGap:p,bandSize:L!==C?L:C,sizeList:y[S],maxBarSize:I}),L!==C&&(P=P.map((function(e){return F0(F0({},e),{},{position:F0(F0({},e.position),{},{offset:e.position.offset-L/2})})})))}var D,z,N,B=n&&n.type&&n.type.getComposedData;B&&_.push({props:F0(F0({},B(F0(F0({},E),{},{displayedData:d,props:e,dataKey:b,item:n,bandSize:C,barPosition:P,offset:i,stackedData:T,layout:u,dataStartIndex:a,dataEndIndex:s}))),{},(D={key:n.key||"item-".concat(l)},j0(D,m,E[m]),j0(D,v,E[v]),j0(D,"animationId",o),D)),childIndex:(z=n,N=e.children,qG(N).indexOf(z)),item:n})})),_},m=function(e,t){var n=e.props,i=e.dataStartIndex,a=e.dataEndIndex,s=e.updateId;if(!ZG({props:n}))return null;var l=n.children,u=n.layout,h=n.stackOffset,f=n.data,m=n.reverseStackOrder,v=Q0(u),g=v.numericAxisName,y=v.cateAxisName,_=YG(l,o),b=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce((function(e,t){var i=t.props,o=i.stackId;if(i.hide)return e;var a=t.props[n],s=e[a]||{hasStack:!1,stackGroups:{}};if(uj(o)){var l=s.stackGroups[o]||{numericAxisId:n,cateAxisId:r,items:[]};l.items.push(t),s.hasStack=!0,s.stackGroups[o]=l}else s.stackGroups[hj("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return o$(o$({},e),{},a$({},a,s))}),{});return Object.keys(a).reduce((function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,o){var a=s.stackGroups[o];return o$(o$({},t),{},a$({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:_$(e,a.items,i)}))}),{})),o$(o$({},t),{},a$({},o,s))}),{})}(f,_,"".concat(g,"Id"),"".concat(y,"Id"),h,m),x=c.reduce((function(e,t){var r="".concat(t.axisType,"Map");return F0(F0({},e),{},j0({},r,K0(n,F0(F0({},t),{},{graphicalItems:_,stackGroups:t.axisType===g&&b,dataStartIndex:i,dataEndIndex:a}))))}),{}),w=$0(F0(F0({},x),{},{props:n,graphicalItems:_}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(x).forEach((function(e){x[e]=p(n,x[e],w,e.replace("Map",""),r)}));var S=function(e){var t=fj(e),n=m$(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Pj()(n,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:k$(t,n)}}(x["".concat(y,"Map")]),E=d(n,F0(F0({},x),{},{dataStartIndex:i,dataEndIndex:a,updateId:s,graphicalItems:_,stackGroups:b,offset:w}));return F0(F0({formattedGraphicalItems:E,graphicalItems:_,offset:w,stackGroups:b},S),x)};return n=t=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P0(e,t)}(l,e);var t,n,o,a=O0(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).uniqueChartId=void 0,t.clipPathId=void 0,t.legendInstance=void 0,t.deferId=void 0,t.container=void 0,t.clearDeferId=function(){!Lj()(t.deferId)&&G0&&G0(t.deferId),t.deferId=null},t.handleLegendBBoxUpdate=function(e){if(e){var n=t.state,r=n.dataStartIndex,i=n.dataEndIndex,o=n.updateId;t.setState(F0({legendBBox:e},m({props:t.props,dataStartIndex:r,dataEndIndex:i,updateId:o},F0(F0({},t.state),{},{legendBBox:e}))))}},t.handleReceiveSyncEvent=function(e,n,r){t.props.syncId===e&&n!==t.uniqueChartId&&(t.clearDeferId(),t.deferId=W0&&W0(t.applySyncEvent.bind(I0(t),r)))},t.handleBrushChange=function(e){var n=e.startIndex,r=e.endIndex;if(n!==t.state.dataStartIndex||r!==t.state.dataEndIndex){var i=t.state.updateId;t.setState((function(){return F0({dataStartIndex:n,dataEndIndex:r},m({props:t.props,dataStartIndex:n,dataEndIndex:r,updateId:i},t.state))})),t.triggerSyncEvent({dataStartIndex:n,dataEndIndex:r})}},t.handleMouseEnter=function(e){var n=t.props.onMouseEnter,r=t.getMouseInfo(e);if(r){var i=F0(F0({},r),{},{isTooltipActive:!0});t.setState(i),t.triggerSyncEvent(i),kj()(n)&&n(i,e)}},t.triggeredAfterMouseMove=function(e){var n=t.props.onMouseMove,r=t.getMouseInfo(e),i=r?F0(F0({},r),{},{isTooltipActive:!0}):{isTooltipActive:!1};t.setState(i),t.triggerSyncEvent(i),kj()(n)&&n(i,e)},t.handleItemMouseEnter=function(e){t.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))},t.handleItemMouseLeave=function(){t.setState((function(){return{isTooltipActive:!1}}))},t.handleMouseMove=function(e){e&&kj()(e.persist)&&e.persist(),t.triggeredAfterMouseMove(e)},t.handleMouseLeave=function(e){var n=t.props.onMouseLeave,r={isTooltipActive:!1};t.setState(r),t.triggerSyncEvent(r),kj()(n)&&n(r,e),t.cancelThrottledTriggerAfterMouseMove()},t.handleOuterEvent=function(e){var n=function(e){var t=e&&e.type;return t&&VG[t]?VG[t]:null}(e),r=JF()(t.props,"".concat(n));n&&kj()(r)&&r(/.*touch.*/i.test(n)?t.getMouseInfo(e.changedTouches[0]):t.getMouseInfo(e),e)},t.handleClick=function(e){var n=t.props.onClick,r=t.getMouseInfo(e);if(r){var i=F0(F0({},r),{},{isTooltipActive:!0});t.setState(i),t.triggerSyncEvent(i),kj()(n)&&n(i,e)}},t.handleMouseDown=function(e){var n=t.props.onMouseDown;kj()(n)&&n(t.getMouseInfo(e),e)},t.handleMouseUp=function(e){var n=t.props.onMouseUp;kj()(n)&&n(t.getMouseInfo(e),e)},t.handleTouchMove=function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleMouseMove(e.changedTouches[0])},t.handleTouchStart=function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleMouseDown(e.changedTouches[0])},t.handleTouchEnd=function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleMouseUp(e.changedTouches[0])},t.verticalCoordinatesGenerator=function(e){var t=e.xAxis,n=e.width,r=e.height,i=e.offset;return d$(tY.getTicks(F0(F0(F0({},tY.defaultProps),t),{},{ticks:m$(t,!0),viewBox:{x:0,y:0,width:n,height:r}})),i.left,i.left+i.width)},t.horizontalCoordinatesGenerator=function(e){var t=e.yAxis,n=e.width,r=e.height,i=e.offset;return d$(tY.getTicks(F0(F0(F0({},tY.defaultProps),t),{},{ticks:m$(t,!0),viewBox:{x:0,y:0,width:n,height:r}})),i.top,i.top+i.height)},t.axesTicksGenerator=function(e){return m$(e,!0)},t.renderCursor=function(e){var n=t.state,o=n.isTooltipActive,a=n.activeCoordinate,s=n.activePayload,l=n.offset,u=n.activeTooltipIndex,c=t.getTooltipEventType();if(!e||!e.props.cursor||!o||!a||"ScatterChart"!==r&&"axis"!==c)return null;var h,p=t.props.layout,f=HW;if("ScatterChart"===r)h=a,f=QW;else if("BarChart"===r)h=t.getCursorRectangle(),f=BG;else if("radial"===p){var d=t.getCursorPoints(),m=d.cx,v=d.cy,g=d.radius;h={cx:m,cy:v,startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:g,outerRadius:g},f=yG}else h={points:t.getCursorPoints()},f=HW;var y=e.key||"_recharts-cursor",_=F0(F0(F0(F0({stroke:"#ccc",pointerEvents:"none"},l),h),Hj(e.props.cursor)),{},{payload:s,payloadIndex:u,key:y,className:"recharts-tooltip-cursor"});return(0,i.isValidElement)(e.props.cursor)?(0,i.cloneElement)(e.props.cursor,_):(0,i.createElement)(f,_)},t.renderPolarAxis=function(e,n,r){var o=JF()(e,"type.axisType"),a=JF()(t.state,"".concat(o,"Map"))[e.props["".concat(o,"Id")]];return(0,i.cloneElement)(e,F0(F0({},a),{},{className:o,key:e.key||"".concat(n,"-").concat(r),ticks:m$(a,!0)}))},t.renderXAxis=function(e,n,r){var i=t.state.xAxisMap[e.props.xAxisId];return t.renderAxis(i,e,n,r)},t.renderYAxis=function(e,n,r){var i=t.state.yAxisMap[e.props.yAxisId];return t.renderAxis(i,e,n,r)},t.renderGrid=function(e){var n=t.state,r=n.xAxisMap,o=n.yAxisMap,a=n.offset,s=t.props,l=s.width,u=s.height,c=fj(r),h=Ej()(o,(function(e){return wj()(e.domain,H0)}))||fj(o),p=e.props||{};return(0,i.cloneElement)(e,{key:e.key||"grid",x:lj(p.x)?p.x:a.left,y:lj(p.y)?p.y:a.top,width:lj(p.width)?p.width:a.width,height:lj(p.height)?p.height:a.height,xAxis:c,yAxis:h,offset:a,chartWidth:l,chartHeight:u,verticalCoordinatesGenerator:p.verticalCoordinatesGenerator||t.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:p.horizontalCoordinatesGenerator||t.horizontalCoordinatesGenerator})},t.renderPolarGrid=function(e){var n=e.props,r=n.radialLines,o=n.polarAngles,a=n.polarRadius,s=t.state,l=s.radiusAxisMap,u=s.angleAxisMap,c=fj(l),h=fj(u),p=h.cx,f=h.cy,d=h.innerRadius,m=h.outerRadius;return(0,i.cloneElement)(e,{polarAngles:$F()(o)?o:m$(h,!0).map((function(e){return e.coordinate})),polarRadius:$F()(a)?a:m$(c,!0).map((function(e){return e.coordinate})),cx:p,cy:f,innerRadius:d,outerRadius:m,key:e.key||"polar-grid",radialLines:r})},t.renderLegend=function(){var e=t.state.formattedGraphicalItems,n=t.props,r=n.children,o=n.width,a=n.height,s=t.props.margin||{},l=o-(s.left||0)-(s.right||0),u=c$({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:h});if(!u)return null;var c=u.item,p=A0(u,["item"]);return(0,i.cloneElement)(c,F0(F0({},p),{},{chartWidth:o,chartHeight:a,margin:s,ref:function(e){t.legendInstance=e},onBBoxUpdate:t.handleLegendBBoxUpdate}))},t.renderTooltip=function(){var e=t.props.children,n=XG(e,qV.displayName);if(!n)return null;var r=t.state,o=r.isTooltipActive,a=r.activeCoordinate,s=r.activePayload,l=r.activeLabel,u=r.offset;return(0,i.cloneElement)(n,{viewBox:F0(F0({},u),{},{x:u.left,y:u.top}),active:o,label:l,payload:o?s:[],coordinate:a})},t.renderBrush=function(e){var n=t.props,r=n.margin,o=n.data,a=t.state,s=a.offset,l=a.dataStartIndex,u=a.dataEndIndex,c=a.updateId;return(0,i.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:v$(t.handleBrushChange,null,e.props.onChange),data:o,x:lj(e.props.x)?e.props.x:s.left,y:lj(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(r.bottom||0),width:lj(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:u,updateId:"brush-".concat(c)})},t.renderReferenceElement=function(e,n,r){if(!e)return null;var o=I0(t).clipPathId,a=t.state,s=a.xAxisMap,l=a.yAxisMap,u=a.offset,c=e.props,h=c.xAxisId,p=c.yAxisId;return(0,i.cloneElement)(e,{key:e.key||"".concat(n,"-").concat(r),xAxis:s[h],yAxis:l[p],viewBox:{x:u.left,y:u.top,width:u.width,height:u.height},clipPathId:o})},t.renderActivePoints=function(e){var t=e.item,n=e.activePoint,r=e.basePoint,i=e.childIndex,o=e.isRange,a=[],s=t.props.key,u=t.item.props,c=u.activeDot,h=F0(F0({index:i,dataKey:u.dataKey,cx:n.x,cy:n.y,r:4,fill:u$(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value,key:"".concat(s,"-activePoint-").concat(i)},Hj(c)),Wj(c));return a.push(l.renderActiveDot(c,h)),r?a.push(l.renderActiveDot(c,F0(F0({},h),{},{cx:r.x,cy:r.y,key:"".concat(s,"-basePoint-").concat(i)}))):o&&a.push(null),a},t.renderGraphicChild=function(e,n,r){var o=t.filterFormatItem(e,n,r);if(!o)return null;var a=t.getTooltipEventType(),s=t.state,l=s.isTooltipActive,u=s.tooltipAxis,c=s.activeTooltipIndex,h=s.activeLabel,p=t.props.children,f=XG(p,qV.displayName),d=o.props,m=d.points,v=d.isRange,g=d.baseLine,y=o.item.props,_=y.activeDot,b=!y.hide&&l&&f&&_&&c>=0,x={};"axis"!==a&&f&&"click"===f.props.trigger?x={onClick:v$(t.handleItemMouseEnter,null,e.props.onCLick)}:"axis"!==a&&(x={onMouseLeave:v$(t.handleItemMouseLeave,null,e.props.onMouseLeave),onMouseEnter:v$(t.handleItemMouseEnter,null,e.props.onMouseEnter)});var w=(0,i.cloneElement)(e,F0(F0({},o.props),x));if(b){var S,E;if(u.dataKey&&!u.allowDuplicatedCategory){var M="function"===typeof u.dataKey?function(e){return"function"===typeof u.dataKey?u.dataKey(e.payload):null}:"payload.".concat(u.dataKey.toString());S=mj(m,M,h),E=v&&g&&mj(g,M,h)}else S=m[c],E=v&&g&&g[c];if(!Lj()(S))return[w].concat(D0(t.renderActivePoints({item:o,activePoint:S,basePoint:E,childIndex:c,isRange:v})))}return v?[w,null,null]:[w,null]},t.renderCustomized=function(e,n,r){return(0,i.cloneElement)(e,F0(F0({key:"recharts-customized-".concat(r)},t.props),t.state))},t.uniqueChartId=Lj()(e.id)?hj("recharts"):e.id,t.clipPathId="".concat(t.uniqueChartId,"-clip"),e.throttleDelay&&(t.triggeredAfterMouseMove=Aj()(t.triggeredAfterMouseMove,e.throttleDelay)),t.state={},t}return t=l,n=[{key:"componentDidMount",value:function(){Lj()(this.props.syncId)||this.addListener()}},{key:"componentDidUpdate",value:function(e){Lj()(e.syncId)&&!Lj()(this.props.syncId)&&this.addListener(),!Lj()(e.syncId)&&Lj()(this.props.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){this.clearDeferId(),Lj()(this.props.syncId)||this.removeListener(),this.cancelThrottledTriggerAfterMouseMove()}},{key:"cancelThrottledTriggerAfterMouseMove",value:function(){"function"===typeof this.triggeredAfterMouseMove.cancel&&this.triggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=XG(this.props.children,qV.displayName);if(e&&zj()(e.props.shared)){var t=e.props.shared?"axis":"item";return u.indexOf(t)>=0?t:s}return s}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t=function(e){var t=e.ownerDocument.documentElement,n={top:0,left:0};return"undefined"!==typeof e.getBoundingClientRect&&(n=e.getBoundingClientRect()),{top:n.top+window.pageYOffset-t.clientTop,left:n.left+window.pageXOffset-t.clientLeft}}(this.container),n=function(e,t){return{chartX:Math.round(e.pageX-t.left),chartY:Math.round(e.pageY-t.top)}}(e,t),r=this.inRange(n.chartX,n.chartY);if(!r)return null;var i=this.state,o=i.xAxisMap,a=i.yAxisMap;if("axis"!==this.getTooltipEventType()&&o&&a){var s=fj(o).scale,l=fj(a).scale,u=s&&s.invert?s.invert(n.chartX):null,c=l&&l.invert?l.invert(n.chartY):null;return F0(F0({},n),{},{xValue:u,yValue:c})}var h=X0(this.state,this.props.data,this.props.layout,r);return h?F0(F0({},n),h):null}},{key:"getCursorRectangle",value:function(){var e=this.props.layout,t=this.state,n=t.activeCoordinate,r=t.offset,i=t.tooltipAxisBandSize,o=i/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?n.x-o:r.left+.5,y:"horizontal"===e?r.top+.5:n.y-o,width:"horizontal"===e?i:r.width-1,height:"horizontal"===e?r.height-1:i}}},{key:"getCursorPoints",value:function(){var e,t,n,r,i=this.props.layout,o=this.state,a=o.activeCoordinate,s=o.offset;if("horizontal"===i)n=e=a.x,t=s.top,r=s.top+s.height;else if("vertical"===i)r=t=a.y,e=s.left,n=s.left+s.width;else if(!Lj()(a.cx)||!Lj()(a.cy)){if("centric"!==i){var l=a.cx,u=a.cy,c=a.radius,h=a.startAngle,p=a.endAngle;return{points:[iG(l,u,c,h),iG(l,u,c,p)],cx:l,cy:u,radius:c,startAngle:h,endAngle:p}}var f=a.cx,d=a.cy,m=a.innerRadius,v=a.outerRadius,g=a.angle,y=iG(f,d,m,g),_=iG(f,d,v,g);e=y.x,t=y.y,n=_.x,r=_.y}return[{x:e,y:t},{x:n,y:r}]}},{key:"inRange",value:function(e,t){var n=this.props.layout;if("horizontal"===n||"vertical"===n){var r=this.state.offset;return e>=r.left&&e<=r.left+r.width&&t>=r.top&&t<=r.top+r.height?{x:e,y:t}:null}var i=this.state,o=i.angleAxisMap,a=i.radiusAxisMap;if(o&&a){var s=fj(o);return sG({x:e,y:t},s)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=XG(e,qV.displayName),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd}),F0(F0({},Wj(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){S0.on(E0,this.handleReceiveSyncEvent),S0.setMaxListeners&&S0._maxListeners&&S0.setMaxListeners(S0._maxListeners+1)}},{key:"removeListener",value:function(){S0.removeListener(E0,this.handleReceiveSyncEvent),S0.setMaxListeners&&S0._maxListeners&&S0.setMaxListeners(S0._maxListeners-1)}},{key:"triggerSyncEvent",value:function(e){var t=this.props.syncId;Lj()(t)||S0.emit(E0,t,this.uniqueChartId,e)}},{key:"applySyncEvent",value:function(e){var t=this.props,n=t.layout,r=t.syncMethod,i=this.state.updateId,o=e.dataStartIndex,a=e.dataEndIndex;if(Lj()(e.dataStartIndex)&&Lj()(e.dataEndIndex))if(Lj()(e.activeTooltipIndex))this.setState(e);else{var s=e.chartX,l=e.chartY,u=e.activeTooltipIndex,c=this.state,h=c.offset,p=c.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(p,e);else if("value"===r){u=-1;for(var f=0;f<p.length;f++)if(p[f].value===e.activeLabel){u=f;break}}var d=F0(F0({},h),{},{x:h.left,y:h.top}),v=Math.min(s,d.x+d.width),g=Math.min(l,d.y+d.height),y=p[u]&&p[u].value,_=Y0(this.state,this.props.data,u),b=p[u]?{x:"horizontal"===n?p[u].coordinate:v,y:"horizontal"===n?g:p[u].coordinate}:V0;this.setState(F0(F0({},e),{},{activeLabel:y,activeCoordinate:b,activePayload:_,activeTooltipIndex:u}))}else this.setState(F0({dataStartIndex:o,dataEndIndex:a},m({props:this.props,dataStartIndex:o,dataEndIndex:a,updateId:i},this.state)))}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===HG(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderAxis",value:function(e,t,n,r){var o=this.props,a=o.width,s=o.height;return i.createElement(tY,T0({},e,{className:"recharts-".concat(e.axisType," ").concat(e.axisType),key:t.key||"".concat(n,"-").concat(r),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,o=t.height,a=t.width;return i.createElement("defs",null,i.createElement("clipPath",{id:e},i.createElement("rect",{x:n,y:r,height:o,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=k0(t,2),r=n[0],i=n[1];return F0(F0({},e),{},j0({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=k0(t,2),r=n[0],i=n[1];return F0(F0({},e),{},j0({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t,n;return null===(t=this.state.xAxisMap)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.scale}},{key:"getYScaleByAxisId",value:function(e){var t,n;return null===(t=this.state.yAxisMap)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.scale}},{key:"getItemByXY",value:function(e){var t=this.state.formattedGraphicalItems;if(t&&t.length)for(var n=0,r=t.length;n<r;n++){var i=t[n],o=i.props,a=i.item,s=HG(a.type);if("Bar"===s){var l=(o.data||[]).find((function(t){return NG(e,t)}));if(l)return{graphicalItem:i,payload:l}}else if("RadialBar"===s){var u=(o.data||[]).find((function(t){return sG(e,t)}));if(u)return{graphicalItem:i,payload:u}}}return null}},{key:"render",value:function(){var e=this;if(!ZG(this))return null;var t=this.props,n=t.children,r=t.className,o=t.width,a=t.height,s=t.style,l=t.compact,u=A0(t,["children","className","width","height","style","compact"]),c=Hj(u),h={CartesianGrid:{handler:this.renderGrid,once:!0},ReferenceArea:{handler:this.renderReferenceElement},ReferenceLine:{handler:this.renderReferenceElement},ReferenceDot:{handler:this.renderReferenceElement},XAxis:{handler:this.renderXAxis},YAxis:{handler:this.renderYAxis},Brush:{handler:this.renderBrush,once:!0},Bar:{handler:this.renderGraphicChild},Line:{handler:this.renderGraphicChild},Area:{handler:this.renderGraphicChild},Radar:{handler:this.renderGraphicChild},RadialBar:{handler:this.renderGraphicChild},Scatter:{handler:this.renderGraphicChild},Pie:{handler:this.renderGraphicChild},Funnel:{handler:this.renderGraphicChild},Tooltip:{handler:this.renderCursor,once:!0},PolarGrid:{handler:this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:this.renderPolarAxis},PolarRadiusAxis:{handler:this.renderPolarAxis},Customized:{handler:this.renderCustomized}};if(l)return i.createElement(Xj,T0({},c,{width:o,height:a}),this.renderClipPath(),eq(n,h));var p=this.parseEventsOfWrapper();return i.createElement("div",T0({className:XF()("recharts-wrapper",r),style:F0({position:"relative",cursor:"default",width:o,height:a},s)},p,{ref:function(t){e.container=t}}),i.createElement(Xj,T0({},c,{width:o,height:a}),this.renderClipPath(),eq(n,h)),this.renderLegend(),this.renderTooltip())}}],n&&C0(t.prototype,n),o&&C0(t,o),l}(i.Component),t.displayName=r,t.defaultProps=F0({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f),t.getDerivedStateFromProps=function(e,t){var n=e.data,r=e.children,i=e.width,o=e.height,a=e.layout,s=e.stackOffset,l=e.margin;if(Lj()(t.updateId)){var u=J0(e);return F0(F0(F0({},u),{},{updateId:0},m(F0(F0({props:e},u),{},{updateId:0}),t)),{},{prevData:n,prevWidth:i,prevHeight:o,prevLayout:a,prevStackOffset:s,prevMargin:l,prevChildren:r})}if(n!==t.prevData||i!==t.prevWidth||o!==t.prevHeight||a!==t.prevLayout||s!==t.prevStackOffset||!jG(l,t.prevMargin)){var c=J0(e),h={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},p=F0(F0({},X0(t,n,a)),{},{updateId:t.updateId+1}),f=F0(F0(F0({},c),h),p);return F0(F0(F0({},f),m(F0({props:e},f),t)),{},{prevData:n,prevWidth:i,prevHeight:o,prevLayout:a,prevStackOffset:s,prevMargin:l,prevChildren:r})}if(!QG(r,t.prevChildren)){var d=!Lj()(n)?t.updateId:t.updateId+1;return F0(F0({updateId:d},m(F0(F0({props:e},t),{},{updateId:d}),t)),{},{prevChildren:r})}return null},t.renderActiveDot=function(e,t){var n;return n=(0,i.isValidElement)(e)?(0,i.cloneElement)(e,t):kj()(e)?e(t):i.createElement(TG,t),i.createElement(Jj,{className:"recharts-active-dot",key:t.key},n)},n}({chartName:"LineChart",GraphicalChild:O1,axisComponents:[{axisType:"xAxis",AxisComp:R1},{axisType:"yAxis",AxisComp:I1}],formatAxisMap:function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),h={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},p=!!XG(u,"Bar");return c.reduce((function(a,s){var u,c,f,d,m,v=n[s],g=v.orientation,y=v.domain,_=v.padding,b=void 0===_?{}:_,x=v.mirror,w=v.reversed,S="".concat(g).concat(x?"Mirror":"");if("number"===v.type&&("gap"===v.padding||"no-gap"===v.padding)){var E=y[1]-y[0],M=1/0,k=v.categoricalDomain.sort();k.forEach((function(e,t){t>0&&(M=Math.min((e||0)-(k[t-1]||0),M))}));var T=M/E,A="vertical"===v.layout?r.height:r.width;if("gap"===v.padding&&(u=T*A/2),"no-gap"===v.padding){var C=pj(e.barCategoryGap,T*A),P=T*A/2;u=P-C-(P-C)/A*C}}c="xAxis"===i?[r.left+(b.left||0)+(u||0),r.left+r.width-(b.right||0)-(u||0)]:"yAxis"===i?"horizontal"===l?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(u||0),r.top+r.height-(b.bottom||0)-(u||0)]:v.range,w&&(c=[c[1],c[0]]);var O=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if("auto"===i)return"radial"===a&&"radiusAxis"===s?{scale:sY(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:TZ(),realScaleType:"linear"}:"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:uY(),realScaleType:"point"}:"category"===o?{scale:sY(),realScaleType:"band"}:{scale:TZ(),realScaleType:"linear"};if(oj()(i)){var l="scale".concat(XV()(i));return{scale:(t[l]||uY)(),realScaleType:t[l]?l:"point"}}return kj()(i)?{scale:i}:{scale:uY(),realScaleType:"point"}}(v,o,p),R=O.scale,I=O.realScaleType;R.domain(y).range(c),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-g$,o=Math.max(r[0],r[1])+g$,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}}(R);var L=b$(R,J$(J$({},v),{},{realScaleType:I}));"xAxis"===i?(m="top"===g&&!x||"bottom"===g&&x,f=r.left,d=h[S]-m*v.height):"yAxis"===i&&(m="left"===g&&!x||"right"===g&&x,f=h[S]-m*v.width,d=r.top);var D=J$(J$(J$({},v),L),{},{realScaleType:I,x:f,y:d,scale:R,width:"xAxis"===i?r.width:v.width,height:"yAxis"===i?r.height:v.height});return D.bandSize=k$(D,L),v.hide||"xAxis"!==i?v.hide||(h[S]+=(m?-1:1)*D.width):h[S]+=(m?-1:1)*D.height,J$(J$({},a),{},Q$({},s,D))}),{})}});function D1(e){return(0,rn.jsx)(bj,{width:"100%",height:320,children:(0,rn.jsxs)(L1,{data:e.velocityStates,margin:{top:10,left:-30,right:20},children:[(0,rn.jsx)(R1,{dataKey:"time",color:"#fff",domain:[0,1]}),(0,rn.jsx)(I1,{color:"#fff",domain:[20,60]}),(0,rn.jsx)(iW,{}),(0,rn.jsx)(O1,{type:"basis",dataKey:"current",stroke:"#6569d7",dot:!1}),(0,rn.jsx)(O1,{type:"basis",dataKey:"target",stroke:"#86def5",dot:!1})]})})}var z1=function(e){var t=zF();return(0,rn.jsx)(Ff,{exclusive:e.exclusive,value:e.toggleValues,onChange:e.toggleChange,className:t.scenario_toggle_button_group,fullWidth:!0,children:e.toggles.map((function(e){return(0,rn.jsx)(Gf,{className:t.scenario_toggle_button,value:e,children:e})}))})};var N1=function(e){var t=h((0,i.useState)(["basic50","basic50","basic50","basic50","basic50","basic50","basic50","basic50","basic50","basic50"]),2),n=t[0],r=t[1];return(0,i.useEffect)((function(){var t=n;e.state.map((function(e,n){t[n]=e?"purple50":"basic50"})),r(t)}),[e.state]),(0,rn.jsxs)(Jh,{children:[(0,rn.jsxs)(Jh,{sx:{display:"flex",position:"relative"},children:[(0,rn.jsx)(FB,{name:"Ready",class_name:n[0]}),(0,rn.jsx)(FB,{name:"Global Planning",class_name:n[1]})]}),(0,rn.jsxs)(Jh,{sx:{display:"flex",position:"relative"},children:[(0,rn.jsx)(FB,{name:"Behaviour Planning",class_name:n[2]}),(0,rn.jsx)(FB,{name:"Velocity Planning",class_name:n[3]})]}),(0,rn.jsxs)(Jh,{sx:{display:"flex",position:"relative"},children:[(0,rn.jsx)(FB,{name:"Waypoint Planning",class_name:n[4]}),(0,rn.jsx)(FB,{name:"Both Planning",class_name:n[5]})]}),(0,rn.jsxs)(Jh,{sx:{display:"flex",position:"relative"},children:[(0,rn.jsx)(FB,{name:"-",class_name:n[6]}),(0,rn.jsx)(FB,{name:"-",class_name:n[7]})]}),(0,rn.jsxs)(Jh,{sx:{display:"flex",position:"relative"},children:[(0,rn.jsx)(FB,{name:"-",class_name:n[8]}),(0,rn.jsx)(FB,{name:"-",class_name:n[9]})]})]})},B1=new(ad().Ros)({url:"ws://localhost:9090"}),F1=new(ad().Topic)({ros:B1,name:"/velocity_state",messageType:"geometry_msgs/Vector3"}),j1=new(ad().Topic)({ros:B1,name:"/scenario",messageType:"geometry_msgs/Vector3"}),U1=new(ad().Topic)({ros:B1,name:"/acc_state",messageType:"std_msgs/Bool"}),V1=new(ad().Topic)({ros:B1,name:"/eps_state",messageType:"std_msgs/Bool"}),H1=new(ad().Topic)({ros:B1,name:"/ignore_state",messageType:"std_msgs/Bool"}),W1=new(ad().Topic)({ros:B1,name:"/blank_state",messageType:"std_msgs/Bool"}),G1=new(ad().Topic)({ros:B1,name:"/stop_state",messageType:"std_msgs/Bool"}),q1=new(ad().Topic)({ros:B1,name:"/stop_at_state",messageType:"std_msgs/Bool"}),Y1=new(ad().Topic)({ros:B1,name:"/keep_lane_state",messageType:"std_msgs/Bool"}),X1=new(ad().Topic)({ros:B1,name:"/prep_left_state",messageType:"std_msgs/Bool"}),Z1=new(ad().Topic)({ros:B1,name:"/prep_right_state",messageType:"std_msgs/Bool"}),K1=new(ad().Topic)({ros:B1,name:"/lc_left_state",messageType:"std_msgs/Bool"}),J1=new(ad().Topic)({ros:B1,name:"/lc_right_state",messageType:"std_msgs/Bool"}),Q1=new(ad().Topic)({ros:B1,name:"/ready_state",messageType:"std_msgs/Bool"}),$1=new(ad().Topic)({ros:B1,name:"/g_plan_state",messageType:"std_msgs/Bool"}),e2=new(ad().Topic)({ros:B1,name:"/b_plan_state",messageType:"std_msgs/Bool"}),t2=new(ad().Topic)({ros:B1,name:"/v_plan_state",messageType:"std_msgs/Bool"}),n2=new(ad().Topic)({ros:B1,name:"/w_plan_state",messageType:"std_msgs/Bool"}),r2=new(ad().Topic)({ros:B1,name:"/both_plan_state",messageType:"std_msgs/Bool"}),i2=new(ad().Topic)({ros:B1,name:"/empty_state",messageType:"std_msgs/Bool"}),o2=function(e){var t=zF(),n=h((0,i.useState)(!1),2),r=n[0],o=n[1],a=h((0,i.useState)([]),2),s=a[0],l=a[1],u=h((0,i.useState)([]),2),c=u[0],p=u[1],f=h((0,i.useState)(!1),2),d=f[0],m=f[1],v=h((0,i.useState)(!1),2),g=v[0],y=v[1],_=h((0,i.useState)(!1),2),b=_[0],x=_[1],w=h((0,i.useState)(!1),2),S=w[0],E=w[1],M=h((0,i.useState)(!1),2),k=M[0],T=M[1],A=h((0,i.useState)(!1),2),C=A[0],P=A[1],O=h((0,i.useState)(!1),2),R=O[0],I=O[1],L=h((0,i.useState)(!1),2),D=L[0],z=L[1],N=h((0,i.useState)(!1),2),B=N[0],F=N[1],j=h((0,i.useState)(!1),2),U=j[0],V=j[1],H=h((0,i.useState)(!1),2),W=H[0],G=H[1],q=h((0,i.useState)([]),2),Y=q[0],X=q[1],Z=h((0,i.useState)([]),2),K=Z[0],J=Z[1],Q=h((0,i.useState)([{time:0,current:0,target:0}]),2),$=Q[0],ee=Q[1],te=function(e,t){var n=K;e?(n.includes(t)||n.push(t),J(n)):e||(n.includes(t)&&(n=n.filter((function(e){return e!==t}))),J(n))};if(!r&&e.sub){o(!0);var ne=0,re=[{time:0,current:0,target:0}];F1.subscribe((function(e){!function(e,t,n){t>=10&&e.splice(0,1),e.push({time:n.x/100,current:n.y,target:n.z}),ee(e)}(re,ne+=1,e)})),Q1.subscribe((function(e){te(e.data,"ready")})),$1.subscribe((function(e){te(e.data,"g_plan")})),e2.subscribe((function(e){te(e.data,"b_plan")})),t2.subscribe((function(e){te(e.data,"v_plan")})),n2.subscribe((function(e){te(e.data,"w_plan")})),r2.subscribe((function(e){te(e.data,"both_plan")})),i2.subscribe((function(e){te(e.data,"empty")}))}return r&&!e.sub&&(o(!1),F1.unsubscribe(),Q1.unsubscribe(),$1.unsubscribe(),e2.unsubscribe(),t2.unsubscribe(),n2.unsubscribe(),r2.unsubscribe(),i2.unsubscribe(),ee([])),(0,rn.jsxs)(Ba,{item:!0,xs:!0,container:!0,direction:"column",spacing:1,children:[(0,rn.jsx)(Ba,{item:!0,xs:12,className:t.state_text,children:(0,rn.jsx)("div",{children:"Scenario"})}),(0,rn.jsx)(z1,{exclusive:!0,toggleValues:s,toggleChange:function(e,t){var n=parseInt(t);l(t),r&&j1.publish({x:n,y:0,z:0})},toggles:[1,2,3,4,5,6]}),(0,rn.jsx)(Ba,{item:!0,xs:12,className:t.state_text,children:(0,rn.jsx)("div",{children:"Control"})}),(0,rn.jsx)(z1,{exclusive:!1,toggleValues:c,toggleChange:function(e,t){p(t),r&&(!d&&t.includes("acc")&&(U1.publish({data:!0}),m(!0)),!g&&t.includes("eps")&&(V1.publish({data:!0}),y(!0)),!b&&t.includes("ignore")&&(H1.publish({data:!0}),x(!0)),!S&&t.includes("blank")&&(W1.publish({data:!0}),E(!0))),r&&(d&&!t.includes("acc")&&(U1.publish({data:!1}),m(!1)),g&&!t.includes("eps")&&(V1.publish({data:!1}),y(!1)),b&&!t.includes("ignore")&&(H1.publish({data:!1}),x(!1)),S&&!t.includes("blank")&&(W1.publish({data:!1}),E(!1)))},toggles:["acc","eps","ignore","blank","blank","blank"]}),(0,rn.jsx)(Ba,{item:!0,xs:12,className:t.state_text,children:(0,rn.jsx)("div",{children:"Behaviour Plan"})}),(0,rn.jsx)(z1,{exclusive:!1,toggleValues:Y,toggleChange:function(e,t){X(t),r&&(!k&&t.includes("stop")&&(G1.publish({data:!0}),T(!0)),!C&&t.includes("stopAt")&&(q1.publish({data:!0}),P(!0)),!R&&t.includes("keepLane")&&(Y1.publish({data:!0}),I(!0)),!D&&t.includes("prepLeft")&&(X1.publish({data:!0}),z(!0)),!B&&t.includes("prepRight")&&(Z1.publish({data:!0}),F(!0)),!U&&t.includes("lcLeft")&&(K1.publish({data:!0}),V(!0)),!W&&t.includes("lcRight")&&(J1.publish({data:!0}),G(!0))),r&&(k&&!t.includes("stop")&&(G1.publish({data:!1}),T(!1)),C&&!t.includes("stopAt")&&(q1.publish({data:!1}),P(!1)),R&&!t.includes("keepLane")&&(Y1.publish({data:!1}),I(!1)),D&&!t.includes("prepLeft")&&(X1.publish({data:!1}),z(!1)),B&&!t.includes("prepRight")&&(Z1.publish({data:!1}),F(!1)),U&&!t.includes("lcLeft")&&(K1.publish({data:!1}),V(!1)),W&&!t.includes("lcRight")&&(J1.publish({data:!1}),G(!1)))},toggles:["stop","stopAt","keepLane","prepLeft","prepRight","lcLeft","lcRight"]}),(0,rn.jsxs)(Ba,{item:!0,xs:!0,container:!0,children:[(0,rn.jsxs)(Ba,{item:!0,xs:6,children:[(0,rn.jsx)(Ba,{item:!0,xs:12,className:t.state_text,children:(0,rn.jsx)("div",{children:"Velocity Plan"})}),(0,rn.jsx)(D1,{velocityStates:$})]}),(0,rn.jsxs)(Ba,{item:!0,xs:6,children:[(0,rn.jsx)(Ba,{item:!0,xs:12,className:t.state_text,children:(0,rn.jsx)("div",{children:"Planner State"})}),(0,rn.jsx)(N1,{state:K})]})]})]})},a2=new(ad().Ros)({url:"ws://localhost:9090"}),s2=new(ad().Topic)({ros:a2,name:"/gmsl_camera/dev/video1/compressed",messageType:"sensor_msgs/CompressedImage"}),l2=new(ad().Topic)({ros:a2,name:"/gps",messageType:"geometry_msgs/Vector3"}),u2=function(e){var t=zF(),n=h((0,i.useState)([]),2),r=n[0],o=n[1],a=h((0,i.useState)(!1),2),s=a[0],l=a[1],u=h((0,i.useState)({center:{lat:37.450585,lng:126.656955},isPanto:!1}),2),c=(u[0],u[1]);return!s&&e.sub&&(l(!0),s2.subscribe((function(e){var t=new Image;t.src="data:image/jpg;base64,"+e.data,o(t)})),l2.subscribe((function(e){c({center:{lat:e.x,lng:e.y},isPanto:!1})}))),s&&!e.sub&&(l(!1),s2.unsubscribe(),l2.unsubscribe()),(0,rn.jsxs)(Ba,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:[(0,rn.jsx)($v,{component:"img",className:t.media,image:r.src}),(0,rn.jsx)(ps,{className:t.map,flex:!0,children:(0,rn.jsx)(vB,{sub:e.sub})})]})},c2=function(){var e=h((0,i.useState)(!1),2),t=e[0],n=e[1];return(0,rn.jsxs)(ps,{m:3,mt:1,children:[(0,rn.jsx)(kB,{addSub:function(e){n(e)}}),(0,rn.jsx)(ps,{mt:1}),(0,rn.jsxs)(Ba,{container:!0,spacing:2,children:[(0,rn.jsx)(Ba,{item:!0,xs:1,children:(0,rn.jsx)(pd,{sub:t})}),(0,rn.jsx)(Ba,{item:!0,xs:2,children:(0,rn.jsx)(WF,{sub:t})}),(0,rn.jsx)(Ba,{item:!0,xs:6,children:(0,rn.jsx)(o2,{sub:t})}),(0,rn.jsx)(Ba,{item:!0,xs:3,children:(0,rn.jsx)(u2,{sub:t})})]}),(0,rn.jsx)(wB,{})]})};var h2=function(){return(0,rn.jsx)(re,{theme:cr,children:(0,rn.jsx)("div",{children:(0,rn.jsxs)(J,{children:[(0,rn.jsx)(on,{}),(0,rn.jsxs)(T,{children:[(0,rn.jsx)(M,{path:"/",element:(0,rn.jsx)(ds,{})}),(0,rn.jsx)(M,{path:"/visualize",element:(0,rn.jsx)(SB,{})}),(0,rn.jsx)(M,{path:"/alert",element:(0,rn.jsx)(DF,{})}),(0,rn.jsx)(M,{path:"/control",element:(0,rn.jsx)(c2,{})}),(0,rn.jsx)(M,{path:"/manual",element:(0,rn.jsx)(fs,{})})]})]})})})};a.render((0,rn.jsx)(h2,{}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.65152f92.js.map